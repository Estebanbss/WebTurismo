"use strict";(self.webpackChunkpal_huila=self.webpackChunkpal_huila||[]).push([[179],{1717:(Ct,Se,L)=>{L.d(Se,{e:()=>ae});var m=L(5861),q=L(2637),he=L(3960),se=L(9291);let ae=(()=>{class ie{constructor(re,_e){this.afAuth=re,this.firestore=_e}getLoggin(){return new Promise(re=>{(0,q.Aj)(this.afAuth,function(){var _e=(0,m.Z)(function*(W){W&&(yield W.emailVerified)?re(!0):re(!1)});return function(W){return _e.apply(this,arguments)}}())})}onAuthStateChanged(re){var _e=this;(0,q.Aj)(this.afAuth,function(){var W=(0,m.Z)(function*(ne){if(ne){console.log("si est\xe1 lo tomo de cache si no pues...");let ye=_e.getUserDetailsFromLocalStorage(ne.uid);ye||(console.log("firebase"),ye=yield _e.fetchUserDetails(ne.uid),_e.setUserDetailsInLocalStorage(ne.uid,ye)),re(ne,ye)}else re(null,null)});return function(ne){return W.apply(this,arguments)}}())}getUID(){return new Promise(re=>{(0,q.Aj)(this.afAuth,function(){var _e=(0,m.Z)(function*(W){re(W?W.uid:"")});return function(W){return _e.apply(this,arguments)}}())})}obtenerUsuarios(){const re=(0,he.hJ)(this.firestore,"users"),_e=(0,he.IO)(re,(0,he.Xo)("nombre","asc"));return(0,he.BS)(_e,{idField:"uid"})}eliminarUsuario(re){const _e=(0,he.JU)(this.firestore,"users",re);return(0,he.oe)(_e)}actualizarUsuario(re,_e){const W=(0,he.JU)(this.firestore,"users",re);return(0,he.r7)(W,_e)}fetchUserDetails(re){var _e=this;return(0,m.Z)(function*(){const W=(0,he.ad)(),ne=(0,he.JU)(W,"users",re),ye=yield(0,he.QT)(ne);return ye.exists()?((0,q.ck)(_e.afAuth.currentUser,{displayName:ye.data().nombre,photoURL:ye.data().fotoUser}),ye.data()):(console.error("No se encontraron detalles del usuario."),null)})()}getUserDetailsFromLocalStorage(re){const _e=localStorage.getItem(`userDetails-${re}`);return _e?JSON.parse(_e):null}setUserDetailsInLocalStorage(re,_e){localStorage.setItem(`userDetails-${re}`,JSON.stringify(_e))}logout(){var re=this;return(0,m.Z)(function*(){try{const _e=re.afAuth.currentUser;yield(0,q.w7)(re.afAuth),_e&&localStorage.clear(),console.log("Cach\xe9 limpiado despu\xe9s de cerrar sesi\xf3n.")}catch(_e){throw console.error("Error al cerrar sesi\xf3n:",_e),_e}})()}static#e=this.\u0275fac=function(_e){return new(_e||ie)(se.LFG(q.gx),se.LFG(he.gg))};static#t=this.\u0275prov=se.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})()},3968:(Ct,Se,L)=>{L.d(Se,{H:()=>he});var m=L(5619),q=L(9291);let he=(()=>{class se{constructor(){this.valueSource=new m.X(""),this.currentValue=this.valueSource.asObservable(),this.modalsuichpstSubject=new m.X(!1),this.modalsuich$=this.modalsuichpstSubject.asObservable(),this.modaldataSubject=new m.X(!1),this.modaldata$=this.modaldataSubject.asObservable(),this.warningSubject=new m.X(!1),this.warning$=this.warningSubject.asObservable(),this.warningAllSubject=new m.X(!1),this.warningAll$=this.warningAllSubject.asObservable(),this.modalsuichmuniSubject=new m.X(!1),this.modalsuichmuni$=this.modalsuichmuniSubject.asObservable(),this.modalsuichatracSubject=new m.X(!1),this.modalsuichatrac$=this.modalsuichatracSubject.asObservable(),this.modalsuichrutasSubject=new m.X(!1),this.modalsuichrutas$=this.modalsuichrutasSubject.asObservable(),this.modalsuichtodoSubject=new m.X(!1),this.modalsuichtodo$=this.modalsuichtodoSubject.asObservable(),this.modalPFHeaderSubject=new m.X(!1),this.modalPFHeader$=this.modalPFHeaderSubject.asObservable(),this.modalTurnMuniSubject=new m.X(!1),this.modalTurnMuni$=this.modalTurnMuniSubject.asObservable(),this.modalTurnSliderPSubject=new m.X(!1),this.modalTurnSliderP$=this.modalTurnSliderPSubject.asObservable()}setTurnSliderP(ie){this.modalTurnSliderPSubject.next(ie)}setWarningAll(ie){this.warningAllSubject.next(ie)}setModalSuichPst(ie){this.modalsuichpstSubject.next(ie)}setWarning(ie){this.warningSubject.next(ie)}setModalSuichMuni(ie){this.modalsuichmuniSubject.next(ie)}setValue(ie){this.valueSource.next(ie)}setModalSuichAtrac(ie){this.modalsuichatracSubject.next(ie)}setModalSuichRutas(ie){this.modalsuichrutasSubject.next(ie)}setModalSuichTodo(ie){this.modalsuichtodoSubject.next(ie)}setData(ie){this.modaldataSubject.next(ie)}setProfileHeader(ie){this.modalPFHeaderSubject.next(ie)}setTurnMuni(ie){this.modalTurnMuniSubject.next(ie)}static#e=this.\u0275fac=function(pe){return new(pe||se)};static#t=this.\u0275prov=q.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})()},8395:(Ct,Se,L)=>{L.d(Se,{K:()=>pe});var m=L(5861),q=L(2637),he=L(3446),se=L(3960),ae=L(5619),ie=L(9291);let pe=(()=>{class re{constructor(W){this.auth=W,this.rolSubject=new ae.X(""),this.rolSubject$=this.rolSubject.asObservable(),this.firestore=(0,se.ad)()}setRolSubject(W){this.rolSubject.next(W)}register(W,ne){var ye=this;return(0,m.Z)(function*(){return yield(0,q.Xb)(ye.auth,W,ne)})()}login(W,ne){return this.auth.setPersistence(he.a$).then(()=>(this.infoUsuario=(0,q.e5)(this.auth,W,ne),this.infoUsuario))}getCurrentUser(W){return new Promise((ne,ye)=>{const Ke=W.onAuthStateChanged(Le=>{Ke(),ne(Le)},ye)})}update(){const W=(0,se.JU)(this.firestore,`users/${this.auth.currentUser.uid}`);return(0,se.pl)(W,{fechaUltimoLogin:(new Date).toISOString()},{merge:!0})}recuperar(W){return(0,q.LS)(this.auth,W)}verificarCorreo(W){(0,q.w$)(W)}cerrarSesion(){return this.auth.signOut()}loginConGoogle(){return this.auth.setPersistence(he.a$).then(()=>(0,q.rh)(this.auth,new he.hJ))}firebaseError(W){switch(W){case"auth/email-already-in-use":return"El usuario ya ex\xedste";case"auth/weak-password":return"Contrase\xf1a muy debil";case"auth/invalid-email":return"Correo inv\xe1lido";case"auth/wrong-password":return"La contrase\xf1a es Incorrecta";case"auth/user-not-found":return"El usuario no ex\xedste";default:return"Error desconocido"}}static#e=this.\u0275fac=function(ne){return new(ne||re)(ie.LFG(q.gx))};static#t=this.\u0275prov=ie.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})()},108:(Ct,Se,L)=>{L.d(Se,{N:()=>m});const m={firebase:{apiKey:"AIzaSyCNtspEd7b-OB0G4rgueYrNjlDsLoBRHLs",authDomain:"centurhuila-b9e47.firebaseapp.com",databaseURL:"https://centurhuila-b9e47.firebaseio.com",projectId:"centurhuila-b9e47",storageBucket:"centurhuila-b9e47.appspot.com",messagingSenderId:"51926987535",appId:"1:51926987535:web:15d603eaee884a7801c47a",measurementId:"G-WLKL8STB8G"}}},7881:(Ct,Se,L)=>{var m=L(6593),q=L(4017),he=L(5861),se=L(9291),ae=L(1717);let ie=(()=>{class te{constructor(Be,Ve){this.authService=Be,this.router=Ve}canActivate(){var Be=this;return(0,he.Z)(function*(){try{const Ve=yield Be.authService.getLoggin();return Ve||Be.router.navigate(["auth"]),Ve}catch(Ve){return console.error(Ve),!1}})()}static#e=this.\u0275fac=function(Ve){return new(Ve||te)(se.LFG(ae.e),se.LFG(q.F0))};static#t=this.\u0275prov=se.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})(),pe=(()=>{class te{constructor(Be,Ve){this.authService=Be,this.router=Ve}canActivate(){var Be=this;return(0,he.Z)(function*(){try{const Ve=yield Be.authService.getLoggin();return!Ve||(Be.router.navigate(["home"]),Ve)}catch(Ve){return console.error(Ve),!1}})()}static#e=this.\u0275fac=function(Ve){return new(Ve||te)(se.LFG(ae.e),se.LFG(q.F0))};static#t=this.\u0275prov=se.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})(),re=(()=>{class te{constructor(Be){this.router=Be,this.muni=["Acevedo","Aipe","Algeciras","Altamira","Baraya","Campoalegre","Colombia","El\xedas","El Agrado","Garz\xf3n","Gigante","Guadalupe","Hobo","\xcdquira","Isnos","La Argentina","La Plata","N\xe1taga","Neiva","Oporapa","Paicol","Palermo","Palestina","El Pital","Pitalito","Rivera","Saladoblanco","Santa Mar\xeda","San Agust\xedn","Suaza","Tarqui","Tello","Teruel","Tesalia","Timan\xe1","Villavieja","Yaguar\xe1"]}canActivate(Be){const Ve=Be.paramMap.get("id");return!!this.muni.includes(Ve)||(this.router.navigate(["/municipios/Garz\xf3n"]),!1)}static#e=this.\u0275fac=function(Ve){return new(Ve||te)(se.LFG(q.F0))};static#t=this.\u0275prov=se.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();var _e=L(2637),W=L(3960);const He=[{path:"home",canActivate:[ie],loadChildren:()=>Promise.all([L.e(191),L.e(592),L.e(650)]).then(L.bind(L,9650)).then(te=>te.HomeModule)},{path:"dashboard-admin",canActivate:[ie,(()=>{class te{constructor(Be){this.router=Be}canActivate(){var Be=this;return(0,he.Z)(function*(){try{const Ve=(0,_e.v0)();if(!Ve.currentUser)return Be.router.navigate(["/login"]),!1;const ze=(0,W.ad)(),en=(0,W.JU)(ze,"users",Ve.currentUser.uid),lt=yield(0,W.QT)(en);if(lt.exists()&&lt.data()?.rol){const Ze=lt.data().rol;if("admin"===Ze||"superadmin"===Ze)return!0}return Be.router.navigate(["/home"]),!1}catch(Ve){return console.error("Error while fetching user data:",Ve),Be.router.navigate(["/error"]),!1}})()}static#e=this.\u0275fac=function(Ve){return new(Ve||te)(se.LFG(q.F0))};static#t=this.\u0275prov=se.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})()],loadChildren:()=>Promise.all([L.e(191),L.e(95),L.e(472),L.e(592),L.e(343)]).then(L.bind(L,9343)).then(te=>te.DashboardAdminModule)},{path:"municipios/:id",canActivate:[ie,re],loadChildren:()=>Promise.all([L.e(191),L.e(870),L.e(472),L.e(592),L.e(302)]).then(L.bind(L,9302)).then(te=>te.MunicipiosModule)},{path:"prestadores/:municipio/:prestador",canActivate:[ie,(()=>{class te{constructor(Be,Ve){this.firestore=Be,this.router=Ve}canActivate(Be,Ve){const ze=Be.paramMap.get("municipio"),en=Be.paramMap.get("prestador"),lt=(0,W.hJ)(this.firestore,"prestadores"),Ze=(0,W.IO)(lt,(0,W.ar)("name","==",en));return(0,W.PL)(Ze).then(Tt=>(Tt.empty&&(this.router.navigate(["/municipios/"+ze+"/"+en]),console.log("No est\xe1")),!Tt.empty)).catch(Tt=>(console.error("No est\xe1",Tt),!1))}static#e=this.\u0275fac=function(Ve){return new(Ve||te)(se.LFG(W.gg),se.LFG(q.F0))};static#t=this.\u0275prov=se.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})()],loadChildren:()=>Promise.all([L.e(191),L.e(870),L.e(866),L.e(592),L.e(531)]).then(L.bind(L,3531)).then(te=>te.PrestadoresModule)},{path:"atractivos/:municipio/:atractivo",canActivate:[ie,(()=>{class te{constructor(Be,Ve){this.firestore=Be,this.router=Ve}canActivate(Be,Ve){const ze=Be.paramMap.get("municipio"),en=Be.paramMap.get("atractivo"),lt=(0,W.hJ)(this.firestore,"atractivos"),Ze=(0,W.IO)(lt,(0,W.ar)("name","==",en));return(0,W.PL)(Ze).then(Tt=>(Tt.empty&&(this.router.navigate(["/municipios/"+ze+"/"+en]),console.log("No est\xe1")),!Tt.empty)).catch(Tt=>(console.error("No est\xe1",Tt),!1))}static#e=this.\u0275fac=function(Ve){return new(Ve||te)(se.LFG(W.gg),se.LFG(q.F0))};static#t=this.\u0275prov=se.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})()],loadChildren:()=>Promise.all([L.e(191),L.e(870),L.e(866),L.e(254)]).then(L.bind(L,254)).then(te=>te.AtractivosModule)},{path:"profile/:id",canActivate:[ie,(()=>{class te{constructor(Be,Ve){this.firestore=Be,this.router=Ve}canActivate(Be,Ve){const ze=Be.paramMap.get("id"),en=(0,W.hJ)(this.firestore,"users"),lt=(0,W.IO)(en,(0,W.ar)("userName","==",ze));return(0,W.PL)(lt).then(Ze=>(Ze.empty&&(this.router.navigate(["/home"]),console.log("No est\xe1")),!Ze.empty)).catch(Ze=>(console.error("No est\xe1",Ze),!1))}static#e=this.\u0275fac=function(Ve){return new(Ve||te)(se.LFG(W.gg),se.LFG(q.F0))};static#t=this.\u0275prov=se.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})()],loadChildren:()=>Promise.all([L.e(191),L.e(975)]).then(L.bind(L,8975)).then(te=>te.PerfilModule)},{path:"auth",canActivate:[pe],loadChildren:()=>Promise.all([L.e(191),L.e(95),L.e(592),L.e(327)]).then(L.bind(L,9327)).then(te=>te.AuthModule)},{path:"**",redirectTo:"home",pathMatch:"full"}];let it=(()=>{class te{static#e=this.\u0275fac=function(Ve){return new(Ve||te)};static#t=this.\u0275mod=se.oAB({type:te});static#n=this.\u0275inj=se.cJS({imports:[q.Bz.forRoot(He,{preloadingStrategy:q.wm}),q.Bz]})}return te})();var Dt=L(3968),tt=L(8395),dt=L(6814);function Pt(te,qt){if(1&te){const Be=se.EpF();se.TgZ(0,"button",2),se.NdJ("click",function(){se.CHM(Be);const ze=se.oxw();return se.KtG(ze.toTop())}),se.O4$(),se.TgZ(1,"svg",3),se._UZ(2,"path",4),se.qZA()()}}let be=(()=>{class te{constructor(Be,Ve,ze,en){this.modal=Be,this.router=Ve,this.userService=ze,this.renderer=en,this.firestore=(0,W.ad)(),this.auth=(0,_e.v0)(),this.mostrarBoton=!1,this.title="Pa'lHuila",this.hasExecuted=!1,this.updateFechaUltimoLoginBeforeUnload=()=>{this.updateFechaUltimoLogin(),localStorage.clear()}}ngOnInit(){this.router.events.subscribe(Be=>{Be instanceof q.m2&&window.scrollTo(0,0)}),window.addEventListener("beforeunload",this.updateFechaUltimoLoginBeforeUnload)}ngAfterViewChecked(){var Be=this;this.hasExecuted||(this.userService.getCurrentUser(this.auth).then(function(){var Ve=(0,he.Z)(function*(ze){if(ze){const en=(0,W.JU)(Be.firestore,`users/${ze.uid}`),lt=yield(0,W.QT)(en);Be.userService.setRolSubject(lt.data().rol),en&&(0,W.pl)(en,{fechaUltimoLogin:(new Date).toISOString()},{merge:!0})}});return function(ze){return Ve.apply(this,arguments)}}()),this.hasExecuted=!0)}ngOnDestroy(){window.removeEventListener("beforeunload",this.updateFechaUltimoLoginBeforeUnload)}onScroll(Be){const Ve=window.scrollY;this.mostrarBoton=Ve>500}updateFechaUltimoLogin(){this.userService.getCurrentUser(this.auth).then(Be=>{if(Be){const Ve=(0,W.JU)(this.firestore,`users/${Be.uid}`);Ve&&(0,W.pl)(Ve,{fechaUltimoLogin:(new Date).toISOString()},{merge:!0})}})}toTop(){window.scrollTo({top:0,left:0,behavior:"smooth"})}onKeyDown(Be){const Ve=Be.target;!Ve.classList.contains("no-close")&&"svg"!==Ve.tagName&&"li"!==Ve.tagName&&"path"!==Ve.tagName&&"span"!==Ve.tagName&&"ul"!==Ve.tagName&&"Escape"===Be.key&&(this.modal.setProfileHeader(!1),this.modal.setTurnMuni(!1),this.modal.setTurnSliderP(!0))}handleKeydown(Be){const Ve=Be.target;!Ve.classList.contains("no-close")&&"svg"!==Ve.tagName&&"li"!==Ve.tagName&&"path"!==Ve.tagName&&"span"!==Ve.tagName&&"ul"!==Ve.tagName&&"button"!==Ve.tagName&&!Ve.id.includes("buttonProfile")&&!Ve.id.includes("buttonTurn")&&(this.modal.setProfileHeader(!1),this.modal.setTurnMuni(!1)),Ve.id.includes("buttonProfile")&&this.modal.setProfileHeader(!0),Ve.id.includes("buttonTurn")&&this.modal.setTurnMuni(!0)}static#e=this.\u0275fac=function(Ve){return new(Ve||te)(se.Y36(Dt.H),se.Y36(q.F0),se.Y36(tt.K),se.Y36(se.Qsj))};static#t=this.\u0275cmp=se.Xpm({type:te,selectors:[["app-root"]],hostBindings:function(Ve,ze){1&Ve&&se.NdJ("keydown",function(lt){return ze.onKeyDown(lt)},!1,se.evT)("scroll",function(lt){return ze.onScroll(lt)},!1,se.Jf7)},decls:3,vars:1,consts:[[1,".paila",3,"keydown","mousedown"],["class"," transition-opacity  delay-500 ease-in-out pr-2 fixed bottom-[140px] flex flex-row font-Blinker  text-white items-center text-xl  right-0 rounded-tl-2xl rounded-bl-2xl bg-primary-500 opacity-60",3,"click",4,"ngIf"],[1,"transition-opacity","delay-500","ease-in-out","pr-2","fixed","bottom-[140px]","flex","flex-row","font-Blinker","text-white","items-center","text-xl","right-0","rounded-tl-2xl","rounded-bl-2xl","bg-primary-500","opacity-60",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","48","viewBox","0 -960 960 960","width","48",1,"fill-white"],["d","m284-324-66-66 262-261 262 260-65 66-197-198-196 199Z"]],template:function(Ve,ze){1&Ve&&(se.TgZ(0,"Div",0),se.NdJ("keydown",function(lt){return ze.onKeyDown(lt)})("mousedown",function(lt){return ze.handleKeydown(lt)}),se._UZ(1,"router-outlet"),se.YNc(2,Pt,3,0,"button",1),se.qZA()),2&Ve&&(se.xp6(2),se.Q6J("ngIf",ze.mostrarBoton))},dependencies:[dt.O5,q.lC]})}return te})();var xe=L(721),$e=L(108),Ue=L(5017);let Fe=(()=>{class te{static#e=this.\u0275fac=function(Ve){return new(Ve||te)};static#t=this.\u0275mod=se.oAB({type:te,bootstrap:[be]});static#n=this.\u0275inj=se.cJS({imports:[m.b2,it,q.Bz,(0,xe.hX)(()=>(0,xe.ZF)($e.N.firebase)),(0,_e.AR)(()=>(0,_e.v0)()),(0,W.Cm)(()=>(0,W.ad)()),(0,Ue.Vq)(()=>(0,Ue.cF)())]})}return te})();m.q6().bootstrapModule(Fe).catch(te=>console.error(te))},5776:(Ct,Se,L)=>{L.d(Se,{ET:()=>Ff,hJ:()=>T_,oe:()=>Sg,JU:()=>xa,QT:()=>N_,PL:()=>Gd,ad:()=>C_,cf:()=>Vf,Xo:()=>Ol,IO:()=>Oo,pl:()=>gv,r7:()=>mv,ar:()=>Nl});var re,m=L(5861),q=L(534),he=L(4537),se=L(7879),ae=L(9058),ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pe={},_e=_e||{},W=ie||self;function ne(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ye(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Le="closure_uid_"+(1e9*Math.random()>>>0),He=0;function it(i,e,n){return i.call.apply(i.bind,arguments)}function Dt(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function tt(i,e,n){return(tt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?it:Dt).apply(null,arguments)}function dt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Pt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),w=2;w<arguments.length;w++)f[w-2]=arguments[w];return e.prototype[u].apply(o,f)}}function be(){this.s=this.s,this.o=this.o}be.prototype.s=!1,be.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ke(i){Object.prototype.hasOwnProperty.call(i,Le)&&i[Le]||(i[Le]=++He)}(this)},be.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $e=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Ue(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Fe(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(ne(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function te(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var qt=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{W.addEventListener("test",()=>{},e),W.removeEventListener("test",()=>{},e)}catch{}return i}();function Be(i){return/^[\s\xa0]*$/.test(i)}function Ve(){var i=W.navigator;return i&&(i=i.userAgent)?i:""}function ze(i){return-1!=Ve().indexOf(i)}function en(i){return en[" "](i),i}en[" "]=function(){};var Ne,i,Ze=ze("Opera"),Tt=ze("Trident")||ze("MSIE"),Vt=ze("Edge"),de=Vt||Tt,ve=ze("Gecko")&&!(-1!=Ve().toLowerCase().indexOf("webkit")&&!ze("Edge"))&&!(ze("Trident")||ze("MSIE"))&&!ze("Edge"),Ie=-1!=Ve().toLowerCase().indexOf("webkit")&&!ze("Edge");function De(){var i=W.document;return i?i.documentMode:void 0}e:{var Qe="",Ot=(i=Ve(),ve?/rv:([^\);]+)(\)|;)/.exec(i):Vt?/Edge\/([\d\.]+)/.exec(i):Tt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Ie?/WebKit\/(\S+)/.exec(i):Ze?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ot&&(Qe=Ot?Ot[1]:""),Tt){var cn=De();if(null!=cn&&cn>parseFloat(Qe)){Ne=String(cn);break e}}Ne=Qe}var _n=W.document&&Tt&&(De()||parseInt(Ne,10))||void 0;function Et(i,e){if(te.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ve){e:{try{en(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Cn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Et.$.h.call(this)}}Pt(Et,te);var Cn={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var vn="closure_listenable_"+(1e6*Math.random()|0),ir=0;function Jt(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++ir,this.fa=this.ia=!1}function At(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Gn(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Li(i){const e={};for(const n in i)e[n]=i[n];return e}const pn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yi(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<pn.length;l++)n=pn[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Qn(i){this.src=i,this.g={},this.h=0}function zn(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=$e(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(At(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function on(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}Qn.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=on(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new Jt(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var zt="closure_lm_"+(1e6*Math.random()|0),Ur={};function Ar(i,e,n,o,u){if(o&&o.once)return bn(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Ar(i,e[l],n,o,u);return null}return n=Xn(n),i&&i[vn]?i.O(e,n,ye(o)?!!o.capture:!!o,u):Un(i,e,n,!1,o,u)}function Un(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=ye(u)?!!u.capture:!!u,w=sr(i);if(w||(i[zt]=w=new Qn(i)),(n=w.add(e,n,o,f,l)).proxy)return n;if(o=function Cr(){const e=Bt;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)qt||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Wi(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function bn(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)bn(i,e[l],n,o,u);return null}return n=Xn(n),i&&i[vn]?i.P(e,n,ye(o)?!!o.capture:!!o,u):Un(i,e,n,!0,o,u)}function gn(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)gn(i,e[l],n,o,u);else o=ye(o)?!!o.capture:!!o,n=Xn(n),i&&i[vn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=on(l=i.g[e],n,o,u))&&(At(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=sr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=on(e,n,o,u)),(n=-1<i?e[i]:null)&&yt(n))}function yt(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[vn])zn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Wi(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=sr(e))?(zn(n,i),0==n.h&&(n.src=null,e[zt]=null)):At(i)}}}function Wi(i){return i in Ur?Ur[i]:Ur[i]="on"+i}function Bt(i,e){if(i.fa)i=!0;else{e=new Et(e,this);var n=i.listener,o=i.la||i.src;i.ia&&yt(i),i=n.call(o,e)}return i}function sr(i){return(i=i[zt])instanceof Qn?i:null}var Xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xn(i){return"function"==typeof i?i:(i[Xr]||(i[Xr]=function(e){return i.handleEvent(e)}),i[Xr])}function Mt(){be.call(this),this.i=new Qn(this),this.S=this,this.J=null}function mn(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new te(e,i);else if(e instanceof te)e.target=e.target||i;else{var u=e;yi(e=new te(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=vr(f,o,!0,e)&&u}if(u=vr(f=e.g=i,o,!0,e)&&u,u=vr(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=vr(f=e.g=n[l],o,!1,e)&&u}function vr(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var w=f.listener,b=f.la||f.src;f.ia&&zn(i.i,f),u=!1!==w.call(b,o)&&u}}return u&&!o.defaultPrevented}Pt(Mt,be),Mt.prototype[vn]=!0,Mt.prototype.removeEventListener=function(i,e,n,o){gn(this,i,e,n,o)},Mt.prototype.N=function(){if(Mt.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)At(n[o]);delete i.g[e],i.h--}}this.J=null},Mt.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Mt.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var tn=W.JSON.stringify;function ns(){var i=H;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Jr=new class br{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new rs,i=>i.reset());class rs{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function oe(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function j(i){W.setTimeout(()=>{throw i},0)}let z,$=!1,H=new class or{constructor(){this.h=this.g=null}add(e,n){const o=Jr.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},fe=()=>{const i=W.Promise.resolve(void 0);z=()=>{i.then(We)}};var We=()=>{for(var i;i=ns();){try{i.h.call(i.g)}catch(n){j(n)}var e=Jr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}$=!1};function ut(i,e){Mt.call(this),this.h=i||1,this.g=e||W,this.j=tt(this.qb,this),this.l=Date.now()}function Gt(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Qt(i,e,n){if("function"==typeof i)n&&(i=tt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=tt(i.handleEvent,i)}return 2147483647<Number(e)?-1:W.setTimeout(i,e||0)}function hn(i){i.g=Qt(()=>{i.g=null,i.i&&(i.i=!1,hn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Pt(ut,Mt),(re=ut.prototype).ga=!1,re.T=null,re.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mn(this,"tick"),this.ga&&(Gt(this),this.start()))}},re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},re.N=function(){ut.$.N.call(this),Gt(this),delete this.g};class jt extends be{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hn(this)}N(){super.N(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(i){be.call(this),this.h=i,this.g={}}Pt(Sn,be);var Br=[];function _s(i,e,n,o){Array.isArray(n)||(n&&(Br[0]=n.toString()),n=Br);for(var u=0;u<n.length;u++){var l=Ar(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function ar(i){Gn(i.g,function(e,n){this.g.hasOwnProperty(n)&&yt(e)},i),i.g={}}function Pe(){this.g=!0}function nt(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nn(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return tn(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Sn.prototype.N=function(){Sn.$.N.call(this),ar(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pe.prototype.Ea=function(){this.g=!1},Pe.prototype.info=function(){};var ln={},Sr=null;function ur(){return Sr=Sr||new Mt}function Ai(i){te.call(this,ln.Ta,i)}function cr(i){const e=ur();mn(e,new Ai(e))}function is(i,e){te.call(this,ln.STAT_EVENT,i),this.stat=e}function lr(i){const e=ur();mn(e,new is(e,i))}function vi(i,e){te.call(this,ln.Ua,i),this.size=e}function Lt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){i()},e)}ln.Ta="serverreachability",Pt(Ai,te),ln.STAT_EVENT="statevent",Pt(is,te),ln.Ua="timingevent",Pt(vi,te);var ss={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ks={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ir(){}function qi(){}Ir.prototype.h=null;var Ye,Rr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function di(){te.call(this,"d")}function ht(){te.call(this,"c")}function gt(){}function xt(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Sn(this),this.P=xr,this.V=new ut(i=de?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}Pt(di,te),Pt(ht,te),Pt(gt,Ir),gt.prototype.g=function(){return new XMLHttpRequest},gt.prototype.i=function(){return{}},Ye=new gt;var xr=45e3,Ci={},Ys={};function Fi(i,e,n){i.L=1,i.v=Ii(Kr(e)),i.s=n,i.S=!0,To(i,null)}function To(i,e){i.G=Date.now(),Qs(i),i.A=Kr(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),rn(n.i,"t",o),i.C=0,n=i.l.J,i.h=new Wn,i.g=Bs(i.l,n?e:null,!i.s),0<i.O&&(i.M=new jt(tt(i.Pa,i,i.g),i.O)),_s(i.U,i.g,"readystatechange",i.nb),e=i.I?Li(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),cr(),function ge(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",w=l.split("&"),b=0;b<w.length;b++){var M=w[b].split("=");if(1<M.length){var U=M[0];M=M[1];var Y=U.split("_");f=2<=Y.length&&"type"==Y[1]?f+(U+"=")+M+"&":f+(U+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Zs(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function pr(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=da(i,n),u==Ys){4==e&&(i.o=4,lr(14),o=!1),nt(i.j,i.m,null,"[Incomplete Response]");break}if(u==Ci){i.o=4,lr(15),nt(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}nt(i.j,i.m,u,null),Ss(i,u)}Zs(i)&&u!=Ys&&u!=Ci&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,lr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),si(e),e.M=!0,lr(11))):(nt(i.j,i.m,n,"[Invalid Chunked Response]"),Ki(i),as(i))}function da(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Ys:(n=Number(e.substring(n,o)),isNaN(n)?Ci:(o+=1)+n>e.length?Ys:(e=e.slice(o,o+n),i.C=o+n,e))}function Qs(i){i.Y=Date.now()+i.P,wo(i,i.P)}function wo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Lt(tt(i.lb,i),e)}function Xs(i){i.B&&(W.clearTimeout(i.B),i.B=null)}function as(i){0==i.l.H||i.J||Ri(i.l,i)}function Ki(i){Xs(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Gt(i.V),ar(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Ss(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||ii(n.i,i)))if(!i.K&&ii(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Si(n),at(n)}zr(n),lr(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Lt(tt(n.ib,n),6e3));if(1>=Yi(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else tr(n,11)}else if((i.K||n.g==i)&&Si(n),!Be(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let M=u[e];if(n.V=M[0],M=M[1],2==n.H)if("c"==M[0]){n.K=M[1],n.pa=M[2];const U=M[3];null!=U&&(n.ra=U,n.l.info("VER="+n.ra));const Y=M[4];null!=Y&&(n.Ga=Y,n.l.info("SVER="+n.Ga));const ue=M[5];null!=ue&&"number"==typeof ue&&0<ue&&(n.L=o=1.5*ue,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const Ae=i.g;if(Ae){const st=Ae.g?Ae.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(st){var l=o.i;l.g||-1==st.indexOf("spdy")&&-1==st.indexOf("quic")&&-1==st.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Xt(l,l.h),l.h=null))}if(o.F){const ct=Ae.g?Ae.g.getResponseHeader("X-HTTP-Session-Id"):null;ct&&(o.Da=ct,Hn(o.I,o.F,ct))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=Ti(o,o.J?o.pa:null,o.Y),f.K){io(o.i,f);var w=f,b=o.L;b&&w.setTimeout(b),w.B&&(Xs(w),Qs(w)),o.g=f}else Nr(o);0<n.j.length&&bt(n)}else"stop"!=M[0]&&"close"!=M[0]||tr(n,7);else 3==n.H&&("stop"==M[0]||"close"==M[0]?"stop"==M[0]?tr(n,7):ke(n):"noop"!=M[0]&&n.h&&n.h.Aa(M),n.A=0)}cr()}catch{}}function Js(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ne(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Uo(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ne(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function du(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ne(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(re=xt.prototype).setTimeout=function(i){this.P=i},re.nb=function(i){i=i.target;const e=this.M;e&&3==qn(i)?e.l():this.Pa(i)},re.Pa=function(i){try{if(i==this.g)e:{const U=qn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>U)&&(3!=U||de||this.g&&(this.h.h||this.g.ja()||vs(this.g)))){this.J||4!=U||7==e||cr(),Xs(this);var n=this.g.da();this.ca=n;t:if(Zs(this)){var o=vs(this.g);i="";var u=o.length,l=4==qn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ki(this),as(this);var f="";break t}this.h.i=new W.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function et(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,U,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var w,b=this.g;if((w=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Be(w)){var M=w;break t}}M=null}if(!(n=M)){this.i=!1,this.o=3,lr(12),Ki(this),as(this);break e}nt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ss(this,n)}this.S?(pr(this,U,f),de&&this.i&&3==U&&(_s(this.U,this.V,"tick",this.mb),this.V.start())):(nt(this.j,this.m,f,null),Ss(this,f)),4==U&&Ki(this),this.i&&!this.J&&(4==U?Ri(this.l,this):(this.i=!1,Qs(this)))}else(function N(i){const e={};i=(i.g&&2<=qn(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(Be(i[o]))continue;var n=oe(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function ki(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,lr(12)):(this.o=0,lr(13)),Ki(this),as(this)}}}catch{}},re.mb=function(){if(this.g){var i=qn(this.g),e=this.g.ja();this.C<e.length&&(Xs(this),pr(this,i,e),this.i&&4!=i&&Qs(this))}},re.cancel=function(){this.J=!0,Ki(this)},re.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Wt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(cr(),lr(17)),Ki(this),this.o=2,as(this)):wo(this,this.Y-i)};var Vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vi(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Vi){this.h=i.h,bi(this,i.j),this.s=i.s,this.g=i.g,to(this,i.m),this.l=i.l;var e=i.i,n=new Ps;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),no(this,n),this.o=i.o}else i&&(e=String(i).match(Vs))?(this.h=!1,bi(this,e[1]||"",!0),this.s=fn(e[2]||""),this.g=fn(e[3]||"",!0),to(this,e[4]),this.l=fn(e[5]||"",!0),no(this,e[6]||"",!0),this.o=fn(e[7]||"")):(this.h=!1,this.i=new Ps(null,this.h))}function Kr(i){return new Vi(i)}function bi(i,e,n){i.j=n?fn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function to(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function no(i,e,n){e instanceof Ps?(i.i=e,function Ei(i,e){e&&!i.j&&(Ms(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(Mn(this,o),rn(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Jn(e,Rs)),i.i=new Ps(e,i.h))}function Hn(i,e,n){i.i.set(e,n)}function Ii(i){return Hn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function fn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Jn(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ei),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ei(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Vi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Jn(e,us,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Jn(e,us,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Jn(n,"/"==n.charAt(0)?ro:ri,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Jn(n,Ui)),i.join("")};var us=/[#\/\?@]/g,ri=/[#\?:]/g,ro=/[#\?]/g,Rs=/[#\?@]/g,Ui=/#/g;function Ps(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ms(i){i.g||(i.g=new Map,i.h=0,i.i&&function eo(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Mn(i,e){Ms(i),e=Rn(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function mt(i,e){return Ms(i),e=Rn(i,e),i.g.has(e)}function rn(i,e,n){Mn(i,e),0<n.length&&(i.i=null,i.g.set(Rn(i,e),Ue(n)),i.h+=n.length)}function Rn(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function jr(i){this.l=i||mo,i=W.PerformanceNavigationTiming?0<(i=W.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(W.g&&W.g.Ka&&W.g.Ka()&&W.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(re=Ps.prototype).add=function(i,e){Ms(this),this.i=null,i=Rn(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},re.forEach=function(i,e){Ms(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},re.ta=function(){Ms(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},re.Z=function(i){Ms(this);let e=[];if("string"==typeof i)mt(this,i)&&(e=e.concat(this.g.get(Rn(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},re.set=function(i,e){return Ms(this),this.i=null,mt(this,i=Rn(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},re.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var mo=10;function gr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Yi(i){return i.h?1:i.g?i.g.size:0}function ii(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Xt(i,e){i.g?i.g.add(e):i.h=e}function io(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function cs(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Ue(i.i)}jr.prototype.cancel=function(){if(this.i=cs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var xs=class{stringify(i){return W.JSON.stringify(i,void 0)}parse(i){return W.JSON.parse(i,void 0)}};function Er(){this.g=new xs}function Zi(i,e,n){const o=n||"";try{Js(i,function(u,l){let f=u;ye(u)&&(f=tn(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function hi(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Bi(i){this.l=i.ec||null,this.j=i.ob||!1}function so(i,e){Mt.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=ys,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pt(Bi,Ir),Bi.prototype.g=function(){return new so(this.l,this.j)},Bi.prototype.i=function(i){return function(){return i}}({}),Pt(so,Mt);var ys=0;function $r(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function ji(i){i.readyState=4,i.l=null,i.j=null,i.A=null,$i(i)}function $i(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(re=so.prototype).open=function(i,e){if(this.readyState!=ys)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,$i(this)},re.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||W).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ji(this)),this.readyState=ys},re.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,$i(this)),this.g&&(this.readyState=3,$i(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof W.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$r(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},re.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ji(this):$i(this),3==this.readyState&&$r(this)}},re.Za=function(i){this.g&&(this.response=this.responseText=i,ji(this))},re.Ya=function(i){this.g&&(this.response=i,ji(this))},re.ka=function(){this.g&&ji(this)},re.setRequestHeader=function(i,e){this.v.append(i,e)},re.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},re.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(so.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var In=W.JSON.parse;function Hr(i){Mt.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_o,this.L=this.M=!1}Pt(Hr,Mt);var _o="",Ao=/^https?$/i,mr=["POST","PUT"];function yo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Hi(i),ha(i)}function Hi(i){i.F||(i.F=!0,mn(i,"complete"),mn(i,"error"))}function er(i){if(i.h&&typeof _e<"u"&&(!i.C[1]||4!=qn(i)||2!=i.da()))if(i.v&&4==qn(i))Qt(i.La,0,i);else if(mn(i,"readystatechange"),4==qn(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(Vs)[1]||null;!u&&W.self&&W.self.location&&(u=W.self.location.protocol.slice(0,-1)),o=!Ao.test(u?u.toLowerCase():"")}n=o}if(n)mn(i,"complete"),mn(i,"success");else{i.m=6;try{var l=2<qn(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",Hi(i)}}finally{ha(i)}}}function ha(i,e){if(i.g){fi(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||mn(i,"ready");try{n.onreadystatechange=o}catch{}}}function fi(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(W.clearTimeout(i.A),i.A=null)}function qn(i){return i.g?i.g.readyState:0}function vs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case _o:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function k(i){let e="";return Gn(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Q(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=k(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Hn(i,e,n))}function ee(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function me(i){this.Ga=0,this.j=[],this.l=new Pe,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ee("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ee("baseRetryDelayMs",5e3,i),this.hb=ee("retryDelaySeedMs",1e4,i),this.eb=ee("forwardChannelMaxRetries",2,i),this.xa=ee("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new jr(i&&i.concurrentRequestLimit),this.Ja=new Er,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ke(i){if(Ft(i),3==i.H){var e=i.W++,n=Kr(i.I);if(Hn(n,"SID",i.K),Hn(n,"RID",e),Hn(n,"TYPE","terminate"),Kn(i,n),(e=new xt(i,i.l,e)).L=2,e.v=Ii(Kr(n)),n=!1,W.navigator&&W.navigator.sendBeacon)try{n=W.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&W.Image&&((new Image).src=e.v,n=!0),n||(e.g=Bs(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Qs(e)}Qi(i)}function at(i){i.g&&(si(i),i.g.cancel(),i.g=null)}function Ft(i){at(i),i.u&&(W.clearTimeout(i.u),i.u=null),Si(i),i.i.cancel(),i.m&&("number"==typeof i.m&&W.clearTimeout(i.m),i.m=null)}function bt(i){if(!gr(i.i)&&!i.m){i.m=!0;var e=i.Na;z||fe(),$||(z(),$=!0),H.add(e,i),i.C=0}}function En(i,e){var n;n=e?e.m:i.W++;const o=Kr(i.I);Hn(o,"SID",i.K),Hn(o,"RID",n),Hn(o,"AID",i.V),Kn(i,o),i.o&&i.s&&Q(o,i.o,i.s),n=new xt(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Yr(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Xt(i.i,n),Fi(n,o,e)}function Kn(i,e){i.na&&Gn(i.na,function(n,o){Hn(e,o,n)}),i.h&&Js({},function(n,o){Hn(e,o,n)})}function Yr(i,e,n){n=Math.min(i.j.length,n);var o=i.h?tt(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let w=!0;for(let b=0;b<n;b++){let M=u[b].g;const U=u[b].map;if(M-=l,0>M)l=Math.max(0,u[b].g-100),w=!1;else try{Zi(U,f,"req"+M+"_")}catch{o&&o(U)}}if(w){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function Nr(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;z||fe(),$||(z(),$=!0),H.add(e,i),i.A=0}}function zr(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Lt(tt(i.Ma,i),Tr(i,i.A)),i.A++,0))}function si(i){null!=i.B&&(W.clearTimeout(i.B),i.B=null)}function Or(i){i.g=new xt(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Kr(i.wa);Hn(e,"RID","rpc"),Hn(e,"SID",i.K),Hn(e,"AID",i.V),Hn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Hn(e,"TO",i.qa),Hn(e,"TYPE","xmlhttp"),Kn(i,e),i.o&&i.s&&Q(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=Ii(Kr(e)),n.s=null,n.S=!0,To(n,i)}function Si(i){null!=i.v&&(W.clearTimeout(i.v),i.v=null)}function Ri(i,e){var n=null;if(i.g==e){Si(i),si(i),i.g=null;var o=2}else{if(!ii(i.i,e))return;n=e.F,io(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;mn(o=ur(),new vi(o,n)),bt(i)}else Nr(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function an(i,e){return!(Yi(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Lt(tt(i.Na,i,e),Tr(i,i.C)),i.C++,0)))}(i,e)||2==o&&zr(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:tr(i,5);break;case 4:tr(i,10);break;case 3:tr(i,6);break;default:tr(i,2)}}function Tr(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function tr(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=tt(i.pb,i);n||(n=new Vi("//www.google.com/images/cleardot.gif"),W.location&&"http"==W.location.protocol||bi(n,"https"),Ii(n)),function Us(i,e){const n=new Pe;if(W.Image){const o=new Image;o.onload=dt(hi,n,o,"TestLoadImage: loaded",!0,e),o.onerror=dt(hi,n,o,"TestLoadImage: error",!1,e),o.onabort=dt(hi,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=dt(hi,n,o,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else lr(2);i.H=0,i.h&&i.h.za(e),Qi(i),Ft(i)}function Qi(i){if(i.H=0,i.ma=[],i.h){const e=cs(i.i);(0!=e.length||0!=i.j.length)&&(Fe(i.ma,e),Fe(i.ma,i.j),i.i.i.length=0,Ue(i.j),i.j.length=0),i.h.ya()}}function Ti(i,e,n){var o=n instanceof Vi?Kr(n):new Vi(n);if(""!=o.g)e&&(o.g=e+"."+o.g),to(o,o.m);else{var u=W.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new Vi(null);o&&bi(l,o),e&&(l.g=e),u&&to(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&Hn(o,n,e),Hn(o,"VER",i.ra),Kn(i,o),o}function Bs(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hr(n&&i.Ha&&!i.va?new Bi({ob:!0}):i.va)).Oa(i.J),e}function ls(){}function Ns(){if(Tt&&!(10<=Number(_n)))throw Error("Environmental error: no available transport.")}function oi(i,e){Mt.call(this),this.g=new me(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Be(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Be(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new js(this)}function ds(i){di.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function xc(){ht.call(this),this.status=1}function js(i){this.g=i}function gi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Xi(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function Bn(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(re=Hr.prototype).Oa=function(i){this.M=i},re.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ye.g(),this.C=function os(i){return i.h||(i.h=i.i())}(this.u?this.u:Ye),this.g.onreadystatechange=tt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void yo(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=W.FormData&&i instanceof W.FormData,!(0<=$e(mr,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fi(this),0<this.B&&((this.L=function Bo(i){return Tt&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tt(this.ua,this)):this.A=Qt(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){yo(this,l)}},re.ua=function(){typeof _e<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mn(this,"timeout"),this.abort(8))},re.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,mn(this,"complete"),mn(this,"abort"),ha(this))},re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ha(this,!0)),Hr.$.N.call(this)},re.La=function(){this.s||(this.G||this.v||this.l?er(this):this.kb())},re.kb=function(){er(this)},re.isActive=function(){return!!this.g},re.da=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},re.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),In(e)}},re.Ia=function(){return this.m},re.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(re=me.prototype).ra=8,re.H=1,re.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new xt(this,this.l,i);let l=this.s;if(this.U&&(l?(l=Li(l),yi(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Yr(this,u,e),Hn(n=Kr(this.I),"RID",i),Hn(n,"CVER",22),this.F&&Hn(n,"X-HTTP-Session-Id",this.F),Kn(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(k(l)))+"&"+e:this.o&&Q(n,this.o,l)),Xt(this.i,u),this.bb&&Hn(n,"TYPE","init"),this.P?(Hn(n,"$req",e),Hn(n,"SID","null"),u.aa=!0,Fi(u,n,null)):Fi(u,n,e),this.H=2}}else 3==this.H&&(i?En(this,i):0==this.j.length||gr(this.i)||En(this))},re.Ma=function(){if(this.u=null,Or(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Lt(tt(this.jb,this),i)}},re.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,lr(10),at(this),Or(this))},re.ib=function(){null!=this.v&&(this.v=null,at(this),zr(this),lr(19))},re.pb=function(i){i?(this.l.info("Successfully pinged google.com"),lr(2)):(this.l.info("Failed to ping google.com"),lr(1))},re.isActive=function(){return!!this.h&&this.h.isActive(this)},(re=ls.prototype).Ba=function(){},re.Aa=function(){},re.za=function(){},re.ya=function(){},re.isActive=function(){return!0},re.Va=function(){},Ns.prototype.g=function(i,e){return new oi(i,e)},Pt(oi,Mt),oi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;lr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Ti(i,null,i.Y),bt(i)},oi.prototype.close=function(){ke(this.g)},oi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=tn(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&bt(e)},oi.prototype.N=function(){this.g.h=null,delete this.j,ke(this.g),delete this.g,oi.$.N.call(this)},Pt(ds,di),Pt(xc,ht),Pt(js,ls),js.prototype.Ba=function(){mn(this.g,"a")},js.prototype.Aa=function(i){mn(this.g,new ds(i))},js.prototype.za=function(i){mn(this.g,new xc)},js.prototype.ya=function(){mn(this.g,"b")},Pt(gi,function pi(){this.blockSize=-1}),gi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},gi.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)Xi(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){Xi(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){Xi(this,o),u=0;break}}this.h=u,this.i+=e},gi.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var $u={};function jo(i){return-128<=i&&128>i?function lt(i,e){var n=$u;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new Bn([0|e],0>e?-1:0)}):new Bn([0|i],0>i?-1:0)}function Is(i){if(isNaN(i)||!isFinite(i))return vo;if(0>i)return ti(Is(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=Co;return new Bn(e,0)}var Co=4294967296,vo=jo(0),ka=jo(1),fa=jo(16777216);function $s(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function zi(i){return-1==i.h}function ti(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new Bn(n,~i.h).add(ka)}function oo(i,e){return i.add(ti(e))}function Hs(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function ao(i,e){this.g=i,this.h=e}function Hu(i,e){if($s(e))throw Error("division by zero");if($s(i))return new ao(vo,vo);if(zi(i))return e=Hu(ti(i),e),new ao(ti(e.g),ti(e.h));if(zi(e))return e=Hu(i,ti(e)),new ao(ti(e.g),e.h);if(30<i.g.length){if(zi(i)||zi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ka,o=e;0>=o.X(i);)n=hu(n),o=hu(o);var u=uo(n,1),l=uo(o,1);for(o=uo(o,2),n=uo(n,2);!$s(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=uo(o,1),n=uo(n,1)}return e=oo(i,u.R(e)),new ao(u,e)}for(u=vo;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=Is(n)).R(e);zi(f)||0<f.X(i);)f=(l=Is(n-=o)).R(e);$s(l)&&(l=ka),u=u.add(l),i=oo(i,f)}return new ao(u,i)}function hu(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new Bn(n,i.h)}function uo(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new Bn(u,i.h)}(re=Bn.prototype).ea=function(){if(zi(this))return-ti(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:Co+o)*e,e*=Co}return i},re.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if($s(this))return"0";if(zi(this))return"-"+ti(this).toString(i);for(var e=Is(Math.pow(i,6)),n=this,o="";;){var u=Hu(n,e).g,l=((0<(n=oo(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if($s(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},re.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},re.X=function(i){return zi(i=oo(this,i))?-1:$s(i)?0:1},re.abs=function(){return zi(this)?ti(this):this},re.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new Bn(n,-2147483648&n[n.length-1]?-1:0)},re.R=function(i){if($s(this)||$s(i))return vo;if(zi(this))return zi(i)?ti(this).R(ti(i)):ti(ti(this).R(i));if(zi(i))return ti(this.R(ti(i)));if(0>this.X(fa)&&0>i.X(fa))return Is(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),w=i.D(u)>>>16,b=65535&i.D(u);n[2*o+2*u]+=f*b,Hs(n,2*o+2*u),n[2*o+2*u+1]+=l*b,Hs(n,2*o+2*u+1),n[2*o+2*u+1]+=f*w,Hs(n,2*o+2*u+1),n[2*o+2*u+2]+=l*w,Hs(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new Bn(n,0)},re.gb=function(i){return Hu(this,i).h},re.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new Bn(n,this.h&i.h)},re.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new Bn(n,this.h|i.h)},re.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new Bn(n,this.h^i.h)},Ns.prototype.createWebChannel=Ns.prototype.g,oi.prototype.send=oi.prototype.u,oi.prototype.open=oi.prototype.m,oi.prototype.close=oi.prototype.close,ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,Ks.COMPLETE="complete",qi.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",Mt.prototype.listen=Mt.prototype.O,Hr.prototype.listenOnce=Hr.prototype.P,Hr.prototype.getLastError=Hr.prototype.Sa,Hr.prototype.getLastErrorCode=Hr.prototype.Ia,Hr.prototype.getStatus=Hr.prototype.da,Hr.prototype.getResponseJson=Hr.prototype.Wa,Hr.prototype.getResponseText=Hr.prototype.ja,Hr.prototype.send=Hr.prototype.ha,Hr.prototype.setWithCredentials=Hr.prototype.Oa,gi.prototype.digest=gi.prototype.l,gi.prototype.reset=gi.prototype.reset,gi.prototype.update=gi.prototype.j,Bn.prototype.add=Bn.prototype.add,Bn.prototype.multiply=Bn.prototype.R,Bn.prototype.modulo=Bn.prototype.gb,Bn.prototype.compare=Bn.prototype.X,Bn.prototype.toNumber=Bn.prototype.ea,Bn.prototype.toString=Bn.prototype.toString,Bn.prototype.getBits=Bn.prototype.D,Bn.fromNumber=Is,Bn.fromString=function $o(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return ti($o(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Is(Math.pow(e,8)),o=vo,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=Is(Math.pow(e,l)),o=o.R(l).add(Is(f))):o=(o=o.R(n)).add(Is(f))}return o};var La=pe.createWebChannelTransport=function(){return new Ns},T=pe.getStatEventTarget=function(){return ur()},F=pe.ErrorCode=ss,S=pe.EventType=Ks,x=pe.Event=ln,K=pe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Te=pe.FetchXmlHttpFactory=Bi,Oe=pe.WebChannel=qi,St=pe.XhrIo=Hr,nr=pe.Md5=gi,An=pe.Integer=Bn;const xn="@firebase/firestore";class $t{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let dr="10.5.2";const kn=new se.Yd("@firebase/firestore");function kr(){return kn.logLevel}function qe(i,...e){if(kn.logLevel<=se.in.DEBUG){const n=e.map(Ji);kn.debug(`Firestore (${dr}): ${i}`,...n)}}function Yn(i,...e){if(kn.logLevel<=se.in.ERROR){const n=e.map(Ji);kn.error(`Firestore (${dr}): ${i}`,...n)}}function Lr(i,...e){if(kn.logLevel<=se.in.WARN){const n=e.map(Ji);kn.warn(`Firestore (${dr}): ${i}`,...n)}}function Ji(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function vt(i="Unexpected state"){const e=`FIRESTORE (${dr}) INTERNAL ASSERTION FAILED: `+i;throw Yn(e),new Error(e)}function Nt(i,e){i||vt()}function pt(i,e){return i}const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends ae.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Ho{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class co{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Nc{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=M=>this.i!==u?(u=this.i,n(M)):Promise.resolve();let f=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Pr,e.enqueueRetryable(()=>l(this.currentUser))};const w=()=>{const M=f;e.enqueueRetryable((0,m.Z)(function*(){yield M.promise,yield l(o.currentUser)}))},b=M=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=M,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(M=>b(M)),setTimeout(()=>{if(!this.auth){const M=this.t.getImmediate({optional:!0});M?b(M):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Pr)}},0),w()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Nt("string"==typeof o.accessToken),new Ho(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new $t(e)}}class Oc{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wr{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new Oc(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pa{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const o=l=>{null!=l.error&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.R;return this.R=l.token,qe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?u(l):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Nt("string"==typeof n.token),this.R=n.token,new Gu(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Vl(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Fa{static newId(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=Vl(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function Kt(i,e){return i<e?-1:i>e?1:0}function Dr(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class Zr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ge(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ge(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ge(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zr.fromMillis(Date.now())}static fromDate(e){return Zr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Zr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new Zr(0,0))}static max(){return new Ht(new Zr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Os{constructor(e,n,o){void 0===n?n=0:n>e.length&&vt(),void 0===o?o=e.length-n:o>e.length-n&&vt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Os.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Os?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Nn extends Os{construct(e,n,o){return new Nn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ge(Me.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Nn(n)}static emptyPath(){return new Nn([])}}const Wu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends Os{construct(e,n,o){return new _r(e,n,o)}static isValidIdentifier(e){return Wu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new Ge(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const w=e[u];if("\\"===w){if(u+1===e.length)throw new Ge(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[u+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Ge(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=b,u+=2}else"`"===w?(f=!f,u++):"."!==w||f?(o+=w,u++):(l(),u++)}if(l(),f)throw new Ge(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(n)}static emptyPath(){return new _r([])}}class _t{constructor(e){this.path=e}static fromPath(e){return new _t(Nn.fromString(e))}static fromName(e){return new _t(Nn.fromString(e).popFirst(5))}static empty(){return new _t(Nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Nn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new Nn(e.slice()))}}function Uc(i){return new ai(i.readTime,i.key,-1)}class ai{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new ai(Ht.min(),_t.empty(),-1)}static max(){return new ai(Ht.max(),_t.empty(),-1)}}function qu(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=_t.comparator(i.documentKey,e.documentKey),0!==n?n:Kt(i.largestBatchId,e.largestBatchId))}const Va="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ks(i){return ga.apply(this,arguments)}function ga(){return ga=(0,m.Z)(function*(i){if(i.code!==Me.FAILED_PRECONDITION||i.message!==Va)throw i;qe("LocalStore","Unexpectedly lost primary lease")}),ga.apply(this,arguments)}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,o)=>{n(e)})}static reject(e){return new X((n,o)=>{o(e)})}static waitFor(e){return new X((n,o)=>{let u=0,l=0,f=!1;e.forEach(w=>{++u,w.next(()=>{++l,f&&l===u&&n()},b=>o(b))}),f=!0,l===u&&n()})}static or(e){let n=X.resolve(!1);for(const o of e)n=n.next(u=>u?X.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new X((o,u)=>{const l=e.length,f=new Array(l);let w=0;for(let b=0;b<l;b++){const M=b;n(e[M]).next(U=>{f[M]=U,++w,w===l&&o(f)},U=>u(U))}})}static doWhile(e,n){return new X((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function ho(i){return"IndexedDbTransactionError"===i.name}let D=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.se(u),this.oe=u=>o.writeSequenceNumber(u))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function _(i){return null==i}function A(i){return 0===i&&1/i==-1/0}function Zu(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ts(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Gc(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class hr{constructor(e,n){this.comparator=e,this.root=n||wi.EMPTY}insert(e,n){return new hr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(e){return new hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $a(this.root,e,this.comparator,!1)}getReverseIterator(){return new $a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $a(this.root,e,this.comparator,!0)}}class $a{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wi{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??wi.RED,this.left=u??wi.EMPTY,this.right=l??wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new wi(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return wi.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1,wi.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(e,n,o,u,l){return this}insert(e,n,o){return new wi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zn{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new th(this.data.getIterator())}getIteratorFrom(e){return new th(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zn(this.comparator);return n.data=e,n}}class th{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zs{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new zs([])}unionWith(e){let n=new Zn(_r.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new zs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dr(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Zo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Zo("Invalid base64 string: "+l):l}}(e);return new xi(n)}static fromUint8Array(e){const n=function(u){let l="";for(let f=0;f<u.length;++f)l+=String.fromCharCode(u[f]);return l}(e);return new xi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const Wc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(i){if(Nt(!!i),"string"==typeof i){let e=0;const n=Wc.exec(i);if(Nt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:mi(i.seconds),nanos:mi(i.nanos)}}function mi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Io(i){return"string"==typeof i?xi.fromBase64String(i):xi.fromUint8Array(i)}function mu(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qu(i){const e=i.mapValue.fields.__previous_value__;return mu(e)?Qu(e):e}function Bl(i){const e=So(i.mapValue.fields.__local_write_time__.timestampValue);return new Zr(e.seconds,e.nanos)}class jl{constructor(e,n,o,u,l,f,w,b,M){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=w,this.longPollingOptions=b,this.useFetchStreams=M}}class po{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new po("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof po&&e.projectId===this.projectId&&e.database===this.database}}const Qo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ro(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?mu(i)?4:Hl(i)?9007199254740991:10:vt()}function ws(i,e){if(i===e)return!0;const n=Ro(i);if(n!==Ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Bl(i).isEqual(Bl(e));case 3:return function(u,l){if("string"==typeof u.timestampValue&&"string"==typeof l.timestampValue&&u.timestampValue.length===l.timestampValue.length)return u.timestampValue===l.timestampValue;const f=So(u.timestampValue),w=So(l.timestampValue);return f.seconds===w.seconds&&f.nanos===w.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Io(i.bytesValue).isEqual(Io(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,l){return mi(u.geoPointValue.latitude)===mi(l.geoPointValue.latitude)&&mi(u.geoPointValue.longitude)===mi(l.geoPointValue.longitude)}(i,e);case 2:return function(u,l){if("integerValue"in u&&"integerValue"in l)return mi(u.integerValue)===mi(l.integerValue);if("doubleValue"in u&&"doubleValue"in l){const f=mi(u.doubleValue),w=mi(l.doubleValue);return f===w?A(f)===A(w):isNaN(f)&&isNaN(w)}return!1}(i,e);case 9:return Dr(i.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:return function(u,l){const f=u.mapValue.fields||{},w=l.mapValue.fields||{};if(Zu(f)!==Zu(w))return!1;for(const b in f)if(f.hasOwnProperty(b)&&(void 0===w[b]||!ws(f[b],w[b])))return!1;return!0}(i,e);default:return vt()}var l}function $l(i,e){return void 0!==(i.values||[]).find(n=>ws(n,e))}function Xo(i,e){if(i===e)return 0;const n=Ro(i),o=Ro(e);if(n!==o)return Kt(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kt(i.booleanValue,e.booleanValue);case 2:return function(l,f){const w=mi(l.integerValue||l.doubleValue),b=mi(f.integerValue||f.doubleValue);return w<b?-1:w>b?1:w===b?0:isNaN(w)?isNaN(b)?0:-1:1}(i,e);case 3:return Xu(i.timestampValue,e.timestampValue);case 4:return Xu(Bl(i),Bl(e));case 5:return Kt(i.stringValue,e.stringValue);case 6:return function(l,f){const w=Io(l),b=Io(f);return w.compareTo(b)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const w=l.split("/"),b=f.split("/");for(let M=0;M<w.length&&M<b.length;M++){const U=Kt(w[M],b[M]);if(0!==U)return U}return Kt(w.length,b.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const w=Kt(mi(l.latitude),mi(f.latitude));return 0!==w?w:Kt(mi(l.longitude),mi(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,f){const w=l.values||[],b=f.values||[];for(let M=0;M<w.length&&M<b.length;++M){const U=Xo(w[M],b[M]);if(U)return U}return Kt(w.length,b.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,f){if(l===Qo.mapValue&&f===Qo.mapValue)return 0;if(l===Qo.mapValue)return 1;if(f===Qo.mapValue)return-1;const w=l.fields||{},b=Object.keys(w),M=f.fields||{},U=Object.keys(M);b.sort(),U.sort();for(let Y=0;Y<b.length&&Y<U.length;++Y){const ue=Kt(b[Y],U[Y]);if(0!==ue)return ue;const Ae=Xo(w[b[Y]],M[U[Y]]);if(0!==Ae)return Ae}return Kt(b.length,U.length)}(i.mapValue,e.mapValue);default:throw vt()}}function Xu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Kt(i,e);const n=So(i),o=So(e),u=Kt(n.seconds,o.seconds);return 0!==u?u:Kt(n.nanos,o.nanos)}function Ju(i){return go(i)}function go(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const o=So(n);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Io(i.bytesValue).toBase64():"referenceValue"in i?_t.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let o="[",u=!0;for(const l of n.values||[])u?u=!1:o+=",",o+=go(l);return o+"]"}(i.arrayValue):"mapValue"in i?function(n){const o=Object.keys(n.fields||{}).sort();let u="{",l=!0;for(const f of o)l?l=!1:u+=",",u+=`${f}:${go(n.fields[f])}`;return u+"}"}(i.mapValue):vt()}function Jo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function za(i){return!!i&&"integerValue"in i}function Ga(i){return!!i&&"arrayValue"in i}function Wa(i){return!!i&&"nullValue"in i}function ec(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function yu(i){return!!i&&"mapValue"in i}function vu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ts(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=vu(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Hl(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!yu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(n)}setAll(e){let n=_r.emptyPath(),o={},u=[];e.forEach((f,w)=>{if(!n.isImmediateParentOf(w)){const b=this.getFieldsMap(n);this.applyChanges(b,o,u),o={},u=[],n=w.popLast()}f?o[w.lastSegment()]=vu(f):u.push(w.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());yu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];yu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Ts(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Gr(vu(this.value))}}function rh(i){const e=[];return Ts(i.fields,(n,o)=>{const u=new _r([n]);if(yu(o)){const l=rh(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new zs(e)}class Vr{constructor(e,n,o,u,l,f,w){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=w}static newInvalidDocument(e){return new Vr(e,0,Ht.min(),Ht.min(),Ht.min(),Gr.empty(),0)}static newFoundDocument(e,n,o,u){return new Vr(e,1,n,Ht.min(),o,u,0)}static newNoDocument(e,n){return new Vr(e,2,n,Ht.min(),Ht.min(),Gr.empty(),0)}static newUnknownDocument(e,n){return new Vr(e,3,n,Ht.min(),Ht.min(),Gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ht.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ea{constructor(e,n){this.position=e,this.inclusive=n}}function _a(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?_t.comparator(_t.fromName(f.referenceValue),n.key):Xo(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function ih(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ws(i.position[n],e.position[n]))return!1;return!0}class Ni{constructor(e,n="asc"){this.field=e,this.dir=n}}function sh(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Wl{}class Dn extends Wl{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new qg(e,n,o):"array-contains"===n?new Yg(e,o):"in"===n?new oh(e,o):"not-in"===n?new Zg(e,o):"array-contains-any"===n?new Qg(e,o):new Dn(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new Xf(e,o):new Kg(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Xo(n,this.value)):null!==n&&Ro(this.value)===Ro(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends Wl{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new yr(e,n)}matches(e){return qa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function qa(i){return"and"===i.op}function ya(i){return function Ka(i){for(const e of i.filters)if(e instanceof yr)return!1;return!0}(i)&&qa(i)}function va(i){if(i instanceof Dn)return i.field.canonicalString()+i.op.toString()+Ju(i.value);if(ya(i))return i.filters.map(e=>va(e)).join(",");{const e=i.filters.map(n=>va(n)).join(",");return`${i.op}(${e})`}}function ql(i,e){return i instanceof Dn?(o=i,(u=e)instanceof Dn&&o.op===u.op&&o.field.isEqual(u.field)&&ws(o.value,u.value)):i instanceof yr?function(o,u){return u instanceof yr&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((l,f,w)=>l&&ql(f,u.filters[w]),!0)}(i,e):void vt();var o,u}function ta(i){return i instanceof Dn?`${(n=i).field.canonicalString()} ${n.op} ${Ju(n.value)}`:i instanceof yr?function(n){return n.op.toString()+" {"+n.getFilters().map(ta).join(" ,")+"}"}(i):"Filter";var n}class qg extends Dn{constructor(e,n,o){super(e,n,o),this.key=_t.fromName(o.referenceValue)}matches(e){const n=_t.comparator(e.key,this.key);return this.matchesComparison(n)}}class Xf extends Dn{constructor(e,n){super(e,"in",n),this.keys=Jf(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Kg extends Dn{constructor(e,n){super(e,"not-in",n),this.keys=Jf(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Jf(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>_t.fromName(o.referenceValue))}class Yg extends Dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ga(n)&&$l(n.arrayValue,this.value)}}class oh extends Dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&$l(this.value.arrayValue,n)}}class Zg extends Dn{constructor(e,n){super(e,"not-in",n)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!$l(this.value.arrayValue,n)}}class Qg extends Dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ga(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>$l(this.value.arrayValue,o))}}class Iu{constructor(e,n=null,o=[],u=[],l=null,f=null,w=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=w,this.ce=null}}function Kl(i,e=null,n=[],o=[],u=null,l=null,f=null){return new Iu(i,e,n,o,u,l,f)}function Ya(i){const e=pt(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>va(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Ju(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Ju(o)).join(",")),e.ce=n}return e.ce}function Qr(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!sh(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ql(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ih(i.startAt,e.startAt)&&ih(i.endAt,e.endAt)}function Eu(i){return _t.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Ls{constructor(e,n=null,o=[],u=[],l=null,f="F",w=null,b=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=w,this.endAt=b,this.le=null,this.he=null,this.Pe=null}}function Po(i){return new Ls(i)}function rc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function uh(i){return null!==i.collectionGroup}function Za(i){const e=pt(i);if(null===e.le){e.le=[];const n=new Set;for(const l of e.explicitOrderBy)e.le.push(l),n.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let w=new Zn(_r.comparator);return f.filters.forEach(b=>{b.getFlattenedFilters().forEach(M=>{M.isInequality()&&(w=w.add(M.field))})}),w})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.le.push(new Ni(l,o))}),n.has(_r.keyField().canonicalString())||e.le.push(new Ni(_r.keyField(),o))}return e.le}function hs(i){const e=pt(i);return e.he||(e.he=function Yc(i,e){if("F"===i.limitType)return Kl(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new Ni(u.field,"desc"===u.dir?"asc":"desc"));const n=i.endAt?new ea(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new ea(i.startAt.position,i.startAt.inclusive):null;return Kl(i.path,i.collectionGroup,e,i.filters,i.limit,n,o)}}(e,Za(i))),e.he}function fs(i,e){const n=i.filters.concat([e]);return new Ls(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Qa(i,e,n){return new Ls(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Mo(i,e){return Qr(hs(i),hs(e))&&i.limitType===e.limitType}function ep(i){return`${Ya(hs(i))}|lt:${i.limitType}`}function Xa(i){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(u=>ta(u)).join(", ")}]`),_(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(u=>{return`${(f=u).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(u=>Ju(u)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(u=>Ju(u)).join(",")),`Target(${o})`}(hs(i))}; limitType=${i.limitType})`}function ic(i,e){return e.isFoundDocument()&&function(o,u){const l=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):_t.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(i,e)&&function(o,u){for(const l of Za(o))if(!l.field.isKeyField()&&null===u.data.field(l.field))return!1;return!0}(i,e)&&function(o,u){for(const l of o.filters)if(!l.matches(u))return!1;return!0}(i,e)&&(u=e,!((o=i).startAt&&!function(f,w,b){const M=_a(f,w,b);return f.inclusive?M<=0:M<0}(o.startAt,Za(o),u)||o.endAt&&!function(f,w,b){const M=_a(f,w,b);return f.inclusive?M>=0:M>0}(o.endAt,Za(o),u)));var o,u}function Yl(i){return(e,n)=>{let o=!1;for(const u of Za(i)){const l=tp(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function tp(i,e,n){const o=i.field.isKeyField()?_t.comparator(e.key,n.key):function(l,f,w){const b=f.data.field(l),M=w.data.field(l);return null!==b&&null!==M?Xo(b,M):vt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return vt()}}class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Gc(this.inner)}size(){return this.innerSize}}const I=new hr(_t.comparator);function h(){return I}const p=new hr(_t.comparator);function E(...i){let e=p;for(const n of i)e=e.insert(n.key,n);return e}function O(i){let e=p;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function G(){return Re()}function ce(){return Re()}function Re(){return new na(i=>i.toString(),(i,e)=>i.isEqual(e))}const Je=new hr(_t.comparator),kt=new Zn(_t.comparator);function rt(...i){let e=kt;for(const n of i)e=e.add(n);return e}const Ln=new Zn(Kt);function ra(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:A(e)?"-0":e}}function xo(i){return{integerValue:""+i}}function Ja(i,e){return function R(i){return"number"==typeof i&&Number.isInteger(i)&&!A(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?xo(e):ra(i,e)}class Tu{constructor(){this._=void 0}}function np(i,e,n){return i instanceof wu?function(u,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return l&&mu(l)&&(l=Qu(l)),l&&(f.fields.__previous_value__=l),{mapValue:f}}(n,e):i instanceof Ea?Qc(i,e):i instanceof Ta?sc(i,e):function(u,l){const f=Zc(u,l),w=lh(f)+lh(u.Ie);return za(f)&&za(u.Ie)?xo(w):ra(u.serializer,w)}(i,e)}function Zl(i,e,n){return i instanceof Ea?Qc(i,e):i instanceof Ta?sc(i,e):n}function Zc(i,e){return i instanceof ia?za(o=e)||(l=o)&&"doubleValue"in l?e:{integerValue:0}:null;var o,l}class wu extends Tu{}class Ea extends Tu{constructor(e){super(),this.elements=e}}function Qc(i,e){const n=rp(e);for(const o of i.elements)n.some(u=>ws(u,o))||n.push(o);return{arrayValue:{values:n}}}class Ta extends Tu{constructor(e){super(),this.elements=e}}function sc(i,e){let n=rp(e);for(const o of i.elements)n=n.filter(u=>!ws(u,o));return{arrayValue:{values:n}}}class ia extends Tu{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function lh(i){return mi(i.integerValue||i.doubleValue)}function rp(i){return Ga(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class II{constructor(e,n){this.version=e,this.transformResults=n}}class ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Xc{}function oy(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new eu(i.key,ui.none()):new Ql(i.key,i.data,ui.none());{const n=i.data,o=Gr.empty();let u=new Zn(_r.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new Du(i.key,o,new zs(u.toArray()),ui.none())}}function EI(i,e,n){i instanceof Ql?function(u,l,f){const w=u.value.clone(),b=Jg(u.fieldTransforms,l,f.transformResults);w.setAll(b),l.convertToFoundDocument(f.version,w).setHasCommittedMutations()}(i,e,n):i instanceof Du?function(u,l,f){if(!hh(u.precondition,l))return void l.convertToUnknownDocument(f.version);const w=Jg(u.fieldTransforms,l,f.transformResults),b=l.data;b.setAll(uy(u)),b.setAll(w),l.convertToFoundDocument(f.version,b).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function oc(i,e,n,o){return i instanceof Ql?function(l,f,w,b){if(!hh(l.precondition,f))return w;const M=l.value.clone(),U=Xl(l.fieldTransforms,b,f);return M.setAll(U),f.convertToFoundDocument(f.version,M).setHasLocalMutations(),null}(i,e,n,o):i instanceof Du?function(l,f,w,b){if(!hh(l.precondition,f))return w;const M=Xl(l.fieldTransforms,b,f),U=f.data;return U.setAll(uy(l)),U.setAll(M),f.convertToFoundDocument(f.version,U).setHasLocalMutations(),null===w?null:w.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(Y=>Y.field))}(i,e,n,o):(w=n,hh(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):w);var f,w}function TI(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Zc(o.transform,u||null);null!=l&&(null===n&&(n=Gr.empty()),n.set(o.field,l))}return n||null}function ay(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=i.fieldTransforms)&&void 0===u||o&&u&&Dr(o,u,(l,f)=>function Xg(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(o=i.transform)instanceof Ea&&u instanceof Ea||o instanceof Ta&&u instanceof Ta?Dr(o.elements,u.elements,ws):o instanceof ia&&u instanceof ia?ws(o.Ie,u.Ie):o instanceof wu&&u instanceof wu);var o,u}(l,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var o,u}class Ql extends Xc{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Du extends Xc{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function uy(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Jg(i,e,n){const o=new Map;Nt(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,w=e.data.field(l.field);o.set(l.field,Zl(f,w,n[u]))}return o}function Xl(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,np(l,f,e))}return o}class eu extends Xc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fh extends Xc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ph{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&EI(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=oc(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=oc(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=ce();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let w=this.applyToLocalView(f,l.mutatedFields);w=n.has(u.key)?null:w;const b=oy(f,w);null!==b&&o.set(u.key,b),f.isValidDocument()||f.convertToNoDocument(Ht.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&Dr(this.mutations,e.mutations,(n,o)=>ay(n,o))&&Dr(this.baseMutations,e.baseMutations,(n,o)=>ay(n,o))}}class gh{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Nt(e.mutations.length===o.length);let u=Je;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new gh(e,n,o,u)}}class Au{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tm{constructor(e,n){this.count=e,this.unchangedNames=n}}var _i,jn;function nm(i){if(void 0===i)return Yn("GRPC error has no .code"),Me.UNKNOWN;switch(i){case _i.OK:return Me.OK;case _i.CANCELLED:return Me.CANCELLED;case _i.UNKNOWN:return Me.UNKNOWN;case _i.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case _i.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case _i.INTERNAL:return Me.INTERNAL;case _i.UNAVAILABLE:return Me.UNAVAILABLE;case _i.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case _i.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case _i.NOT_FOUND:return Me.NOT_FOUND;case _i.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case _i.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case _i.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case _i.ABORTED:return Me.ABORTED;case _i.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case _i.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case _i.DATA_LOSS:return Me.DATA_LOSS;default:return vt()}}(jn=_i||(_i={}))[jn.OK=0]="OK",jn[jn.CANCELLED=1]="CANCELLED",jn[jn.UNKNOWN=2]="UNKNOWN",jn[jn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jn[jn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jn[jn.NOT_FOUND=5]="NOT_FOUND",jn[jn.ALREADY_EXISTS=6]="ALREADY_EXISTS",jn[jn.PERMISSION_DENIED=7]="PERMISSION_DENIED",jn[jn.UNAUTHENTICATED=16]="UNAUTHENTICATED",jn[jn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jn[jn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jn[jn.ABORTED=10]="ABORTED",jn[jn.OUT_OF_RANGE=11]="OUT_OF_RANGE",jn[jn.UNIMPLEMENTED=12]="UNIMPLEMENTED",jn[jn.INTERNAL=13]="INTERNAL",jn[jn.UNAVAILABLE=14]="UNAVAILABLE",jn[jn.DATA_LOSS=15]="DATA_LOSS";const im=new An([4294967295,4294967295],0);function _h(i){const e=function rm(){return new TextEncoder}().encode(i),n=new nr;return n.update(e),new Uint8Array(n.digest())}function sm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new An([n,o],0),new An([u,l],0)]}class ip{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new ed(`Invalid padding: ${n}`);if(o<0)throw new ed(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new ed(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new ed(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=An.fromNumber(this.Te)}de(e,n,o){let u=e.add(n.multiply(An.fromNumber(o)));return 1===u.compare(im)&&(u=new An([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=_h(e),[o,u]=sm(n);for(let l=0;l<this.hashCount;l++){const f=this.de(o,u,l);if(!this.Ae(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new ip(l,u,n);return o.forEach(w=>f.insert(w)),f}insert(e){if(0===this.Te)return;const n=_h(e),[o,u]=sm(n);for(let l=0;l<this.hashCount;l++){const f=this.de(o,u,l);this.Re(f)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ed extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jc{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,td.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Jc(Ht.min(),u,new hr(Kt),h(),rt())}}class td{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new td(o,n,rt(),rt(),rt())}}class yh{constructor(e,n,o,u){this.Ve=e,this.removedTargetIds=n,this.key=o,this.me=u}}class Ws{constructor(e,n){this.targetId=e,this.fe=n}}class vh{constructor(e,n,o=xi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class sp{constructor(){this.ge=0,this.pe=el(),this.ye=xi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=rt(),n=rt(),o=rt();return this.pe.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:vt()}}),new td(this.ye,this.we,e,n,o)}Fe(){this.Se=!1,this.pe=el()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class op{constructor(e){this.Le=e,this.ke=new Map,this.qe=h(),this.Qe=Ds(),this.Ke=new hr(Kt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(n);break;case 3:this.je(n)&&(o.Be(),o.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.Ce(e.resumeToken));break;default:vt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((o,u)=>{this.je(u)&&n(u)})}Je(e){const n=e.targetId,o=e.fe.count,u=this.Ye(n);if(u){const l=u.target;if(Eu(l))if(0===o){const f=new _t(l.path);this.We(n,f,Vr.newNoDocument(f,Ht.min()))}else Nt(1===o);else{const f=this.Ze(n);if(f!==o){const w=this.Xe(e),b=w?this.et(w,e,f):1;0!==b&&(this.He(n),this.Ke=this.Ke.insert(n,2===b?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:l=0}=n;let f,w;try{f=Io(o).toUint8Array()}catch(b){if(b instanceof Zo)return Lr("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{w=new ip(f,u,l)}catch(b){return Lr(b instanceof ed?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return 0===w.Te?null:w}et(e,n,o){return n.fe.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Le.getRemoteKeysForTarget(n);let u=0;return o.forEach(l=>{const f=this.Le.nt(),w=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(w)||(this.We(n,l,null),u++)}),u}it(e){const n=new Map;this.ke.forEach((l,f)=>{const w=this.Ye(f);if(w){if(l.current&&Eu(w.target)){const b=new _t(w.target.path);null!==this.qe.get(b)||this.st(f,b)||this.We(f,b,Vr.newNoDocument(b,e))}l.De&&(n.set(f,l.ve()),l.Fe())}});let o=rt();this.Qe.forEach((l,f)=>{let w=!0;f.forEachWhile(b=>{const M=this.Ye(b);return!M||"TargetPurposeLimboResolution"===M.purpose||(w=!1,!1)}),w&&(o=o.add(l))}),this.qe.forEach((l,f)=>f.setReadTime(e));const u=new Jc(e,n,this.Ke,this.qe,o);return this.qe=h(),this.Qe=Ds(),this.Ke=new hr(Kt),u}Ue(e,n){if(!this.je(e))return;const o=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,o),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const u=this.ze(e);this.st(e,n)?u.Me(n,1):u.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),o&&(this.qe=this.qe.insert(n,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new sp,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Zn(Kt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||qe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new sp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ds(){return new hr(_t.comparator)}function el(){return new hr(_t.comparator)}const om={asc:"ASCENDING",desc:"DESCENDING"},am={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cy={and:"AND",or:"OR"};class um{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ap(i,e){return i.useProto3Json||_(e)?e:{value:e}}function ac(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function lm(i,e){return ac(i,e.toTimestamp())}function Oi(i){return Nt(!!i),Ht.fromTimestamp(function(n){const o=So(n);return new Zr(o.seconds,o.nanos)}(i))}function up(i,e){return(o=i,new Nn(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function Ih(i){const e=Nn.fromString(i);return Nt(Dh(e)),e}function uc(i,e){return up(i.databaseId,e.path)}function wa(i,e){const n=Ih(e);if(n.get(1)!==i.databaseId.projectId)throw new Ge(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ge(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _t(cp(n))}function cc(i,e){return up(i.databaseId,e)}function nd(i){return new Nn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cp(i){return Nt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function lp(i,e,n){return{name:uc(i,e),fields:n.value.mapValue.fields}}function hm(i,e){return{documents:[cc(i,e.path)]}}function hp(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=cc(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=cc(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(b){if(0!==b.length)return mm(yr.create(b,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(b){if(0!==b.length)return b.map(M=>{return{field:Da((Y=M).field),direction:dy(Y.dir)};var Y})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=ap(i,e.limit);return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(n.structuredQuery.endAt=function(b){return{before:!b.inclusive,values:b.position}}(e.endAt)),n;var b}function fm(i){let e=function dm(i){const e=Ih(i);return 4===e.length?Nn.emptyPath():cp(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Nt(1===o);const U=n.from[0];U.allDescendants?u=U.collectionId:e=e.child(U.collectionId)}let l=[];n.where&&(l=function(Y){const ue=pm(Y);return ue instanceof yr&&ya(ue)?ue.getFilters():[ue]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(ue=>{return new Ni(Cu((st=ue).field),function(ft){switch(ft){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(st.direction));var st}));let w=null;n.limit&&(w=function(Y){let ue;return ue="object"==typeof Y?Y.value:Y,_(ue)?null:ue}(n.limit));let b=null;var Y;n.startAt&&(b=new ea((Y=n.startAt).values||[],!!Y.before));let M=null;return n.endAt&&(M=function(Y){return new ea(Y.values||[],!Y.before)}(n.endAt)),function ah(i,e,n,o,u,l,f,w){return new Ls(i,e,n,o,u,l,f,w)}(e,u,f,l,w,"F",b,M)}function pm(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Cu(n.unaryFilter.field);return Dn.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Cu(n.unaryFilter.field);return Dn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Cu(n.unaryFilter.field);return Dn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Cu(n.unaryFilter.field);return Dn.create(f,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(i):void 0!==i.fieldFilter?Dn.create(Cu((n=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return yr.create(n.compositeFilter.filters.map(o=>pm(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return vt()}}(n.compositeFilter.op))}(i):vt();var n}function dy(i){return om[i]}function gm(i){return am[i]}function wh(i){return cy[i]}function Da(i){return{fieldPath:i.canonicalString()}}function Cu(i){return _r.fromServerFormat(i.fieldPath)}function mm(i){return i instanceof Dn?function(n){if("=="===n.op){if(ec(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NAN"}};if(Wa(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(ec(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NOT_NAN"}};if(Wa(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(n.field),op:gm(n.op),value:n.value}}}(i):i instanceof yr?function(n){const o=n.getFilters().map(u=>mm(u));return 1===o.length?o[0]:{compositeFilter:{op:wh(n.op),filters:o}}}(i):vt()}function hy(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Dh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Aa{constructor(e,n,o,u,l=Ht.min(),f=Ht.min(),w=xi.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=w,this.expectedCount=b}withSequenceNumber(e){return new Aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bu{constructor(e){this.ut=e}}function Ch(i){const e=fm({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Qa(e,e.limit,"L"):e}class tu{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(mi(e.integerValue));else if("doubleValue"in e){const o=mi(e.doubleValue);isNaN(o)?this.Tt(n,13):(this.Tt(n,15),A(o)?n.Et(0):n.Et(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Tt(n,20),"string"==typeof o?n.dt(o):(n.dt(`${o.seconds||""}`),n.Et(o.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Io(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.Tt(n,45),n.Et(o.latitude||0),n.Et(o.longitude||0)}else"mapValue"in e?Hl(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):vt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const o=e.fields||{};this.Tt(n,55);for(const u of Object.keys(o))this.At(u,n),this.Pt(o[u],n)}yt(e,n){const o=e.values||[];this.Tt(n,50);for(const u of o)this.Pt(u,n)}ft(e,n){this.Tt(n,37),_t.fromName(e).path.forEach(o=>{this.Tt(n,60),this.wt(o,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}tu.St=new tu;class vp{constructor(){this.on=new Rh}addToCollectionParentIndex(e,n){return this.on.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(ai.min())}updateCollectionGroup(e,n,o){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class Rh{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Zn(Nn.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Zn(Nn.comparator)).toArray()}}new Uint8Array(0);class ci{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ci(e,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ci.DEFAULT_COLLECTION_PERCENTILE=10,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ci.DEFAULT=new ci(41943040,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ci.DISABLED=new ci(-1,0,0);class Mu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Mu(0)}static Nn(){return new Mu(-1)}}class wI{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?X.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yy{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class xm{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&oc(o.mutation,u,zs.empty(),Zr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,rt()).next(()=>o))}getLocalViewOfDocuments(e,n,o=rt()){const u=G();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=E();return l.forEach((w,b)=>{f=f.insert(w,b.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=G();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,rt()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,w)=>{n.set(f,w)})})}computeViews(e,n,o,u){let l=h();const f=Re(),w=Re();return n.forEach((b,M)=>{const U=o.get(M.key);u.has(M.key)&&(void 0===U||U.mutation instanceof Du)?l=l.insert(M.key,M):void 0!==U?(f.set(M.key,U.mutation.getFieldMask()),oc(U.mutation,M,U.mutation.getFieldMask(),Zr.now())):f.set(M.key,zs.empty())}),this.recalculateAndSaveOverlays(e,l).next(b=>(b.forEach((M,U)=>f.set(M,U)),n.forEach((M,U)=>{var Y;return w.set(M,new yy(U,null!==(Y=f.get(M))&&void 0!==Y?Y:null))}),w))}recalculateAndSaveOverlays(e,n){const o=Re();let u=new hr((f,w)=>f-w),l=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const w of f)w.keys().forEach(b=>{const M=n.get(b);if(null===M)return;let U=o.get(b)||zs.empty();U=w.applyToLocalView(M,U),o.set(b,U);const Y=(u.get(w.batchId)||rt()).add(b);u=u.insert(w.batchId,Y)})}).next(()=>{const f=[],w=u.getReverseIterator();for(;w.hasNext();){const b=w.getNext(),M=b.key,U=b.value,Y=ce();U.forEach(ue=>{if(!l.has(ue)){const Ae=oy(n.get(ue),o.get(ue));null!==Ae&&Y.set(ue,Ae),l=l.add(ue)}}),f.push(this.documentOverlayCache.saveOverlays(e,M,Y))}return X.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,u){return _t.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):uh(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,u):this.getDocumentsMatchingCollectionQuery(e,n,o,u);var f}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):X.resolve(G());let w=-1,b=l;return f.next(M=>X.forEach(M,(U,Y)=>(w<Y.largestBatchId&&(w=Y.largestBatchId),l.get(U)?X.resolve():this.remoteDocumentCache.getEntry(e,U).next(ue=>{b=b.insert(U,ue)}))).next(()=>this.populateOverlays(e,M,l)).next(()=>this.computeViews(e,b,M,rt())).next(U=>({batchId:w,changes:O(U)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _t(n)).next(o=>{let u=E();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o,u){const l=n.collectionGroup;let f=E();return this.indexManager.getCollectionParents(e,l).next(w=>X.forEach(w,b=>{const M=(Y=n,ue=b.child(l),new Ls(ue,null,Y.explicitOrderBy.slice(),Y.filters.slice(),Y.limit,Y.limitType,Y.startAt,Y.endAt));var Y,ue;return this.getDocumentsMatchingCollectionQuery(e,M,o,u).next(U=>{U.forEach((Y,ue)=>{f=f.insert(Y,ue)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,o,u){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,l,u))).next(f=>{l.forEach((b,M)=>{const U=M.getKey();null===f.get(U)&&(f=f.insert(U,Vr.newInvalidDocument(U)))});let w=E();return f.forEach((b,M)=>{const U=l.get(b);void 0!==U&&oc(U.mutation,M,zs.empty(),Zr.now()),ic(n,M)&&(w=w.insert(b,M))}),w})}}class Nm{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return X.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(u=n).id,version:u.version,createTime:Oi(u.createTime)}),X.resolve();var u}getNamedQuery(e,n){return X.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(u=n).name,query:Ch(u.bundledQuery),readTime:Oi(u.readTime)}),X.resolve();var u}}class Nh{constructor(){this.overlays=new hr(_t.comparator),this.lr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const o=G();return X.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.lt(e,n,l)}),X.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.lr.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.lr.delete(o)),X.resolve()}getOverlaysForCollection(e,n,o){const u=G(),l=n.length+1,f=new _t(n.child("")),w=this.overlays.getIteratorFrom(f);for(;w.hasNext();){const b=w.getNext().value,M=b.getKey();if(!n.isPrefixOf(M.path))break;M.path.length===l&&b.largestBatchId>o&&u.set(b.getKey(),b)}return X.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new hr((M,U)=>M-U);const f=this.overlays.getIterator();for(;f.hasNext();){const M=f.getNext().value;if(M.getKey().getCollectionGroup()===n&&M.largestBatchId>o){let U=l.get(M.largestBatchId);null===U&&(U=G(),l=l.insert(M.largestBatchId,U)),U.set(M.getKey(),M)}}const w=G(),b=l.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((M,U)=>w.set(M,U)),!(w.size()>=u)););return X.resolve(w)}lt(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.lr.get(u.largestBatchId).delete(o.key);this.lr.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Au(n,o));let l=this.lr.get(n);void 0===l&&(l=rt(),this.lr.set(n,l)),this.lr.set(n,l.add(o.key))}}class Oh{constructor(){this.hr=new Zn(Gi.Pr),this.Ir=new Zn(Gi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const o=new Gi(e,n);this.hr=this.hr.add(o),this.Ir=this.Ir.add(o)}Er(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.dr(new Gi(e,n))}Ar(e,n){e.forEach(o=>this.removeReference(o,n))}Rr(e){const n=new _t(new Nn([])),o=new Gi(n,e),u=new Gi(n,e+1),l=[];return this.Ir.forEachInRange([o,u],f=>{this.dr(f),l.push(f.key)}),l}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new _t(new Nn([])),o=new Gi(n,e),u=new Gi(n,e+1);let l=rt();return this.Ir.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new Gi(e,0),o=this.hr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Gi{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return _t.comparator(e.key,n.key)||Kt(e.gr,n.gr)}static Tr(e,n){return Kt(e.gr,n.gr)||_t.comparator(e.key,n.key)}}class vy{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Zn(Gi.Pr)}checkEmpty(e){return X.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.pr;this.pr++;const f=new ph(l,n,o,u);this.mutationQueue.push(f);for(const w of u)this.yr=this.yr.add(new Gi(w.key,l)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return X.resolve(f)}lookupMutationBatch(e,n){return X.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Sr(n+1),l=u<0?0:u;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Gi(n,0),u=new Gi(n,Number.POSITIVE_INFINITY),l=[];return this.yr.forEachInRange([o,u],f=>{const w=this.wr(f.gr);l.push(w)}),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Zn(Kt);return n.forEach(u=>{const l=new Gi(u,0),f=new Gi(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([l,f],w=>{o=o.add(w.gr)})}),X.resolve(this.br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;_t.isDocumentKey(l)||(l=l.child(""));const f=new Gi(new _t(l),0);let w=new Zn(Kt);return this.yr.forEachWhile(b=>{const M=b.key.path;return!!o.isPrefixOf(M)&&(M.length===u&&(w=w.add(b.gr)),!0)},f),X.resolve(this.br(w))}br(e){const n=[];return e.forEach(o=>{const u=this.wr(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Nt(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.yr;return X.forEach(n.mutations,u=>{const l=new Gi(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=o})}Fn(e){}containsKey(e,n){const o=new Gi(n,0),u=this.yr.firstAfterOrEqual(o);return X.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return X.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class mc{constructor(e){this.Cr=e,this.docs=new hr(_t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Cr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return X.resolve(o?o.document.mutableCopy():Vr.newInvalidDocument(n))}getEntries(e,n){let o=h();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():Vr.newInvalidDocument(u))}),X.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=h();const f=n.path,w=new _t(f.child("")),b=this.docs.getIteratorFrom(w);for(;b.hasNext();){const{key:M,value:{document:U}}=b.getNext();if(!f.isPrefixOf(M.path))break;M.path.length>f.length+1||qu(Uc(U),o)<=0||(u.has(U.key)||ic(n,U))&&(l=l.insert(U.key,U.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(e,n,o,u){vt()}vr(e,n){return X.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Iy(this)}getSize(e){return X.resolve(this.size)}}class Iy extends wI{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this._r.addEntry(e,u)):this._r.removeEntry(o)}),X.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Ey{constructor(e){this.persistence=e,this.Fr=new na(n=>Ya(n),Qr),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Oh,this.targetCount=0,this.Nr=Mu.On()}forEachTarget(e,n){return this.Fr.forEach((o,u)=>n(u)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Mr&&(this.Mr=n),X.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Mu(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.kn(n),X.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.Fr.forEach((f,w)=>{w.sequenceNumber<=n&&null===o.get(w.targetId)&&(this.Fr.delete(f),l.push(this.removeMatchingKeysForTargetId(e,w.targetId)),u++)}),X.waitFor(l).next(()=>u)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fr.get(n)||null;return X.resolve(o)}addMatchingKeys(e,n,o){return this.Or.Er(n,o),X.resolve()}removeMatchingKeys(e,n,o){this.Or.Ar(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),X.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Or.mr(n);return X.resolve(o)}containsKey(e,n){return X.resolve(this.Or.containsKey(n))}}class pd{constructor(e,n){this.Br={},this.overlays={},this.Lr=new D(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Ey(this),this.indexManager=new vp,this.remoteDocumentCache=new mc(o=>this.referenceDelegate.Qr(o)),this.serializer=new bu(n),this.Kr=new Nm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Nh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Br[e.toKey()];return o||(o=new vy(n,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,o){qe("MemoryPersistence","Starting transaction:",e);const u=new Om(this.Lr.next());return this.referenceDelegate.$r(),o(u).next(l=>this.referenceDelegate.Ur(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Wr(e,n){return X.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,n)))}}class Om extends Bc{constructor(e){super(),this.currentSequenceNumber=e}}class kh{constructor(e){this.persistence=e,this.Gr=new Oh,this.zr=null}static jr(e){return new kh(e)}get Hr(){if(this.zr)return this.zr;throw vt()}addReference(e,n,o){return this.Gr.addReference(o,n),this.Hr.delete(o.toString()),X.resolve()}removeReference(e,n,o){return this.Gr.removeReference(o,n),this.Hr.add(o.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(u=>this.Hr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Hr.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Hr,o=>{const u=_t.fromPath(o);return this.Jr(e,u).next(l=>{l||n.removeEntry(u,Ht.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(o=>{o?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return X.or([()=>X.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Uh{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.ki=o,this.qi=u}static Qi(e,n){let o=rt(),u=rt();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new Uh(e,n.fromCache,o,u)}}class Fm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Bh{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,o,u){const l={result:null};return this.zi(e,n).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.ji(e,n,u,o).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new Fm;return this.Hi(e,n,f).next(w=>{if(l.result=w,this.$i)return this.Ji(e,n,f,w.size)})}).next(()=>l.result)}Ji(e,n,o,u){return o.documentReadCount<this.Ui?(kr()<=se.in.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),X.resolve()):(kr()<=se.in.DEBUG&&qe("QueryEngine","Query:",Xa(n),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Wi*u?(kr()<=se.in.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hs(n))):X.resolve())}zi(e,n){if(rc(n))return X.resolve(null);let o=hs(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Qa(n,null,"F"),o=hs(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=rt(...l);return this.Gi.getDocuments(e,f).next(w=>this.indexManager.getMinOffset(e,o).next(b=>{const M=this.Yi(n,w);return this.Zi(n,M,f,b.readTime)?this.zi(e,Qa(n,null,"F")):this.Xi(e,M,n,b)}))})))}ji(e,n,o,u){return rc(n)||u.isEqual(Ht.min())?X.resolve(null):this.Gi.getDocuments(e,o).next(l=>{const f=this.Yi(n,l);return this.Zi(n,f,o,u)?X.resolve(null):(kr()<=se.in.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Xa(n)),this.Xi(e,f,n,function Vc(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Ht.fromTimestamp(1e9===o?new Zr(n+1,0):new Zr(n,o));return new ai(u,_t.empty(),e)}(u,-1)).next(w=>w))})}Yi(e,n){let o=new Zn(Yl(e));return n.forEach((u,l)=>{ic(e,l)&&(o=o.add(l))}),o}Zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Hi(e,n,o){return kr()<=se.in.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.Gi.getDocumentsMatchingQuery(e,n,ai.min(),o)}Xi(e,n,o,u){return this.Gi.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class Vm{constructor(e,n,o,u){this.persistence=e,this.es=n,this.serializer=u,this.ts=new hr(Kt),this.ns=new na(l=>Ya(l),Qr),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(o)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xm(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function wp(i,e){return jh.apply(this,arguments)}function jh(){return jh=(0,m.Z)(function*(i,e){const n=pt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.os(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],w=[];let b=rt();for(const M of u){f.push(M.batchId);for(const U of M.mutations)b=b.add(U.key)}for(const M of l){w.push(M.batchId);for(const U of M.mutations)b=b.add(U.key)}return n.localDocuments.getDocuments(o,b).next(M=>({_s:M,removedBatchIds:f,addedBatchIds:w}))})})}),jh.apply(this,arguments)}function wy(i){const e=pt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Ap(i,e){const n=pt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function vc(i,e,n){return iu.apply(this,arguments)}function iu(){return iu=(0,m.Z)(function*(i,e,n){const o=pt(i),u=o.ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!ho(f))throw f;qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.ts=o.ts.remove(e),o.ns.delete(u.target)}),iu.apply(this,arguments)}function Hh(i,e,n){const o=pt(i);let u=Ht.min(),l=rt();return o.persistence.runTransaction("Execute query","readwrite",f=>function(b,M,U){const Y=pt(b),ue=Y.ns.get(U);return void 0!==ue?X.resolve(Y.ts.get(ue)):Y.qr.getTargetData(M,U)}(o,f,hs(e)).next(w=>{if(w)return u=w.lastLimboFreeSnapshotVersion,o.qr.getMatchingKeysForTargetId(f,w.targetId).next(b=>{l=b})}).next(()=>o.es.getDocumentsMatchingQuery(f,e,n?u:Ht.min(),n?l:rt())).next(w=>(function jm(i,e,n){let o=i.rs.get(e)||Ht.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.rs.set(e,o)}(o,function ch(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),w),{documents:w,ls:l})))}class Rp{constructor(){this.activeTargetIds=function ps(){return Ln}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pp{constructor(){this.eo=new Rp,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,o){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Rp,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dy{ro(e){}shutdown(){}}class Mp{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pl=null;function Hm(){return null===pl?pl=268435456+Math.round(2147483648*Math.random()):pl++,"0x"+pl.toString(16)}const Ay={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cy{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Fs="WebChannelConnection";class AI extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.mo=o+"://"+n.host,this.fo=`projects/${u}/databases/${l}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${l}`}get yo(){return!1}wo(n,o,u,l,f){const w=Hm(),b=this.So(n,o);qe("RestConnection",`Sending RPC '${n}' ${w}:`,b,u);const M={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(M,l,f),this.Do(n,b,M,u).then(U=>(qe("RestConnection",`Received RPC '${n}' ${w}: `,U),U),U=>{throw Lr("RestConnection",`RPC '${n}' ${w} failed with error: `,U,"url: ",b,"request:",u),U})}Co(n,o,u,l,f,w){return this.wo(n,o,u,l,f)}bo(n,o,u){n["X-Goog-Api-Client"]="gl-js/ fire/"+dr,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((l,f)=>n[f]=l),u&&u.headers.forEach((l,f)=>n[f]=l)}So(n,o){return`${this.mo}/v1/${o}:${Ay[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,o,u){const l=Hm();return new Promise((f,w)=>{const b=new St;b.setWithCredentials(!0),b.listenOnce(S.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case F.NO_ERROR:const U=b.getResponseJson();qe(Fs,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(U)),f(U);break;case F.TIMEOUT:qe(Fs,`RPC '${e}' ${l} timed out`),w(new Ge(Me.DEADLINE_EXCEEDED,"Request time out"));break;case F.HTTP_ERROR:const Y=b.getStatus();if(qe(Fs,`RPC '${e}' ${l} failed with status:`,Y,"response text:",b.getResponseText()),Y>0){let ue=b.getResponseJson();Array.isArray(ue)&&(ue=ue[0]);const Ae=ue?.error;if(Ae&&Ae.status&&Ae.message){const st=function(ft){const sn=ft.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(sn)>=0?sn:Me.UNKNOWN}(Ae.status);w(new Ge(st,Ae.message))}else w(new Ge(Me.UNKNOWN,"Server responded with status "+b.getStatus()))}else w(new Ge(Me.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{qe(Fs,`RPC '${e}' ${l} completed.`)}});const M=JSON.stringify(u);qe(Fs,`RPC '${e}' ${l} sending request:`,u),b.send(n,"POST",M,o,15)})}vo(e,n,o){const u=Hm(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=La(),w=T(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},M=this.longPollingOptions.timeoutSeconds;void 0!==M&&(b.longPollingTimeout=Math.round(1e3*M)),this.useFetchStreams&&(b.xmlHttpFactory=new Te({})),this.bo(b.initMessageHeaders,n,o),b.encodeInitMessageHeaders=!0;const U=l.join("");qe(Fs,`Creating RPC '${e}' stream ${u}: ${U}`,b);const Y=f.createWebChannel(U,b);let ue=!1,Ae=!1;const st=new Cy({co:ft=>{Ae?qe(Fs,`Not sending because RPC '${e}' stream ${u} is closed:`,ft):(ue||(qe(Fs,`Opening RPC '${e}' stream ${u} transport.`),Y.open(),ue=!0),qe(Fs,`RPC '${e}' stream ${u} sending:`,ft),Y.send(ft))},lo:()=>Y.close()}),ct=(ft,sn,un)=>{ft.listen(sn,Yt=>{try{un(Yt)}catch(Fn){setTimeout(()=>{throw Fn},0)}})};return ct(Y,Oe.EventType.OPEN,()=>{Ae||qe(Fs,`RPC '${e}' stream ${u} transport opened.`)}),ct(Y,Oe.EventType.CLOSE,()=>{Ae||(Ae=!0,qe(Fs,`RPC '${e}' stream ${u} transport closed`),st.Ro())}),ct(Y,Oe.EventType.ERROR,ft=>{Ae||(Ae=!0,Lr(Fs,`RPC '${e}' stream ${u} transport errored:`,ft),st.Ro(new Ge(Me.UNAVAILABLE,"The operation could not be completed")))}),ct(Y,Oe.EventType.MESSAGE,ft=>{var sn;if(!Ae){const un=ft.data[0];Nt(!!un);const Fn=un.error||(null===(sn=un[0])||void 0===sn?void 0:sn.error);if(Fn){qe(Fs,`RPC '${e}' stream ${u} received error:`,Fn);const Wr=Fn.status;let fr=function(Mv){const H_=_i[Mv];if(void 0!==H_)return nm(H_)}(Wr),Cs=Fn.message;void 0===fr&&(fr=Me.INTERNAL,Cs="Unknown error status: "+Wr+" with message "+Fn.message),Ae=!0,st.Ro(new Ge(fr,Cs)),Y.close()}else qe(Fs,`RPC '${e}' stream ${u} received:`,un),st.Vo(un)}}),ct(w,x.STAT_EVENT,ft=>{ft.stat===K.PROXY?qe(Fs,`RPC '${e}' stream ${u} detected buffering proxy`):ft.stat===K.NOPROXY&&qe(Fs,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{st.Ao()},0),st}}function Ic(){return typeof document<"u"?document:null}function yd(i){return new um(i,!0)}class vd{constructor(e,n,o=1e3,u=1.5,l=6e4){this.si=e,this.timerId=n,this.Fo=o,this.Mo=u,this.xo=l,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),o=Math.max(0,Date.now()-this.Bo),u=Math.max(0,n-o);u>0&&qe("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class qh{constructor(e,n,o,u,l,f,w,b){this.si=e,this.Ko=o,this.$o=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=w,this.listener=b,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new vd(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,m.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,m.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var o=this;return(0,m.Z)(function*(){o.t_(),o.n_(),o.zo.cancel(),o.Uo++,4!==e?o.zo.reset():n&&n.code===Me.RESOURCE_EXHAUSTED?(Yn(n.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),o.zo.Lo()):n&&n.code===Me.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.r_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Uo===n&&this.s_(o,u)},o=>{e(()=>{const u=new Ge(Me.UNKNOWN,"Fetching auth token failed: "+o.message);return this.o_(u)})})}s_(e,n){const o=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{o(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{o(()=>this.o_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,m.Z)(function*(){e.state=0,e.start()}))}o_(e){return qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gl extends qh{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Eh(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(M=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===M?1:"REMOVE"===M?2:"CURRENT"===M?3:"RESET"===M?4:vt(),u=e.targetChange.targetIds||[],l=function(M,U){return M.useProto3Json?(Nt(void 0===U||"string"==typeof U),xi.fromBase64String(U||"")):(Nt(void 0===U||U instanceof Uint8Array),xi.fromUint8Array(U||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,w=f&&function(M){const U=void 0===M.code?Me.UNKNOWN:nm(M.code);return new Ge(U,M.message||"")}(f);n=new vh(o,u,l,w||null)}else if("documentChange"in e){const o=e.documentChange,u=wa(i,o.document.name),l=Oi(o.document.updateTime),f=o.document.createTime?Oi(o.document.createTime):Ht.min(),w=new Gr({mapValue:{fields:o.document.fields}}),b=Vr.newFoundDocument(u,l,f,w);n=new yh(o.targetIds||[],o.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const o=e.documentDelete,u=wa(i,o.document),l=o.readTime?Oi(o.readTime):Ht.min(),f=Vr.newNoDocument(u,l);n=new yh([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=wa(i,o.document);n=new yh([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return vt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new tm(u,l);n=new Ws(o.targetId,f)}}var M;return n}(this.serializer,e),o=function(l){if(!("targetChange"in l))return Ht.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?Ht.min():f.readTime?Oi(f.readTime):Ht.min()}(e);return this.listener.a_(n,o)}u_(e){const n={};n.database=nd(this.serializer),n.addTarget=function(l,f){let w;const b=f.target;if(w=Eu(b)?{documents:hm(l,b)}:{query:hp(l,b)},w.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){w.resumeToken=cm(l,f.resumeToken);const M=ap(l,f.expectedCount);null!==M&&(w.expectedCount=M)}else if(f.snapshotVersion.compareTo(Ht.min())>0){w.readTime=ac(l,f.snapshotVersion.toTimestamp());const M=ap(l,f.expectedCount);null!==M&&(w.expectedCount=M)}return w}(this.serializer,e);const o=function ly(i,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.e_(n)}c_(e){const n={};n.database=nd(this.serializer),n.removeTarget=e,this.e_(n)}}class xp extends qh{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Th(i,e){return i&&i.length>0?(Nt(void 0!==e),i.map(n=>function(u,l){let f=Oi(u.updateTime?u.updateTime:l);return f.isEqual(Ht.min())&&(f=Oi(l)),new II(f,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Oi(e.commitTime);return this.listener.I_(o,n)}return Nt(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=nd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function nl(i,e){let n;if(e instanceof Ql)n={update:lp(i,e.key,e.value)};else if(e instanceof eu)n={delete:uc(i,e.key)};else if(e instanceof Du)n={update:lp(i,e.key,e.data),updateMask:hy(e.fieldMask)};else{if(!(e instanceof fh))return vt();n={verify:uc(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,f){const w=f.transform;if(w instanceof wu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof Ea)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof Ta)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof ia)return{fieldPath:f.field.canonicalString(),increment:w.Ie};throw vt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:lm(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:vt()),n;var l}(this.serializer,o))};this.e_(n)}}class Np extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new Ge(Me.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.wo(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ge(Me.UNKNOWN,u.toString())})}Co(e,n,o,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.Co(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ge(Me.UNKNOWN,l.toString())})}terminate(){this.d_=!0}}class _l{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Yn(n),this.f_=!1):qe("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Op{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=l,this.F_.ro(w=>{o.enqueueAndForget((0,m.Z)(function*(){var b;su(f)&&(qe("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,m.Z)(function*(U){const Y=pt(U);Y.C_.add(4),yield Ed(Y),Y.M_.set("Unknown"),Y.C_.delete(4),yield Ec(Y)}),function M(U){return b.apply(this,arguments)})(f))}))}),this.M_=new _l(o,u)}}function Ec(i){return yl.apply(this,arguments)}function yl(){return yl=(0,m.Z)(function*(i){if(su(i))for(const e of i.v_)yield e(!0)}),yl.apply(this,arguments)}function Ed(i){return Td.apply(this,arguments)}function Td(){return Td=(0,m.Z)(function*(i){for(const e of i.v_)yield e(!1)}),Td.apply(this,arguments)}function ku(i,e){const n=pt(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Dd(n)?kp(n):Rd(n).Ho()&&Kh(n,e))}function wd(i,e){const n=pt(i),o=Rd(n);n.D_.delete(e),o.Ho()&&zm(n,e),0===n.D_.size&&(o.Ho()?o.Zo():su(n)&&n.M_.set("Unknown"))}function Kh(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ht.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rd(i).u_(e)}function zm(i,e){i.x_.Oe(e),Rd(i).c_(e)}function kp(i){i.x_=new op({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Rd(i).start(),i.M_.g_()}function Dd(i){return su(i)&&!Rd(i).jo()&&i.D_.size>0}function su(i){return 0===pt(i).C_.size}function Gm(i){i.x_=void 0}function Sy(i){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,m.Z)(function*(i){i.D_.forEach((e,n)=>{Kh(i,e)})}),Wm.apply(this,arguments)}function Ry(i,e){return vl.apply(this,arguments)}function vl(){return vl=(0,m.Z)(function*(i,e){Gm(i),Dd(i)?(i.M_.w_(e),kp(i)):i.M_.set("Unknown")}),vl.apply(this,arguments)}function Lp(i,e,n){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,m.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof vh&&2===e.state&&e.cause)try{yield(o=(0,m.Z)(function*(l,f){const w=f.cause;for(const b of f.targetIds)l.D_.has(b)&&(yield l.remoteSyncer.rejectListen(b,w),l.D_.delete(b),l.x_.removeTarget(b))}),function u(l,f){return o.apply(this,arguments)})(i,e)}catch(o){qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Ad(i,o)}else if(e instanceof yh?i.x_.$e(e):e instanceof Ws?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(Ht.min()))try{const o=yield wy(i.localStore);n.compareTo(o)>=0&&(yield function(l,f){const w=l.x_.it(f);return w.targetChanges.forEach((b,M)=>{if(b.resumeToken.approximateByteSize()>0){const U=l.D_.get(M);U&&l.D_.set(M,U.withResumeToken(b.resumeToken,f))}}),w.targetMismatches.forEach((b,M)=>{const U=l.D_.get(b);if(!U)return;l.D_.set(b,U.withResumeToken(xi.EMPTY_BYTE_STRING,U.snapshotVersion)),zm(l,b);const Y=new Aa(U.target,b,M,U.sequenceNumber);Kh(l,Y)}),l.remoteSyncer.applyRemoteEvent(w)}(i,n))}catch(o){qe("RemoteStore","Failed to raise snapshot:",o),yield Ad(i,o)}var o}),Fp.apply(this,arguments)}function Ad(i,e,n){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,m.Z)(function*(i,e,n){if(!ho(e))throw e;i.C_.add(1),yield Ed(i),i.M_.set("Offline"),n||(n=()=>wy(i.localStore)),i.asyncQueue.enqueueRetryable((0,m.Z)(function*(){qe("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield Ec(i)}))}),Cd.apply(this,arguments)}function bd(i,e){return e().catch(n=>Ad(i,n,e))}function Il(i){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,m.Z)(function*(i){const e=pt(i),n=Ra(e);let o=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Py(e);)try{const u=yield Ap(e.localStore,o);if(null===u){0===e.b_.length&&n.Zo();break}o=u.batchId,qm(e,u)}catch(u){yield Ad(e,u)}My(e)&&Km(e)}),Yh.apply(this,arguments)}function Py(i){return su(i)&&i.b_.length<10}function qm(i,e){i.b_.push(e);const n=Ra(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function My(i){return su(i)&&!Ra(i).jo()&&i.b_.length>0}function Km(i){Ra(i).start()}function Zh(i){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,m.Z)(function*(i){Ra(i).E_()}),Vp.apply(this,arguments)}function El(i){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,m.Z)(function*(i){const e=Ra(i);for(const n of i.b_)e.P_(n.mutations)}),Tc.apply(this,arguments)}function xy(i,e,n){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,m.Z)(function*(i,e,n){const o=i.b_.shift(),u=gh.from(o,e,n);yield bd(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Il(i)}),Qh.apply(this,arguments)}function Ny(i,e){return Up.apply(this,arguments)}function Up(){return Up=(0,m.Z)(function*(i,e){var n;e&&Ra(i).h_&&(yield(n=(0,m.Z)(function*(u,l){if(function Jl(i){switch(i){default:return vt();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}(w=l.code)&&w!==Me.ABORTED){const f=u.b_.shift();Ra(u).Yo(),yield bd(u,()=>u.remoteSyncer.rejectFailedWrite(f.batchId,l)),yield Il(u)}var w}),function o(u,l){return n.apply(this,arguments)})(i,e)),My(i)&&Km(i)}),Up.apply(this,arguments)}function Ym(i,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,m.Z)(function*(i,e){const n=pt(i);n.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const o=su(n);n.C_.add(3),yield Ed(n),o&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Ec(n)}),Xh.apply(this,arguments)}function Sd(){return Sd=(0,m.Z)(function*(i,e){const n=pt(i);e?(n.C_.delete(2),yield Ec(n)):e||(n.C_.add(2),yield Ed(n),n.M_.set("Unknown"))}),Sd.apply(this,arguments)}function Rd(i){return i.O_||(i.O_=function(n,o,u){const l=pt(n);return l.A_(),new gl(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(i.datastore,i.asyncQueue,{ho:Sy.bind(null,i),Io:Ry.bind(null,i),a_:Lp.bind(null,i)}),i.v_.push(function(){var e=(0,m.Z)(function*(n){n?(i.O_.Yo(),Dd(i)?kp(i):i.M_.set("Unknown")):(yield i.O_.stop(),Gm(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function Ra(i){return i.N_||(i.N_=function(n,o,u){const l=pt(n);return l.A_(),new xp(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(i.datastore,i.asyncQueue,{ho:Zh.bind(null,i),Io:Ny.bind(null,i),T_:El.bind(null,i),I_:xy.bind(null,i)}),i.v_.push(function(){var e=(0,m.Z)(function*(n){n?(i.N_.Yo(),yield Il(i)):(yield i.N_.stop(),i.b_.length>0&&(qe("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class ef{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,w=new ef(e,n,f,u,l);return w.start(o),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ge(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tl(i,e){if(Yn("AsyncQueue",`${e}: ${i}`),ho(i))return new Ge(Me.UNAVAILABLE,`${e}: ${i}`);throw i}class wl{constructor(e){this.comparator=e?(n,o)=>e(n,o)||_t.comparator(n.key,o.key):(n,o)=>_t.comparator(n.key,o.key),this.keyedMap=E(),this.sortedSet=new hr(this.comparator)}static emptySet(e){return new wl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new wl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Bp{constructor(){this.B_=new hr(_t.comparator)}track(e){const n=e.doc.key,o=this.B_.get(n);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(n):1===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):vt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,o)=>{e.push(o)}),e}}class Dl{constructor(e,n,o,u,l,f,w,b,M){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=w,this.excludesMetadataChanges=b,this.hasCachedResults=M}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(w=>{f.push({type:0,doc:w})}),new Dl(e,n,wl.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class Zm{constructor(){this.k_=void 0,this.listeners=[]}}class Oy{constructor(){this.queries=new na(e=>ep(e),Mo),this.onlineState="Unknown",this.q_=new Set}}function jp(i,e){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,m.Z)(function*(i,e){const n=pt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new Zm),u)try{l.k_=yield n.onListen(o)}catch(f){const w=Tl(f,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(w)}n.queries.set(o,l),l.listeners.push(e),e.Q_(n.onlineState),l.k_&&e.K_(l.k_)&&Jm(n)}),Qm.apply(this,arguments)}function tf(i,e){return nf.apply(this,arguments)}function nf(){return nf=(0,m.Z)(function*(i,e){const n=pt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),nf.apply(this,arguments)}function sa(i,e){const n=pt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const w of f.listeners)w.K_(u)&&(o=!0);f.k_=u}}o&&Jm(n)}function Xm(i,e,n){const o=pt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function Jm(i){i.q_.forEach(e=>{e.next()})}class Pd{constructor(e,n,o){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=o||{}}K_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Dl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class e_{constructor(e){this.key=e}}class sf{constructor(e){this.key=e}}class oa{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=rt(),this.mutatedKeys=rt(),this._a=Yl(e),this.aa=new wl(this._a)}get ua(){return this.ia}ca(e,n){const o=n?n.la:new Bp,u=n?n.aa:this.aa;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,w=!1;const b="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,M="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((U,Y)=>{const ue=u.get(U),Ae=ic(this.query,Y)?Y:null,st=!!ue&&this.mutatedKeys.has(ue.key),ct=!!Ae&&(Ae.hasLocalMutations||this.mutatedKeys.has(Ae.key)&&Ae.hasCommittedMutations);let ft=!1;ue&&Ae?ue.data.isEqual(Ae.data)?st!==ct&&(o.track({type:3,doc:Ae}),ft=!0):this.ha(ue,Ae)||(o.track({type:2,doc:Ae}),ft=!0,(b&&this._a(Ae,b)>0||M&&this._a(Ae,M)<0)&&(w=!0)):!ue&&Ae?(o.track({type:0,doc:Ae}),ft=!0):ue&&!Ae&&(o.track({type:1,doc:ue}),ft=!0,(b||M)&&(w=!0)),ft&&(Ae?(f=f.add(Ae),l=ct?l.add(U):l.delete(U)):(f=f.delete(U),l=l.delete(U)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const U="F"===this.query.limitType?f.last():f.first();f=f.delete(U.key),l=l.delete(U.key),o.track({type:1,doc:U})}return{aa:f,la:o,Zi:w,mutatedKeys:l}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const l=e.la.L_();l.sort((M,U)=>function(ue,Ae){const st=ct=>{switch(ct){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return st(ue)-st(Ae)}(M.type,U.type)||this._a(M.doc,U.doc)),this.Pa(o);const f=n?this.Ia():[],w=0===this.oa.size&&this.current?1:0,b=w!==this.sa;return this.sa=w,0!==l.length||b?{snapshot:new Dl(this.query,e.aa,u,l,e.mutatedKeys,0===w,b,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ta:f}:{Ta:f}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Bp,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=rt(),this.aa.forEach(o=>{this.Ea(o.key)&&(this.oa=this.oa.add(o.key))});const n=[];return e.forEach(o=>{this.oa.has(o)||n.push(new sf(o))}),this.oa.forEach(o=>{e.has(o)||n.push(new e_(o))}),n}da(e){this.ia=e.ls,this.oa=rt();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Dl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class t_{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Fy{constructor(e){this.key=e,this.Ra=!1}}class CI{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.Va={},this.ma=new na(w=>ep(w),Mo),this.fa=new Map,this.ga=new Set,this.pa=new hr(_t.comparator),this.ya=new Map,this.wa=new Oh,this.Sa={},this.ba=new Map,this.Da=Mu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function gs(i,e){return $p.apply(this,arguments)}function $p(){return $p=(0,m.Z)(function*(i,e){const n=function vf(i){const e=pt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=r_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uy.bind(null,e),e.Va.a_=sa.bind(null,e.eventManager),e.Va.Fa=Xm.bind(null,e.eventManager),e}(i);let o,u;const l=n.ma.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.Aa();else{const f=yield function yc(i,e){const n=pt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.qr.getTargetData(o,e).next(l=>l?(u=l,X.resolve(u)):n.qr.allocateTargetId(o).next(f=>(u=new Aa(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.ts.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ts=n.ts.insert(o.targetId,o),n.ns.set(e,o.targetId)),o})}(n.localStore,hs(e)),w=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function Md(i,e,n,o,u){return Hp.apply(this,arguments)}(n,e,o,"current"===w,f.resumeToken),n.isPrimaryClient&&ku(n.remoteStore,f)}return u}),$p.apply(this,arguments)}function Hp(){return Hp=(0,m.Z)(function*(i,e,n,o,u){i.va=(Y,ue,Ae)=>{return(st=(0,m.Z)(function*(ft,sn,un,Yt){let Fn=sn.view.ca(un);Fn.Zi&&(Fn=yield Hh(ft.localStore,sn.query,!1).then(({documents:Cs})=>sn.view.ca(Cs,Fn)));const Wr=Yt&&Yt.targetChanges.get(sn.targetId),fr=sn.view.applyChanges(Fn,ft.isPrimaryClient,Wr);return Dc(ft,sn.targetId,fr.Ta),fr.snapshot}),function ct(ft,sn,un,Yt){return st.apply(this,arguments)})(i,Y,ue,Ae);var st};const l=yield Hh(i.localStore,e,!0),f=new oa(e,l.ls),w=f.ca(l.documents),b=td.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),M=f.applyChanges(w,i.isPrimaryClient,b);Dc(i,n,M.Ta);const U=new t_(e,n,f);return i.ma.set(e,U),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),M.snapshot}),Hp.apply(this,arguments)}function Vy(i,e){return xd.apply(this,arguments)}function xd(){return xd=(0,m.Z)(function*(i,e){const n=pt(i),o=n.ma.get(e),u=n.fa.get(o.targetId);if(u.length>1)return n.fa.set(o.targetId,u.filter(l=>!Mo(l,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield vc(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),wd(n.remoteStore,o.targetId),wc(n,o.targetId)}).catch(ks))):(wc(n,o.targetId),yield vc(n.localStore,o.targetId,!0))}),xd.apply(this,arguments)}function af(){return af=(0,m.Z)(function*(i,e,n){const o=function Fu(i){const e=pt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Al.bind(null,e),e}(i);try{const u=yield function(f,w){const b=pt(f),M=Zr.now(),U=w.reduce((Ae,st)=>Ae.add(st.key),rt());let Y,ue;return b.persistence.runTransaction("Locally write mutations","readwrite",Ae=>{let st=h(),ct=rt();return b.ss.getEntries(Ae,U).next(ft=>{st=ft,st.forEach((sn,un)=>{un.isValidDocument()||(ct=ct.add(sn))})}).next(()=>b.localDocuments.getOverlayedDocuments(Ae,st)).next(ft=>{Y=ft;const sn=[];for(const un of w){const Yt=TI(un,Y.get(un.key).overlayedDocument);null!=Yt&&sn.push(new Du(un.key,Yt,rh(Yt.value.mapValue),ui.exists(!0)))}return b.mutationQueue.addMutationBatch(Ae,M,sn,w)}).next(ft=>{ue=ft;const sn=ft.applyToLocalDocumentSet(Y,ct);return b.documentOverlayCache.saveOverlays(Ae,ft.batchId,sn)})}).then(()=>({batchId:ue.batchId,changes:O(Y)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(f,w,b){let M=f.Sa[f.currentUser.toKey()];M||(M=new hr(Kt)),M=M.insert(w,b),f.Sa[f.currentUser.toKey()]=M}(o,u.batchId,n),yield Pa(o,u.changes),yield Il(o.remoteStore)}catch(u){const l=Tl(u,"Failed to persist write");n.reject(l)}}),af.apply(this,arguments)}function r_(i,e){return uf.apply(this,arguments)}function uf(){return uf=(0,m.Z)(function*(i,e){const n=pt(i);try{const o=yield function Dp(i,e){const n=pt(i),o=e.snapshotVersion;let u=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.ss.newChangeBuffer({trackRemovals:!0});u=n.ts;const w=[];e.targetChanges.forEach((U,Y)=>{const ue=u.get(Y);if(!ue)return;w.push(n.qr.removeMatchingKeys(l,U.removedDocuments,Y).next(()=>n.qr.addMatchingKeys(l,U.addedDocuments,Y)));let Ae=ue.withSequenceNumber(l.currentSequenceNumber);var ct,ft,sn;null!==e.targetMismatches.get(Y)?Ae=Ae.withResumeToken(xi.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):U.resumeToken.approximateByteSize()>0&&(Ae=Ae.withResumeToken(U.resumeToken,o)),u=u.insert(Y,Ae),ft=Ae,sn=U,(0===(ct=ue).resumeToken.approximateByteSize()||ft.snapshotVersion.toMicroseconds()-ct.snapshotVersion.toMicroseconds()>=3e8||sn.addedDocuments.size+sn.modifiedDocuments.size+sn.removedDocuments.size>0)&&w.push(n.qr.updateTargetData(l,Ae))});let b=h(),M=rt();if(e.documentUpdates.forEach(U=>{e.resolvedLimboDocuments.has(U)&&w.push(n.persistence.referenceDelegate.updateLimboDocument(l,U))}),w.push(function Bm(i,e,n){let o=rt(),u=rt();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=h();return n.forEach((w,b)=>{const M=l.get(w);b.isFoundDocument()!==M.isFoundDocument()&&(u=u.add(w)),b.isNoDocument()&&b.version.isEqual(Ht.min())?(e.removeEntry(w,b.readTime),f=f.insert(w,b)):!M.isValidDocument()||b.version.compareTo(M.version)>0||0===b.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(b),f=f.insert(w,b)):qe("LocalStore","Ignoring outdated watch update for ",w,". Current version:",M.version," Watch version:",b.version)}),{us:f,cs:u}})}(l,f,e.documentUpdates).next(U=>{b=U.us,M=U.cs})),!o.isEqual(Ht.min())){const U=n.qr.getLastRemoteSnapshotVersion(l).next(Y=>n.qr.setTargetsMetadata(l,l.currentSequenceNumber,o));w.push(U)}return X.waitFor(w).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,b,M)).next(()=>b)}).then(l=>(n.ts=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.ya.get(l);f&&(Nt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.Ra=!0:u.modifiedDocuments.size>0?Nt(f.Ra):u.removedDocuments.size>0&&(Nt(f.Ra),f.Ra=!1))}),yield Pa(n,o,e)}catch(o){yield ks(o)}}),uf.apply(this,arguments)}function zp(i,e,n){const o=pt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ma.forEach((l,f)=>{const w=f.view.Q_(e);w.snapshot&&u.push(w.snapshot)}),function(f,w){const b=pt(f);b.onlineState=w;let M=!1;b.queries.forEach((U,Y)=>{for(const ue of Y.listeners)ue.Q_(w)&&(M=!0)}),M&&Jm(b)}(o.eventManager,e),u.length&&o.Va.a_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Uy(i,e,n){return cf.apply(this,arguments)}function cf(){return cf=(0,m.Z)(function*(i,e,n){const o=pt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.ya.get(e),l=u&&u.key;if(l){let f=new hr(_t.comparator);f=f.insert(l,Vr.newNoDocument(l,Ht.min()));const w=rt().add(l),b=new Jc(Ht.min(),new Map,new hr(Kt),f,w);yield r_(o,b),o.pa=o.pa.remove(l),o.ya.delete(e),pf(o)}else yield vc(o.localStore,e,!1).then(()=>wc(o,e,n)).catch(ks)}),cf.apply(this,arguments)}function i_(i,e){return lf.apply(this,arguments)}function lf(){return lf=(0,m.Z)(function*(i,e){const n=pt(i),o=e.batch.batchId;try{const u=yield function $h(i,e){const n=pt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.ss.newChangeBuffer({trackRemovals:!0});return function(w,b,M,U){const Y=M.batch,ue=Y.keys();let Ae=X.resolve();return ue.forEach(st=>{Ae=Ae.next(()=>U.getEntry(b,st)).next(ct=>{const ft=M.docVersions.get(st);Nt(null!==ft),ct.version.compareTo(ft)<0&&(Y.applyToRemoteDocument(ct,M),ct.isValidDocument()&&(ct.setReadTime(M.commitVersion),U.addEntry(ct)))})}),Ae.next(()=>w.mutationQueue.removeMutationBatch(b,Y))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(w){let b=rt();for(let M=0;M<w.mutationResults.length;++M)w.mutationResults[M].transformResults.length>0&&(b=b.add(w.batch.mutations[M].key));return b}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);df(n,o,null),Wp(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Pa(n,u)}catch(u){yield ks(u)}}),lf.apply(this,arguments)}function Al(i,e,n){return aa.apply(this,arguments)}function aa(){return aa=(0,m.Z)(function*(i,e,n){const o=pt(i);try{const u=yield function(f,w){const b=pt(f);return b.persistence.runTransaction("Reject batch","readwrite-primary",M=>{let U;return b.mutationQueue.lookupMutationBatch(M,w).next(Y=>(Nt(null!==Y),U=Y.keys(),b.mutationQueue.removeMutationBatch(M,Y))).next(()=>b.mutationQueue.performConsistencyCheck(M)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(M,U,w)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(M,U)).next(()=>b.localDocuments.getDocuments(M,U))})}(o.localStore,e);df(o,e,n),Wp(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Pa(o,u)}catch(u){yield ks(u)}}),aa.apply(this,arguments)}function Wp(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function df(i,e,n){const o=pt(i);let u=o.Sa[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Sa[o.currentUser.toKey()]=u}}function wc(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.fa.get(e))i.ma.delete(o),n&&i.Va.Fa(o,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(o=>{i.wa.containsKey(o)||hf(i,o)})}function hf(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(wd(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),pf(i))}function Dc(i,e,n){for(const o of n)o instanceof e_?(i.wa.addReference(o.key,e),ff(i,o)):o instanceof sf?(qe("SyncEngine","Document no longer in limbo: "+o.key),i.wa.removeReference(o.key,e),i.wa.containsKey(o.key)||hf(i,o.key)):vt()}function ff(i,e){const n=e.key,o=n.path.canonicalString();i.pa.get(n)||i.ga.has(o)||(qe("SyncEngine","New document in limbo: "+n),i.ga.add(o),pf(i))}function pf(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new _t(Nn.fromString(e)),o=i.Da.next();i.ya.set(o,new Fy(n)),i.pa=i.pa.insert(n,o),ku(i.remoteStore,new Aa(hs(Po(n.path)),o,"TargetPurposeLimboResolution",D._e))}}function Pa(i,e,n){return qp.apply(this,arguments)}function qp(){return qp=(0,m.Z)(function*(i,e,n){const o=pt(i),u=[],l=[],f=[];var w;o.ma.isEmpty()||(o.ma.forEach((w,b)=>{f.push(o.va(b,e,n).then(M=>{if((M||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(b.targetId,M?.fromCache?"not-current":"current"),M){u.push(M);const U=Uh.Qi(b.targetId,M);l.push(U)}}))}),yield Promise.all(f),o.Va.a_(u),yield(w=(0,m.Z)(function*(M,U){const Y=pt(M);try{yield Y.persistence.runTransaction("notifyLocalViewChanges","readwrite",ue=>X.forEach(U,Ae=>X.forEach(Ae.ki,st=>Y.persistence.referenceDelegate.addReference(ue,Ae.targetId,st)).next(()=>X.forEach(Ae.qi,st=>Y.persistence.referenceDelegate.removeReference(ue,Ae.targetId,st)))))}catch(ue){if(!ho(ue))throw ue;qe("LocalStore","Failed to update sequence numbers: "+ue)}for(const ue of U){const Ae=ue.targetId;if(!ue.fromCache){const st=Y.ts.get(Ae),ft=st.withLastLimboFreeSnapshotVersion(st.snapshotVersion);Y.ts=Y.ts.insert(Ae,ft)}}}),function b(M,U){return w.apply(this,arguments)})(o.localStore,l))}),qp.apply(this,arguments)}function By(i,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,m.Z)(function*(i,e){const n=pt(i);if(!n.currentUser.isEqual(e)){qe("SyncEngine","User change. New user:",e.toKey());const o=yield wp(n.localStore,e);n.currentUser=e,(l=n).ba.forEach(w=>{w.forEach(b=>{b.reject(new Ge(Me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ba.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Pa(n,o._s)}var l}),Kp.apply(this,arguments)}function jy(i,e){const n=pt(i),o=n.ya.get(e);if(o&&o.Ra)return rt().add(o.key);{let u=rt();const l=n.fa.get(e);if(!l)return u;for(const f of l){const w=n.ma.get(f);u=u.unionWith(w.view.ua)}return u}}class If{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,m.Z)(function*(){n.serializer=yd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Um(i,e,n,o){return new Vm(i,e,n,o)}(this.persistence,new Bh,e.initialUser,this.serializer)}createPersistence(e){return new pd(kh.jr,this.serializer)}createSharedClientState(e){return new Pp}terminate(){var e=this;return(0,m.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ma{initialize(e,n){var o=this;return(0,m.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>zp(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=By.bind(null,o.syncEngine),yield function Jh(i,e){return Sd.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Oy}createDatastore(e){const n=yd(e.databaseInfo.databaseId),o=new AI(e.databaseInfo);return new Np(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return o=this.localStore,u=this.datastore,l=e.asyncQueue,f=n=>zp(this.syncEngine,n,0),w=Mp.D()?new Mp:new Dy,new Op(o,u,l,f,w);var o,u,l,f,w}createSyncEngine(e,n){return function(u,l,f,w,b,M,U){const Y=new CI(u,l,f,w,b,M);return U&&(Y.Ca=!0),Y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,m.Z)(function*(o){const u=pt(o);qe("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield Ed(u),u.F_.shutdown(),u.M_.set("Unknown")}),function n(o){return e.apply(this,arguments)})(this.remoteStore);var e}}class bl{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Yn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Jp{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=$t.UNAUTHENTICATED,this.clientId=Fa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,m.Z)(function*(w){qe("FirestoreClient","Received user=",w.uid),yield l.authCredentialListener(w),l.user=w});return function(w){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(qe("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,m.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ge(Me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=Tl(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function wf(i,e){return eg.apply(this,arguments)}function eg(){return eg=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,m.Z)(function*(l){o.isEqual(l)||(yield wp(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),eg.apply(this,arguments)}function tg(i,e){return Df.apply(this,arguments)}function Df(){return Df=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function ng(i){return rg.apply(this,arguments)}(i);qe("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>Ym(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>Ym(e.remoteStore,l)),i._onlineComponents=e}),Df.apply(this,arguments)}function rg(){return rg=(0,m.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){qe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function f_(i){return"FirebaseError"===i.name?i.code===Me.FAILED_PRECONDITION||i.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Lr("Error using user provided cache. Falling back to memory cache: "+n),yield wf(i,new If)}}else qe("FirestoreClient","Using default OfflineComponentProvider"),yield wf(i,new If);return i._offlineComponents}),rg.apply(this,arguments)}function Af(i){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,m.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(qe("FirestoreClient","Using user provided OnlineComponentProvider"),yield tg(i,i._uninitializedComponentsProvider._online)):(qe("FirestoreClient","Using default OnlineComponentProvider"),yield tg(i,new Ma))),i._onlineComponents}),Cf.apply(this,arguments)}function Rl(i){return m_.apply(this,arguments)}function m_(){return m_=(0,m.Z)(function*(i){const e=yield Af(i),n=e.eventManager;return n.onListen=gs.bind(null,e.syncEngine),n.onUnlisten=Vy.bind(null,e.syncEngine),n}),m_.apply(this,arguments)}function v_(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const I_=new Map;function No(i,e,n){if(!n)throw new Ge(Me.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function E_(i){if(!_t.isDocumentKey(i))throw new Ge(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cg(i){if(_t.isDocumentKey(i))throw new Ge(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function bf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(o=i).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof i?"a function":vt()}function $n(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ge(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bf(i);throw new Ge(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Od{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ge(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ge(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ug(i,e,n,o){if(!0===e&&!0===o)throw new Ge(Me.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=v_(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new Ge(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ge(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ge(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cc{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Od({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ge(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ge(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Od(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new zu;switch(o.type){case"firstParty":return new wr(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Ge(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=I_.get(n);o&&(qe("ComponentProvider","Removing Datastore"),I_.delete(n),o.terminate())}(this),Promise.resolve()}}class ms{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ms(this.firestore,e,this._query)}}class Di{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Di(this.firestore,e,this._key)}}class ua extends ms{constructor(e,n,o){super(e,n,Po(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Di(this.firestore,null,new _t(e))}withConverter(e){return new ua(this.firestore,e,this._path)}}function T_(i,e,...n){if(i=(0,ae.m9)(i),No("collection","path",e),i instanceof Cc){const o=Nn.fromString(e,...n);return cg(o),new ua(i,null,o)}{if(!(i instanceof Di||i instanceof ua))throw new Ge(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Nn.fromString(e,...n));return cg(o),new ua(i.firestore,null,o)}}function xa(i,e,...n){if(i=(0,ae.m9)(i),1===arguments.length&&(e=Fa.newId()),No("doc","path",e),i instanceof Cc){const o=Nn.fromString(e,...n);return E_(o),new Di(i,null,new _t(o))}{if(!(i instanceof Di||i instanceof ua))throw new Ge(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Nn.fromString(e,...n));return E_(o),new Di(i.firestore,i instanceof ua?i.converter:null,new _t(o))}}class dg{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new vd(this,"async_queue_retry"),this.iu=()=>{const n=Ic();n&&qe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Ic();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Ic();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Pr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,m.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!ho(n))throw n;qe("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(o=>{throw this.eu=o,this.tu=!1,Yn("INTERNAL UNHANDLED ERROR: ",function(f){let w=f.message||"";return f.stack&&(w=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),w}(o)),o}).then(o=>(this.tu=!1,o))));return this.Ja=n,n}enqueueAfterDelay(e,n,o){this.su(),this.ru.indexOf(e)>-1&&(n=0);const u=ef.createAndSchedule(this,e,n,o,l=>this.au(l));return this.Xa.push(u),u}su(){this.eu&&vt()}verifyOperationInProgress(){}uu(){var e=this;return(0,m.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function hg(i){return function(n,o){if("object"!=typeof n||null===n)return!1;const u=n;for(const l of["next","error","complete"])if(l in u&&"function"==typeof u[l])return!0;return!1}(i)}class Mr extends Cc{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new dg,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qy(this),this._firestoreClient.terminate()}}function C_(i,e){const n="object"==typeof i?i:(0,q.getApp)(),o="string"==typeof i?i:e||"(default)",u=(0,q._getProvider)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,ae.P0)("firestore");l&&function SI(i,e,n,o={}){var u;const l=(i=$n(i,Cc))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Lr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let w,b;if("string"==typeof o.mockUserToken)w=o.mockUserToken,b=$t.MOCK_USER;else{w=(0,ae.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const M=o.mockUserToken.sub||o.mockUserToken.user_id;if(!M)throw new Ge(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $t(M)}i._authCredentials=new co(new Ho(w,b))}}(u,...l)}return u}function li(i){return i._firestoreClient||Qy(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Qy(i){var e,n,o;const u=i._freezeSettings(),l=(b=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new jl(i._databaseId,b,i._persistenceKey,(U=u).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,v_(U.experimentalLongPollingOptions),U.useFetchStreams));var b,U;i._firestoreClient=new Jp(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}class ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ca(xi.fromBase64String(e))}catch(n){throw new Ge(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ca(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ge(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gg{constructor(e){this._methodName=e}}class mg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ge(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ge(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const rv=/^__.*__$/;class iv{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Du(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(e,this.data,n,this.fieldTransforms)}}class b_{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Du(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function S_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class Ld{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.Pu(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Ld(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Au(e),u}Ru(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Of(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(S_(this.Iu)&&rv.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class _g{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||yd(e)}pu(e,n,o,u=!1){return new Ld({Iu:e,methodName:n,gu:o,path:_r.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ml(i){const e=i._freezeSettings(),n=yd(i._databaseId);return new _g(i._databaseId,!!e.ignoreUndefinedProperties,n)}function xl(i,e,n,o,u,l={}){const f=i.pu(l.merge||l.mergeFields?2:0,e,n,u);Pf("Data must be an object, but it was:",f,o);const w=uv(o,f);let b,M;if(l.merge)b=new zs(f.fieldMask),M=f.fieldTransforms;else if(l.mergeFields){const U=[];for(const Y of l.mergeFields){const ue=Mf(e,Y,n);if(!f.contains(ue))throw new Ge(Me.INVALID_ARGUMENT,`Field '${ue}' is specified in your field mask but missing from your input data.`);kf(U,ue)||U.push(ue)}b=new zs(U),M=f.fieldTransforms.filter(Y=>b.covers(Y.field))}else b=null,M=f.fieldTransforms;return new iv(new Gr(w),b,M)}class Fd extends gg{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}function bc(i,e){if(Eg(i=(0,ae.m9)(i)))return Pf("Unsupported field value:",e,i),uv(i,e);if(i instanceof gg)return function(o,u){if(!S_(u.Iu))throw u.mu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(u);l&&u.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(o,u){const l=[];let f=0;for(const w of o){let b=bc(w,u.Vu(f));null==b&&(b={nullValue:"NULL_VALUE"}),l.push(b),f++}return{arrayValue:{values:l}}}(i,e)}return function(o,u){if(null===(o=(0,ae.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Ja(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const l=Zr.fromDate(o);return{timestampValue:ac(u.serializer,l)}}if(o instanceof Zr){const l=new Zr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:ac(u.serializer,l)}}if(o instanceof mg)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ca)return{bytesValue:cm(u.serializer,o._byteString)};if(o instanceof Di){const l=u.databaseId,f=o.firestore._databaseId;if(!f.isEqual(l))throw u.mu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:up(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.mu(`Unsupported field value: ${bf(o)}`)}(i,e)}function uv(i,e){const n={};return Gc(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(i,(o,u)=>{const l=bc(u,e.Eu(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function Eg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Zr||i instanceof mg||i instanceof ca||i instanceof Di||i instanceof gg)}function Pf(i,e,n){if(!Eg(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=bf(n);throw e.mu("an object"===o?i+" a custom object":i+" "+o)}var u}function Mf(i,e,n){if((e=(0,ae.m9)(e))instanceof Pl)return e._internalPath;if("string"==typeof e)return Nf(i,e);throw Of("Field path arguments must be of type string or ",i,!1,void 0,n)}const xf=new RegExp("[~\\*/\\[\\]]");function Nf(i,e,n){if(e.search(xf)>=0)throw Of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Pl(...e.split("."))._internalPath}catch{throw Of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Of(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let w=`Function ${e}() called with invalid data`;n&&(w+=" (via `toFirestore()`)"),w+=". ";let b="";return(l||f)&&(b+=" (found",l&&(b+=` in field ${o}`),f&&(b+=` in document ${u}`),b+=")"),new Ge(Me.INVALID_ARGUMENT,w+i+b)}function kf(i,e){return i.some(n=>n.isEqual(e))}class Tg{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Di(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Na(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Na extends Tg{data(){return super.data()}}function Vu(i,e){return"string"==typeof e?Nf(i,e):e instanceof Pl?e._internalPath:e._delegate._internalPath}function As(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ge(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ou{}class Vd extends ou{}function Oo(i,e,...n){let o=[];e instanceof ou&&o.push(e),o=o.concat(n),function(l){const f=l.filter(b=>b instanceof la).length,w=l.filter(b=>b instanceof Sc).length;if(f>1||f>0&&w>0)throw new Ge(Me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Sc extends Vd{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Sc(e,n,o)}_apply(e){const n=this._parse(e);return Lf(e._query,n),new ms(e.firestore,e.converter,fs(e._query,n))}_parse(e){const n=Ml(e.firestore);return function(l,f,w,b,M,U,Y){let ue;if(M.isKeyField()){if("array-contains"===U||"array-contains-any"===U)throw new Ge(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${U}' queries on documentId().`);if("in"===U||"not-in"===U){Ag(Y,U);const Ae=[];for(const st of Y)Ae.push(Dg(b,l,st));ue={arrayValue:{values:Ae}}}else ue=Dg(b,l,Y)}else"in"!==U&&"not-in"!==U&&"array-contains-any"!==U||Ag(Y,U),ue=function Ig(i,e,n,o=!1){return bc(n,i.pu(o?4:3,e))}(w,"where",Y,"in"===U||"not-in"===U);return Dn.create(M,U,ue)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nl(i,e,n){const o=e,u=Vu("where",i);return Sc._create(u,o,n)}class la extends ou{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new la(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,l){let f=u;const w=l.getFlattenedFilters();for(const b of w)Lf(f,b),f=fs(f,b)}(e._query,n),new ms(e.firestore,e.converter,fs(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Uu extends Vd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Uu(e,n)}_apply(e){const n=function(u,l,f){if(null!==u.startAt)throw new Ge(Me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Ge(Me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ni(l,f)}(e._query,this._field,this._direction);return new ms(e.firestore,e.converter,function(u,l){const f=u.explicitOrderBy.concat([l]);return new Ls(u.path,u.collectionGroup,f,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,n))}}function Ol(i,e="asc"){const n=e,o=Vu("orderBy",i);return Uu._create(o,n)}function Dg(i,e,n){if("string"==typeof(n=(0,ae.m9)(n))){if(""===n)throw new Ge(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uh(e)&&-1!==n.indexOf("/"))throw new Ge(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Nn.fromString(n));if(!_t.isDocumentKey(o))throw new Ge(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Jo(i,new _t(o))}if(n instanceof Di)return Jo(i,n._key);throw new Ge(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bf(n)}.`)}function Ag(i,e){if(!Array.isArray(i)||0===i.length)throw new Ge(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lf(i,e){const n=function(u,l){for(const f of u)for(const w of f.getFlattenedFilters())if(l.indexOf(w.op)>=0)return w.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Ge(Me.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LI{convertValue(e,n="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw vt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Ts(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new mg(mi(e.latitude),mi(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Qu(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const n=So(e);return new Zr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Nn.fromString(e);Nt(Dh(o));const u=new po(o.get(1),o.get(3)),l=new _t(o.popFirst(5));return u.isEqual(n)||Yn(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function x_(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class Rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kl extends Tg{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ll(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Vu("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Ll extends kl{data(e={}){return super.data(e)}}class Oa{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Rc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Ll(this._firestore,this._userDataWriter,o.key,o,new Rc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ge(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,l){if(u._snapshot.oldDocs.isEmpty()){let f=0;return u._snapshot.docChanges.map(w=>({type:"added",doc:new Ll(u._firestore,u._userDataWriter,w.doc.key,w.doc,new Rc(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:f++}))}{let f=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(w=>l||3!==w.type).map(w=>{const b=new Ll(u._firestore,u._userDataWriter,w.doc.key,w.doc,new Rc(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter);let M=-1,U=-1;return 0!==w.type&&(M=f.indexOf(w.doc.key),f=f.delete(w.doc.key)),1!==w.type&&(f=f.add(w.doc),U=f.indexOf(w.doc.key)),{type:Cg(w.type),doc:b,oldIndex:M,newIndex:U}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Cg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}function N_(i){i=$n(i,Di);const e=$n(i.firestore,Mr);return function y_(i,e,n={}){const o=new Pr;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(l,f,w,b,M){const U=new bl({next:ue=>{f.enqueueAndForget(()=>tf(l,Y));const Ae=ue.docs.has(w);!Ae&&ue.fromCache?M.reject(new Ge(Me.UNAVAILABLE,"Failed to get document because the client is offline.")):Ae&&ue.fromCache&&b&&"server"===b.source?M.reject(new Ge(Me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):M.resolve(ue)},error:ue=>M.reject(ue)}),Y=new Pd(Po(w.path),U,{includeMetadataChanges:!0,J_:!0});return jp(l,Y)}(yield Rl(i),i.asyncQueue,e,n,o)})),o.promise}(li(e),i._key).then(n=>Rg(e,i,n))}class ko extends LI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Di(this.firestore,null,n)}}function Gd(i){i=$n(i,ms);const e=$n(i.firestore,Mr),n=li(e),o=new ko(e);return As(i._query),function og(i,e,n={}){const o=new Pr;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(l,f,w,b,M){const U=new bl({next:ue=>{f.enqueueAndForget(()=>tf(l,Y)),ue.fromCache&&"server"===b.source?M.reject(new Ge(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):M.resolve(ue)},error:ue=>M.reject(ue)}),Y=new Pd(w,U,{includeMetadataChanges:!0,J_:!0});return jp(l,Y)}(yield Rl(i),i.asyncQueue,e,n,o)})),o.promise}(n,i._query).then(u=>new Oa(e,o,i,u))}function gv(i,e,n){i=$n(i,Di);const o=$n(i.firestore,Mr),u=x_(i.converter,e,n);return Wd(o,[xl(Ml(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,ui.none())])}function mv(i,e,n,...o){i=$n(i,Di);const u=$n(i.firestore,Mr),l=Ml(u);let f;return f="string"==typeof(e=(0,ae.m9)(e))||e instanceof Pl?function vg(i,e,n,o,u,l){const f=i.pu(1,e,n),w=[Mf(e,o,n)],b=[u];if(l.length%2!=0)throw new Ge(Me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ue=0;ue<l.length;ue+=2)w.push(Mf(e,l[ue])),b.push(l[ue+1]);const M=[],U=Gr.empty();for(let ue=w.length-1;ue>=0;--ue)if(!kf(M,w[ue])){const Ae=w[ue];let st=b[ue];st=(0,ae.m9)(st);const ct=f.Ru(Ae);if(st instanceof Fd)M.push(Ae);else{const ft=bc(st,ct);null!=ft&&(M.push(Ae),U.set(Ae,ft))}}const Y=new zs(M);return new b_(U,Y,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function P_(i,e,n,o){const u=i.pu(1,e,n);Pf("Data must be an object, but it was:",u,o);const l=[],f=Gr.empty();Ts(o,(b,M)=>{const U=Nf(e,b,n);M=(0,ae.m9)(M);const Y=u.Ru(U);if(M instanceof Fd)l.push(U);else{const ue=bc(M,Y);null!=ue&&(l.push(U),f.set(U,ue))}});const w=new zs(l);return new b_(f,w,u.fieldTransforms)}(l,"updateDoc",i._key,e),Wd(u,[f.toMutation(i._key,ui.exists(!0))])}function Sg(i){return Wd($n(i.firestore,Mr),[new eu(i._key,ui.none())])}function Ff(i,e){const n=$n(i.firestore,Mr),o=xa(i),u=x_(i.converter,e);return Wd(n,[xl(Ml(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,ui.exists(!1))]).then(()=>o)}function Vf(i,...e){var n,o,u;i=(0,ae.m9)(i);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||hg(e[f])||(l=e[f],f++);const w={includeMetadataChanges:l.includeMetadataChanges};if(hg(e[f])){const Y=e[f];e[f]=null===(n=Y.next)||void 0===n?void 0:n.bind(Y),e[f+1]=null===(o=Y.error)||void 0===o?void 0:o.bind(Y),e[f+2]=null===(u=Y.complete)||void 0===u?void 0:u.bind(Y)}let b,M,U;if(i instanceof Di)M=$n(i.firestore,Mr),U=Po(i._key.path),b={next:Y=>{e[f]&&e[f](Rg(M,i,Y))},error:e[f+1],complete:e[f+2]};else{const Y=$n(i,ms);M=$n(Y.firestore,Mr),U=Y._query;const ue=new ko(M);b={next:Ae=>{e[f]&&e[f](new Oa(M,ue,Y,Ae))},error:e[f+1],complete:e[f+2]},As(i._query)}return function(ue,Ae,st,ct){const ft=new bl(ct),sn=new Pd(Ae,ft,st);return ue.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return jp(yield Rl(ue),sn)})),()=>{ft.Na(),ue.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return tf(yield Rl(ue),sn)}))}}(li(M),U,w,b)}function Wd(i,e){return function(o,u){const l=new Pr;return o.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function n_(i,e,n){return af.apply(this,arguments)}(yield function qs(i){return Af(i).then(e=>e.syncEngine)}(o),u,l)})),l.promise}(li(i),e)}function Rg(i,e,n){const o=n.docs.get(e._key),u=new ko(i);return new kl(i,u,e._key,o,new Rc(n.hasPendingWrites,n.fromCache),e.converter)}!function(e,n=!0){dr=q.SDK_VERSION,(0,q._registerComponent)(new he.wA("firestore",(o,{instanceIdentifier:u,options:l})=>{const f=o.getProvider("app").getImmediate(),w=new Mr(new Nc(o.getProvider("auth-internal")),new pa(o.getProvider("app-check-internal")),function(M,U){if(!Object.prototype.hasOwnProperty.apply(M.options,["projectId"]))throw new Ge(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(M.options.projectId,U)}(f,u),f);return l=Object.assign({useFetchStreams:n},l),w._setSettings(l),w},"PUBLIC").setMultipleInstances(!0)),(0,q.registerVersion)(xn,"4.3.2",e),(0,q.registerVersion)(xn,"4.3.2","esm2017")}()},9058:(Ct,Se,L)=>{L.d(Se,{BH:()=>$e,L:()=>_e,LL:()=>Qe,P0:()=>Pt,Pz:()=>xe,Sg:()=>Ue,UG:()=>qt,ZB:()=>ye,ZR:()=>Ne,aH:()=>be,b$:()=>ze,eu:()=>ve,hl:()=>de,jU:()=>Be,m9:()=>rs,ne:()=>Ur,pd:()=>on,q4:()=>dt,r3:()=>Jt,ru:()=>Ve,tV:()=>W,uI:()=>te,vZ:()=>Li,w1:()=>lt,xO:()=>Qn,xb:()=>Gn,z$:()=>Fe,zd:()=>zn});const se=function(oe){const j=[];let z=0;for(let $=0;$<oe.length;$++){let H=oe.charCodeAt($);H<128?j[z++]=H:H<2048?(j[z++]=H>>6|192,j[z++]=63&H|128):55296==(64512&H)&&$+1<oe.length&&56320==(64512&oe.charCodeAt($+1))?(H=65536+((1023&H)<<10)+(1023&oe.charCodeAt(++$)),j[z++]=H>>18|240,j[z++]=H>>12&63|128,j[z++]=H>>6&63|128,j[z++]=63&H|128):(j[z++]=H>>12|224,j[z++]=H>>6&63|128,j[z++]=63&H|128)}return j},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,j){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let H=0;H<oe.length;H+=3){const fe=oe[H],We=H+1<oe.length,ut=We?oe[H+1]:0,Gt=H+2<oe.length,Qt=Gt?oe[H+2]:0;let Sn=(15&ut)<<2|Qt>>6,Br=63&Qt;Gt||(Br=64,We||(Sn=64)),$.push(z[fe>>2],z[(3&fe)<<4|ut>>4],z[Sn],z[Br])}return $.join("")},encodeString(oe,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(oe):this.encodeByteArray(se(oe),j)},decodeString(oe,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(oe):function(oe){const j=[];let z=0,$=0;for(;z<oe.length;){const H=oe[z++];if(H<128)j[$++]=String.fromCharCode(H);else if(H>191&&H<224){const fe=oe[z++];j[$++]=String.fromCharCode((31&H)<<6|63&fe)}else if(H>239&&H<365){const Gt=((7&H)<<18|(63&oe[z++])<<12|(63&oe[z++])<<6|63&oe[z++])-65536;j[$++]=String.fromCharCode(55296+(Gt>>10)),j[$++]=String.fromCharCode(56320+(1023&Gt))}else{const fe=oe[z++],We=oe[z++];j[$++]=String.fromCharCode((15&H)<<12|(63&fe)<<6|63&We)}}return j.join("")}(this.decodeStringToByteArray(oe,j))},decodeStringToByteArray(oe,j){this.init_();const z=j?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let H=0;H<oe.length;){const fe=z[oe.charAt(H++)],ut=H<oe.length?z[oe.charAt(H)]:0;++H;const Qt=H<oe.length?z[oe.charAt(H)]:64;++H;const jt=H<oe.length?z[oe.charAt(H)]:64;if(++H,null==fe||null==ut||null==Qt||null==jt)throw new pe;$.push(fe<<2|ut>>4),64!==Qt&&($.push(ut<<4&240|Qt>>2),64!==jt&&$.push(Qt<<6&192|jt))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _e=function(oe){return function(oe){const j=se(oe);return ie.encodeByteArray(j,!0)}(oe).replace(/\./g,"")},W=function(oe){try{return ie.decodeString(oe,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function ye(oe,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return j}for(const z in j)!j.hasOwnProperty(z)||!Ke(z)||(oe[z]=ye(oe[z],j[z]));return oe}function Ke(oe){return"__proto__"!==oe}const tt=()=>{try{return function Le(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const oe=process.env.__FIREBASE_DEFAULTS__;return oe?JSON.parse(oe):void 0})()||(()=>{if(typeof document>"u")return;let oe;try{oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=oe&&W(oe[1]);return j&&JSON.parse(j)})()}catch(oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${oe}`)}},dt=oe=>{var j,z;return null===(z=null===(j=tt())||void 0===j?void 0:j.emulatorHosts)||void 0===z?void 0:z[oe]},Pt=oe=>{const j=dt(oe);if(!j)return;const z=j.lastIndexOf(":");if(z<=0||z+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const $=parseInt(j.substring(z+1),10);return"["===j[0]?[j.substring(1,z-1),$]:[j.substring(0,z),$]},be=()=>{var oe;return null===(oe=tt())||void 0===oe?void 0:oe.config},xe=oe=>{var j;return null===(j=tt())||void 0===j?void 0:j[`_${oe}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,z)=>{this.resolve=j,this.reject=z})}wrapCallback(j){return(z,$)=>{z?this.reject(z):this.resolve($),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(z):j(z,$))}}}function Ue(oe,j){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=j||"demo-project",H=oe.iat||0,fe=oe.sub||oe.user_id;if(!fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:H,exp:H+3600,auth_time:H,sub:fe,user_id:fe,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(We)),""].join(".")}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function qt(){var oe;const j=null===(oe=tt())||void 0===oe?void 0:oe.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Be(){return"object"==typeof self&&self.self===self}function Ve(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){const oe=Fe();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function de(){try{return"object"==typeof indexedDB}catch{return!1}}function ve(){return new Promise((oe,j)=>{try{let z=!0;const $="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open($);H.onsuccess=()=>{H.result.close(),z||self.indexedDB.deleteDatabase($),oe(!0)},H.onupgradeneeded=()=>{z=!1},H.onerror=()=>{var fe;j((null===(fe=H.error)||void 0===fe?void 0:fe.message)||"")}}catch(z){j(z)}})}class Ne extends Error{constructor(j,z,$){super(z),this.code=j,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(j,z,$){this.service=j,this.serviceName=z,this.errors=$}create(j,...z){const $=z[0]||{},H=`${this.service}/${j}`,fe=this.errors[j],We=fe?function Ot(oe,j){return oe.replace(cn,(z,$)=>{const H=j[$];return null!=H?String(H):`<${$}?>`})}(fe,$):"Error";return new Ne(H,`${this.serviceName}: ${We} (${H}).`,$)}}const cn=/\{\$([^}]+)}/g;function Jt(oe,j){return Object.prototype.hasOwnProperty.call(oe,j)}function Gn(oe){for(const j in oe)if(Object.prototype.hasOwnProperty.call(oe,j))return!1;return!0}function Li(oe,j){if(oe===j)return!0;const z=Object.keys(oe),$=Object.keys(j);for(const H of z){if(!$.includes(H))return!1;const fe=oe[H],We=j[H];if(pn(fe)&&pn(We)){if(!Li(fe,We))return!1}else if(fe!==We)return!1}for(const H of $)if(!z.includes(H))return!1;return!0}function pn(oe){return null!==oe&&"object"==typeof oe}function Qn(oe){const j=[];for(const[z,$]of Object.entries(oe))Array.isArray($)?$.forEach(H=>{j.push(encodeURIComponent(z)+"="+encodeURIComponent(H))}):j.push(encodeURIComponent(z)+"="+encodeURIComponent($));return j.length?"&"+j.join("&"):""}function zn(oe){const j={};return oe.replace(/^\?/,"").split("&").forEach($=>{if($){const[H,fe]=$.split("=");j[decodeURIComponent(H)]=decodeURIComponent(fe)}}),j}function on(oe){const j=oe.indexOf("?");if(!j)return"";const z=oe.indexOf("#",j);return oe.substring(j,z>0?z:void 0)}function Ur(oe,j){const z=new Ar(oe,j);return z.subscribe.bind(z)}class Ar{constructor(j,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{j(this)}).catch($=>{this.error($)})}next(j){this.forEachObserver(z=>{z.next(j)})}error(j){this.forEachObserver(z=>{z.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,z,$){let H;if(void 0===j&&void 0===z&&void 0===$)throw new Error("Missing Observer.");H=function Cr(oe,j){if("object"!=typeof oe||null===oe)return!1;for(const z of j)if(z in oe&&"function"==typeof oe[z])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:z,complete:$},void 0===H.next&&(H.next=bn),void 0===H.error&&(H.error=bn),void 0===H.complete&&(H.complete=bn);const fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch{}}),this.observers.push(H),fe}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,j)}sendOne(j,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{z(this.observers[j])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bn(){}function rs(oe){return oe&&oe._delegate?oe._delegate:oe}},5619:(Ct,Se,L)=>{L.d(Se,{X:()=>q});var m=L(8645);class q extends m.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const ae=super._subscribe(se);return!ae.closed&&se.next(this._value),ae}getValue(){const{hasError:se,thrownError:ae,_value:ie}=this;if(se)throw ae;return this._throwIfClosed(),ie}next(se){super.next(this._value=se)}}},5592:(Ct,Se,L)=>{L.d(Se,{y:()=>re});var m=L(305),q=L(7394),he=L(4850),se=L(8407),ae=L(2653),ie=L(4674),pe=L(1441);let re=(()=>{class ye{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const He=new ye;return He.source=this,He.operator=Le,He}subscribe(Le,He,it){const Dt=function ne(ye){return ye&&ye instanceof m.Lv||function W(ye){return ye&&(0,ie.m)(ye.next)&&(0,ie.m)(ye.error)&&(0,ie.m)(ye.complete)}(ye)&&(0,q.Nn)(ye)}(Le)?Le:new m.Hp(Le,He,it);return(0,pe.x)(()=>{const{operator:tt,source:dt}=this;Dt.add(tt?tt.call(Dt,dt):dt?this._subscribe(Dt):this._trySubscribe(Dt))}),Dt}_trySubscribe(Le){try{return this._subscribe(Le)}catch(He){Le.error(He)}}forEach(Le,He){return new(He=_e(He))((it,Dt)=>{const tt=new m.Hp({next:dt=>{try{Le(dt)}catch(Pt){Dt(Pt),tt.unsubscribe()}},error:Dt,complete:it});this.subscribe(tt)})}_subscribe(Le){var He;return null===(He=this.source)||void 0===He?void 0:He.subscribe(Le)}[he.L](){return this}pipe(...Le){return(0,se.U)(Le)(this)}toPromise(Le){return new(Le=_e(Le))((He,it)=>{let Dt;this.subscribe(tt=>Dt=tt,tt=>it(tt),()=>He(Dt))})}}return ye.create=Ke=>new ye(Ke),ye})();function _e(ye){var Ke;return null!==(Ke=ye??ae.config.Promise)&&void 0!==Ke?Ke:Promise}},8645:(Ct,Se,L)=>{L.d(Se,{x:()=>pe});var m=L(5592),q=L(7394);const se=(0,L(2306).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=L(9039),ie=L(1441);let pe=(()=>{class _e extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const ye=new re(this,this);return ye.operator=ne,ye}_throwIfClosed(){if(this.closed)throw new se}next(ne){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(ne)}})}error(ne){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:ye}=this;for(;ye.length;)ye.shift().error(ne)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:ye,isStopped:Ke,observers:Le}=this;return ye||Ke?q.Lc:(this.currentObservers=null,Le.push(ne),new q.w0(()=>{this.currentObservers=null,(0,ae.P)(Le,ne)}))}_checkFinalizedStatuses(ne){const{hasError:ye,thrownError:Ke,isStopped:Le}=this;ye?ne.error(Ke):Le&&ne.complete()}asObservable(){const ne=new m.y;return ne.source=this,ne}}return _e.create=(W,ne)=>new re(W,ne),_e})();class re extends pe{constructor(W,ne){super(),this.destination=W,this.source=ne}next(W){var ne,ye;null===(ye=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===ye||ye.call(ne,W)}error(W){var ne,ye;null===(ye=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===ye||ye.call(ne,W)}complete(){var W,ne;null===(ne=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===ne||ne.call(W)}_subscribe(W){var ne,ye;return null!==(ye=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(W))&&void 0!==ye?ye:q.Lc}}},305:(Ct,Se,L)=>{L.d(Se,{Hp:()=>it,Lv:()=>ye});var m=L(4674),q=L(7394),he=L(2653),se=L(3894),ae=L(2420);const ie=_e("C",void 0,void 0);function _e(be,xe,$e){return{kind:be,value:xe,error:$e}}var W=L(7599),ne=L(1441);class ye extends q.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,q.Nn)(xe)&&xe.add(this)):this.destination=Pt}static create(xe,$e,Ue){return new it(xe,$e,Ue)}next(xe){this.isStopped?dt(function re(be){return _e("N",be,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?dt(function pe(be){return _e("E",void 0,be)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?dt(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Le(be,xe){return Ke.call(be,xe)}class He{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:$e}=this;if($e.next)try{$e.next(xe)}catch(Ue){Dt(Ue)}}error(xe){const{partialObserver:$e}=this;if($e.error)try{$e.error(xe)}catch(Ue){Dt(Ue)}else Dt(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch($e){Dt($e)}}}class it extends ye{constructor(xe,$e,Ue){let Fe;if(super(),(0,m.m)(xe)||!xe)Fe={next:xe??void 0,error:$e??void 0,complete:Ue??void 0};else{let te;this&&he.config.useDeprecatedNextContext?(te=Object.create(xe),te.unsubscribe=()=>this.unsubscribe(),Fe={next:xe.next&&Le(xe.next,te),error:xe.error&&Le(xe.error,te),complete:xe.complete&&Le(xe.complete,te)}):Fe=xe}this.destination=new He(Fe)}}function Dt(be){he.config.useDeprecatedSynchronousErrorHandling?(0,ne.O)(be):(0,se.h)(be)}function dt(be,xe){const{onStoppedNotification:$e}=he.config;$e&&W.z.setTimeout(()=>$e(be,xe))}const Pt={closed:!0,next:ae.Z,error:function tt(be){throw be},complete:ae.Z}},7394:(Ct,Se,L)=>{L.d(Se,{Lc:()=>ie,w0:()=>ae,Nn:()=>pe});var m=L(4674);const he=(0,L(2306).d)(_e=>function(ne){_e(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((ye,Ke)=>`${Ke+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var se=L(9039);class ae{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Le of ne)Le.remove(this);else ne.remove(this);const{initialTeardown:ye}=this;if((0,m.m)(ye))try{ye()}catch(Le){W=Le instanceof he?Le.errors:[Le]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Le of Ke)try{re(Le)}catch(He){W=W??[],He instanceof he?W=[...W,...He.errors]:W.push(He)}}if(W)throw new he(W)}}add(W){var ne;if(W&&W!==this)if(this.closed)re(W);else{if(W instanceof ae){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(W)}}_hasParent(W){const{_parentage:ne}=this;return ne===W||Array.isArray(ne)&&ne.includes(W)}_addParent(W){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(W),ne):ne?[ne,W]:W}_removeParent(W){const{_parentage:ne}=this;ne===W?this._parentage=null:Array.isArray(ne)&&(0,se.P)(ne,W)}remove(W){const{_finalizers:ne}=this;ne&&(0,se.P)(ne,W),W instanceof ae&&W._removeParent(this)}}ae.EMPTY=(()=>{const _e=new ae;return _e.closed=!0,_e})();const ie=ae.EMPTY;function pe(_e){return _e instanceof ae||_e&&"closed"in _e&&(0,m.m)(_e.remove)&&(0,m.m)(_e.add)&&(0,m.m)(_e.unsubscribe)}function re(_e){(0,m.m)(_e)?_e():_e.unsubscribe()}},2653:(Ct,Se,L)=>{L.d(Se,{config:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Ct,Se,L)=>{L.d(Se,{a:()=>W});var m=L(5592),q=L(7453),he=L(2459),se=L(2737),ae=L(7400),ie=L(4564),pe=L(2714),re=L(8251),_e=L(7103);function W(...Ke){const Le=(0,ie.yG)(Ke),He=(0,ie.jO)(Ke),{args:it,keys:Dt}=(0,q.D)(Ke);if(0===it.length)return(0,he.D)([],Le);const tt=new m.y(function ne(Ke,Le,He=se.y){return it=>{ye(Le,()=>{const{length:Dt}=Ke,tt=new Array(Dt);let dt=Dt,Pt=Dt;for(let be=0;be<Dt;be++)ye(Le,()=>{const xe=(0,he.D)(Ke[be],Le);let $e=!1;xe.subscribe((0,re.x)(it,Ue=>{tt[be]=Ue,$e||($e=!0,Pt--),Pt||it.next(He(tt.slice()))},()=>{--dt||it.complete()}))},it)},it)}}(it,Le,Dt?dt=>(0,pe.n)(Dt,dt):se.y));return He?tt.pipe((0,ae.Z)(He)):tt}function ye(Ke,Le,He){Ke?(0,_e.f)(He,Ke,Le):Le()}},5211:(Ct,Se,L)=>{L.d(Se,{z:()=>ae});var m=L(7537),he=L(4564),se=L(2459);function ae(...ie){return function q(){return(0,m.J)(1)}()((0,se.D)(ie,(0,he.yG)(ie)))}},6232:(Ct,Se,L)=>{L.d(Se,{E:()=>q});const q=new(L(5592).y)(ae=>ae.complete())},2459:(Ct,Se,L)=>{L.d(Se,{D:()=>xe});var m=L(4829),q=L(3093),he=L(5137),ie=L(5592),re=L(4971),_e=L(4674),W=L(7103);function ye($e,Ue){if(!$e)throw new Error("Iterable cannot be null");return new ie.y(Fe=>{(0,W.f)(Fe,Ue,()=>{const te=$e[Symbol.asyncIterator]();(0,W.f)(Fe,Ue,()=>{te.next().then(qt=>{qt.done?Fe.complete():Fe.next(qt.value)})},0,!0)})})}var Ke=L(8382),Le=L(4026),He=L(4266),it=L(3664),Dt=L(5726),tt=L(9853),dt=L(541);function xe($e,Ue){return Ue?function be($e,Ue){if(null!=$e){if((0,Ke.c)($e))return function se($e,Ue){return(0,m.Xf)($e).pipe((0,he.R)(Ue),(0,q.Q)(Ue))}($e,Ue);if((0,He.z)($e))return function pe($e,Ue){return new ie.y(Fe=>{let te=0;return Ue.schedule(function(){te===$e.length?Fe.complete():(Fe.next($e[te++]),Fe.closed||this.schedule())})})}($e,Ue);if((0,Le.t)($e))return function ae($e,Ue){return(0,m.Xf)($e).pipe((0,he.R)(Ue),(0,q.Q)(Ue))}($e,Ue);if((0,Dt.D)($e))return ye($e,Ue);if((0,it.T)($e))return function ne($e,Ue){return new ie.y(Fe=>{let te;return(0,W.f)(Fe,Ue,()=>{te=$e[re.h](),(0,W.f)(Fe,Ue,()=>{let qt,Be;try{({value:qt,done:Be}=te.next())}catch(Ve){return void Fe.error(Ve)}Be?Fe.complete():Fe.next(qt)},0,!0)}),()=>(0,_e.m)(te?.return)&&te.return()})}($e,Ue);if((0,dt.L)($e))return function Pt($e,Ue){return ye((0,dt.Q)($e),Ue)}($e,Ue)}throw(0,tt.z)($e)}($e,Ue):(0,m.Xf)($e)}},4829:(Ct,Se,L)=>{L.d(Se,{Xf:()=>Ke});var m=L(7582),q=L(4266),he=L(4026),se=L(5592),ae=L(8382),ie=L(5726),pe=L(9853),re=L(3664),_e=L(541),W=L(4674),ne=L(3894),ye=L(4850);function Ke(be){if(be instanceof se.y)return be;if(null!=be){if((0,ae.c)(be))return function Le(be){return new se.y(xe=>{const $e=be[ye.L]();if((0,W.m)($e.subscribe))return $e.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,q.z)(be))return function He(be){return new se.y(xe=>{for(let $e=0;$e<be.length&&!xe.closed;$e++)xe.next(be[$e]);xe.complete()})}(be);if((0,he.t)(be))return function it(be){return new se.y(xe=>{be.then($e=>{xe.closed||(xe.next($e),xe.complete())},$e=>xe.error($e)).then(null,ne.h)})}(be);if((0,ie.D)(be))return tt(be);if((0,re.T)(be))return function Dt(be){return new se.y(xe=>{for(const $e of be)if(xe.next($e),xe.closed)return;xe.complete()})}(be);if((0,_e.L)(be))return function dt(be){return tt((0,_e.Q)(be))}(be)}throw(0,pe.z)(be)}function tt(be){return new se.y(xe=>{(function Pt(be,xe){var $e,Ue,Fe,te;return(0,m.mG)(this,void 0,void 0,function*(){try{for($e=(0,m.KL)(be);!(Ue=yield $e.next()).done;)if(xe.next(Ue.value),xe.closed)return}catch(qt){Fe={error:qt}}finally{try{Ue&&!Ue.done&&(te=$e.return)&&(yield te.call($e))}finally{if(Fe)throw Fe.error}}xe.complete()})})(be,xe).catch($e=>xe.error($e))})}},2096:(Ct,Se,L)=>{L.d(Se,{of:()=>he});var m=L(4564),q=L(2459);function he(...se){const ae=(0,m.yG)(se);return(0,q.D)(se,ae)}},8251:(Ct,Se,L)=>{L.d(Se,{x:()=>q});var m=L(305);function q(se,ae,ie,pe,re){return new he(se,ae,ie,pe,re)}class he extends m.Lv{constructor(ae,ie,pe,re,_e,W){super(ae),this.onFinalize=_e,this.shouldUnsubscribe=W,this._next=ie?function(ne){try{ie(ne)}catch(ye){ae.error(ye)}}:super._next,this._error=re?function(ne){try{re(ne)}catch(ye){ae.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(ne){ae.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},2181:(Ct,Se,L)=>{L.d(Se,{h:()=>he});var m=L(9360),q=L(8251);function he(se,ae){return(0,m.e)((ie,pe)=>{let re=0;ie.subscribe((0,q.x)(pe,_e=>se.call(ae,_e,re++)&&pe.next(_e)))})}},7398:(Ct,Se,L)=>{L.d(Se,{U:()=>he});var m=L(9360),q=L(8251);function he(se,ae){return(0,m.e)((ie,pe)=>{let re=0;ie.subscribe((0,q.x)(pe,_e=>{pe.next(se.call(ae,_e,re++))}))})}},7537:(Ct,Se,L)=>{L.d(Se,{J:()=>he});var m=L(1631),q=L(2737);function he(se=1/0){return(0,m.z)(q.y,se)}},1631:(Ct,Se,L)=>{L.d(Se,{z:()=>re});var m=L(7398),q=L(4829),he=L(9360),se=L(7103),ae=L(8251),pe=L(4674);function re(_e,W,ne=1/0){return(0,pe.m)(W)?re((ye,Ke)=>(0,m.U)((Le,He)=>W(ye,Le,Ke,He))((0,q.Xf)(_e(ye,Ke))),ne):("number"==typeof W&&(ne=W),(0,he.e)((ye,Ke)=>function ie(_e,W,ne,ye,Ke,Le,He,it){const Dt=[];let tt=0,dt=0,Pt=!1;const be=()=>{Pt&&!Dt.length&&!tt&&W.complete()},xe=Ue=>tt<ye?$e(Ue):Dt.push(Ue),$e=Ue=>{Le&&W.next(Ue),tt++;let Fe=!1;(0,q.Xf)(ne(Ue,dt++)).subscribe((0,ae.x)(W,te=>{Ke?.(te),Le?xe(te):W.next(te)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(tt--;Dt.length&&tt<ye;){const te=Dt.shift();He?(0,se.f)(W,He,()=>$e(te)):$e(te)}be()}catch(te){W.error(te)}}))};return _e.subscribe((0,ae.x)(W,xe,()=>{Pt=!0,be()})),()=>{it?.()}}(ye,Ke,_e,ne)))}},3093:(Ct,Se,L)=>{L.d(Se,{Q:()=>se});var m=L(7103),q=L(9360),he=L(8251);function se(ae,ie=0){return(0,q.e)((pe,re)=>{pe.subscribe((0,he.x)(re,_e=>(0,m.f)(re,ae,()=>re.next(_e),ie),()=>(0,m.f)(re,ae,()=>re.complete(),ie),_e=>(0,m.f)(re,ae,()=>re.error(_e),ie)))})}},3020:(Ct,Se,L)=>{L.d(Se,{B:()=>ae});var m=L(4829),q=L(8645),he=L(305),se=L(9360);function ae(pe={}){const{connector:re=(()=>new q.x),resetOnError:_e=!0,resetOnComplete:W=!0,resetOnRefCountZero:ne=!0}=pe;return ye=>{let Ke,Le,He,it=0,Dt=!1,tt=!1;const dt=()=>{Le?.unsubscribe(),Le=void 0},Pt=()=>{dt(),Ke=He=void 0,Dt=tt=!1},be=()=>{const xe=Ke;Pt(),xe?.unsubscribe()};return(0,se.e)((xe,$e)=>{it++,!tt&&!Dt&&dt();const Ue=He=He??re();$e.add(()=>{it--,0===it&&!tt&&!Dt&&(Le=ie(be,ne))}),Ue.subscribe($e),!Ke&&it>0&&(Ke=new he.Hp({next:Fe=>Ue.next(Fe),error:Fe=>{tt=!0,dt(),Le=ie(Pt,_e,Fe),Ue.error(Fe)},complete:()=>{Dt=!0,dt(),Le=ie(Pt,W),Ue.complete()}}),(0,m.Xf)(xe).subscribe(Ke))})(ye)}}function ie(pe,re,..._e){if(!0===re)return void pe();if(!1===re)return;const W=new he.Hp({next:()=>{W.unsubscribe(),pe()}});return(0,m.Xf)(re(..._e)).subscribe(W)}},7921:(Ct,Se,L)=>{L.d(Se,{O:()=>se});var m=L(5211),q=L(4564),he=L(9360);function se(...ae){const ie=(0,q.yG)(ae);return(0,he.e)((pe,re)=>{(ie?(0,m.z)(ae,pe,ie):(0,m.z)(ae,pe)).subscribe(re)})}},5137:(Ct,Se,L)=>{L.d(Se,{R:()=>q});var m=L(9360);function q(he,se=0){return(0,m.e)((ae,ie)=>{ie.add(he.schedule(()=>ae.subscribe(ie),se))})}},4664:(Ct,Se,L)=>{L.d(Se,{w:()=>se});var m=L(4829),q=L(9360),he=L(8251);function se(ae,ie){return(0,q.e)((pe,re)=>{let _e=null,W=0,ne=!1;const ye=()=>ne&&!_e&&re.complete();pe.subscribe((0,he.x)(re,Ke=>{_e?.unsubscribe();let Le=0;const He=W++;(0,m.Xf)(ae(Ke,He)).subscribe(_e=(0,he.x)(re,it=>re.next(ie?ie(Ke,it,He,Le++):it),()=>{_e=null,ye()}))},()=>{ne=!0,ye()}))})}},8180:(Ct,Se,L)=>{L.d(Se,{q:()=>se});var m=L(6232),q=L(9360),he=L(8251);function se(ae){return ae<=0?()=>m.E:(0,q.e)((ie,pe)=>{let re=0;ie.subscribe((0,he.x)(pe,_e=>{++re<=ae&&(pe.next(_e),ae<=re&&pe.complete())}))})}},9773:(Ct,Se,L)=>{L.d(Se,{R:()=>ae});var m=L(9360),q=L(8251),he=L(4829),se=L(2420);function ae(ie){return(0,m.e)((pe,re)=>{(0,he.Xf)(ie).subscribe((0,q.x)(re,()=>re.complete(),se.Z)),!re.closed&&pe.subscribe(re)})}},9397:(Ct,Se,L)=>{L.d(Se,{b:()=>ae});var m=L(4674),q=L(9360),he=L(8251),se=L(2737);function ae(ie,pe,re){const _e=(0,m.m)(ie)||pe||re?{next:ie,error:pe,complete:re}:ie;return _e?(0,q.e)((W,ne)=>{var ye;null===(ye=_e.subscribe)||void 0===ye||ye.call(_e);let Ke=!0;W.subscribe((0,he.x)(ne,Le=>{var He;null===(He=_e.next)||void 0===He||He.call(_e,Le),ne.next(Le)},()=>{var Le;Ke=!1,null===(Le=_e.complete)||void 0===Le||Le.call(_e),ne.complete()},Le=>{var He;Ke=!1,null===(He=_e.error)||void 0===He||He.call(_e,Le),ne.error(Le)},()=>{var Le,He;Ke&&(null===(Le=_e.unsubscribe)||void 0===Le||Le.call(_e)),null===(He=_e.finalize)||void 0===He||He.call(_e)}))}):se.y}},1954:(Ct,Se,L)=>{L.d(Se,{o:()=>ae});var m=L(7394);class q extends m.w0{constructor(pe,re){super()}schedule(pe,re=0){return this}}const he={setInterval(ie,pe,...re){const{delegate:_e}=he;return _e?.setInterval?_e.setInterval(ie,pe,...re):setInterval(ie,pe,...re)},clearInterval(ie){const{delegate:pe}=he;return(pe?.clearInterval||clearInterval)(ie)},delegate:void 0};var se=L(9039);class ae extends q{constructor(pe,re){super(pe,re),this.scheduler=pe,this.work=re,this.pending=!1}schedule(pe,re=0){var _e;if(this.closed)return this;this.state=pe;const W=this.id,ne=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(ne,W,re)),this.pending=!0,this.delay=re,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(ne,this.id,re),this}requestAsyncId(pe,re,_e=0){return he.setInterval(pe.flush.bind(pe,this),_e)}recycleAsyncId(pe,re,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return re;null!=re&&he.clearInterval(re)}execute(pe,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(pe,re);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,re){let W,_e=!1;try{this.work(pe)}catch(ne){_e=!0,W=ne||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:pe,scheduler:re}=this,{actions:_e}=re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(_e,this),null!=pe&&(this.id=this.recycleAsyncId(re,pe,null)),this.delay=null,super.unsubscribe()}}}},2631:(Ct,Se,L)=>{L.d(Se,{v:()=>he});var m=L(4552);class q{constructor(ae,ie=q.now){this.schedulerActionCtor=ae,this.now=ie}schedule(ae,ie=0,pe){return new this.schedulerActionCtor(this,ae).schedule(pe,ie)}}q.now=m.l.now;class he extends q{constructor(ae,ie=q.now){super(ae,ie),this.actions=[],this._active=!1}flush(ae){const{actions:ie}=this;if(this._active)return void ie.push(ae);let pe;this._active=!0;do{if(pe=ae.execute(ae.state,ae.delay))break}while(ae=ie.shift());if(this._active=!1,pe){for(;ae=ie.shift();)ae.unsubscribe();throw pe}}}},6321:(Ct,Se,L)=>{L.d(Se,{z:()=>he});var m=L(1954);const he=new(L(2631).v)(m.o)},4552:(Ct,Se,L)=>{L.d(Se,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},7599:(Ct,Se,L)=>{L.d(Se,{z:()=>m});const m={setTimeout(q,he,...se){const{delegate:ae}=m;return ae?.setTimeout?ae.setTimeout(q,he,...se):setTimeout(q,he,...se)},clearTimeout(q){const{delegate:he}=m;return(he?.clearTimeout||clearTimeout)(q)},delegate:void 0}},4971:(Ct,Se,L)=>{L.d(Se,{h:()=>q});const q=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Ct,Se,L)=>{L.d(Se,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Ct,Se,L)=>{L.d(Se,{_6:()=>ie,jO:()=>se,yG:()=>ae});var m=L(4674);function he(pe){return pe[pe.length-1]}function se(pe){return(0,m.m)(he(pe))?pe.pop():void 0}function ae(pe){return function q(pe){return pe&&(0,m.m)(pe.schedule)}(he(pe))?pe.pop():void 0}function ie(pe,re){return"number"==typeof he(pe)?pe.pop():re}},7453:(Ct,Se,L)=>{L.d(Se,{D:()=>ae});const{isArray:m}=Array,{getPrototypeOf:q,prototype:he,keys:se}=Object;function ae(pe){if(1===pe.length){const re=pe[0];if(m(re))return{args:re,keys:null};if(function ie(pe){return pe&&"object"==typeof pe&&q(pe)===he}(re)){const _e=se(re);return{args:_e.map(W=>re[W]),keys:_e}}}return{args:pe,keys:null}}},9039:(Ct,Se,L)=>{function m(q,he){if(q){const se=q.indexOf(he);0<=se&&q.splice(se,1)}}L.d(Se,{P:()=>m})},2306:(Ct,Se,L)=>{function m(q){const se=q(ae=>{Error.call(ae),ae.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}L.d(Se,{d:()=>m})},2714:(Ct,Se,L)=>{function m(q,he){return q.reduce((se,ae,ie)=>(se[ae]=he[ie],se),{})}L.d(Se,{n:()=>m})},1441:(Ct,Se,L)=>{L.d(Se,{O:()=>se,x:()=>he});var m=L(2653);let q=null;function he(ae){if(m.config.useDeprecatedSynchronousErrorHandling){const ie=!q;if(ie&&(q={errorThrown:!1,error:null}),ae(),ie){const{errorThrown:pe,error:re}=q;if(q=null,pe)throw re}}else ae()}function se(ae){m.config.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=ae)}},7103:(Ct,Se,L)=>{function m(q,he,se,ae=0,ie=!1){const pe=he.schedule(function(){se(),ie?q.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(q.add(pe),!ie)return pe}L.d(Se,{f:()=>m})},2737:(Ct,Se,L)=>{function m(q){return q}L.d(Se,{y:()=>m})},4266:(Ct,Se,L)=>{L.d(Se,{z:()=>m});const m=q=>q&&"number"==typeof q.length&&"function"!=typeof q},5726:(Ct,Se,L)=>{L.d(Se,{D:()=>q});var m=L(4674);function q(he){return Symbol.asyncIterator&&(0,m.m)(he?.[Symbol.asyncIterator])}},4674:(Ct,Se,L)=>{function m(q){return"function"==typeof q}L.d(Se,{m:()=>m})},8382:(Ct,Se,L)=>{L.d(Se,{c:()=>he});var m=L(4850),q=L(4674);function he(se){return(0,q.m)(se[m.L])}},3664:(Ct,Se,L)=>{L.d(Se,{T:()=>he});var m=L(4971),q=L(4674);function he(se){return(0,q.m)(se?.[m.h])}},4026:(Ct,Se,L)=>{L.d(Se,{t:()=>q});var m=L(4674);function q(he){return(0,m.m)(he?.then)}},541:(Ct,Se,L)=>{L.d(Se,{L:()=>se,Q:()=>he});var m=L(7582),q=L(4674);function he(ae){return(0,m.FC)(this,arguments,function*(){const pe=ae.getReader();try{for(;;){const{value:re,done:_e}=yield(0,m.qq)(pe.read());if(_e)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(re)}}finally{pe.releaseLock()}})}function se(ae){return(0,q.m)(ae?.getReader)}},9360:(Ct,Se,L)=>{L.d(Se,{A:()=>q,e:()=>he});var m=L(4674);function q(se){return(0,m.m)(se?.lift)}function he(se){return ae=>{if(q(ae))return ae.lift(function(ie){try{return se(ie,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Ct,Se,L)=>{L.d(Se,{Z:()=>se});var m=L(7398);const{isArray:q}=Array;function se(ae){return(0,m.U)(ie=>function he(ae,ie){return q(ie)?ae(...ie):ae(ie)}(ae,ie))}},2420:(Ct,Se,L)=>{function m(){}L.d(Se,{Z:()=>m})},8407:(Ct,Se,L)=>{L.d(Se,{U:()=>he,z:()=>q});var m=L(2737);function q(...se){return he(se)}function he(se){return 0===se.length?m.y:1===se.length?se[0]:function(ie){return se.reduce((pe,re)=>re(pe),ie)}}},3894:(Ct,Se,L)=>{L.d(Se,{h:()=>he});var m=L(2653),q=L(7599);function he(se){q.z.setTimeout(()=>{const{onUnhandledError:ae}=m.config;if(!ae)throw se;ae(se)})}},9853:(Ct,Se,L)=>{function m(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Se,{z:()=>m})},6814:(Ct,Se,L)=>{L.d(Se,{Do:()=>it,EM:()=>gr,HT:()=>se,JF:()=>io,JJ:()=>Jn,K0:()=>ie,Mx:()=>cr,NF:()=>Rn,O5:()=>Rr,OU:()=>Rs,PM:()=>Ei,S$:()=>Ke,V_:()=>re,Ye:()=>Dt,Zd:()=>js,b0:()=>He,bD:()=>Ms,ez:()=>Ps,mk:()=>vi,q:()=>he,sg:()=>Ir,uU:()=>Vi,w_:()=>ae});var m=L(9291);let q=null;function he(){return q}function se(T){q||(q=T)}class ae{}const ie=new m.OlP("DocumentToken");let pe=(()=>{class T{historyGo(S){throw new Error("Not implemented")}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=m.Yz7({token:T,factory:function(){return(0,m.f3M)(_e)},providedIn:"platform"})}return T})();const re=new m.OlP("Location Initialized");let _e=(()=>{class T extends pe{constructor(){super(),this._doc=(0,m.f3M)(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return he().getBaseHref(this._doc)}onPopState(S){const x=he().getGlobalEventTarget(this._doc,"window");return x.addEventListener("popstate",S,!1),()=>x.removeEventListener("popstate",S)}onHashChange(S){const x=he().getGlobalEventTarget(this._doc,"window");return x.addEventListener("hashchange",S,!1),()=>x.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,x,K){this._history.pushState(S,x,K)}replaceState(S,x,K){this._history.replaceState(S,x,K)}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=m.Yz7({token:T,factory:function(){return new T},providedIn:"platform"})}return T})();function W(T,F){if(0==T.length)return F;if(0==F.length)return T;let S=0;return T.endsWith("/")&&S++,F.startsWith("/")&&S++,2==S?T+F.substring(1):1==S?T+F:T+"/"+F}function ne(T){const F=T.match(/#|\?|$/),S=F&&F.index||T.length;return T.slice(0,S-("/"===T[S-1]?1:0))+T.slice(S)}function ye(T){return T&&"?"!==T[0]?"?"+T:T}let Ke=(()=>{class T{historyGo(S){throw new Error("Not implemented")}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=m.Yz7({token:T,factory:function(){return(0,m.f3M)(He)},providedIn:"root"})}return T})();const Le=new m.OlP("appBaseHref");let He=(()=>{class T extends Ke{constructor(S,x){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=x??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return W(this._baseHref,S)}path(S=!1){const x=this._platformLocation.pathname+ye(this._platformLocation.search),K=this._platformLocation.hash;return K&&S?`${x}${K}`:x}pushState(S,x,K,Te){const Oe=this.prepareExternalUrl(K+ye(Te));this._platformLocation.pushState(S,x,Oe)}replaceState(S,x,K,Te){const Oe=this.prepareExternalUrl(K+ye(Te));this._platformLocation.replaceState(S,x,Oe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static#e=this.\u0275fac=function(x){return new(x||T)(m.LFG(pe),m.LFG(Le,8))};static#t=this.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),it=(()=>{class T extends Ke{constructor(S,x){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=x&&(this._baseHref=x)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let x=this._platformLocation.hash;return null==x&&(x="#"),x.length>0?x.substring(1):x}prepareExternalUrl(S){const x=W(this._baseHref,S);return x.length>0?"#"+x:x}pushState(S,x,K,Te){let Oe=this.prepareExternalUrl(K+ye(Te));0==Oe.length&&(Oe=this._platformLocation.pathname),this._platformLocation.pushState(S,x,Oe)}replaceState(S,x,K,Te){let Oe=this.prepareExternalUrl(K+ye(Te));0==Oe.length&&(Oe=this._platformLocation.pathname),this._platformLocation.replaceState(S,x,Oe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static#e=this.\u0275fac=function(x){return new(x||T)(m.LFG(pe),m.LFG(Le,8))};static#t=this.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac})}return T})(),Dt=(()=>{class T{constructor(S){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const x=this._locationStrategy.getBaseHref();this._basePath=function be(T){if(new RegExp("^(https?:)?//").test(T)){const[,S]=T.split(/\/\/[^\/]+/);return S}return T}(ne(Pt(x))),this._locationStrategy.onPopState(K=>{this._subject.emit({url:this.path(!0),pop:!0,state:K.state,type:K.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,x=""){return this.path()==this.normalize(S+ye(x))}normalize(S){return T.stripTrailingSlash(function dt(T,F){if(!T||!F.startsWith(T))return F;const S=F.substring(T.length);return""===S||["/",";","?","#"].includes(S[0])?S:F}(this._basePath,Pt(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,x="",K=null){this._locationStrategy.pushState(K,"",S,x),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+ye(x)),K)}replaceState(S,x="",K=null){this._locationStrategy.replaceState(K,"",S,x),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+ye(x)),K)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(x=>{this._notifyUrlChangeListeners(x.url,x.state)})),()=>{const x=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(x,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",x){this._urlChangeListeners.forEach(K=>K(S,x))}subscribe(S,x,K){return this._subject.subscribe({next:S,error:x,complete:K})}static#e=this.normalizeQueryParams=ye;static#t=this.joinWithSlash=W;static#n=this.stripTrailingSlash=ne;static#r=this.\u0275fac=function(x){return new(x||T)(m.LFG(Ke))};static#i=this.\u0275prov=m.Yz7({token:T,factory:function(){return function tt(){return new Dt((0,m.LFG)(Ke))}()},providedIn:"root"})}return T})();function Pt(T){return T.replace(/\/index.html$/,"")}var $e=function(T){return T[T.Decimal=0]="Decimal",T[T.Percent=1]="Percent",T[T.Currency=2]="Currency",T[T.Scientific=3]="Scientific",T}($e||{}),Fe=function(T){return T[T.Format=0]="Format",T[T.Standalone=1]="Standalone",T}(Fe||{}),te=function(T){return T[T.Narrow=0]="Narrow",T[T.Abbreviated=1]="Abbreviated",T[T.Wide=2]="Wide",T[T.Short=3]="Short",T}(te||{}),qt=function(T){return T[T.Short=0]="Short",T[T.Medium=1]="Medium",T[T.Long=2]="Long",T[T.Full=3]="Full",T}(qt||{}),Be=function(T){return T[T.Decimal=0]="Decimal",T[T.Group=1]="Group",T[T.List=2]="List",T[T.PercentSign=3]="PercentSign",T[T.PlusSign=4]="PlusSign",T[T.MinusSign=5]="MinusSign",T[T.Exponential=6]="Exponential",T[T.SuperscriptingExponent=7]="SuperscriptingExponent",T[T.PerMille=8]="PerMille",T[T.Infinity=9]="Infinity",T[T.NaN=10]="NaN",T[T.TimeSeparator=11]="TimeSeparator",T[T.CurrencyDecimal=12]="CurrencyDecimal",T[T.CurrencyGroup=13]="CurrencyGroup",T}(Be||{});function ve(T,F){return Jt((0,m.cg1)(T)[m.wAp.DateFormat],F)}function Ie(T,F){return Jt((0,m.cg1)(T)[m.wAp.TimeFormat],F)}function De(T,F){return Jt((0,m.cg1)(T)[m.wAp.DateTimeFormat],F)}function Ne(T,F){const S=(0,m.cg1)(T),x=S[m.wAp.NumberSymbols][F];if(typeof x>"u"){if(F===Be.CurrencyDecimal)return S[m.wAp.NumberSymbols][Be.Decimal];if(F===Be.CurrencyGroup)return S[m.wAp.NumberSymbols][Be.Group]}return x}function Et(T){if(!T[m.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${T[m.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Jt(T,F){for(let S=F;S>-1;S--)if(typeof T[S]<"u")return T[S];throw new Error("Locale data API: locale data undefined")}function At(T){const[F,S]=T.split(":");return{hours:+F,minutes:+S}}const pn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yi={},Qn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zn=function(T){return T[T.Short=0]="Short",T[T.ShortGMT=1]="ShortGMT",T[T.Long=2]="Long",T[T.Extended=3]="Extended",T}(zn||{}),on=function(T){return T[T.FullYear=0]="FullYear",T[T.Month=1]="Month",T[T.Date=2]="Date",T[T.Hours=3]="Hours",T[T.Minutes=4]="Minutes",T[T.Seconds=5]="Seconds",T[T.FractionalSeconds=6]="FractionalSeconds",T[T.Day=7]="Day",T}(on||{}),zt=function(T){return T[T.DayPeriods=0]="DayPeriods",T[T.Days=1]="Days",T[T.Months=2]="Months",T[T.Eras=3]="Eras",T}(zt||{});function Ur(T,F,S,x){let K=function j(T){if($(T))return T;if("number"==typeof T&&!isNaN(T))return new Date(T);if("string"==typeof T){if(T=T.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(T)){const[K,Te=1,Oe=1]=T.split("-").map(St=>+St);return Ar(K,Te-1,Oe)}const S=parseFloat(T);if(!isNaN(T-S))return new Date(S);let x;if(x=T.match(pn))return function z(T){const F=new Date(0);let S=0,x=0;const K=T[8]?F.setUTCFullYear:F.setFullYear,Te=T[8]?F.setUTCHours:F.setHours;T[9]&&(S=Number(T[9]+T[10]),x=Number(T[9]+T[11])),K.call(F,Number(T[1]),Number(T[2])-1,Number(T[3]));const Oe=Number(T[4]||0)-S,St=Number(T[5]||0)-x,nr=Number(T[6]||0),An=Math.floor(1e3*parseFloat("0."+(T[7]||0)));return Te.call(F,Oe,St,nr,An),F}(x)}const F=new Date(T);if(!$(F))throw new Error(`Unable to convert "${T}" into a date`);return F}(T);F=Un(S,F)||F;let St,Oe=[];for(;F;){if(St=Qn.exec(F),!St){Oe.push(F);break}{Oe=Oe.concat(St.slice(1));const xn=Oe.pop();if(!xn)break;F=xn}}let nr=K.getTimezoneOffset();x&&(nr=Jr(x,nr),K=function oe(T,F,S){const x=S?-1:1,K=T.getTimezoneOffset();return function rs(T,F){return(T=new Date(T.getTime())).setMinutes(T.getMinutes()+F),T}(T,x*(Jr(F,K)-K))}(K,x,!0));let An="";return Oe.forEach(xn=>{const $t=function or(T){if(ns[T])return ns[T];let F;switch(T){case"G":case"GG":case"GGG":F=Bt(zt.Eras,te.Abbreviated);break;case"GGGG":F=Bt(zt.Eras,te.Wide);break;case"GGGGG":F=Bt(zt.Eras,te.Narrow);break;case"y":F=yt(on.FullYear,1,0,!1,!0);break;case"yy":F=yt(on.FullYear,2,0,!0,!0);break;case"yyy":F=yt(on.FullYear,3,0,!1,!0);break;case"yyyy":F=yt(on.FullYear,4,0,!1,!0);break;case"Y":F=br(1);break;case"YY":F=br(2,!0);break;case"YYY":F=br(3);break;case"YYYY":F=br(4);break;case"M":case"L":F=yt(on.Month,1,1);break;case"MM":case"LL":F=yt(on.Month,2,1);break;case"MMM":F=Bt(zt.Months,te.Abbreviated);break;case"MMMM":F=Bt(zt.Months,te.Wide);break;case"MMMMM":F=Bt(zt.Months,te.Narrow);break;case"LLL":F=Bt(zt.Months,te.Abbreviated,Fe.Standalone);break;case"LLLL":F=Bt(zt.Months,te.Wide,Fe.Standalone);break;case"LLLLL":F=Bt(zt.Months,te.Narrow,Fe.Standalone);break;case"w":F=tn(1);break;case"ww":F=tn(2);break;case"W":F=tn(1,!0);break;case"d":F=yt(on.Date,1);break;case"dd":F=yt(on.Date,2);break;case"c":case"cc":F=yt(on.Day,1);break;case"ccc":F=Bt(zt.Days,te.Abbreviated,Fe.Standalone);break;case"cccc":F=Bt(zt.Days,te.Wide,Fe.Standalone);break;case"ccccc":F=Bt(zt.Days,te.Narrow,Fe.Standalone);break;case"cccccc":F=Bt(zt.Days,te.Short,Fe.Standalone);break;case"E":case"EE":case"EEE":F=Bt(zt.Days,te.Abbreviated);break;case"EEEE":F=Bt(zt.Days,te.Wide);break;case"EEEEE":F=Bt(zt.Days,te.Narrow);break;case"EEEEEE":F=Bt(zt.Days,te.Short);break;case"a":case"aa":case"aaa":F=Bt(zt.DayPeriods,te.Abbreviated);break;case"aaaa":F=Bt(zt.DayPeriods,te.Wide);break;case"aaaaa":F=Bt(zt.DayPeriods,te.Narrow);break;case"b":case"bb":case"bbb":F=Bt(zt.DayPeriods,te.Abbreviated,Fe.Standalone,!0);break;case"bbbb":F=Bt(zt.DayPeriods,te.Wide,Fe.Standalone,!0);break;case"bbbbb":F=Bt(zt.DayPeriods,te.Narrow,Fe.Standalone,!0);break;case"B":case"BB":case"BBB":F=Bt(zt.DayPeriods,te.Abbreviated,Fe.Format,!0);break;case"BBBB":F=Bt(zt.DayPeriods,te.Wide,Fe.Format,!0);break;case"BBBBB":F=Bt(zt.DayPeriods,te.Narrow,Fe.Format,!0);break;case"h":F=yt(on.Hours,1,-12);break;case"hh":F=yt(on.Hours,2,-12);break;case"H":F=yt(on.Hours,1);break;case"HH":F=yt(on.Hours,2);break;case"m":F=yt(on.Minutes,1);break;case"mm":F=yt(on.Minutes,2);break;case"s":F=yt(on.Seconds,1);break;case"ss":F=yt(on.Seconds,2);break;case"S":F=yt(on.FractionalSeconds,1);break;case"SS":F=yt(on.FractionalSeconds,2);break;case"SSS":F=yt(on.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":F=Xr(zn.Short);break;case"ZZZZZ":F=Xr(zn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":F=Xr(zn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":F=Xr(zn.Long);break;default:return null}return ns[T]=F,F}(xn);An+=$t?$t(K,S,nr):"''"===xn?"'":xn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),An}function Ar(T,F,S){const x=new Date(0);return x.setFullYear(T,F,S),x.setHours(0,0,0),x}function Un(T,F){const S=function ze(T){return(0,m.cg1)(T)[m.wAp.LocaleId]}(T);if(yi[S]=yi[S]||{},yi[S][F])return yi[S][F];let x="";switch(F){case"shortDate":x=ve(T,qt.Short);break;case"mediumDate":x=ve(T,qt.Medium);break;case"longDate":x=ve(T,qt.Long);break;case"fullDate":x=ve(T,qt.Full);break;case"shortTime":x=Ie(T,qt.Short);break;case"mediumTime":x=Ie(T,qt.Medium);break;case"longTime":x=Ie(T,qt.Long);break;case"fullTime":x=Ie(T,qt.Full);break;case"short":const K=Un(T,"shortTime"),Te=Un(T,"shortDate");x=Cr(De(T,qt.Short),[K,Te]);break;case"medium":const Oe=Un(T,"mediumTime"),St=Un(T,"mediumDate");x=Cr(De(T,qt.Medium),[Oe,St]);break;case"long":const nr=Un(T,"longTime"),An=Un(T,"longDate");x=Cr(De(T,qt.Long),[nr,An]);break;case"full":const xn=Un(T,"fullTime"),$t=Un(T,"fullDate");x=Cr(De(T,qt.Full),[xn,$t])}return x&&(yi[S][F]=x),x}function Cr(T,F){return F&&(T=T.replace(/\{([^}]+)}/g,function(S,x){return null!=F&&x in F?F[x]:S})),T}function bn(T,F,S="-",x,K){let Te="";(T<0||K&&T<=0)&&(K?T=1-T:(T=-T,Te=S));let Oe=String(T);for(;Oe.length<F;)Oe="0"+Oe;return x&&(Oe=Oe.slice(Oe.length-F)),Te+Oe}function yt(T,F,S=0,x=!1,K=!1){return function(Te,Oe){let St=function Wi(T,F){switch(T){case on.FullYear:return F.getFullYear();case on.Month:return F.getMonth();case on.Date:return F.getDate();case on.Hours:return F.getHours();case on.Minutes:return F.getMinutes();case on.Seconds:return F.getSeconds();case on.FractionalSeconds:return F.getMilliseconds();case on.Day:return F.getDay();default:throw new Error(`Unknown DateType value "${T}".`)}}(T,Te);if((S>0||St>-S)&&(St+=S),T===on.Hours)0===St&&-12===S&&(St=12);else if(T===on.FractionalSeconds)return function gn(T,F){return bn(T,3).substring(0,F)}(St,F);const nr=Ne(Oe,Be.MinusSign);return bn(St,F,nr,x,K)}}function Bt(T,F,S=Fe.Format,x=!1){return function(K,Te){return function sr(T,F,S,x,K,Te){switch(S){case zt.Months:return function Ze(T,F,S){const x=(0,m.cg1)(T),Te=Jt([x[m.wAp.MonthsFormat],x[m.wAp.MonthsStandalone]],F);return Jt(Te,S)}(F,K,x)[T.getMonth()];case zt.Days:return function lt(T,F,S){const x=(0,m.cg1)(T),Te=Jt([x[m.wAp.DaysFormat],x[m.wAp.DaysStandalone]],F);return Jt(Te,S)}(F,K,x)[T.getDay()];case zt.DayPeriods:const Oe=T.getHours(),St=T.getMinutes();if(Te){const An=function Cn(T){const F=(0,m.cg1)(T);return Et(F),(F[m.wAp.ExtraData][2]||[]).map(x=>"string"==typeof x?At(x):[At(x[0]),At(x[1])])}(F),xn=function vn(T,F,S){const x=(0,m.cg1)(T);Et(x);const Te=Jt([x[m.wAp.ExtraData][0],x[m.wAp.ExtraData][1]],F)||[];return Jt(Te,S)||[]}(F,K,x),$t=An.findIndex(dr=>{if(Array.isArray(dr)){const[kn,kr]=dr,bo=Oe>=kn.hours&&St>=kn.minutes,qe=Oe<kr.hours||Oe===kr.hours&&St<kr.minutes;if(kn.hours<kr.hours){if(bo&&qe)return!0}else if(bo||qe)return!0}else if(dr.hours===Oe&&dr.minutes===St)return!0;return!1});if(-1!==$t)return xn[$t]}return function en(T,F,S){const x=(0,m.cg1)(T),Te=Jt([x[m.wAp.DayPeriodsFormat],x[m.wAp.DayPeriodsStandalone]],F);return Jt(Te,S)}(F,K,x)[Oe<12?0:1];case zt.Eras:return function Tt(T,F){return Jt((0,m.cg1)(T)[m.wAp.Eras],F)}(F,x)[T.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${S}`)}}(K,Te,T,F,S,x)}}function Xr(T){return function(F,S,x){const K=-1*x,Te=Ne(S,Be.MinusSign),Oe=K>0?Math.floor(K/60):Math.ceil(K/60);switch(T){case zn.Short:return(K>=0?"+":"")+bn(Oe,2,Te)+bn(Math.abs(K%60),2,Te);case zn.ShortGMT:return"GMT"+(K>=0?"+":"")+bn(Oe,1,Te);case zn.Long:return"GMT"+(K>=0?"+":"")+bn(Oe,2,Te)+":"+bn(Math.abs(K%60),2,Te);case zn.Extended:return 0===x?"Z":(K>=0?"+":"")+bn(Oe,2,Te)+":"+bn(Math.abs(K%60),2,Te);default:throw new Error(`Unknown zone width "${T}"`)}}}const Xn=0,Mt=4;function vr(T){return Ar(T.getFullYear(),T.getMonth(),T.getDate()+(Mt-T.getDay()))}function tn(T,F=!1){return function(S,x){let K;if(F){const Te=new Date(S.getFullYear(),S.getMonth(),1).getDay()-1,Oe=S.getDate();K=1+Math.floor((Oe+Te)/7)}else{const Te=vr(S),Oe=function mn(T){const F=Ar(T,Xn,1).getDay();return Ar(T,0,1+(F<=Mt?Mt:Mt+7)-F)}(Te.getFullYear()),St=Te.getTime()-Oe.getTime();K=1+Math.round(St/6048e5)}return bn(K,T,Ne(x,Be.MinusSign))}}function br(T,F=!1){return function(S,x){return bn(vr(S).getFullYear(),T,Ne(x,Be.MinusSign),F)}}const ns={};function Jr(T,F){T=T.replace(/:/g,"");const S=Date.parse("Jan 01, 1970 00:00:00 "+T)/6e4;return isNaN(S)?F:S}function $(T){return T instanceof Date&&!isNaN(T.valueOf())}const H=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function nn(T){const F=parseInt(T);if(isNaN(F))throw new Error("Invalid integer literal when parsing "+T);return F}function cr(T,F){F=encodeURIComponent(F);for(const S of T.split(";")){const x=S.indexOf("="),[K,Te]=-1==x?[S,""]:[S.slice(0,x),S.slice(x+1)];if(K.trim()===F)return decodeURIComponent(Te)}return null}const is=/\s+/,lr=[];let vi=(()=>{class T{constructor(S,x,K,Te){this._iterableDiffers=S,this._keyValueDiffers=x,this._ngEl=K,this._renderer=Te,this.initialClasses=lr,this.stateMap=new Map}set klass(S){this.initialClasses=null!=S?S.trim().split(is):lr}set ngClass(S){this.rawClass="string"==typeof S?S.trim().split(is):S}ngDoCheck(){for(const x of this.initialClasses)this._updateState(x,!0);const S=this.rawClass;if(Array.isArray(S)||S instanceof Set)for(const x of S)this._updateState(x,!0);else if(null!=S)for(const x of Object.keys(S))this._updateState(x,!!S[x]);this._applyStateDiff()}_updateState(S,x){const K=this.stateMap.get(S);void 0!==K?(K.enabled!==x&&(K.changed=!0,K.enabled=x),K.touched=!0):this.stateMap.set(S,{enabled:x,changed:!0,touched:!0})}_applyStateDiff(){for(const S of this.stateMap){const x=S[0],K=S[1];K.changed?(this._toggleClass(x,K.enabled),K.changed=!1):K.touched||(K.enabled&&this._toggleClass(x,!1),this.stateMap.delete(x)),K.touched=!1}}_toggleClass(S,x){(S=S.trim()).length>0&&S.split(is).forEach(K=>{x?this._renderer.addClass(this._ngEl.nativeElement,K):this._renderer.removeClass(this._ngEl.nativeElement,K)})}static#e=this.\u0275fac=function(x){return new(x||T)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))};static#t=this.\u0275dir=m.lG2({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return T})();class Ks{constructor(F,S,x,K){this.$implicit=F,this.ngForOf=S,this.index=x,this.count=K}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ir=(()=>{class T{set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}constructor(S,x,K){this._viewContainer=S,this._template=x,this._differs=K,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const x=this._viewContainer;S.forEachOperation((K,Te,Oe)=>{if(null==K.previousIndex)x.createEmbeddedView(this._template,new Ks(K.item,this._ngForOf,-1,-1),null===Oe?void 0:Oe);else if(null==Oe)x.remove(null===Te?void 0:Te);else if(null!==Te){const St=x.get(Te);x.move(St,Oe),os(St,K)}});for(let K=0,Te=x.length;K<Te;K++){const St=x.get(K).context;St.index=K,St.count=Te,St.ngForOf=this._ngForOf}S.forEachIdentityChange(K=>{os(x.get(K.currentIndex),K)})}static ngTemplateContextGuard(S,x){return!0}static#e=this.\u0275fac=function(x){return new(x||T)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))};static#t=this.\u0275dir=m.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return T})();function os(T,F){T.context.$implicit=F.item}let Rr=(()=>{class T{constructor(S,x){this._viewContainer=S,this._context=new di,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=x}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){ht("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){ht("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,x){return!0}static#e=this.\u0275fac=function(x){return new(x||T)(m.Y36(m.s_b),m.Y36(m.Rgc))};static#t=this.\u0275dir=m.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return T})();class di{constructor(){this.$implicit=null,this.ngIf=null}}function ht(T,F){if(F&&!F.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,m.AaK)(F)}'.`)}function pr(T,F){return new m.vHH(2100,!1)}const Vs=new m.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),eo=new m.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Vi=(()=>{class T{constructor(S,x,K){this.locale=S,this.defaultTimezone=x,this.defaultOptions=K}transform(S,x,K,Te){if(null==S||""===S||S!=S)return null;try{return Ur(S,x??this.defaultOptions?.dateFormat??"mediumDate",Te||this.locale,K??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Oe){throw pr()}}static#e=this.\u0275fac=function(x){return new(x||T)(m.Y36(m.soG,16),m.Y36(Vs,24),m.Y36(eo,24))};static#t=this.\u0275pipe=m.Yjl({name:"date",type:T,pure:!0,standalone:!0})}return T})(),Jn=(()=>{class T{constructor(S){this._locale=S}transform(S,x,K){if(!function ri(T){return!(null==T||""===T||T!=T)}(S))return null;K=K||this._locale;try{return function Pe(T,F,S){return function Br(T,F,S,x,K,Te,Oe=!1){let St="",nr=!1;if(isFinite(T)){let An=function nt(T){let x,K,Te,Oe,St,F=Math.abs(T)+"",S=0;for((K=F.indexOf("."))>-1&&(F=F.replace(".","")),(Te=F.search(/e/i))>0?(K<0&&(K=Te),K+=+F.slice(Te+1),F=F.substring(0,Te)):K<0&&(K=F.length),Te=0;"0"===F.charAt(Te);Te++);if(Te===(St=F.length))x=[0],K=1;else{for(St--;"0"===F.charAt(St);)St--;for(K-=Te,x=[],Oe=0;Te<=St;Te++,Oe++)x[Oe]=Number(F.charAt(Te))}return K>22&&(x=x.splice(0,21),S=K-1,K=1),{digits:x,exponent:S,integerLen:K}}(T);Oe&&(An=function et(T){if(0===T.digits[0])return T;const F=T.digits.length-T.integerLen;return T.exponent?T.exponent+=2:(0===F?T.digits.push(0,0):1===F&&T.digits.push(0),T.integerLen+=2),T}(An));let xn=F.minInt,$t=F.minFrac,dr=F.maxFrac;if(Te){const Lr=Te.match(H);if(null===Lr)throw new Error(`${Te} is not a valid digit info`);const Ji=Lr[1],vt=Lr[3],Nt=Lr[5];null!=Ji&&(xn=nn(Ji)),null!=vt&&($t=nn(vt)),null!=Nt?dr=nn(Nt):null!=vt&&$t>dr&&(dr=$t)}!function Wt(T,F,S){if(F>S)throw new Error(`The minimum number of digits after fraction (${F}) is higher than the maximum (${S}).`);let x=T.digits,K=x.length-T.integerLen;const Te=Math.min(Math.max(F,K),S);let Oe=Te+T.integerLen,St=x[Oe];if(Oe>0){x.splice(Math.max(T.integerLen,Oe));for(let $t=Oe;$t<x.length;$t++)x[$t]=0}else{K=Math.max(0,K),T.integerLen=1,x.length=Math.max(1,Oe=Te+1),x[0]=0;for(let $t=1;$t<Oe;$t++)x[$t]=0}if(St>=5)if(Oe-1<0){for(let $t=0;$t>Oe;$t--)x.unshift(0),T.integerLen++;x.unshift(1),T.integerLen++}else x[Oe-1]++;for(;K<Math.max(0,Te);K++)x.push(0);let nr=0!==Te;const An=F+T.integerLen,xn=x.reduceRight(function($t,dr,kn,kr){return kr[kn]=(dr+=$t)<10?dr:dr-10,nr&&(0===kr[kn]&&kn>=An?kr.pop():nr=!1),dr>=10?1:0},0);xn&&(x.unshift(xn),T.integerLen++)}(An,$t,dr);let kn=An.digits,kr=An.integerLen;const bo=An.exponent;let qe=[];for(nr=kn.every(Lr=>!Lr);kr<xn;kr++)kn.unshift(0);for(;kr<0;kr++)kn.unshift(0);kr>0?qe=kn.splice(kr,kn.length):(qe=kn,kn=[0]);const Yn=[];for(kn.length>=F.lgSize&&Yn.unshift(kn.splice(-F.lgSize,kn.length).join(""));kn.length>F.gSize;)Yn.unshift(kn.splice(-F.gSize,kn.length).join(""));kn.length&&Yn.unshift(kn.join("")),St=Yn.join(Ne(S,x)),qe.length&&(St+=Ne(S,K)+qe.join("")),bo&&(St+=Ne(S,Be.Exponential)+"+"+bo)}else St=Ne(S,Be.Infinity);return St=T<0&&!nr?F.negPre+St+F.negSuf:F.posPre+St+F.posSuf,St}(T,function ge(T,F="-"){const S={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},x=T.split(";"),K=x[0],Te=x[1],Oe=-1!==K.indexOf(".")?K.split("."):[K.substring(0,K.lastIndexOf("0")+1),K.substring(K.lastIndexOf("0")+1)],St=Oe[0],nr=Oe[1]||"";S.posPre=St.substring(0,St.indexOf("#"));for(let xn=0;xn<nr.length;xn++){const $t=nr.charAt(xn);"0"===$t?S.minFrac=S.maxFrac=xn+1:"#"===$t?S.maxFrac=xn+1:S.posSuf+=$t}const An=St.split(",");if(S.gSize=An[1]?An[1].length:0,S.lgSize=An[2]||An[1]?(An[2]||An[1]).length:0,Te){const xn=K.length-S.posPre.length-S.posSuf.length,$t=Te.indexOf("#");S.negPre=Te.substring(0,$t).replace(/'/g,""),S.negSuf=Te.slice($t+xn).replace(/'/g,"")}else S.negPre=F+S.posPre,S.negSuf=S.posSuf;return S}(function Qe(T,F){return(0,m.cg1)(T)[m.wAp.NumberFormats][F]}(F,$e.Decimal),Ne(F,Be.MinusSign)),F,Be.Group,Be.Decimal,S)}(function ro(T){if("string"==typeof T&&!isNaN(Number(T)-parseFloat(T)))return Number(T);if("number"!=typeof T)throw new Error(`${T} is not a number`);return T}(S),K,x)}catch(Te){throw pr()}}static#e=this.\u0275fac=function(x){return new(x||T)(m.Y36(m.soG,16))};static#t=this.\u0275pipe=m.Yjl({name:"number",type:T,pure:!0,standalone:!0})}return T})();let Rs=(()=>{class T{transform(S,x,K){if(null==S)return null;if(!this.supports(S))throw pr();return S.slice(x,K)}supports(S){return"string"==typeof S||Array.isArray(S)}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275pipe=m.Yjl({name:"slice",type:T,pure:!1,standalone:!0})}return T})(),Ps=(()=>{class T{static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275mod=m.oAB({type:T});static#n=this.\u0275inj=m.cJS({})}return T})();const Ms="browser",Mn="server";function Rn(T){return T===Ms}function Ei(T){return T===Mn}let gr=(()=>{class T{static#e=this.\u0275prov=(0,m.Yz7)({token:T,providedIn:"root",factory:()=>new Yi((0,m.LFG)(ie),window)})}return T})();class Yi{constructor(F,S){this.document=F,this.window=S,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const S=function ii(T,F){const S=T.getElementById(F)||T.getElementsByName(F)[0];if(S)return S;if("function"==typeof T.createTreeWalker&&T.body&&"function"==typeof T.body.attachShadow){const x=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let K=x.currentNode;for(;K;){const Te=K.shadowRoot;if(Te){const Oe=Te.getElementById(F)||Te.querySelector(`[name="${F}"]`);if(Oe)return Oe}K=x.nextNode()}}return null}(this.document,F);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(F){this.supportsScrolling()&&(this.window.history.scrollRestoration=F)}scrollToElement(F){const S=F.getBoundingClientRect(),x=S.left+this.window.pageXOffset,K=S.top+this.window.pageYOffset,Te=this.offset();this.window.scrollTo(x-Te[0],K-Te[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class io{}const Bi=T=>T.src,so=new m.OlP("ImageLoader",{providedIn:"root",factory:()=>Bi}),Nr=new m.OlP("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let zr=(()=>{class T{constructor(){this.preloadedImages=(0,m.f3M)(Nr),this.document=(0,m.f3M)(ie)}createPreloadLinkTag(S,x,K,Te){if(this.preloadedImages.has(x))return;this.preloadedImages.add(x);const Oe=S.createElement("link");S.setAttribute(Oe,"as","image"),S.setAttribute(Oe,"href",x),S.setAttribute(Oe,"rel","preload"),S.setAttribute(Oe,"fetchpriority","high"),Te&&S.setAttribute(Oe,"imageSizes",Te),K&&S.setAttribute(Oe,"imageSrcset",K),S.appendChild(this.document.head,Oe)}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const Or=/^((\s*\d+w\s*(,|$)){1,})$/,tr=[1,2],ds={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},xc=new m.OlP("ImageConfig",{providedIn:"root",factory:()=>ds});let js=(()=>{class T{constructor(){this.imageLoader=(0,m.f3M)(so),this.config=function pi(T){let F={};return T.breakpoints&&(F.breakpoints=T.breakpoints.sort((S,x)=>S-x)),Object.assign({},ds,T,F)}((0,m.f3M)(xc)),this.renderer=(0,m.f3M)(m.Qsj),this.imgElement=(0,m.f3M)(m.SBq).nativeElement,this.injector=(0,m.f3M)(m.zs3),this.isServer=Ei((0,m.f3M)(m.Lbi)),this.preloadLinkCreator=(0,m.f3M)(zr),this.lcpObserver=null,this._renderedSrc=null,this.priority=!1,this.disableOptimizedSrcset=!1,this.fill=!1}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const S=this.updateSrcAndSrcset();this.sizes&&this.setHostAttribute("sizes",this.sizes),this.isServer&&this.priority&&this.preloadLinkCreator.createPreloadLinkTag(this.renderer,this.getRewrittenSrc(),S,this.sizes)}ngOnChanges(S){if(S.ngSrc&&!S.ngSrc.isFirstChange()){const x=this._renderedSrc;this.updateSrcAndSrcset(!0);const K=this._renderedSrc;null!==this.lcpObserver&&x&&K&&x!==K&&this.injector.get(m.R0b).runOutsideAngular(()=>{this.lcpObserver?.updateImage(x,K)})}}callImageLoader(S){let x=S;return this.loaderParams&&(x.loaderParams=this.loaderParams),this.imageLoader(x)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const S=Or.test(this.ngSrcset);return this.ngSrcset.split(",").filter(K=>""!==K).map(K=>{K=K.trim();const Te=S?parseFloat(K):parseFloat(K)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:Te})} ${K}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:S}=this.config;let x=S;return"100vw"===this.sizes?.trim()&&(x=S.filter(Te=>Te>=640)),x.map(Te=>`${this.callImageLoader({src:this.ngSrc,width:Te})} ${Te}w`).join(", ")}updateSrcAndSrcset(S=!1){S&&(this._renderedSrc=null);const x=this.getRewrittenSrc();let K;return this.setHostAttribute("src",x),this.ngSrcset?K=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(K=this.getAutomaticSrcset()),K&&this.setHostAttribute("srcset",K),K}getFixedSrcset(){return tr.map(x=>`${this.callImageLoader({src:this.ngSrc,width:this.width*x})} ${x}x`).join(", ")}shouldGenerateAutomaticSrcset(){return!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Bi&&!(this.width>1920||this.height>1080)}ngOnDestroy(){}setHostAttribute(S,x){this.renderer.setAttribute(this.imgElement,S,x)}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275dir=m.lG2({type:T,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(x,K){2&x&&m.Udp("position",K.fill?"absolute":null)("width",K.fill?"100%":null)("height",K.fill?"100%":null)("inset",K.fill?"0px":null)},inputs:{ngSrc:["ngSrc","ngSrc",La],ngSrcset:"ngSrcset",sizes:"sizes",width:["width","width",m.Cb_],height:["height","height",m.Cb_],loading:"loading",priority:["priority","priority",m.VuI],loaderParams:"loaderParams",disableOptimizedSrcset:["disableOptimizedSrcset","disableOptimizedSrcset",m.VuI],fill:["fill","fill",m.VuI],src:"src",srcset:"srcset"},standalone:!0,features:[m.Xq5,m.TTD]})}return T})();function La(T){return"string"==typeof T?T:(0,m.z3N)(T)}},9291:(Ct,Se,L)=>{L.d(Se,{QbO:()=>Ay,tb:()=>lI,AFp:()=>Pp,ip1:()=>s0,hGG:()=>jC,z2F:()=>qf,Ojb:()=>Cy,sBO:()=>AC,Sil:()=>zA,EJc:()=>jA,Xts:()=>_c,SBq:()=>Tc,lqb:()=>ba,qLn:()=>Lu,vpe:()=>oa,XFs:()=>yt,OlP:()=>tn,zs3:()=>sa,ZZ4:()=>mI,aQg:()=>_I,soG:()=>ey,YKP:()=>iT,h0i:()=>Yd,PXZ:()=>mC,R0b:()=>gs,FiY:()=>O,Lbi:()=>pl,g9A:()=>Mp,Qsj:()=>Ny,FYo:()=>Qh,JOm:()=>Jl,q3G:()=>mc,tp0:()=>ce,Rgc:()=>Hg,dDg:()=>hC,eoX:()=>f0,q4F:()=>Jh,GfV:()=>Xh,s_b:()=>X_,ifc:()=>lr,VuI:()=>XC,MMx:()=>oT,Lck:()=>SD,eFA:()=>_0,Gpc:()=>Ue,f3M:()=>nt,X6Q:()=>DC,$WT:()=>us,Cb_:()=>JC,_c5:()=>BC,qFp:()=>tb,rg0:()=>kr,c2e:()=>o0,zSh:()=>zh,HDt:()=>a0,wAp:()=>Hf,vHH:()=>ze,lri:()=>d0,rWj:()=>h0,JZr:()=>Ve,EiD:()=>Oh,mCW:()=>fd,qzn:()=>gc,JVY:()=>Mh,pB0:()=>Cm,eBb:()=>Pu,L6k:()=>Am,LAX:()=>ul,cg1:()=>Fv,kuF:()=>en,kL8:()=>RE,dqk:()=>Mt,Z0I:()=>on,eJc:()=>eI,QGY:()=>B_,F4k:()=>Rv,RDi:()=>yp,AaK:()=>be,z3N:()=>ci,qOj:()=>_g,Xq5:()=>Pf,TTD:()=>vt,_Bn:()=>rT,jDz:()=>aT,xp6:()=>yf,uIk:()=>Sc,Tol:()=>tE,ekj:()=>Nv,Suo:()=>FT,Xpm:()=>Vs,lG2:()=>Hn,Yz7:()=>pn,cJS:()=>Qn,oAB:()=>bi,Yjl:()=>Ii,Y36:()=>Fu,_UZ:()=>Mg,BQk:()=>Ng,ynx:()=>xg,qZA:()=>Pc,TgZ:()=>Uf,EpF:()=>Sv,n5z:()=>Wl,LFG:()=>ge,$8M:()=>nc,$Z:()=>d_,NdJ:()=>j_,CRH:()=>VT,kcU:()=>eh,O4$:()=>Qf,oxw:()=>i,ALo:()=>ET,xi3:()=>TT,Dn7:()=>wT,Q6J:()=>Pg,s9C:()=>u,MGl:()=>l,VKq:()=>pT,WLB:()=>gT,iGM:()=>kT,MAs:()=>F_,KtG:()=>Ua,evT:()=>i_,Jf7:()=>cf,CHM:()=>Es,LSH:()=>pd,P3R:()=>Fh,Jzz:()=>_E,Udp:()=>xv,YNc:()=>L_,_uU:()=>uE,Oqu:()=>kv,hij:()=>G_,AsE:()=>Lv,Gf:()=>LT});var m=L(8645),q=L(7394),he=L(5592),se=L(7537),ae=L(4829),ie=L(6232),pe=L(4564),re=L(2459),W=L(5619),ne=L(2096),ye=L(3020),Ke=L(4664),Le=L(2737),He=L(9360),it=L(8251);function tt(t,r){return t===r}function dt(t){for(let r in t)if(t[r]===dt)return r;throw Error("Could not find renamed property on target object.")}function Pt(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function be(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(be).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function xe(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const $e=dt({__forward_ref__:dt});function Ue(t){return t.__forward_ref__=Ue,t.toString=function(){return be(this())},t}function Fe(t){return te(t)?t():t}function te(t){return"function"==typeof t&&t.hasOwnProperty($e)&&t.__forward_ref__===Ue}function qt(t){return t&&!!t.\u0275providers}const Ve="https://g.co/ng/security#xss";class ze extends Error{constructor(r,s){super(en(r,s)),this.code=r}}function en(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}function lt(t){return"string"==typeof t?t:null==t?"":String(t)}function ve(t,r){throw new ze(-201,!1)}function Jt(t,r){null==t&&function At(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function pn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qn(t){return{providers:t.providers||[],imports:t.imports||[]}}function zn(t){return zt(t,Un)||zt(t,bn)}function on(t){return null!==zn(t)}function zt(t,r){return t.hasOwnProperty(r)?t[r]:null}function Ar(t){return t&&(t.hasOwnProperty(Cr)||t.hasOwnProperty(gn))?t[Cr]:null}const Un=dt({\u0275prov:dt}),Cr=dt({\u0275inj:dt}),bn=dt({ngInjectableDef:dt}),gn=dt({ngInjectorDef:dt});var yt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(yt||{});let Wi;function sr(t){const r=Wi;return Wi=t,r}function Xr(t,r,s){const a=zn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&yt.Optional?null:void 0!==r?r:void ve(be(t))}const Mt=globalThis;class tn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=pn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const We={},ut="__NG_DI_FLAG__",Gt="ngTempTokenPath",hn=/\n/gm,Sn="__source";let Br;function ar(t){const r=Br;return Br=t,r}function Pe(t,r=yt.Default){if(void 0===Br)throw new ze(-203,!1);return null===Br?Xr(t,void 0,r):Br.get(t,r&yt.Optional?null:void 0,r)}function ge(t,r=yt.Default){return(function Bt(){return Wi}()||Pe)(Fe(t),r)}function nt(t,r=yt.Default){return ge(t,Wt(r))}function Wt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function nn(t){const r=[];for(let s=0;s<t.length;s++){const a=Fe(t[s]);if(Array.isArray(a)){if(0===a.length)throw new ze(900,!1);let c,d=yt.Default;for(let g=0;g<a.length;g++){const v=a[g],C=Sr(v);"number"==typeof C?-1===C?c=v.token:d|=C:c=v}r.push(ge(c,d))}else r.push(ge(a))}return r}function ln(t,r){return t[ut]=r,t.prototype[ut]=r,t}function Sr(t){return t[ut]}function cr(t){return{toString:t}.toString()}var is=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(is||{}),lr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(lr||{});const vi={},Lt=[],ss=dt({\u0275cmp:dt}),Ks=dt({\u0275dir:dt}),Ir=dt({\u0275pipe:dt}),os=dt({\u0275mod:dt}),qi=dt({\u0275fac:dt}),Rr=dt({__NG_ELEMENT_ID__:dt}),di=dt({__NG_ENV_ID__:dt});function ht(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function Ye(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],v=s[a++];t.setAttribute(r,g,v,d)}else{const d=c,g=s[++a];xt(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function gt(t){return 3===t||4===t||6===t}function xt(t){return 64===t.charCodeAt(0)}function Wn(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||xr(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function xr(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const v=t[d++];if("number"==typeof v){if(v===r){g=-1;break}if(v>r){g=d-1;break}}}for(;d<t.length;){const v=t[d];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const Ci="ng-template";function Ys(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==ht(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Fi(t){return 4===t.type&&t.value!==Ci}function To(t,r,s){return r===(4!==t.type||s?t.value:Ci)}function Zs(t,r,s){let a=4;const c=t.attrs||[],d=function Xs(t){for(let r=0;r<t.length;r++)if(gt(t[r]))return r;return t.length}(c);let g=!1;for(let v=0;v<r.length;v++){const C=r[v];if("number"!=typeof C){if(!g)if(4&a){if(a=2|1&a,""!==C&&!To(t,C,s)||""===C&&1===r.length){if(pr(a))return!1;g=!0}}else{const P=8&a?C:r[++v];if(8&a&&null!==t.attrs){if(!Ys(t.attrs,P,s)){if(pr(a))return!1;g=!0}continue}const Z=da(8&a?"class":C,c,Fi(t),s);if(-1===Z){if(pr(a))return!1;g=!0;continue}if(""!==P){let le;le=Z>d?"":c[Z+1].toLowerCase();const Ee=8&a?le:null;if(Ee&&-1!==ht(Ee,P,0)||2&a&&P!==le){if(pr(a))return!1;g=!0}}}}else{if(!g&&!pr(a)&&!pr(C))return!1;if(g&&pr(C))continue;g=!1,a=C|1&a}}return pr(a)||g}function pr(t){return 0==(1&t)}function da(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let v=r[++c];for(;"string"==typeof v;)v=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function as(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Qs(t,r,s=!1){for(let a=0;a<r.length;a++)if(Zs(t,r[a],s))return!0;return!1}function Ss(t,r){return t?":not("+r.trim()+")":r}function du(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const v=t[++s];c+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!pr(g)&&(r+=Ss(d,c),c=""),a=g,d=d||!pr(a);s++}return""!==c&&(r+=Ss(d,c)),r}function Vs(t){return cr(()=>{const r=ro(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===is.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||lr.Emulated,styles:t.styles||Lt,_:null,schemas:t.schemas||null,tView:null,id:""};Rs(s);const a=t.dependencies;return s.directiveDefs=Ui(a,!1),s.pipeDefs=Ui(a,!0),s.id=function Ms(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function Vi(t){return fn(t)||Jn(t)}function Kr(t){return null!==t}function bi(t){return cr(()=>({type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function no(t,r){if(null==t)return vi;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function Hn(t){return cr(()=>{const r=ro(t);return Rs(r),r})}function Ii(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function fn(t){return t[ss]||null}function Jn(t){return t[Ks]||null}function ei(t){return t[Ir]||null}function us(t){const r=fn(t)||Jn(t)||ei(t);return null!==r&&r.standalone}function ri(t,r){const s=t[os]||null;if(!s&&!0===r)throw new Error(`Type ${be(t)} does not have '\u0275mod' property.`);return s}function ro(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||vi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:no(t.inputs,r),outputs:no(t.outputs)}}function Rs(t){t.features?.forEach(r=>r(t))}function Ui(t,r){if(!t)return null;const s=r?ei:Vi;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(Kr)}const Mn=0,mt=1,rn=2,Rn=3,Ei=4,Do=5,jr=6,mo=7,gr=8,Yi=9,ii=10,Xt=11,io=12,cs=13,xs=14,Er=15,Zi=16,Us=17,hi=18,Bi=19,so=20,ys=21,$r=22,ji=23,$i=24,In=25,_o=1,Ao=2,mr=7,yo=9,er=11;function fi(t){return Array.isArray(t)&&"object"==typeof t[_o]}function qn(t){return Array.isArray(t)&&!0===t[_o]}function vs(t){return 0!=(4&t.flags)}function N(t){return t.componentOffset>-1}function k(t){return 1==(1&t.flags)}function Q(t){return!!t.template}function ee(t){return 0!=(512&t[rn])}function oi(t,r){return t.hasOwnProperty(qi)?t[qi]:null}let pi=null,gi=!1;function Xi(t){const r=pi;return pi=t,r}const Bn={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function jo(t){if(!oo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!fa(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Co(t){t.dirty=!0,function Is(t){if(void 0===t.liveConsumerNode)return;const r=gi;gi=!0;try{for(const s of t.liveConsumerNode)s.dirty||Co(s)}finally{gi=r}}(t),t.consumerMarkedDirty?.(t)}function vo(t){return t&&(t.nextProducerIndex=0),Xi(t)}function ka(t,r){if(Xi(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(oo(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)ti(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fa(t){Hs(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(jo(s),a!==s.version))return!0}return!1}function $s(t){if(Hs(t),oo(t))for(let r=0;r<t.producerNode.length;r++)ti(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ti(t,r){if(function ao(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Hs(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)ti(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Hs(c),c.producerIndexOfThis[a]=r}}function oo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Hs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let S=null;function kr(t){const r=Xi(null);try{return t()}finally{Xi(r)}}const qe=()=>{},Yn=(()=>({...Bn,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:qe}))();class Ji{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function vt(){return Nt}function Nt(t){return t.type.prototype.ngOnChanges&&(t.setInput=pt),Yf}function Yf(){const t=Ge(this),r=t?.current;if(r){const s=t.previous;if(s===vi)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function pt(t,r,s,a){const c=this.declaredInputs[s],d=Ge(t)||function Pr(t,r){return t[Me]=r}(t,{previous:vi,current:null}),g=d.current||(d.current={}),v=d.previous,C=v[c];g[c]=new Ji(C&&C.currentValue,r,v===vi),t[a]=r}vt.ngInherit=!0;const Me="__ngSimpleChanges__";function Ge(t){return t[Me]||null}const co=function(t,r,s){},Nc="svg";function wr(t){for(;Array.isArray(t);)t=t[Mn];return t}function pa(t,r){return wr(r[t])}function Pi(t,r){return wr(r[t.index])}function Fa(t,r){return t.data[r]}function Kt(t,r){return t[r]}function Dr(t,r){const s=r[t];return fi(s)?s:s[Mn]}function Os(t,r){return null==r?null:t[r]}function Nn(t){t[Us]=0}function Wu(t){1024&t[rn]||(t[rn]|=1024,_t(t,1))}function _r(t){1024&t[rn]&&(t[rn]&=-1025,_t(t,-1))}function _t(t,r){let s=t[Rn];if(null===s)return;s[Do]+=r;let a=s;for(s=s[Rn];null!==s&&(1===r&&1===a[Do]||-1===r&&0===a[Do]);)s[Do]+=r,a=s,s=s[Rn]}const wt={lFrame:$c(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Uc(){return wt.bindingsEnabled}function X(){return wt.lFrame.lView}function wn(){return wt.lFrame.tView}function Es(t){return wt.lFrame.contextLView=t,t[gr]}function Ua(t){return wt.lFrame.contextLView=null,t}function ni(){let t=ho();for(;null!==t&&64===t.type;)t=t.parent;return t}function ho(){return wt.lFrame.currentTNode}function es(t,r){const s=wt.lFrame;s.currentTNode=t,s.isParent=r}function Ku(){return wt.lFrame.isParent}function Yu(){wt.lFrame.isParent=!1}function _(){const t=wt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function V(){return wt.lFrame.bindingIndex++}function J(t){const r=wt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function It(t,r){const s=wt.lFrame;s.bindingIndex=s.bindingRootIndex=t,rr(r)}function rr(t){wt.lFrame.currentDirectiveIndex=t}function fo(){return wt.lFrame.currentQueryIndex}function Wo(t){wt.lFrame.currentQueryIndex=t}function ma(t){const r=t[mt];return 2===r.type?r.declTNode:1===r.type?t[jr]:null}function fu(t,r,s){if(s&yt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&yt.Host||(c=ma(d),null===c||(d=d[xs],10&c.type))););if(null===c)return!1;r=c,t=d}const a=wt.lFrame=jc();return a.currentTNode=r,a.lView=t,!0}function qo(t){const r=jc(),s=t[mt];wt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function jc(){const t=wt.lFrame,r=null===t?null:t.child;return null===r?$c(t):r}function $c(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Zf(){const t=wt.lFrame;return wt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Hc=Zf;function Jd(){const t=Zf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ts(){return wt.lFrame.selectedIndex}function Ko(t){wt.lFrame.selectedIndex=t}function Fr(){const t=wt.lFrame;return Fa(t.tView,t.selectedIndex)}function Qf(){wt.lFrame.currentNamespace=Nc}function eh(){!function ja(){wt.lFrame.currentNamespace=null}()}let Mi=!0;function Zu(){return Mi}function Ts(t){Mi=t}function hr(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:P,ngOnDestroy:B}=d;g&&(t.contentHooks??=[]).push(-s,g),v&&((t.contentHooks??=[]).push(s,v),(t.contentCheckHooks??=[]).push(s,v)),C&&(t.viewHooks??=[]).push(-s,C),P&&((t.viewHooks??=[]).push(s,P),(t.viewCheckHooks??=[]).push(s,P)),null!=B&&(t.destroyHooks??=[]).push(s,B)}}function $a(t,r,s){th(t,r,3,s)}function wi(t,r,s,a){(3&t[rn])===s&&th(t,r,s,a)}function Zn(t,r){let s=t[rn];(3&s)===r&&(s&=8191,s+=1,t[rn]=s)}function th(t,r,s,a){const d=a??-1,g=r.length-1;let v=0;for(let C=void 0!==a?65535&t[Us]:0;C<g;C++)if("number"==typeof r[C+1]){if(v=r[C],null!=a&&v>=a)break}else r[C]<0&&(t[Us]+=65536),(v<d||-1==d)&&(zs(t,s,r,C),t[Us]=(4294901760&t[Us])+C+2),C++}function Yo(t,r){co(4,t,r);const s=Xi(null);try{r.call(t)}finally{Xi(s),co(5,t,r)}}function zs(t,r,s,a){const c=s[a]<0,d=s[a+1],v=t[c?-s[a]:s[a]];c?t[rn]>>13<t[Us]>>16&&(3&t[rn])===r&&(t[rn]+=8192,Yo(v,d)):Yo(v,d)}const Zo=-1;class gu{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function jl(t){return t!==Zo}function po(t){return 32767&t}function Ha(t,r){let s=function Qo(t){return t>>16}(t),a=r;for(;s>0;)a=a[xs],s--;return a}let Ro=!0;function ws(t){const r=Ro;return Ro=t,r}const Xo=255,Xu=5;let Ju=0;const go={};function Jo(t,r){const s=Ga(t,r);if(-1!==s)return s;const a=r[mt];a.firstCreatePass&&(t.injectorIndex=r.length,za(a.data,t),za(r,null),za(a.blueprint,null));const c=Wa(t,r),d=t.injectorIndex;if(jl(c)){const g=po(c),v=Ha(c,r),C=v[mt].data;for(let P=0;P<8;P++)r[d+P]=v[g+P]|C[g+P]}return r[d+8]=c,d}function za(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Ga(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Wa(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=qa(c),null===a)return Zo;if(s++,c=c[xs],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Zo}function ec(t,r,s){!function _u(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Rr)&&(a=s[Rr]),null==a&&(a=s[Rr]=Ju++);const c=a&Xo;r.data[t+(c>>Xu)]|=1<<c}(t,r,s)}function vu(t,r,s){if(s&yt.Optional||void 0!==t)return t;ve()}function Hl(t,r,s,a){if(s&yt.Optional&&void 0===a&&(a=null),!(s&(yt.Self|yt.Host))){const c=t[Yi],d=sr(void 0);try{return c?c.get(r,a,s&yt.Optional):Xr(r,a,s&yt.Optional)}finally{sr(d)}}return vu(a,0,s)}function zl(t,r,s,a=yt.Default,c){if(null!==t){if(2048&r[rn]&&!(a&yt.Self)){const g=function yr(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[rn]&&!(512&g[rn]);){const v=Gl(d,g,s,a|yt.Self,go);if(v!==go)return v;let C=d.parent;if(!C){const P=g[so];if(P){const B=P.get(s,go,a);if(B!==go)return B}C=qa(g),g=g[xs]}d=C}return c}(t,r,s,a,go);if(g!==go)return g}const d=Gl(t,r,s,a,go);if(d!==go)return d}return Hl(r,s,a,c)}function Gl(t,r,s,a,c){const d=function rh(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Rr)?t[Rr]:void 0;return"number"==typeof r?r>=0?r&Xo:sh:r}(s);if("function"==typeof d){if(!fu(r,t,a))return a&yt.Host?vu(c,0,a):Hl(r,s,a,c);try{let g;if(g=d(a),null!=g||a&yt.Optional)return g;ve()}finally{Hc()}}else if("number"==typeof d){let g=null,v=Ga(t,r),C=Zo,P=a&yt.Host?r[Er][jr]:null;for((-1===v||a&yt.SkipSelf)&&(C=-1===v?Wa(t,r):r[v+8],C!==Zo&&ea(a,!1)?(g=r[mt],v=po(C),r=Ha(C,r)):v=-1);-1!==v;){const B=r[mt];if(Vr(d,v,B.data)){const Z=nh(v,r,s,g,a,P);if(Z!==go)return Z}C=r[v+8],C!==Zo&&ea(a,r[mt].data[v+8]===P)&&Vr(d,v,r)?(g=B,v=po(C),r=Ha(C,r)):v=-1}}return c}function nh(t,r,s,a,c,d){const g=r[mt],v=g.data[t+8],B=tc(v,g,s,null==a?N(v)&&Ro:a!=g&&0!=(3&v.type),c&yt.Host&&d===v);return null!==B?Gr(r,g,B,v):go}function tc(t,r,s,a,c){const d=t.providerIndexes,g=r.data,v=1048575&d,C=t.directiveStart,B=d>>20,le=c?v+B:t.directiveEnd;for(let Ee=a?v:v+B;Ee<le;Ee++){const je=g[Ee];if(Ee<C&&s===je||Ee>=C&&je.type===s)return Ee}if(c){const Ee=g[C];if(Ee&&Q(Ee)&&Ee.type===s)return C}return null}function Gr(t,r,s,a){let c=t[s];const d=r.data;if(function xi(t){return t instanceof gu}(c)){const g=c;g.resolving&&function Tt(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new ze(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Ze(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():lt(t)}(d[s]));const v=ws(g.canSeeViewProviders);g.resolving=!0;const P=g.injectImpl?sr(g.injectImpl):null;fu(t,a,yt.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Gc(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=Nt(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==P&&sr(P),ws(v),g.resolving=!1,Hc()}}return c}function Vr(t,r,s){return!!(s[r+(t>>Xu)]&1<<t)}function ea(t,r){return!(t&yt.Self||t&yt.Host&&r)}class Ni{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return zl(this._tNode,this._lView,r,Wt(a),s)}}function sh(){return new Ni(ni(),X())}function Wl(t){return cr(()=>{const r=t.prototype.constructor,s=r[qi]||Dn(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[qi]||Dn(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Dn(t){return te(t)?()=>{const r=Dn(Fe(t));return r&&r()}:oi(t)}function qa(t){const r=t[mt],s=r.type;return 2===s?r.declTNode:1===s?t[jr]:null}function nc(t){return function yu(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(gt(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(ni(),t)}const Ka="__parameters__";function ta(t,r,s){return cr(()=>{const a=function qc(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return v.annotation=g,v;function v(C,P,B){const Z=C.hasOwnProperty(Ka)?C[Ka]:Object.defineProperty(C,Ka,{value:[]})[Ka];for(;Z.length<=B;)Z.push(null);return(Z[B]=Z[B]||[]).push(g),C}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Ls(t,r){t.forEach(s=>Array.isArray(s)?Ls(s,r):r(s))}function ah(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Po(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function fs(t,r,s){let a=Mo(t,r);return a>=0?t[1|a]=s:(a=~a,function hs(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Qa(t,r){const s=Mo(t,r);if(s>=0)return t[1|s]}function Mo(t,r){return function Xa(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const O=ln(ta("Optional"),8),ce=ln(ta("SkipSelf"),4);function _i(t){return 128==(128&t.flags)}var Jl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Jl||{});const nm=/^>|^->|<!--|-->|--!>|<!-$/g,mh=/(<|>)/g,rm="\u200b$1\u200b";const _h=new Map;let sm=0;const op="__ngContext__";function Ds(t,r){fi(r)?(t[op]=r[Bi],function ed(t){_h.set(t[Bi],t)}(r)):t[op]=r}let Ih;function uc(t,r){return Ih(t,r)}function cc(t){const r=t[Rn];return qn(r)?r[Rn]:r}function cp(t){return dp(t[io])}function lp(t){return dp(t[Ei])}function dp(t){for(;null!==t&&!qn(t);)t=t[Ei];return t}function tl(t,r,s,a,c){if(null!=a){let d,g=!1;qn(a)?d=a:fi(a)&&(g=!0,a=a[Mn]);const v=wr(a);0===t&&null!==s?null==c?_m(r,s,v):bu(r,s,v,c||null,!0):1===t&&null!==s?bu(r,s,v,c||null,!0):2===t?function dc(t,r,s){const a=Ca(t,r);a&&function Ah(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,v,g):3===t&&r.destroyNode(v),null!=d&&function fy(t,r,s,a,c){const d=s[mr];d!==wr(s)&&tl(r,t,a,d,c);for(let v=er;v<s.length;v++){const C=s[v];ad(C[mt],C,t,r,a,d)}}(r,t,d,s,c)}}function rd(t,r){return t.createComment(function im(t){return t.replace(nm,r=>r.replace(mh,rm))}(r))}function Th(t,r,s){return t.createElement(r,s)}function gm(t,r){const s=t[yo],a=s.indexOf(r);_r(r),s.splice(a,1)}function wh(t,r){if(t.length<=er)return;const s=er+r,a=t[s];if(a){const c=a[Zi];null!==c&&c!==t&&gm(c,a),r>0&&(t[s-1][Ei]=a[Ei]);const d=Po(t,er+r);!function hm(t,r){ad(t,r,r[Xt],2,null,null),r[Mn]=null,r[jr]=null}(a[mt],a);const g=d[hi];null!==g&&g.detachView(d[mt]),a[Rn]=null,a[Ei]=null,a[rn]&=-129}return a}function Da(t,r){if(!(256&r[rn])){const s=r[Xt];r[ji]&&$s(r[ji]),r[$i]&&$s(r[$i]),s.destroyNode&&ad(t,r,s,3,null,null),function ly(t){let r=t[io];if(!r)return Cu(t[mt],t);for(;r;){let s=null;if(fi(r))s=r[io];else{const a=r[er];a&&(s=a)}if(!s){for(;r&&!r[Ei]&&r!==t;)fi(r)&&Cu(r[mt],r),r=r[Rn];null===r&&(r=t),fi(r)&&Cu(r[mt],r),s=r&&r[Ei]}r=s}}(r)}}function Cu(t,r){if(!(256&r[rn])){r[rn]&=-129,r[rn]|=256,function hy(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof gu)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const v=c[d[g]],C=d[g+1];co(4,v,C);try{C.call(v)}finally{co(5,v,C)}}else{co(4,c,d);try{d.call(c)}finally{co(5,c,d)}}}}}(t,r),function mm(t,r){const s=t.cleanup,a=r[mo];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[mo]=null);const c=r[ys];if(null!==c){r[ys]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[mt].type&&r[Xt].destroy();const s=r[Zi];if(null!==s&&qn(r[Rn])){s!==r[Rn]&&gm(s,r);const a=r[hi];null!==a&&a.detachView(t)}!function td(t){_h.delete(t[Bi])}(r)}}function Dh(t,r,s){return function Aa(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Mn];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===lr.None||d===lr.Emulated)return null}return Pi(a,s)}}(t,r.parent,s)}function bu(t,r,s,a,c){t.insertBefore(r,s,a,c)}function _m(t,r,s){t.appendChild(r,s)}function fp(t,r,s,a,c){null!==a?bu(t,r,s,a,c):_m(t,r,s)}function Ca(t,r){return t.parentNode(r)}let id,cd,ld,pc,Ch=function pp(t,r,s){return 40&t.type?Pi(t,s):null};function sd(t,r,s,a){const c=Dh(t,a,r),d=r[Xt],v=function il(t,r,s){return Ch(t,r,s)}(a.parent||r[jr],a,r);if(null!=c)if(Array.isArray(s))for(let C=0;C<s.length;C++)fp(d,c,s[C],v,!1);else fp(d,c,s,v,!1);void 0!==id&&id(d,a,r,s,c)}function od(t,r){if(null!==r){const s=r.type;if(3&s)return Pi(r,t);if(4&s)return bh(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return od(t,a);{const c=t[r.index];return qn(c)?bh(-1,c):wr(c)}}if(32&s)return uc(r,t)()||wr(t[r.index]);{const a=mp(t,r);return null!==a?Array.isArray(a)?a[0]:od(cc(t[Er]),a):od(t,r.next)}}return null}function mp(t,r){return null!==r?t[Er][jr].projection[r.projection]:null}function bh(t,r){const s=er+t+1;if(s<r.length){const a=r[s],c=a[mt].firstChild;if(null!==c)return od(a,c)}return r[mr]}function tu(t,r,s,a,c,d,g){for(;null!=s;){const v=a[s.index],C=s.type;if(g&&0===r&&(v&&Ds(wr(v),a),s.flags|=2),32!=(32&s.flags))if(8&C)tu(t,r,s.child,a,c,d,!1),tl(r,t,c,v,d);else if(32&C){const P=uc(s,a);let B;for(;B=P();)tl(r,t,c,B,d);tl(r,t,c,v,d)}else 16&C?vm(t,r,a,s,c,d):tl(r,t,c,v,d);s=g?s.projectionNext:s.next}}function ad(t,r,s,a,c,d){tu(s,a,t.firstChild,r,c,d,!1)}function vm(t,r,s,a,c,d){const g=s[Er],C=g[jr].projection[a.projection];if(Array.isArray(C))for(let P=0;P<C.length;P++)tl(r,t,c,C[P],d);else{let P=C;const B=g[Rn];_i(a)&&(P.flags|=128),tu(t,r,P,B,c,d,!0)}}function Su(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function nu(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&Ye(t,r,a),null!==c&&Su(t,r,c),null!==d&&function ud(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function hc(t){return function Sh(){if(void 0===cd&&(cd=null,Mt.trustedTypes))try{cd=Mt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return cd}()?.createHTML(t)||t}function yp(t){ld=t}function Tm(t){return function vp(){if(void 0===pc&&(pc=null,Mt.trustedTypes))try{pc=Mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pc}()?.createScriptURL(t)||t}class Ru{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ve})`}}class ol extends Ru{getTypeName(){return"HTML"}}class hd extends Ru{getTypeName(){return"Style"}}class al extends Ru{getTypeName(){return"Script"}}class wm extends Ru{getTypeName(){return"URL"}}class Dm extends Ru{getTypeName(){return"ResourceURL"}}function ci(t){return t instanceof Ru?t.changingThisBreaksApplicationSecurity:t}function gc(t,r){const s=function Ph(t){return t instanceof Ru&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Ve})`)}return s===r}function Mh(t){return new ol(t)}function Am(t){return new hd(t)}function Pu(t){return new al(t)}function ul(t){return new wm(t)}function Cm(t){return new Dm(t)}class my{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(hc(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class cl{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=hc(r),s}}const xu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fd(t){return(t=String(t)).match(xu)?t:"unsafe:"+t}function ru(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function ll(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Sm=ru("area,br,col,hr,img,wbr"),Ip=ru("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rm=ru("rp,rt"),xh=ll(Sm,ll(Ip,ru("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ll(Rm,ru("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ll(Rm,Ip)),Tp=ru("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hl=ll(Tp,ru("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ru("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pm=ru("script,style,template");class Mm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!xh.hasOwnProperty(s))return this.sanitizedSomething=!0,!Pm.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),g=d.name,v=g.toLowerCase();if(!hl.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let C=d.value;Tp[v]&&(C=fd(C)),this.buf.push(" ",g,'="',Nm(C),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();xh.hasOwnProperty(s)&&!Sm.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Nm(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const yy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xm=/([^\#-~ |!])/g;function Nm(t){return t.replace(/&/g,"&amp;").replace(yy,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(xm,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nh;function Oh(t,r){let s=null;try{Nh=Nh||function Mu(t){const r=new cl(t);return function bm(){try{return!!(new window.DOMParser).parseFromString(hc(""),"text/html")}catch{return!1}}()?new my(r):r}(t);let a=r?String(r):"";s=Nh.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=s.innerHTML,s=Nh.getInertBodyElement(a)}while(a!==d);return hc((new Mm).sanitizeChildren(Gi(s)||s))}finally{if(s){const a=Gi(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Gi(t){return"content"in t&&function vy(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(mc||{});function pd(t){const r=Nu();return r?r.sanitize(mc.URL,t)||"":gc(t,"URL")?ci(t):fd(lt(t))}function Om(t){const r=Nu();if(r)return Tm(r.sanitize(mc.RESOURCE_URL,t)||"");if(gc(t,"ResourceURL"))return Tm(ci(t));throw new ze(904,!1)}function Fh(t,r,s){return function km(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Om:pd}(r,s)(t)}function Nu(){const t=X();return t&&t[ii].sanitizer}const _c=new tn("ENVIRONMENT_INITIALIZER"),Uh=new tn("INJECTOR",-1),Fm=new tn("INJECTOR_DEF_TYPES");class Bh{get(r,s=We){if(s===We){const a=new Error(`NullInjectorError: No provider for ${be(r)}!`);throw a.name="NullInjectorError",a}return s}}function Um(...t){return{\u0275providers:wp(0,t),\u0275fromNgModule:!0}}function wp(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return Ls(r,g=>{const v=g;$h(v,d,[],a)&&(c||=[],c.push(v))}),void 0!==c&&jh(c,d),s}function jh(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];Dp(c,d=>{r(d,a)})}}function $h(t,r,s,a){if(!(t=Fe(t)))return!1;let c=null,d=Ar(t);const g=!d&&fn(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const C=t.ngModule;if(d=Ar(C),!d)return!1;c=C}const v=a.has(c);if(g){if(v)return!1;if(a.add(c),g.dependencies){const C="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const P of C)$h(P,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let P;a.add(c);try{Ls(d.imports,B=>{$h(B,r,s,a)&&(P||=[],P.push(B))})}finally{}void 0!==P&&jh(P,r)}if(!v){const P=oi(c)||(()=>new c);r({provide:c,useFactory:P,deps:Lt},c),r({provide:Fm,useValue:c,multi:!0},c),r({provide:_c,useValue:()=>ge(c),multi:!0},c)}const C=d.providers;if(null!=C&&!v){const P=t;Dp(C,B=>{r(B,P)})}}}return c!==t&&void 0!==t.providers}function Dp(t,r){for(let s of t)qt(s)&&(s=s.\u0275providers),Array.isArray(s)?Dp(s,r):r(s)}const Bm=dt({provide:String,useValue:dt});function Ap(t){return null!==t&&"object"==typeof t&&Bm in t}function iu(t){return"function"==typeof t}const zh=new tn("Set Injector scope."),gd={},jm={};let Cp;function fl(){return void 0===Cp&&(Cp=new Bh),Cp}class ba{}class Ou extends ba{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_d(r,g=>this.processProvider(g)),this.records.set(Uh,Sa(void 0,this)),c.has("environment")&&this.records.set(ba,Sa(void 0,this));const d=this.records.get(zh);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Fm.multi,Lt,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=ar(this),a=sr(void 0);try{return r()}finally{ar(s),sr(a)}}get(r,s=We,a=yt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(di))return r[di](this);a=Wt(a);const d=ar(this),g=sr(void 0);try{if(!(a&yt.SkipSelf)){let C=this.records.get(r);if(void 0===C){const P=function Rp(t){return"function"==typeof t||"object"==typeof t&&t instanceof tn}(r)&&zn(r);C=P&&this.injectableDefInScope(P)?Sa(Gh(r),gd):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&yt.Self?fl():this.parent).get(r,s=a&yt.Optional&&s===We?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[Gt]=v[Gt]||[]).unshift(be(r)),d)throw v;return function ur(t,r,s,a){const c=t[Gt];throw r[Sn]&&c.unshift(r[Sn]),t.message=function Ai(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=be(r);if(Array.isArray(r))c=r.map(be).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let v=r[g];d.push(g+":"+("string"==typeof v?JSON.stringify(v):be(v)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(hn,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Gt]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{sr(g),ar(d)}}resolveInjectorInitializers(){const r=ar(this),s=sr(void 0);try{const c=this.get(_c.multi,Lt,yt.Self);for(const d of c)d()}finally{ar(r),sr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(be(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(r){let s=iu(r=Fe(r))?r:Fe(r&&r.provide);const a=function bp(t){return Ap(t)?Sa(void 0,t.useValue):Sa(md(t),gd)}(r);if(iu(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Sa(void 0,gd,!0),c.factory=()=>nn(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===gd&&(s.value=jm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Sp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Fe(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Gh(t){const r=zn(t),s=null!==r?r.factory:oi(t);if(null!==s)return s;if(t instanceof tn)throw new ze(204,!1);if(t instanceof Function)return function $m(t){const r=t.length;if(r>0)throw function rc(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new ze(204,!1);const s=function Ur(t){return t&&(t[Un]||t[bn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new ze(204,!1)}function md(t,r,s){let a;if(iu(t)){const c=Fe(t);return oi(c)||Gh(c)}if(Ap(t))a=()=>Fe(t.useValue);else if(function vc(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...nn(t.deps||[]));else if(function yc(t){return!(!t||!t.useExisting)}(t))a=()=>ge(Fe(t.useExisting));else{const c=Fe(t&&(t.useClass||t.provide));if(!function Wh(t){return!!t.deps}(t))return oi(c)||Gh(c);a=()=>new c(...nn(t.deps))}return a}function Sa(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function _d(t,r){for(const s of t)Array.isArray(s)?_d(s,r):s&&qt(s)?_d(s.\u0275providers,r):r(s)}const Pp=new tn("AppId",{providedIn:"root",factory:()=>Dy}),Dy="ng",Mp=new tn("Platform Initializer"),pl=new tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ay=new tn("AnimationModuleType"),Cy=new tn("CSP nonce",{providedIn:"root",factory:()=>function fc(){if(void 0!==ld)return ld;if(typeof document<"u")return document;throw new ze(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Kh=(t,r,s)=>null;function Dd(t,r,s=!1){return Kh(t,r,s)}class Il{}class Yh{}class Km{resolveComponentFactory(r){throw function Py(t){const r=Error(`No component factory found for ${be(t)}.`);return r.ngComponent=t,r}(r)}}let Zh=(()=>{class t{static#e=this.NULL=new Km}return t})();function Vp(){return El(ni(),X())}function El(t,r){return new Tc(Pi(t,r))}let Tc=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=Vp}return t})();function xy(t){return t instanceof Tc?t.nativeElement:t}class Qh{}let Ny=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Up(){const t=X(),s=Dr(ni().index,t);return(fi(s)?s:t)[Xt]}()}return t})(),Ym=(()=>{class t{static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:()=>null})}return t})();class Xh{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Jh=new Xh("16.2.12"),Sd={};function tf(t,r=null,s=null,a){const c=nf(t,r,s,a);return c.resolveInjectorInitializers(),c}function nf(t,r=null,s=null,a,c=new Set){const d=[s||Lt,Um(t)];return a=a||("object"==typeof t?void 0:be(t)),new Ou(d,r||fl(),a||null,c)}let sa=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=We;static#t=this.NULL=new Bh;static create(s,a){if(Array.isArray(s))return tf({name:""},a,s,"");{const c=s.name??"";return tf({name:c},s.parent,s.providers,c)}}static#n=this.\u0275prov=pn({token:t,providedIn:"any",factory:()=>ge(Uh)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Pd(t){return t.ngOriginalError}class Lu{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Pd(r);for(;s&&Pd(s);)s=Pd(s);return s||null}}function sf(t){return r=>{setTimeout(t,void 0,r)}}const oa=class e_ extends m.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const C=r;c=C.next?.bind(C),d=C.error?.bind(C),g=C.complete?.bind(C)}this.__isAsync&&(d=sf(d),c&&(c=sf(c)),g&&(g=sf(g)));const v=super.subscribe({next:c,error:d,complete:g});return r instanceof q.w0&&r.add(v),v}};function t_(...t){}class gs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oa(!1),this.onMicrotaskEmpty=new oa(!1),this.onStable=new oa(!1),this.onError=new oa(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Fy(){const t="function"==typeof Mt.requestAnimationFrame;let r=Mt[t?"requestAnimationFrame":"setTimeout"],s=Mt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Vy(t){const r=()=>{!function Hp(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Mt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,xd(t),t.isCheckStableRunning=!0,Md(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),xd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,v)=>{if(function Uy(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return s.invokeTask(c,d,g,v);try{return n_(t),s.invokeTask(c,d,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),af(t)}},onInvoke:(s,a,c,d,g,v,C)=>{try{return n_(t),s.invoke(c,d,g,v,C)}finally{t.shouldCoalesceRunChangeDetection&&r(),af(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,xd(t),Md(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gs.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(gs.isInAngularZone())throw new ze(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,$p,t_,t_);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const $p={};function Md(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function n_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function af(t){t._nesting--,Md(t)}class r_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oa,this.onMicrotaskEmpty=new oa,this.onStable=new oa,this.onError=new oa}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const uf=new tn("",{providedIn:"root",factory:zp});function zp(){const t=nt(gs);let r=!0;return function _e(...t){const r=(0,pe.yG)(t),s=(0,pe._6)(t,1/0),a=t;return a.length?1===a.length?(0,ae.Xf)(a[0]):(0,se.J)(s)((0,re.D)(a,r)):ie.E}(new he.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),new he.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{gs.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{gs.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}}).pipe((0,ye.B)()))}function cf(t){return t.ownerDocument.defaultView}function i_(t){return t.ownerDocument}function aa(t){return t instanceof Function?t():t}let hf=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Dc(t){for(;t;){t[rn]|=64;const r=cc(t);if(ee(t)&&!r)return t;t=r}return null}const Pa=new tn("",{providedIn:"root",factory:()=>!1});let Nd=null;function mf(t,r){return t[r]??_f()}function Yp(t,r){const s=_f();s.producerNode?.length&&(t[r]=Nd,s.lView=t,Nd=l_())}const Hy={...Bn,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Dc(t.lView)},lView:null};function l_(){return Object.create(Hy)}function _f(){return Nd??=l_(),Nd}const Tn={};function yf(t){vf(wn(),X(),ts()+t,!1)}function vf(t,r,s,a){if(!a)if(3==(3&r[rn])){const d=t.preOrderCheckHooks;null!==d&&$a(r,d,s)}else{const d=t.preOrderHooks;null!==d&&wi(r,d,0,s)}Ko(s)}function Fu(t,r=yt.Default){const s=X();return null===s?ge(t,r):zl(ni(),s,Fe(t),r)}function d_(){throw new Error("invalid")}function Ef(t,r,s,a,c,d,g,v,C,P,B){const Z=r.blueprint.slice();return Z[Mn]=c,Z[rn]=140|a,(null!==P||t&&2048&t[rn])&&(Z[rn]|=2048),Nn(Z),Z[Rn]=Z[xs]=t,Z[gr]=s,Z[ii]=g||t&&t[ii],Z[Xt]=v||t&&t[Xt],Z[Yi]=C||t&&t[Yi]||null,Z[jr]=d,Z[Bi]=function ip(){return sm++}(),Z[$r]=B,Z[so]=P,Z[Er]=2==r.type?t[Er]:Z,Z}function Ac(t,r,s,a,c){let d=t.data[r];if(null===d)d=function Tf(t,r,s,a,c){const d=ho(),g=Ku(),C=t.data[r]=function Af(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,v=0;return function ai(){return null!==wt.skipHydrationRootTNode}()&&(v|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=C),null!==d&&(g?null==d.child&&null!==C.parent&&(d.child=C):null===d.next&&(d.next=C,C.prev=d)),C}(t,r,s,a,c),function Ce(){return wt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function Ba(){const t=wt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return es(d,!0),d}function Ma(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Zp(t,r,s,a,c){const d=mf(r,ji),g=ts(),v=2&a;try{Ko(-1),v&&r.length>In&&vf(t,r,In,!1),co(v?2:0,c);const P=v?d:null,B=vo(P);try{null!==P&&(P.dirty=!1),s(a,c)}finally{ka(P,B)}}finally{v&&null===r[ji]&&Yp(r,ji),Ko(g),co(v?3:1,c)}}function bl(t,r,s){if(vs(r)){const a=Xi(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,s[g],g)}}finally{Xi(a)}}}function Qp(t,r,s){Uc()&&(function Gy(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;N(s)&&function I_(t,r,s){const a=Pi(r,t),c=h_(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const v=Od(t,Ef(t,c,null,g,a,r,null,t[ii].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=v}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||Jo(s,r),Ds(a,r);const g=s.initialInputs;for(let v=c;v<d;v++){const C=t.data[v],P=Gr(r,t,v,s);Ds(P,r),null!==g&&E_(0,v-c,P,C,0,g),Q(C)&&(Dr(s.index,r)[gr]=Gr(r,t,v,s))}}(t,r,s,Pi(s,r)),64==(64&s.flags)&&og(t,r,s))}function Xp(t,r,s=Pi){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],v=-1===g?s(r,t):t[g];t[c++]=v}}}function h_(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Jp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Jp(t,r,s,a,c,d,g,v,C,P,B){const Z=In+a,le=Z+c,Ee=function wf(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Tn);return s}(Z,le),je="function"==typeof P?P():P;return Ee[mt]={type:t,blueprint:Ee,template:s,queries:null,viewQuery:v,declTNode:r,data:Ee.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:je,incompleteFirstPass:!1,ssrId:B}}let Df=t=>null;function Cf(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?ig(s,r,c,d):a.hasOwnProperty(c)&&ig(s,r,a[c],d)}return s}function ig(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function qs(t,r,s,a,c,d,g,v){const C=Pi(r,s);let B,P=r.inputs;!v&&null!=P&&(B=P[a])?(w_(t,s,B,a,c),N(r)&&function g_(t,r){const s=Dr(r,t);16&s[rn]||(s[rn]|=64)}(s,r.index)):3&r.type&&(a=function p_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(C,a,c))}function sg(t,r,s,a){if(Uc()){const c=null===a?null:{"":-1},d=function qy(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(Qs(r,g.selectors,!1))if(a||(a=[]),Q(g))if(null!==g.findHostDirectiveDefs){const v=[];c=c||new Map,g.findHostDirectiveDefs(g,v,c),a.unshift(...v,g),ag(t,r,v.length)}else a.unshift(g),ag(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,v;null===d?g=v=null:[g,v]=d,null!==g&&__(t,r,s,g,c,v),c&&function Ky(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new ze(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=Wn(s.mergedAttrs,s.attrs)}function __(t,r,s,a,c,d){for(let P=0;P<a.length;P++)ec(Jo(s,r),t,a[P].type);!function Zy(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let P=0;P<a.length;P++){const B=a[P];B.providersResolver&&B.providersResolver(B)}let g=!1,v=!1,C=Ma(t,r,a.length,null);for(let P=0;P<a.length;P++){const B=a[P];s.mergedAttrs=Wn(s.mergedAttrs,B.hostAttrs),v_(t,s,r,C,B),Yy(C,B,c),null!==B.contentQueries&&(s.flags|=4),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(s.flags|=64);const Z=B.type.prototype;!g&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!v&&(Z.ngOnChanges||Z.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),v=!0),C++}!function Sl(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,v=[];let C=null,P=null;for(let B=r.directiveStart;B<c;B++){const Z=d[B],le=s?s.get(Z):null,je=le?le.outputs:null;C=Cf(Z.inputs,B,C,le?le.inputs:null),P=Cf(Z.outputs,B,P,je);const ot=null===C||null===g||Fi(r)?null:bf(C,B,g);v.push(ot)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=8),C.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=v,r.inputs=C,r.outputs=P}(t,s,d)}function og(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function dn(){return wt.lFrame.currentDirectiveIndex}();try{Ko(d);for(let v=a;v<c;v++){const C=t.data[v],P=r[v];rr(v),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Wy(C,P)}}finally{Ko(-1),rr(g)}}function Wy(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function ag(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function Yy(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Q(r)&&(s[""]=t)}}function v_(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=oi(c.type)),g=new gu(d,Q(c),Fu);t.blueprint[a]=g,s[a]=g,function zy(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~r.index;(function y_(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=v&&g.push(v),g.push(s,a,d)}}(t,r,a,Ma(t,s,c.hostVars,Tn),c)}function No(t,r,s,a,c,d){const g=Pi(t,r);!function ug(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const v=null==g?lt(d):g(d,a||"",c);t.setAttribute(r,c,v,s)}}(r[Xt],g,d,t.value,s,a,c)}function E_(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let v=0;v<g.length;)cg(a,s,g[v++],g[v++],g[v++])}function cg(t,r,s,a,c){const d=Xi(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{Xi(d)}}function bf(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let v=0;v<g.length;v+=2)if(g[v]===r){a.push(d,g[v+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function $n(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function lg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];Wo(s[a]),g.contentQueries(2,r[d],d)}}}function Od(t,r){return t[io]?t[cs][Ei]=r:t[io]=r,t[cs]=r,r}function Cc(t,r,s){Wo(0);const a=Xi(null);try{r(t,s)}finally{Xi(a)}}function ms(t){return t[mo]||(t[mo]=[])}function Di(t){return t.cleanup||(t.cleanup=[])}function T_(t,r){const s=t[Yi],a=s?s.get(Lu,null):null;a&&a.handleError(r)}function w_(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],v=s[d++];cg(t.data[g],r[g],a,v,c)}}function xa(t,r,s){const a=pa(r,t);!function nl(t,r,s){t.setValue(r,s)}(t[Xt],a,s)}function RI(t,r){const s=Dr(r,t),a=s[mt];!function D_(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[Mn];null!==c&&null===s[$r]&&(s[$r]=Dd(c,s[Yi])),dg(a,s,s[gr])}function dg(t,r,s){qo(r);try{const a=t.viewQuery;null!==a&&Cc(1,a,s);const c=t.template;null!==c&&Zp(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&lg(t,r),t.staticViewQueries&&Cc(2,t.viewQuery,s);const d=t.components;null!==d&&function hg(t,r){for(let s=0;s<r.length;s++)RI(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[rn]&=-5,Jd()}}let A_=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function bo(t,r,s){const a=Object.create(Yn);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>Co(a),run:()=>{if(a.dirty=!1,a.hasRun&&!fa(a))return;a.hasRun=!0;const g=vo(a);try{a.cleanupFn(),a.cleanupFn=qe,a.fn(c)}finally{ka(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,P=>{this.all.has(P)&&this.queue.set(P,d)},c);let v;this.all.add(g),g.notify();const C=()=>{g.cleanup(),v?.(),this.all.delete(g),this.queue.delete(g)};return v=a?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Mr(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const v=r[g];"number"==typeof v?d=v:1==d?c=xe(c,v):2==d&&(a=xe(a,v+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function Sf(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(wr(d)),qn(d)&&C_(d,a);const g=s.type;if(8&g)Sf(t,r,s.child,a);else if(32&g){const v=uc(s,r);let C;for(;C=v();)a.push(C)}else if(16&g){const v=mp(r,s);if(Array.isArray(v))a.push(...v);else{const C=cc(r[Er]);Sf(C[mt],C,v,a,!0)}}s=c?s.projectionNext:s.next}return a}function C_(t,r){for(let s=er;s<t.length;s++){const a=t[s],c=a[mt].firstChild;null!==c&&Sf(a[mt],a,c,r)}t[mr]!==t[Mn]&&r.push(t[mr])}function li(t,r,s,a=!0){const c=r[ii],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{Xy(t,r,t.template,s)}catch(C){throw a&&T_(r,C),C}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function Xy(t,r,s,a){const c=r[rn];if(256!=(256&c)){r[ii].effectManager?.flush(),qo(r);try{Nn(r),function R(t){return wt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Zp(t,r,s,2,a);const g=3==(3&c);if(g){const P=t.preOrderCheckHooks;null!==P&&$a(r,P,null)}else{const P=t.preOrderHooks;null!==P&&wi(r,P,0,null),Zn(r,0)}if(function xI(t){for(let r=cp(t);null!==r;r=lp(r)){if(!r[Ao])continue;const s=r[yo];for(let a=0;a<s.length;a++){Wu(s[a])}}}(r),fg(r,2),null!==t.contentQueries&&lg(t,r),g){const P=t.contentCheckHooks;null!==P&&$a(r,P)}else{const P=t.contentHooks;null!==P&&wi(r,P,1),Zn(r,1)}!function If(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=mf(r,$i);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)Ko(~d);else{const g=d,v=s[++c],C=s[++c];It(v,g),a.dirty=!1;const P=vo(a);try{C(2,r[g])}finally{ka(a,P)}}}}finally{null===r[$i]&&Yp(r,$i),Ko(-1)}}(t,r);const v=t.components;null!==v&&ev(r,v,0);const C=t.viewQuery;if(null!==C&&Cc(2,C,a),g){const P=t.viewCheckHooks;null!==P&&$a(r,P)}else{const P=t.viewHooks;null!==P&&wi(r,P,2),Zn(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[rn]&=-73,_r(r)}finally{Jd()}}}function fg(t,r){for(let s=cp(t);null!==s;s=lp(s))for(let a=er;a<s.length;a++)Jy(s[a],r)}function NI(t,r,s){Jy(Dr(r,t),s)}function Jy(t,r){if(!function Zr(t){return 128==(128&t[rn])}(t))return;const s=t[mt],a=t[rn];if(80&a&&0===r||1024&a||2===r)Xy(s,t,s.template,t[gr]);else if(t[Do]>0){fg(t,1);const c=s.components;null!==c&&ev(t,c,1)}}function ev(t,r,s){for(let a=0;a<r.length;a++)NI(t,r[a],s)}class Rf{get rootNodes(){const r=this._lView,s=r[mt];return Sf(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gr]}set context(r){this._lView[gr]=r}get destroyed(){return 256==(256&this._lView[rn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Rn];if(qn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(wh(r,a),Po(s,a))}this._attachedToViewContainer=!1}Da(this._lView[mt],this._lView)}onDestroy(r){!function lo(t,r){if(256==(256&t[rn]))throw new ze(911,!1);null===t[ys]&&(t[ys]=[]),t[ys].push(r)}(this._lView,r)}markForCheck(){Dc(this._cdRefInjectingView||this._lView)}detach(){this._lView[rn]&=-129}reattach(){this._lView[rn]|=128}detectChanges(){li(this._lView[mt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fm(t,r){ad(t,r,r[Xt],2,null,null)}(this._lView[mt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=r}}class OI extends Rf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;li(r[mt],r,r[gr],!1)}checkNoChanges(){}get context(){return null}}class tv extends Zh{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=fn(r);return new ca(s,this.ngModule)}}function pg(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class nv{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=Wt(a);const c=this.injector.get(r,Sd,a);return c!==Sd||s===Sd?c:this.parentInjector.get(r,s,a)}}class ca extends Yh{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=pg(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return pg(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Uo(t){return t.map(du).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof ba?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new nv(r,d):r,v=g.get(Qh,null);if(null===v)throw new ze(407,!1);const Z={rendererFactory:v,sanitizer:g.get(Ym,null),effectManager:g.get(A_,null),afterRenderEventManager:g.get(hf,null)},le=v.createRenderer(null,this.componentDef),Ee=this.componentDef.selectors[0][0]||"div",je=a?function eg(t,r,s,a){const d=a.get(Pa,!1)||s===lr.ShadowDom,g=t.selectRootElement(r,d);return function tg(t){Df(t)}(g),g}(le,a,this.componentDef.encapsulation,g):Th(le,Ee,function kd(t){const r=t.toLowerCase();return"svg"===r?Nc:"math"===r?"math":null}(Ee)),Zt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Xe=null;null!==je&&(Xe=Dd(je,g,!0));const yn=Jp(0,null,null,1,0,null,null,null,null,null,null),Vn=Ef(null,yn,null,Zt,null,null,Z,le,g,null,Xe);let qr,Vo;qo(Vn);try{const Mc=this.componentDef;let Kf,vI=null;Mc.findHostDirectiveDefs?(Kf=[],vI=new Map,Mc.findHostDirectiveDefs(Mc,Kf,vI),Kf.push(Mc)):Kf=[Mc];const nb=function kI(t,r){const s=t[mt],a=In;return t[a]=r,Ac(s,a,2,"#host",null)}(Vn,je),rb=function gg(t,r,s,a,c,d,g){const v=c[mt];!function mg(t,r,s,a){for(const c of t)r.mergedAttrs=Wn(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Mr(r,r.mergedAttrs,!0),null!==s&&nu(a,s,r))}(a,t,r,g);let C=null;null!==r&&(C=Dd(r,c[Yi]));const P=d.rendererFactory.createRenderer(r,s);let B=16;s.signals?B=4096:s.onPush&&(B=64);const Z=Ef(c,h_(s),null,B,c[t.index],t,d,P,null,null,C);return v.firstCreatePass&&ag(v,t,a.length-1),Od(c,Z),c[t.index]=Z}(nb,je,Mc,Kf,Vn,Z,le);Vo=Fa(yn,In),je&&function iv(t,r,s,a){if(a)Ye(t,s,["ng-version",Jh.full]);else{const{attrs:c,classes:d}=function Js(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!pr(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&Ye(t,s,c),d&&d.length>0&&Su(t,s,d.join(" "))}}(le,Mc,je,a),void 0!==s&&function b_(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(Vo,this.ngContentSelectors,s),qr=function rv(t,r,s,a,c,d){const g=ni(),v=c[mt],C=Pi(g,c);__(v,c,g,s,null,a);for(let B=0;B<s.length;B++)Ds(Gr(c,v,g.directiveStart+B,g),c);og(v,c,g),C&&Ds(C,c);const P=Gr(c,v,g.directiveStart+g.componentOffset,g);if(t[gr]=c[gr]=P,null!==d)for(const B of d)B(P,r);return bl(v,g,t),P}(rb,Mc,Kf,vI,Vn,[S_]),dg(yn,Vn,null)}finally{Jd()}return new Pl(this.componentType,qr,El(Vo,Vn),Vn,Vo)}}class Pl extends Il{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new OI(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;w_(d[mt],d,c,r,s),this.previousInputValues.set(r,s),Dc(Dr(this._tNode.index,d))}}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function S_(){const t=ni();hr(X()[mt],t)}function _g(t){let r=function Ld(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(Q(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ze(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=xl(t.inputs),g.inputTransforms=xl(t.inputTransforms),g.declaredInputs=xl(t.declaredInputs),g.outputs=xl(t.outputs);const v=c.hostBindings;v&&yg(t,v);const C=c.viewQuery,P=c.contentQueries;if(C&&Fd(t,C),P&&R_(t,P),Pt(t.inputs,c.inputs),Pt(t.declaredInputs,c.declaredInputs),Pt(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),Pt(g.inputTransforms,c.inputTransforms)),Q(c)&&c.data.animation){const B=t.data;B.animation=(B.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const v=d[g];v&&v.ngInherit&&v(t),v===_g&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Ml(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Wn(c.hostAttrs,s=Wn(s,c.hostAttrs))}}(a)}function xl(t){return t===vi?{}:t===Lt?[]:t}function Fd(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function R_(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function yg(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Pf(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function xf(t){return!!kf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function kf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Na(t,r,s){return t[r]=s}function As(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function ou(t,r,s,a){const c=As(t,r,s);return As(t,r+1,a)||c}function Sc(t,r,s,a){const c=X();return As(c,V(),r)&&(wn(),No(Fr(),c,t,r,s,a)),Sc}function la(t,r,s,a){return As(t,V(),s)?r+lt(s)+a:Tn}function Ud(t,r,s,a,c,d){const v=ou(t,function A(){return wt.lFrame.bindingIndex}(),s,c);return J(2),v?r+lt(s)+a+lt(c)+d:Tn}function L_(t,r,s,a,c,d,g,v){const C=X(),P=wn(),B=t+In,Z=P.firstCreatePass?function vv(t,r,s,a,c,d,g,v,C){const P=r.consts,B=Ac(r,t,4,g||null,Os(P,v));sg(r,s,B,Os(P,C)),hr(r,B);const Z=B.tView=Jp(2,B,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,P,null);return null!==r.queries&&(r.queries.template(r,B),Z.queries=r.queries.embeddedTView(B)),B}(B,P,C,r,s,a,c,d,g):P.data[B];es(Z,!1);const le=Iv(P,C,Z,t);Zu()&&sd(P,C,le,Z),Ds(le,C),Od(C,C[B]=$n(le,C,le,Z)),k(Z)&&Qp(P,C,Z),null!=g&&Xp(C,Z,v)}let Iv=function Ev(t,r,s,a){return Ts(!0),r[Xt].createComment("")};function F_(t){return Kt(function Xd(){return wt.lFrame.contextLView}(),In+t)}function Pg(t,r,s){const a=X();return As(a,V(),r)&&qs(wn(),Fr(),a,t,r,a[Xt],s,!1),Pg}function V_(t,r,s,a,c){const g=c?"class":"style";w_(t,s,r.inputs[g],g,a)}function Uf(t,r,s,a){const c=X(),d=wn(),g=In+t,v=c[Xt],C=d.firstCreatePass?function wv(t,r,s,a,c,d){const g=r.consts,C=Ac(r,t,2,a,Os(g,c));return sg(r,s,C,Os(g,d)),null!==C.attrs&&Mr(C,C.attrs,!1),null!==C.mergedAttrs&&Mr(C,C.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,C),C}(g,d,c,r,s,a):d.data[g],P=Dv(d,c,C,v,r,t);c[g]=P;const B=k(C);return es(C,!0),nu(v,P,C),32!=(32&C.flags)&&Zu()&&sd(d,c,P,C),0===function Qd(){return wt.lFrame.elementDepthCount}()&&Ds(P,c),function Go(){wt.lFrame.elementDepthCount++}(),B&&(Qp(d,c,C),bl(d,C,c)),null!==a&&Xp(c,C),Uf}function Pc(){let t=ni();Ku()?Yu():(t=t.parent,es(t,!1));const r=t;(function qu(t){return wt.skipHydrationRootTNode===t})(r)&&function ga(){wt.skipHydrationRootTNode=null}(),function Vc(){wt.lFrame.elementDepthCount--}();const s=wn();return s.firstCreatePass&&(hr(s,t),vs(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Io(t){return 0!=(8&t.flags)}(r)&&V_(s,r,X(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function mu(t){return 0!=(16&t.flags)}(r)&&V_(s,r,X(),r.stylesWithoutHost,!1),Pc}function Mg(t,r,s,a){return Uf(t,r,s,a),Pc(),Mg}let Dv=(t,r,s,a,c,d)=>(Ts(!0),Th(a,c,function pu(){return wt.lFrame.currentNamespace}()));function xg(t,r,s){const a=X(),c=wn(),d=t+In,g=c.firstCreatePass?function qI(t,r,s,a,c){const d=r.consts,g=Os(d,a),v=Ac(r,t,8,"ng-container",g);return null!==g&&Mr(v,g,!0),sg(r,s,v,Os(d,c)),null!==r.queries&&r.queries.elementStart(r,v),v}(d,c,a,r,s):c.data[d];es(g,!0);const v=Cv(c,a,g,t);return a[d]=v,Zu()&&sd(c,a,v,g),Ds(v,a),k(g)&&(Qp(c,a,g),bl(c,g,a)),null!=s&&Xp(a,g),xg}function Ng(){let t=ni();const r=wn();return Ku()?Yu():(t=t.parent,es(t,!1)),r.firstCreatePass&&(hr(r,t),vs(t)&&r.queries.elementEnd(t)),Ng}let Cv=(t,r,s,a)=>(Ts(!0),rd(r[Xt],""));function Sv(){return X()}function B_(t){return!!t&&"function"==typeof t.then}function Rv(t){return!!t&&"function"==typeof t.subscribe}function j_(t,r,s,a){const c=X(),d=wn(),g=ni();return function Pv(t,r,s,a,c,d,g){const v=k(a),P=t.firstCreatePass&&Di(t),B=r[gr],Z=ms(r);let le=!0;if(3&a.type||g){const ot=Pi(a,r),Rt=g?g(ot):ot,Zt=Z.length,Xe=g?Vn=>g(wr(Vn[a.index])):a.index;let yn=null;if(!g&&v&&(yn=function $_(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const v=r[mo],C=c[d+2];return v.length>C?v[C]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==yn)(yn.__ngLastListenerFn__||yn).__ngNextListenerFn__=d,yn.__ngLastListenerFn__=d,le=!1;else{d=qd(a,r,B,d,!1);const Vn=s.listen(Rt,c,d);Z.push(d,Vn),P&&P.push(c,Xe,Zt,Zt+1)}}else d=qd(a,r,B,d,!1);const Ee=a.outputs;let je;if(le&&null!==Ee&&(je=Ee[c])){const ot=je.length;if(ot)for(let Rt=0;Rt<ot;Rt+=2){const qr=r[je[Rt]][je[Rt+1]].subscribe(d),Vo=Z.length;Z.push(d,qr),P&&P.push(c,a.index,Vo,-(Vo+1))}}}(d,c,c[Xt],g,t,r,a),j_}function Bf(t,r,s,a){try{return co(6,r,s),!1!==s(a)}catch(c){return T_(t,c),!1}finally{co(7,r,s)}}function qd(t,r,s,a,c){return function d(g){if(g===Function)return a;Dc(t.componentOffset>-1?Dr(t.index,r):r);let C=Bf(r,s,a,g),P=d.__ngNextListenerFn__;for(;P;)C=Bf(r,s,P,g)&&C,P=P.__ngNextListenerFn__;return c&&!1===C&&g.preventDefault(),C}}function i(t=1){return function Ul(t){return(wt.lFrame.contextLView=function Wg(t,r){for(;t>0;)r=r[xs],t--;return r}(t,wt.lFrame.contextLView))[gr]}(t)}function u(t,r,s){return l(t,"",r,"",s),u}function l(t,r,s,a,c){const d=X(),g=la(d,r,s,a);return g!==Tn&&qs(wn(),Fr(),d,t,g,d[Xt],c,!1),l}function st(t,r){return t<<17|r<<2}function ct(t){return t>>17&32767}function un(t){return 2|t}function Yt(t){return(131068&t)>>2}function Fn(t,r){return-131069&t|r<<2}function fr(t){return 1|t}function KI(t,r,s,a,c){const d=t[s+1],g=null===r;let v=a?ct(d):Yt(d),C=!1;for(;0!==v&&(!1===C||g);){const B=t[v+1];W0(t[v],r)&&(C=!0,t[v+1]=a?fr(B):un(B)),v=a?ct(B):Yt(B)}C&&(t[s+1]=a?un(d):fr(d))}function W0(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Mo(t,r)>=0}const bs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function YI(t){return t.substring(bs.key,bs.keyEnd)}function q0(t){return t.substring(bs.value,bs.valueEnd)}function ZI(t,r){const s=bs.textEnd;return s===r?-1:(r=bs.keyEnd=function Z0(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,bs.key=r,s),jf(t,r,s))}function QI(t,r){const s=bs.textEnd;let a=bs.key=jf(t,r,s);return s===a?-1:(a=bs.keyEnd=function Q0(t,r,s){let a;for(;r<s&&(45===(a=t.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(t,a,s),a=JI(t,a,s),a=bs.value=jf(t,a,s),a=bs.valueEnd=function X0(t,r,s){let a=-1,c=-1,d=-1,g=r,v=g;for(;g<s;){const C=t.charCodeAt(g++);if(59===C)return v;34===C||39===C?v=g=eE(t,C,g,s):r===g-4&&85===d&&82===c&&76===a&&40===C?v=g=eE(t,41,g,s):C>32&&(v=g),d=c,c=a,a=-33&C}return v}(t,a,s),JI(t,a,s))}function XI(t){bs.key=0,bs.keyEnd=0,bs.value=0,bs.valueEnd=0,bs.textEnd=t.length}function jf(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function JI(t,r,s,a){return(r=jf(t,r,s))<s&&r++,r}function eE(t,r,s,a){let c=-1,d=s;for(;d<a;){const g=t.charCodeAt(d++);if(g==r&&92!==c)return d;c=92==g&&92===c?0:g}throw new Error}function xv(t,r,s){return cu(t,r,s,!1),xv}function Nv(t,r){return cu(t,r,null,!0),Nv}function J0(t,r){for(let s=function Y0(t){return XI(t),QI(t,jf(t,0,bs.textEnd))}(r);s>=0;s=QI(r,s))iE(t,YI(r),q0(r))}function tE(t){lu(sw,ju,t,!0)}function ju(t,r){for(let s=function K0(t){return XI(t),ZI(t,jf(t,0,bs.textEnd))}(r);s>=0;s=ZI(r,s))fs(t,YI(r),!0)}function cu(t,r,s,a){const c=X(),d=wn(),g=J(2);d.firstUpdatePass&&rE(d,t,g,a),r!==Tn&&As(c,g,r)&&sE(d,d.data[ts()],c,c[Xt],t,c[g+1]=function aw(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=be(ci(t)))),t}(r,s),a,g)}function lu(t,r,s,a){const c=wn(),d=J(2);c.firstUpdatePass&&rE(c,null,d,a);const g=X();if(s!==Tn&&As(g,d,s)){const v=c.data[ts()];if(aE(v,a)&&!nE(c,d)){let C=a?v.classesWithoutHost:v.stylesWithoutHost;null!==C&&(s=xe(C,s||"")),V_(c,v,g,s,a)}else!function ow(t,r,s,a,c,d,g,v){c===Tn&&(c=Lt);let C=0,P=0,B=0<c.length?c[0]:null,Z=0<d.length?d[0]:null;for(;null!==B||null!==Z;){const le=C<c.length?c[C+1]:void 0,Ee=P<d.length?d[P+1]:void 0;let ot,je=null;B===Z?(C+=2,P+=2,le!==Ee&&(je=Z,ot=Ee)):null===Z||null!==B&&B<Z?(C+=2,je=B):(P+=2,je=Z,ot=Ee),null!==je&&sE(t,r,s,a,je,ot,g,v),B=C<c.length?c[C]:null,Z=P<d.length?d[P]:null}}(c,v,g,g[Xt],g[d+1],g[d+1]=function iw(t,r,s){if(null==s||""===s)return Lt;const a=[],c=ci(s);if(Array.isArray(c))for(let d=0;d<c.length;d++)t(a,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&t(a,d,c[d]);else"string"==typeof c&&r(a,c);return a}(t,r,s),a,d)}}function nE(t,r){return r>=t.expandoStartIndex}function rE(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[ts()],g=nE(t,s);aE(d,a)&&null===r&&!g&&(r=!1),r=function ew(t,r,s,a){const c=function On(t){const r=wt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=kg(s=Ov(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=Ov(c,t,r,s,a),null===d){let C=function tw(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Yt(a))return t[ct(a)]}(t,r,a);void 0!==C&&Array.isArray(C)&&(C=Ov(null,t,r,C[1],a),C=kg(C,r.attrs,a),function nw(t,r,s,a){t[ct(s?r.classBindings:r.styleBindings)]=a}(t,r,a,C))}else d=function rw(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=kg(a,t[d].hostAttrs,s);return kg(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function Mv(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,v=ct(g),C=Yt(g);t[a]=s;let B,P=!1;if(Array.isArray(s)?(B=s[1],(null===B||Mo(s,B)>0)&&(P=!0)):B=s,c)if(0!==C){const le=ct(t[v+1]);t[a+1]=st(le,v),0!==le&&(t[le+1]=Fn(t[le+1],a)),t[v+1]=function sn(t,r){return 131071&t|r<<17}(t[v+1],a)}else t[a+1]=st(v,0),0!==v&&(t[v+1]=Fn(t[v+1],a)),v=a;else t[a+1]=st(C,0),0===v?v=a:t[C+1]=Fn(t[C+1],a),C=a;P&&(t[a+1]=un(t[a+1])),KI(t,B,a,!0),KI(t,B,a,!1),function H_(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&Mo(d,r)>=0&&(s[a+1]=fr(s[a+1]))}(r,B,t,a,d),g=st(v,C),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}function Ov(t,r,s,a,c){let d=null;const g=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<g&&(d=r[v],a=kg(a,d.hostAttrs,c),d!==t);)v++;return null!==t&&(s.directiveStylingLast=v),a}function kg(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fs(t,g,!!s||r[++d]))}return void 0===t?null:t}function iE(t,r,s){fs(t,r,ci(s))}function sw(t,r,s){const a=String(r);""!==a&&!a.includes(" ")&&fs(t,a,s)}function sE(t,r,s,a,c,d,g,v){if(!(3&r.type))return;const C=t.data,P=C[v+1],B=function Wr(t){return 1==(1&t)}(P)?oE(C,r,s,c,Yt(P),g):void 0;z_(B)||(z_(d)||function ft(t){return 2==(2&t)}(P)&&(d=oE(C,null,s,c,v,g)),function py(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Jl.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Jl.Important),t.setStyle(s,a,c,d))}}(a,g,pa(ts(),s),c,d))}function oE(t,r,s,a,c,d){const g=null===r;let v;for(;c>0;){const C=t[c],P=Array.isArray(C),B=P?C[1]:C,Z=null===B;let le=s[c+1];le===Tn&&(le=Z?Lt:void 0);let Ee=Z?Qa(le,a):B===a?le:void 0;if(P&&!z_(Ee)&&(Ee=Qa(C,a)),z_(Ee)&&(v=Ee,g))return v;const je=t[c+1];c=g?ct(je):Yt(je)}if(null!==r){let C=d?r.residualClasses:r.residualStyles;null!=C&&(v=Qa(C,a))}return v}function z_(t){return void 0!==t}function aE(t,r){return 0!=(t.flags&(r?8:16))}function uE(t,r=""){const s=X(),a=wn(),c=t+In,d=a.firstCreatePass?Ac(a,c,1,r,null):a.data[c],g=cE(a,s,d,r,t);s[c]=g,Zu()&&sd(a,s,g,d),es(d,!1)}let cE=(t,r,s,a,c)=>(Ts(!0),function Eh(t,r){return t.createText(r)}(r[Xt],a));function kv(t){return G_("",t,""),kv}function G_(t,r,s){const a=X(),c=la(a,t,r,s);return c!==Tn&&xa(a,ts(),c),G_}function Lv(t,r,s,a,c){const d=X(),g=Ud(d,t,r,s,a,c);return g!==Tn&&xa(d,ts(),g),Lv}function _E(t,r,s){!function Bu(t){lu(iE,J0,t,!1)}(la(X(),t,r,s))}const Kd=void 0;var Sw=["en",[["a","p"],["AM","PM"],Kd],[["AM","PM"],Kd,Kd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kd,"{1} 'at' {0}",Kd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bw(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let $f={};function Fv(t){const r=function Rw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=PE(r);if(s)return s;const a=r.split("-")[0];if(s=PE(a),s)return s;if("en"===a)return Sw;throw new ze(701,!1)}function RE(t){return Fv(t)[Hf.PluralCase]}function PE(t){return t in $f||($f[t]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[t]),$f[t]}var Hf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Hf||{});const zf="en-US";let ME=zf;function Bv(t,r,s,a,c){if(t=Fe(t),Array.isArray(t))for(let d=0;d<t.length;d++)Bv(t[d],r,s,a,c);else{const d=wn(),g=X(),v=ni();let C=iu(t)?t:Fe(t.provide);const P=md(t),B=1048575&v.providerIndexes,Z=v.directiveStart,le=v.providerIndexes>>20;if(iu(t)||!t.multi){const Ee=new gu(P,c,Fu),je=$v(C,r,c?B:B+le,Z);-1===je?(ec(Jo(v,g),d,C),jv(d,t,r.length),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(Ee),g.push(Ee)):(s[je]=Ee,g[je]=Ee)}else{const Ee=$v(C,r,B+le,Z),je=$v(C,r,B,B+le),Rt=je>=0&&s[je];if(c&&!Rt||!c&&!(Ee>=0&&s[Ee])){ec(Jo(v,g),d,C);const Zt=function bD(t,r,s,a,c){const d=new gu(t,s,Fu);return d.multi=[],d.index=r,d.componentProviders=0,nT(d,c,a&&!s),d}(c?CD:AD,s.length,c,a,P);!c&&Rt&&(s[je].providerFactory=Zt),jv(d,t,r.length,0),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(Zt),g.push(Zt)}else jv(d,t,Ee>-1?Ee:je,nT(s[c?je:Ee],P,!c&&a));!c&&a&&Rt&&s[je].componentProviders++}}}function jv(t,r,s,a){const c=iu(r),d=function Hh(t){return!!t.useClass}(r);if(c||d){const C=(d?Fe(r.useClass):r).prototype.ngOnDestroy;if(C){const P=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const B=P.indexOf(s);-1===B?P.push(s,[a,C]):P[B+1].push(a,C)}else P.push(s,C)}}}function nT(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function $v(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function AD(t,r,s,a){return Hv(this.multi,[])}function CD(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=Gr(s,s[mt],this.providerFactory.index,a);d=v.slice(0,g),Hv(c,d);for(let C=g;C<v.length;C++)d.push(v[C])}else d=[],Hv(c,d);return d}function Hv(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function rT(t,r=[]){return s=>{s.providersResolver=(a,c)=>function DD(t,r,s){const a=wn();if(a.firstCreatePass){const c=Q(t);Bv(s,a.data,a.blueprint,c,!0),Bv(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Yd{}class iT{}function SD(t,r){return new zv(t,r??null,[])}class zv extends Yd{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tv(this);const c=ri(r);this._bootstrapComponents=aa(c.bootstrap),this._r3Injector=nf(r,s,[{provide:Yd,useValue:this},{provide:Zh,useValue:this.componentFactoryResolver},...a],be(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Gv extends iT{constructor(r){super(),this.moduleType=r}create(r){return new zv(this.moduleType,r,[])}}class sT extends Yd{constructor(r){super(),this.componentFactoryResolver=new tv(this),this.instance=null;const s=new Ou([...r.providers,{provide:Yd,useValue:this},{provide:Zh,useValue:this.componentFactoryResolver}],r.parent||fl(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function oT(t,r,s=null){return new sT({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let PD=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=wp(0,s.type),c=a.length>0?oT([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=pn({token:t,providedIn:"environment",factory:()=>new t(ge(ba))})}return t})();function aT(t){t.getStandaloneInjector=r=>r.get(PD).getOrCreateStandaloneInjector(t)}function pT(t,r,s,a){return function mT(t,r,s,a,c,d){const g=r+s;return As(t,g,c)?Na(t,g+1,d?a.call(d,c):a(c)):jg(t,g+1)}(X(),_(),t,r,s,a)}function gT(t,r,s,a,c){return _T(X(),_(),t,r,s,a,c)}function jg(t,r){const s=t[r];return s===Tn?void 0:s}function _T(t,r,s,a,c,d,g){const v=r+s;return ou(t,v,c,d)?Na(t,v+2,g?a.call(g,c,d):a(c,d)):jg(t,v+2)}function yT(t,r,s,a,c,d,g,v){const C=r+s;return function Vd(t,r,s,a,c){const d=ou(t,r,s,a);return As(t,r+2,c)||d}(t,C,c,d,g)?Na(t,C+3,v?a.call(v,c,d,g):a(c,d,g)):jg(t,C+3)}function ET(t,r){const s=wn();let a;const c=t+In;s.firstCreatePass?(a=function qD(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=oi(a.type)),v=sr(Fu);try{const C=ws(!1),P=d();return ws(C),function Tv(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,X(),c,P),P}finally{sr(v)}}function TT(t,r,s,a){const c=t+In,d=X(),g=Kt(d,c);return $g(d,c)?_T(d,_(),r,g.transform,s,a,g):g.transform(s,a)}function wT(t,r,s,a,c){const d=t+In,g=X(),v=Kt(g,d);return $g(g,d)?yT(g,_(),r,v.transform,s,a,c,v):v.transform(s,a,c)}function $g(t,r){return t[mt].data[r].pure}function QD(){return this._results[Symbol.iterator]()}class qv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new oa)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=qv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=QD)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function Gs(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Kc(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function JD(t,r,s,a=!0){const c=r[mt];if(function pm(t,r,s,a){const c=er+a,d=s.length;a>0&&(s[c-1][Ei]=r),a<d-er?(r[Ei]=s[c],ah(s,er+a,r)):(s.push(r),r[Ei]=null),r[Rn]=s;const g=r[Zi];null!==g&&s!==g&&function dy(t,r){const s=t[yo];r[Er]!==r[Rn][Rn][Er]&&(t[Ao]=!0),null===s?t[yo]=[r]:s.push(r)}(g,r);const v=r[hi];null!==v&&v.insertView(t),r[rn]|=128}(c,r,t,s),a){const d=bh(s,t),g=r[Xt],v=Ca(g,t[mr]);null!==v&&function hp(t,r,s,a,c,d){a[Mn]=c,a[jr]=r,ad(t,a,s,1,c,d)}(c,t[jr],g,r,v,d)}}let Hg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=nA}return t})();const eA=Hg,tA=class extends eA{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function XD(t,r,s,a){const c=r.tView,v=Ef(t,c,s,4096&t[rn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[Zi]=t[r.index];const P=t[hi];return null!==P&&(v[hi]=P.createEmbeddedView(c)),dg(c,v,s),v}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Rf(c)}};function nA(){return Z_(ni(),X())}function Z_(t,r){return 4&t.type?new tA(r,t,El(t,r)):null}let X_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=uA}return t})();function uA(){return PT(ni(),X())}const cA=X_,ST=class extends cA{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return El(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const r=Wa(this._hostTNode,this._hostLView);if(jl(r)){const s=Ha(r,this._hostLView),a=po(r);return new Ni(s[mt].data[a+8],s)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=RT(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-er}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const v=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(v,c,false),v}createComponent(r,s,a,c,d){const g=r&&!function Ia(t){return"function"==typeof t}(r);let v;if(g)v=s;else{const ot=s||{};v=ot.index,a=ot.injector,c=ot.projectableNodes,d=ot.environmentInjector||ot.ngModuleRef}const C=g?r:new ca(fn(r)),P=a||this.parentInjector;if(!d&&null==C.ngModule){const Rt=(g?P:this.parentInjector).get(ba,null);Rt&&(d=Rt)}fn(C.componentType??{});const Ee=C.create(P,c,null,d);return this.insertImpl(Ee.hostView,v,false),Ee}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function Ht(t){return qn(t[Rn])}(c)){const C=this.indexOf(r);if(-1!==C)this.detach(C);else{const P=c[Rn],B=new ST(P,P[jr],P[Rn]);B.detach(B.indexOf(r))}}const g=this._adjustIndex(s),v=this._lContainer;return JD(v,c,g,!a),r.attachToViewContainerRef(),ah(Kv(v),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=RT(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=wh(this._lContainer,s);a&&(Po(Kv(this._lContainer),s),Da(a[mt],a))}detach(r){const s=this._adjustIndex(r,-1),a=wh(this._lContainer,s);return a&&null!=Po(Kv(this._lContainer),s)?new Rf(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function RT(t){return t[8]}function Kv(t){return t[8]||(t[8]=[])}function PT(t,r){let s;const a=r[t.index];return qn(a)?s=a:(s=$n(a,r,null,t),r[t.index]=s,Od(r,s)),MT(s,r,t,a),new ST(s,t,r)}let MT=function xT(t,r,s,a){if(t[mr])return;let c;c=8&s.type?wr(a):function lA(t,r){const s=t[Xt],a=s.createComment(""),c=Pi(r,t);return bu(s,Ca(s,c),a,function lc(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[mr]=c};class Yv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Yv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new Zv(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==jT(r,s).matches&&this.queries[s].setDirty()}}class NT{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Qv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new Qv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Xv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Xv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,fA(s,d)),this.matchTNodeWithReadOption(r,s,tc(s,r,d,!1,!1))}else a===Hg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,tc(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Tc||c===X_||c===Hg&&4&s.type)this.addMatch(s.index,-2);else{const d=tc(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function fA(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function gA(t,r,s,a){return-1===s?function pA(t,r){return 11&t.type?El(t,r):4&t.type?Z_(t,r):null}(r,t):-2===s?function mA(t,r,s){return s===Tc?El(r,t):s===Hg?Z_(r,t):s===X_?PT(r,t):void 0}(t,r,a):Gr(t,t[mt],s,r)}function OT(t,r,s,a){const c=r[hi].queries[a];if(null===c.matches){const d=t.data,g=s.matches,v=[];for(let C=0;C<g.length;C+=2){const P=g[C];v.push(P<0?null:gA(r,d[P],g[C+1],s.metadata.read))}c.matches=v}return c.matches}function Jv(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=OT(t,r,c,s);for(let v=0;v<d.length;v+=2){const C=d[v];if(C>0)a.push(g[v/2]);else{const P=d[v+1],B=r[-C];for(let Z=er;Z<B.length;Z++){const le=B[Z];le[Zi]===le[Rn]&&Jv(le[mt],le,P,a)}if(null!==B[yo]){const Z=B[yo];for(let le=0;le<Z.length;le++){const Ee=Z[le];Jv(Ee[mt],Ee,P,a)}}}}}return a}function kT(t){const r=X(),s=wn(),a=fo();Wo(a+1);const c=jT(s,a);if(t.dirty&&function kc(t){return 4==(4&t[rn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?Jv(s,r,a,[]):OT(s,r,c,a);t.reset(d,xy),t.notifyOnChanges()}return!0}return!1}function LT(t,r,s){const a=wn();a.firstCreatePass&&(BT(a,new NT(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),UT(a,X(),r)}function FT(t,r,s,a){const c=wn();if(c.firstCreatePass){const d=ni();BT(c,new NT(r,s,a),d.index),function yA(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}UT(c,X(),s)}function VT(){return function _A(t,r){return t[hi].queries[r].queryList}(X(),fo())}function UT(t,r,s){const a=new qv(4==(4&s));(function rg(t,r,s,a){const c=ms(r);c.push(s),t.firstCreatePass&&Di(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[hi]&&(r[hi]=new Zv),r[hi].queries.push(new Yv(a))}function BT(t,r,s){null===t.queries&&(t.queries=new Qv),t.queries.track(new Xv(r,s))}function jT(t,r){return t.queries.getByIndex(r)}function eI(t){return!!ri(t)}const s0=new tn("Application Initializer");let sI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=nt(s0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(B_(d))s.push(d);else if(Rv(d)){const g=new Promise((v,C)=>{d.subscribe({complete:v,error:C})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),o0=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const ey=new tn("LocaleId",{providedIn:"root",factory:()=>nt(ey,yt.Optional|yt.SkipSelf)||function BA(){return typeof $localize<"u"&&$localize.locale||zf}()}),jA=new tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let a0=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new W.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class HA{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let zA=(()=>{class t{compileModuleSync(s){return new Gv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=aa(ri(s).declarations).reduce((g,v)=>{const C=fn(v);return C&&g.push(new ca(C)),g},[]);return new HA(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const d0=new tn(""),h0=new tn("");let uI,hC=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uI||(function fC(t){uI=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(ge(gs),ge(f0),ge(h0))};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac})}return t})(),f0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return uI?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Fl=null;const p0=new tn("AllowMultipleToken"),cI=new tn("PlatformDestroyListeners"),lI=new tn("appBootstrapListener");class mC{constructor(r,s){this.name=r,this.token=s}}function _0(t,r,s=[]){const a=`Platform: ${r}`,c=new tn(a);return(d=[])=>{let g=dI();if(!g||g.injector.get(p0,!1)){const v=[...s,...d,{provide:c,useValue:!0}];t?t(v):function _C(t){if(Fl&&!Fl.get(p0,!1))throw new ze(400,!1);(function g0(){!function K(t){S=t}(()=>{throw new ze(600,!1)})})(),Fl=t;const r=t.get(v0);(function m0(t){t.get(Mp,null)?.forEach(s=>s())})(t)}(function y0(t=[],r){return sa.create({name:r,providers:[{provide:zh,useValue:"platform"},{provide:cI,useValue:new Set([()=>Fl=null])},...t]})}(v,a))}return function vC(t){const r=dI();if(!r)throw new ze(401,!1);return r}()}}function dI(){return Fl?.get(v0)??null}let v0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function IC(t="zone.js",r){return"noop"===t?new r_:"zone.js"===t?new gs(r):t}(a?.ngZone,function I0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function RD(t,r,s){return new zv(t,r,s)}(s.moduleType,this.injector,function A0(t){return[{provide:gs,useFactory:t},{provide:_c,multi:!0,useFactory:()=>{const r=nt(TC,{optional:!0});return()=>r.initialize()}},{provide:D0,useFactory:EC},{provide:uf,useFactory:zp}]}(()=>c)),g=d.injector.get(Lu,null);return c.runOutsideAngular(()=>{const v=c.onError.subscribe({next:C=>{g.handleError(C)}});d.onDestroy(()=>{ny(this._modules,d),v.unsubscribe()})}),function E0(t,r,s){try{const a=s();return B_(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const v=d.injector.get(sI);return v.runInitializers(),v.donePromise.then(()=>(function xE(t){Jt(t,"Expected localeId to be defined"),"string"==typeof t&&(ME=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(ey,zf)||zf),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=T0({},a);return function pC(t,r,s){const a=new Gv(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(qf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new ze(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(cI,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(ge(sa))};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function T0(t,r){return Array.isArray(r)?r.reduce(T0,t):{...t,...r}}let qf=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nt(D0),this.zoneIsStable=nt(uf),this.componentTypes=[],this.components=[],this.isStable=nt(a0).hasPendingTasks.pipe((0,Ke.w)(s=>s?(0,ne.of)(!1):this.zoneIsStable),function Dt(t,r=Le.y){return t=t??tt,(0,He.e)((s,a)=>{let c,d=!0;s.subscribe((0,it.x)(a,g=>{const v=r(g);(d||!t(c,v))&&(d=!1,c=v,a.next(g))}))})}(),(0,ye.B)()),this._injector=nt(ba)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Yh;if(!this._injector.get(sI).done)throw!c&&us(s),new ze(405,!1);let g;g=c?s:this._injector.get(Zh).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const v=function gC(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Yd),P=g.create(sa.NULL,[],a||g.selector,v),B=P.location.nativeElement,Z=P.injector.get(d0,null);return Z?.registerApplication(B),P.onDestroy(()=>{this.detachView(P.hostView),ny(this.components,P),Z?.unregisterApplication(B)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;ny(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(lI,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>ny(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ze(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ny(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const D0=new tn("",{providedIn:"root",factory:()=>nt(Lu).handleError.bind(void 0)});function EC(){const t=nt(gs),r=nt(Lu);return s=>t.runOutsideAngular(()=>r.handleError(s))}let TC=(()=>{class t{constructor(){this.zone=nt(gs),this.applicationRef=nt(qf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DC(){return!1}let AC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=CC}return t})();function CC(t){return function bC(t,r,s){if(N(t)&&!s){const a=Dr(t.index,r);return new Rf(a,a)}return 47&t.type?new Rf(r[Er],r):null}(ni(),X(),16==(16&t))}class R0{constructor(){}supports(r){return xf(r)}create(r){return new NC(r)}}const xC=(t,r)=>r;class NC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||xC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<M0(a,c,d)?s:a,v=M0(g,c,d),C=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const P=v-c,B=C-c;if(P!=B){for(let le=0;le<P;le++){const Ee=le<d.length?d[le]:d[le]=0,je=Ee+le;B<=je&&je<P&&(d[le]=Ee+1)}d[g.previousIndex]=B-P}}v!==C&&r(g,v,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!xf(r))throw new ze(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)d=r[v],g=this._trackByFn(v,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,v)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,v),a=!0),s=s._next}else c=0,function Of(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,v=>{g=this._trackByFn(c,v),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,v,g,c)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new OC(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new P0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new P0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class OC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class P0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new kC,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function M0(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class x0{constructor(){}supports(r){return r instanceof Map||kf(r)}create(){return new LC}}class LC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||kf(r)))throw new ze(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new FC(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class FC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function N0(){return new mI([new R0])}let mI=(()=>{class t{static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:N0});constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||N0()),deps:[[t,new ce,new O]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new ze(901,!1)}}return t})();function O0(){return new _I([new x0])}let _I=(()=>{class t{static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:O0});constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||O0()),deps:[[t,new ce,new O]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new ze(901,!1)}}return t})();const BC=_0(null,"core",[]);let jC=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(ge(qf))};static#t=this.\u0275mod=bi({type:t});static#n=this.\u0275inj=Qn({})}return t})();function XC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function JC(t,r=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?r:Number(t)}function tb(t){const r=fn(t);if(!r)return null;const s=new ca(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},721:(Ct,Se,L)=>{L.d(Se,{Ot:()=>se,ZF:()=>Dt,hX:()=>Ke,z6:()=>ae});var m=L(3182),q=L(9291),he=L(1920);class se{constructor(xe){return xe}}class ae{constructor(){return(0,m.C6)()}}const re=new q.OlP("angularfire2._apps"),_e={provide:se,useFactory:function pe(be){return be&&1===be.length?be[0]:new se((0,m.Mq)())},deps:[[new q.FiY,re]]},W={provide:ae,deps:[[new q.FiY,re]]};function ne(be){return(xe,$e)=>{const Ue=xe.runOutsideAngular(()=>be($e));return new se(Ue)}}let ye=(()=>{class be{constructor($e){(0,m.KN)("angularfire",he.q4.full,"core"),(0,m.KN)("angularfire",he.q4.full,"app"),(0,m.KN)("angular",q.q4F.full,$e.toString())}static \u0275fac=function(Ue){return new(Ue||be)(q.LFG(q.Lbi))};static \u0275mod=q.oAB({type:be});static \u0275inj=q.cJS({providers:[_e,W]})}return be})();function Ke(be,...xe){return{ngModule:ye,providers:[{provide:re,useFactory:ne(be),multi:!0,deps:[q.R0b,q.zs3,he.HU,...xe]}]}}const Dt=(0,he.u3)(m.ZF,!0)},2637:(Ct,Se,L)=>{L.d(Se,{AR:()=>it,Aj:()=>Ot,LS:()=>Jt,Xb:()=>Fe,ck:()=>yt,dh:()=>re,e5:()=>yi,gx:()=>pe,rh:()=>on,v0:()=>Ve,w$:()=>ir,w7:()=>Ur});var m=L(1920),q=L(9291),he=L(721),se=L(3182),ae=L(3446);class pe{constructor(Mt){return Mt}}class re{constructor(){return(0,m.vb)("auth")}}const W=new q.OlP("angularfire2.auth-instances");function ye(Xn){return(Mt,mn)=>{const vr=Mt.runOutsideAngular(()=>Xn(mn));return new pe(vr)}}const Ke={provide:re,deps:[[new q.FiY,W]]},Le={provide:pe,useFactory:function ne(Xn,Mt){const mn=(0,m.JM)("auth",Xn,Mt);return mn&&new pe(mn)},deps:[[new q.FiY,W],he.Ot]};let He=(()=>{class Xn{constructor(){(0,se.KN)("angularfire",m.q4.full,"auth")}static \u0275fac=function(vr){return new(vr||Xn)};static \u0275mod=q.oAB({type:Xn});static \u0275inj=q.cJS({providers:[Le,Ke]})}return Xn})();function it(Xn,...Mt){return{ngModule:He,providers:[{provide:W,useFactory:ye(Xn),multi:!0,deps:[q.R0b,q.zs3,m.HU,he.z6,[new q.FiY,m.Rf],...Mt]}]}}const Fe=(0,m.u3)(ae.Xb,!0),Ve=(0,m.u3)(ae.v0,!0),Ot=(0,m.u3)(ae.Aj,!0),ir=(0,m.u3)(ae.w$,!0),Jt=(0,m.u3)(ae.LS,!0),yi=(0,m.u3)(ae.e5,!0),on=(0,m.u3)(ae.rh,!0),Ur=(0,m.u3)(ae.w7,!0),yt=(0,m.u3)(ae.ck,!0)},3960:(Ct,Se,L)=>{L.d(Se,{gg:()=>en,ET:()=>Gn,hJ:()=>zt,BS:()=>_n,oe:()=>bn,JU:()=>Bt,QT:()=>or,PL:()=>oe,ad:()=>$,Xo:()=>ge,Cm:()=>Qe,IO:()=>nn,pl:()=>cr,r7:()=>os,ar:()=>Rr});var m=L(1920),q=L(9291),he=L(721),se=L(2637),ae=L(3182),ie=L(5776),pe=L(5592),re=L(7398),_e=function(){return _e=Object.assign||function(Ye){for(var gt,xt=1,Wn=arguments.length;xt<Wn;xt++)for(var xr in gt=arguments[xt])Object.prototype.hasOwnProperty.call(gt,xr)&&(Ye[xr]=gt[xr]);return Ye},_e.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var ne={includeMetadataChanges:!1};function Be(ht,Ye){return void 0===Ye&&(Ye={}),function Fe(ht){return function ye(ht,Ye){return void 0===Ye&&(Ye=ne),new pe.y(function(gt){return{unsubscribe:(0,ie.cf)(ht,Ye,{next:gt.next.bind(gt),error:gt.error.bind(gt),complete:gt.complete.bind(gt)})}})}(ht,{includeMetadataChanges:!0}).pipe((0,re.U)(function(Ye){return Ye.docs}))}(ht).pipe((0,re.U)(function(gt){return gt.map(function(xt){return function He(ht,Ye){var gt;void 0===Ye&&(Ye={});var xt=ht.data(Ye);return ht.exists()&&"object"==typeof xt&&null!==xt&&Ye.idField?_e(_e({},xt),((gt={})[Ye.idField]=ht.id,gt)):xt}(xt,Ye)})}))}class en{constructor(Ye){return Ye}}const lt="firestore",Vt=new q.OlP("angularfire2.firestore-instances");function ve(ht){return(Ye,gt)=>{const xt=Ye.runOutsideAngular(()=>ht(gt));return new en(xt)}}const Ie={provide:class Ze{constructor(){return(0,m.vb)(lt)}},deps:[[new q.FiY,Vt]]},De={provide:en,useFactory:function de(ht,Ye){const gt=(0,m.JM)(lt,ht,Ye);return gt&&new en(gt)},deps:[[new q.FiY,Vt],he.Ot]};let Ne=(()=>{class ht{constructor(){(0,ae.KN)("angularfire",m.q4.full,"fst")}static \u0275fac=function(xt){return new(xt||ht)};static \u0275mod=q.oAB({type:ht});static \u0275inj=q.cJS({providers:[De,Ie]})}return ht})();function Qe(ht,...Ye){return{ngModule:Ne,providers:[{provide:Vt,useFactory:ve(ht),multi:!0,deps:[q.R0b,q.zs3,m.HU,he.z6,[new q.FiY,se.dh],[new q.FiY,m.Rf],...Ye]}]}}const _n=(0,m.u3)(Be,!0),Gn=(0,m.u3)(ie.ET,!0),zt=(0,m.u3)(ie.hJ,!0),bn=(0,m.u3)(ie.oe,!0),Bt=(0,m.u3)(ie.JU,!0),or=(0,m.u3)(ie.QT,!0),oe=(0,m.u3)(ie.PL,!0),$=(0,m.u3)(ie.ad,!0),ge=(0,m.u3)(ie.Xo,!0),nn=(0,m.u3)(ie.IO,!0),cr=(0,m.u3)(ie.pl,!0),os=(0,m.u3)(ie.r7,!0),Rr=(0,m.u3)(ie.ar,!0)},5017:(Ct,Se,L)=>{L.d(Se,{Ke:()=>ii,oq:()=>$i,Jt:()=>_o,cF:()=>mr,Vq:()=>so,iH:()=>er,KV:()=>fi});var m=L(1920),q=L(9291),he=L(721),se=L(2637),ae=L(3182),ie=L(5861),pe=L(534),re=L(9058),_e=L(4537);const W="firebasestorage.googleapis.com",ne="storageBucket";class He extends re.ZR{constructor(k,Q,ee=0){super(Dt(k),`Firebase Storage: ${Q} (${Dt(k)})`),this.status_=ee,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,He.prototype)}get status(){return this.status_}set status(k){this.status_=k}_codeEquals(k){return Dt(k)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(k){this.customData.serverResponse=k,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var it=function(N){return N.UNKNOWN="unknown",N.OBJECT_NOT_FOUND="object-not-found",N.BUCKET_NOT_FOUND="bucket-not-found",N.PROJECT_NOT_FOUND="project-not-found",N.QUOTA_EXCEEDED="quota-exceeded",N.UNAUTHENTICATED="unauthenticated",N.UNAUTHORIZED="unauthorized",N.UNAUTHORIZED_APP="unauthorized-app",N.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",N.INVALID_CHECKSUM="invalid-checksum",N.CANCELED="canceled",N.INVALID_EVENT_NAME="invalid-event-name",N.INVALID_URL="invalid-url",N.INVALID_DEFAULT_BUCKET="invalid-default-bucket",N.NO_DEFAULT_BUCKET="no-default-bucket",N.CANNOT_SLICE_BLOB="cannot-slice-blob",N.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",N.NO_DOWNLOAD_URL="no-download-url",N.INVALID_ARGUMENT="invalid-argument",N.INVALID_ARGUMENT_COUNT="invalid-argument-count",N.APP_DELETED="app-deleted",N.INVALID_ROOT_OPERATION="invalid-root-operation",N.INVALID_FORMAT="invalid-format",N.INTERNAL_ERROR="internal-error",N.UNSUPPORTED_ENVIRONMENT="unsupported-environment",N}(it||{});function Dt(N){return"storage/"+N}function tt(){return new He(it.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ze(N){return new He(it.INVALID_ARGUMENT,N)}function Tt(){return new He(it.APP_DELETED,"The Firebase app was deleted.")}function de(N,k){return new He(it.INVALID_FORMAT,"String does not match format '"+N+"': "+k)}function ve(N){throw new He(it.INTERNAL_ERROR,"Internal error: "+N)}class Ie{constructor(k,Q){this.bucket=k,this.path_=Q}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const k=encodeURIComponent;return"/b/"+k(this.bucket)+"/o/"+k(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(k,Q){let ee;try{ee=Ie.makeFromUrl(k,Q)}catch{return new Ie(k,"")}if(""===ee.path)return ee;throw function qt(N){return new He(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+N+"'.")}(k)}static makeFromUrl(k,Q){let ee=null;const me="([A-Za-z0-9.\\-_]+)",Ft=new RegExp("^gs://"+me+"(/(.*))?$","i");function an(tr){tr.path_=decodeURIComponent(tr.path)}const Kn=Q.replace(/[.]/g,"\\."),Tr=[{regex:Ft,indices:{bucket:1,path:3},postModify:function ke(tr){"/"===tr.path.charAt(tr.path.length-1)&&(tr.path_=tr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Kn}/v[A-Za-z0-9_]+/b/${me}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:an},{regex:new RegExp(`^https?://${Q===W?"(?:storage.googleapis.com|storage.cloud.google.com)":Q}/${me}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:an}];for(let tr=0;tr<Tr.length;tr++){const Qi=Tr[tr],Ti=Qi.regex.exec(k);if(Ti){let ls=Ti[Qi.indices.path];ls||(ls=""),ee=new Ie(Ti[Qi.indices.bucket],ls),Qi.postModify(ee);break}}if(null==ee)throw function te(N){return new He(it.INVALID_URL,"Invalid URL '"+N+"'.")}(k);return ee}}class De{constructor(k){this.promise_=Promise.reject(k)}getPromise(){return this.promise_}cancel(k=!1){}}function Ut(N){return"string"==typeof N||N instanceof String}function _n(N){return Et()&&N instanceof Blob}function Et(){return typeof Blob<"u"&&!(0,re.UG)()}function Cn(N,k,Q,ee){if(ee<k)throw Ze(`Invalid value for '${N}'. Expected ${k} or greater.`);if(ee>Q)throw Ze(`Invalid value for '${N}'. Expected ${Q} or less.`)}function vn(N,k,Q){let ee=k;return null==Q&&(ee=`https://${k}`),`${Q}://${ee}/v0${N}`}function ir(N){const k=encodeURIComponent;let Q="?";for(const ee in N)N.hasOwnProperty(ee)&&(Q=Q+(k(ee)+"=")+k(N[ee])+"&");return Q=Q.slice(0,-1),Q}var Jt=function(N){return N[N.NO_ERROR=0]="NO_ERROR",N[N.NETWORK_ERROR=1]="NETWORK_ERROR",N[N.ABORT=2]="ABORT",N}(Jt||{});class Gn{constructor(k,Q,ee,me,ke,at,Ft,bt,an,En,Kn,Yr=!0){this.url_=k,this.method_=Q,this.headers_=ee,this.body_=me,this.successCodes_=ke,this.additionalRetryCodes_=at,this.callback_=Ft,this.errorCallback_=bt,this.timeout_=an,this.progressCallback_=En,this.connectionFactory_=Kn,this.retry=Yr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Nr,zr)=>{this.resolve_=Nr,this.reject_=zr,this.start_()})}start_(){const Q=(ee,me)=>{const ke=this.resolve_,at=this.reject_,Ft=me.connection;if(me.wasSuccessCode)try{const bt=this.callback_(Ft,Ft.getResponse());!function Ot(N){return void 0!==N}(bt)?ke():ke(bt)}catch(bt){at(bt)}else if(null!==Ft){const bt=tt();bt.serverResponse=Ft.getErrorText(),at(this.errorCallback_?this.errorCallback_(Ft,bt):bt)}else at(me.canceled?this.appDelete_?Tt():function Fe(){return new He(it.CANCELED,"User canceled the upload/download.")}():function Ue(){return new He(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?Q(0,new ki(!1,null,!0)):this.backoffId_=function Ne(N,k,Q){let ee=1,me=null,ke=null,at=!1,Ft=0;function bt(){return 2===Ft}let an=!1;function En(...Or){an||(an=!0,k.apply(null,Or))}function Kn(Or){me=setTimeout(()=>{me=null,N(Nr,bt())},Or)}function Yr(){ke&&clearTimeout(ke)}function Nr(Or,...Si){if(an)return void Yr();if(Or)return Yr(),void En.call(null,Or,...Si);if(bt()||at)return Yr(),void En.call(null,Or,...Si);let Tr;ee<64&&(ee*=2),1===Ft?(Ft=2,Tr=0):Tr=1e3*(ee+Math.random()),Kn(Tr)}let zr=!1;function si(Or){zr||(zr=!0,Yr(),!an&&(null!==me?(Or||(Ft=2),clearTimeout(me),Kn(0)):Or||(Ft=1)))}return Kn(0),ke=setTimeout(()=>{at=!0,si(!0)},Q),si}((ee,me)=>{if(me)return void ee(!1,new ki(!1,null,!0));const ke=this.connectionFactory_();this.pendingConnection_=ke;const at=Ft=>{null!==this.progressCallback_&&this.progressCallback_(Ft.loaded,Ft.lengthComputable?Ft.total:-1)};null!==this.progressCallback_&&ke.addUploadProgressListener(at),ke.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&ke.removeUploadProgressListener(at),this.pendingConnection_=null;const Ft=ke.getErrorCode()===Jt.NO_ERROR,bt=ke.getStatus();if(!Ft||function At(N,k){const Q=N>=500&&N<600,me=-1!==[408,429].indexOf(N),ke=-1!==k.indexOf(N);return Q||me||ke}(bt,this.additionalRetryCodes_)&&this.retry){const En=ke.getErrorCode()===Jt.ABORT;return void ee(!1,new ki(!1,null,En))}const an=-1!==this.successCodes_.indexOf(bt);ee(!0,new ki(an,ke))})},Q,this.timeout_)}getPromise(){return this.promise_}cancel(k){this.canceled_=!0,this.appDelete_=k||!1,null!==this.backoffId_&&function Qe(N){N(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ki{constructor(k,Q,ee){this.wasSuccessCode=k,this.connection=Q,this.canceled=!!ee}}function zt(...N){const k=function on(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==k){const Q=new k;for(let ee=0;ee<N.length;ee++)Q.append(N[ee]);return Q.getBlob()}if(Et())return new Blob(N);throw new He(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Un={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cr{constructor(k,Q){this.data=k,this.contentType=Q||null}}function gn(N){const k=[];for(let Q=0;Q<N.length;Q++){let ee=N.charCodeAt(Q);ee<=127?k.push(ee):ee<=2047?k.push(192|ee>>6,128|63&ee):55296==(64512&ee)?Q<N.length-1&&56320==(64512&N.charCodeAt(Q+1))?(ee=65536|(1023&ee)<<10|1023&N.charCodeAt(++Q),k.push(240|ee>>18,128|ee>>12&63,128|ee>>6&63,128|63&ee)):k.push(239,191,189):56320==(64512&ee)?k.push(239,191,189):k.push(224|ee>>12,128|ee>>6&63,128|63&ee)}return new Uint8Array(k)}function Wi(N,k){switch(N){case Un.BASE64:{const me=-1!==k.indexOf("-"),ke=-1!==k.indexOf("_");if(me||ke)throw de(N,"Invalid character '"+(me?"-":"_")+"' found: is it base64url encoded?");break}case Un.BASE64URL:{const me=-1!==k.indexOf("+"),ke=-1!==k.indexOf("/");if(me||ke)throw de(N,"Invalid character '"+(me?"+":"/")+"' found: is it base64 encoded?");k=k.replace(/-/g,"+").replace(/_/g,"/");break}}let Q;try{Q=function Ar(N){if(typeof atob>"u")throw function lt(N){return new He(it.UNSUPPORTED_ENVIRONMENT,`${N} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(N)}(k)}catch(me){throw me.message.includes("polyfill")?me:de(N,"Invalid character found")}const ee=new Uint8Array(Q.length);for(let me=0;me<Q.length;me++)ee[me]=Q.charCodeAt(me);return ee}class Bt{constructor(k){this.base64=!1,this.contentType=null;const Q=k.match(/^data:([^,]+)?,/);if(null===Q)throw de(Un.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ee=Q[1]||null;null!=ee&&(this.base64=function Xn(N,k){return N.length>=k.length&&N.substring(N.length-k.length)===k}(ee,";base64"),this.contentType=this.base64?ee.substring(0,ee.length-7):ee),this.rest=k.substring(k.indexOf(",")+1)}}class Mt{constructor(k,Q){let ee=0,me="";_n(k)?(this.data_=k,ee=k.size,me=k.type):k instanceof ArrayBuffer?(Q?this.data_=new Uint8Array(k):(this.data_=new Uint8Array(k.byteLength),this.data_.set(new Uint8Array(k))),ee=this.data_.length):k instanceof Uint8Array&&(Q?this.data_=k:(this.data_=new Uint8Array(k.length),this.data_.set(k)),ee=k.length),this.size_=ee,this.type_=me}size(){return this.size_}type(){return this.type_}slice(k,Q){if(_n(this.data_)){const me=function Ur(N,k,Q){return N.webkitSlice?N.webkitSlice(k,Q):N.mozSlice?N.mozSlice(k,Q):N.slice?N.slice(k,Q):null}(this.data_,k,Q);return null===me?null:new Mt(me)}{const ee=new Uint8Array(this.data_.buffer,k,Q-k);return new Mt(ee,!0)}}static getBlob(...k){if(Et()){const Q=k.map(ee=>ee instanceof Mt?ee.data_:ee);return new Mt(zt.apply(null,Q))}{const Q=k.map(at=>Ut(at)?function bn(N,k){switch(N){case Un.RAW:return new Cr(gn(k));case Un.BASE64:case Un.BASE64URL:return new Cr(Wi(N,k));case Un.DATA_URL:return new Cr(function sr(N){const k=new Bt(N);return k.base64?Wi(Un.BASE64,k.rest):function yt(N){let k;try{k=decodeURIComponent(N)}catch{throw de(Un.DATA_URL,"Malformed data URL.")}return gn(k)}(k.rest)}(k),function Xr(N){return new Bt(N).contentType}(k))}throw tt()}(Un.RAW,at).data:at.data_);let ee=0;Q.forEach(at=>{ee+=at.byteLength});const me=new Uint8Array(ee);let ke=0;return Q.forEach(at=>{for(let Ft=0;Ft<at.length;Ft++)me[ke++]=at[Ft]}),new Mt(me,!0)}}uploadData(){return this.data_}}function mn(N){let k;try{k=JSON.parse(N)}catch{return null}return function Pn(N){return"object"==typeof N&&!Array.isArray(N)}(k)?k:null}function br(N){const k=N.lastIndexOf("/",N.length-2);return-1===k?N:N.slice(k+1)}function ns(N,k){return k}class or{constructor(k,Q,ee,me){this.server=k,this.local=Q||k,this.writable=!!ee,this.xform=me||ns}}let Jr=null;function oe(){if(Jr)return Jr;const N=[];N.push(new or("bucket")),N.push(new or("generation")),N.push(new or("metageneration")),N.push(new or("name","fullPath",!0));const Q=new or("name");Q.xform=function k(ke,at){return function rs(N){return!Ut(N)||N.length<2?N:br(N)}(at)},N.push(Q);const me=new or("size");return me.xform=function ee(ke,at){return void 0!==at?Number(at):at},N.push(me),N.push(new or("timeCreated")),N.push(new or("updated")),N.push(new or("md5Hash",null,!0)),N.push(new or("cacheControl",null,!0)),N.push(new or("contentDisposition",null,!0)),N.push(new or("contentEncoding",null,!0)),N.push(new or("contentLanguage",null,!0)),N.push(new or("contentType",null,!0)),N.push(new or("metadata","customMetadata",!0)),Jr=N,Jr}function $(N,k,Q){const ee=mn(k);return null===ee?null:function z(N,k,Q){const ee={type:"file"},me=Q.length;for(let ke=0;ke<me;ke++){const at=Q[ke];ee[at.local]=at.xform(ee,k[at.server])}return function j(N,k){Object.defineProperty(N,"ref",{get:function Q(){const ke=new Ie(N.bucket,N.fullPath);return k._makeStorageReference(ke)}})}(ee,N),ee}(N,ee,Q)}class hn{constructor(k,Q,ee,me){this.url=k,this.method=Q,this.handler=ee,this.timeout=me,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function jt(N){if(!N)throw tt()}function ar(N){return function k(Q,ee){let me;return me=401===Q.getStatus()?Q.getErrorText().includes("Firebase App Check token is invalid")?function xe(){return new He(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function be(){return new He(it.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Q.getStatus()?function Pt(N){return new He(it.QUOTA_EXCEEDED,"Quota for bucket '"+N+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(N.bucket):403===Q.getStatus()?function $e(N){return new He(it.UNAUTHORIZED,"User does not have permission to access '"+N+"'.")}(N.path):ee,me.status=Q.getStatus(),me.serverResponse=ee.serverResponse,me}}function Pe(N){const k=ar(N);return function Q(ee,me){let ke=k(ee,me);return 404===ee.getStatus()&&(ke=function dt(N){return new He(it.OBJECT_NOT_FOUND,"Object '"+N+"' does not exist.")}(N.path)),ke.serverResponse=me.serverResponse,ke}}function Ai(N,k,Q,ee,me){const ke=k.bucketOnlyServerUrl(),at={"X-Goog-Upload-Protocol":"multipart"},bt=function Ft(){let Tr="";for(let tr=0;tr<2;tr++)Tr+=Math.random().toString().slice(2);return Tr}();at["Content-Type"]="multipart/related; boundary="+bt;const an=function ur(N,k,Q){const ee=Object.assign({},Q);return ee.fullPath=N.path,ee.size=k.size(),ee.contentType||(ee.contentType=function Sr(N,k){return N&&N.contentType||k&&k.type()||"application/octet-stream"}(null,k)),ee}(k,ee,me),En=function fe(N,k){const Q={},ee=k.length;for(let me=0;me<ee;me++){const ke=k[me];ke.writable&&(Q[ke.server]=N[ke.local])}return JSON.stringify(Q)}(an,Q),Nr=Mt.getBlob("--"+bt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+En+"\r\n--"+bt+"\r\nContent-Type: "+an.contentType+"\r\n\r\n",ee,"\r\n--"+bt+"--");if(null===Nr)throw function Ve(){return new He(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const zr={name:an.fullPath},si=vn(ke,N.host,N._protocol),Si=N.maxUploadRetryTime,Ri=new hn(si,"POST",function Sn(N,k){return function Q(ee,me){const ke=$(N,me,k);return jt(null!==ke),ke}}(N,Q),Si);return Ri.urlParams=zr,Ri.headers=at,Ri.body=Nr.uploadData(),Ri.errorHandler=ar(k),Ri}let di=null;class ht{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jt.NO_ERROR,this.sendPromise_=new Promise(k=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jt.ABORT,k()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jt.NETWORK_ERROR,k()}),this.xhr_.addEventListener("load",()=>{k()})})}send(k,Q,ee,me){if(this.sent_)throw ve("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Q,k,!0),void 0!==me)for(const ke in me)me.hasOwnProperty(ke)&&this.xhr_.setRequestHeader(ke,me[ke].toString());return void 0!==ee?this.xhr_.send(ee):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ve("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ve("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ve("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ve("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(k){return this.xhr_.getResponseHeader(k)}addUploadProgressListener(k){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",k)}removeUploadProgressListener(k){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",k)}}class Ye extends ht{initXhr(){this.xhr_.responseType="text"}}function gt(){return di?di():new Ye}class Fi{constructor(k,Q){this._service=k,this._location=Q instanceof Ie?Q:Ie.makeFromUrl(Q,k.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(k,Q){return new Fi(k,Q)}get root(){const k=new Ie(this._location.bucket,"");return this._newRef(this._service,k)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return br(this._location.path)}get storage(){return this._service}get parent(){const k=function vr(N){if(0===N.length)return null;const k=N.lastIndexOf("/");return-1===k?"":N.slice(0,k)}(this._location.path);if(null===k)return null;const Q=new Ie(this._location.bucket,k);return new Fi(this._service,Q)}_throwIfRoot(k){if(""===this._location.path)throw function Vt(N){return new He(it.INVALID_ROOT_OPERATION,"The operation '"+N+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(k)}}function Uo(N){N._throwIfRoot("getDownloadURL");const k=function Wt(N,k,Q){const me=vn(k.fullServerUrl(),N.host,N._protocol),at=N.maxOperationRetryTime,Ft=new hn(me,"GET",function _s(N,k){return function Q(ee,me){const ke=$(N,me,k);return jt(null!==ke),function H(N,k,Q,ee){const me=mn(k);if(null===me||!Ut(me.downloadTokens))return null;const ke=me.downloadTokens;if(0===ke.length)return null;const at=encodeURIComponent;return ke.split(",").map(an=>{const Kn=N.fullPath;return vn("/b/"+at(N.bucket)+"/o/"+at(Kn),Q,ee)+ir({alt:"media",token:an})})[0]}(ke,me,N.host,N._protocol)}}(N,Q),at);return Ft.errorHandler=Pe(k),Ft}(N.storage,N._location,oe());return N.storage.makeRequestWithTokens(k,gt).then(Q=>{if(null===Q)throw function en(){return new He(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Q})}function Kr(N,k){if(N instanceof Hn){const Q=N;if(null==Q._bucket)throw function Be(){return new He(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ne+"' property when initializing the app?")}();const ee=new Fi(Q,Q._bucket);return null!=k?Kr(ee,k):ee}return void 0!==k?function Vs(N,k){const Q=function tn(N,k){const Q=k.split("/").filter(ee=>ee.length>0).join("/");return 0===N.length?Q:N+"/"+Q}(N._location.path,k),ee=new Ie(N._location.bucket,Q);return new Fi(N.storage,ee)}(N,k):N}function to(N,k){const Q=k?.[ne];return null==Q?null:Ie.makeFromBucketSpec(Q,N)}class Hn{constructor(k,Q,ee,me,ke){this.app=k,this._authProvider=Q,this._appCheckProvider=ee,this._url=me,this._firebaseVersion=ke,this._bucket=null,this._host=W,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=me?Ie.makeFromBucketSpec(me,this._host):to(this._host,this.app.options)}get host(){return this._host}set host(k){this._host=k,this._bucket=null!=this._url?Ie.makeFromBucketSpec(this._url,k):to(k,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(k){Cn("time",0,Number.POSITIVE_INFINITY,k),this._maxUploadRetryTime=k}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(k){Cn("time",0,Number.POSITIVE_INFINITY,k),this._maxOperationRetryTime=k}_getAuthToken(){var k=this;return(0,ie.Z)(function*(){if(k._overrideAuthToken)return k._overrideAuthToken;const Q=k._authProvider.getImmediate({optional:!0});if(Q){const ee=yield Q.getToken();if(null!==ee)return ee.accessToken}return null})()}_getAppCheckToken(){var k=this;return(0,ie.Z)(function*(){const Q=k._appCheckProvider.getImmediate({optional:!0});return Q?(yield Q.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(k=>k.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(k){return new Fi(this,k)}_makeRequest(k,Q,ee,me,ke=!0){if(this._deleted)return new De(Tt());{const at=function zn(N,k,Q,ee,me,ke,at=!0){const Ft=ir(N.urlParams),bt=N.url+Ft,an=Object.assign({},N.headers);return function yi(N,k){k&&(N["X-Firebase-GMPID"]=k)}(an,k),function Li(N,k){null!==k&&k.length>0&&(N.Authorization="Firebase "+k)}(an,Q),function pn(N,k){N["X-Firebase-Storage-Version"]="webjs/"+(k??"AppManager")}(an,ke),function Qn(N,k){null!==k&&(N["X-Firebase-AppCheck"]=k)}(an,ee),new Gn(bt,N.method,an,N.body,N.successCodes,N.additionalRetryCodes,N.handler,N.errorHandler,N.timeout,N.progressCallback,me,at)}(k,this._appId,ee,me,Q,this._firebaseVersion,ke);return this._requests.add(at),at.getPromise().then(()=>this._requests.delete(at),()=>this._requests.delete(at)),at}}makeRequestWithTokens(k,Q){var ee=this;return(0,ie.Z)(function*(){const[me,ke]=yield Promise.all([ee._getAuthToken(),ee._getAppCheckToken()]);return ee._makeRequest(k,Q,me,ke).getPromise()})()}}const Ii="@firebase/storage",Jn="storage";function us(N,k,Q){return function pr(N,k,Q){N._throwIfRoot("uploadBytes");const ee=Ai(N.storage,N._location,oe(),new Mt(k,!0),Q);return N.storage.makeRequestWithTokens(ee,gt).then(me=>({metadata:me,ref:N}))}(N=(0,re.m9)(N),k,Q)}function Mn(N){return Uo(N=(0,re.m9)(N))}function mt(N){return function Js(N){N._throwIfRoot("deleteObject");const k=function ln(N,k){const ee=vn(k.fullServerUrl(),N.host,N._protocol),Ft=new hn(ee,"DELETE",function at(bt,an){},N.maxOperationRetryTime);return Ft.successCodes=[200,204],Ft.errorHandler=Pe(k),Ft}(N.storage,N._location);return N.storage.makeRequestWithTokens(k,gt)}(N=(0,re.m9)(N))}function rn(N,k){return function bi(N,k){if(k&&function eo(N){return/^[A-Za-z]+:\/\//.test(N)}(k)){if(N instanceof Hn)return function Vi(N,k){return new Fi(N,k)}(N,k);throw Ze("To use ref(service, url), the first argument must be a Storage instance.")}return Kr(N,k)}(N=(0,re.m9)(N),k)}function Ei(N=(0,pe.getApp)(),k){N=(0,re.m9)(N);const ee=(0,pe._getProvider)(N,Jn).getImmediate({identifier:k}),me=(0,re.P0)("storage");return me&&function Do(N,k,Q,ee={}){!function no(N,k,Q,ee={}){N.host=`${k}:${Q}`,N._protocol="http";const{mockUserToken:me}=ee;me&&(N._overrideAuthToken="string"==typeof me?me:(0,re.Sg)(me,N.app.options.projectId))}(N,k,Q,ee)}(ee,...me),ee}function gr(N,{instanceIdentifier:k}){const Q=N.getProvider("app").getImmediate(),ee=N.getProvider("auth-internal"),me=N.getProvider("app-check-internal");return new Hn(Q,ee,me,k,pe.SDK_VERSION)}!function Yi(){(0,pe._registerComponent)(new _e.wA(Jn,gr,"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Ii,"0.11.2",""),(0,pe.registerVersion)(Ii,"0.11.2","esm2017")}();class ii{constructor(k){return k}}const Xt="storage",xs=new q.OlP("angularfire2.storage-instances");function Zi(N){return(k,Q)=>{const ee=k.runOutsideAngular(()=>N(Q));return new ii(ee)}}const Us={provide:class io{constructor(){return(0,m.vb)(Xt)}},deps:[[new q.FiY,xs]]},hi={provide:ii,useFactory:function Er(N,k){const Q=(0,m.JM)(Xt,N,k);return Q&&new ii(Q)},deps:[[new q.FiY,xs],he.Ot]};let Bi=(()=>{class N{constructor(){(0,ae.KN)("angularfire",m.q4.full,"gcs")}static \u0275fac=function(ee){return new(ee||N)};static \u0275mod=q.oAB({type:N});static \u0275inj=q.cJS({providers:[hi,Us]})}return N})();function so(N,...k){return{ngModule:Bi,providers:[{provide:xs,useFactory:Zi(N),multi:!0,deps:[q.R0b,q.zs3,m.HU,he.z6,[new q.FiY,se.dh],[new q.FiY,m.Rf],...k]}]}}const $i=(0,m.u3)(mt,!0),_o=(0,m.u3)(Mn,!0),mr=(0,m.u3)(Ei,!0),er=(0,m.u3)(rn,!0),fi=(0,m.u3)(us,!0)},1920:(Ct,Se,L)=>{L.d(Se,{q4:()=>Le,HU:()=>$e,Rf:()=>tt,vb:()=>Dt,JM:()=>it,u3:()=>lt});var m=L(9291),q=L(3182),he=L(1954),ae=L(2631);const pe=new class ie extends ae.v{}(class se extends he.o{constructor(Tt,Vt){super(Tt,Vt),this.scheduler=Tt,this.work=Vt}schedule(Tt,Vt=0){return Vt>0?super.schedule(Tt,Vt):(this.delay=Vt,this.state=Tt,this.scheduler.flush(this),this)}execute(Tt,Vt){return Vt>0||this.closed?super.execute(Tt,Vt):this._execute(Tt,Vt)}requestAsyncId(Tt,Vt,de=0){return null!=de&&de>0||null==de&&this.delay>0?super.requestAsyncId(Tt,Vt,de):(Tt.flush(this),0)}});var _e=L(6321),W=L(5592),ne=L(9397),ye=L(5137),Ke=L(3093);const Le=new m.GfV("ANGULARFIRE2_VERSION");function it(Ze,Tt,Vt){if(Tt){if(1===Tt.length)return Tt[0];const Ie=Tt.filter(De=>De.app===Vt);if(1===Ie.length)return Ie[0]}return Vt.container.getProvider(Ze).getImmediate({optional:!0})}const Dt=(Ze,Tt)=>{const Vt=Tt?[Tt]:(0,q.C6)(),de=[];return Vt.forEach(ve=>{ve.container.getProvider(Ze).instances.forEach(De=>{de.includes(De)||de.push(De)})}),de};class tt{constructor(){return Dt(dt)}}const dt="app-check";function Pt(){}class be{zone;delegate;constructor(Tt,Vt=pe){this.zone=Tt,this.delegate=Vt}now(){return this.delegate.now()}schedule(Tt,Vt,de){const ve=this.zone;return this.delegate.schedule(function(De){ve.runGuarded(()=>{Tt.apply(this,[De])})},Vt,de)}}class xe{zone;task=null;constructor(Tt){this.zone=Tt}call(Tt,Vt){const de=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pt,{},Pt,Pt)),Vt.pipe((0,ne.b)({next:de,complete:de,error:de})).subscribe(Tt).add(de)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $e=(()=>{class Ze{ngZone;outsideAngular;insideAngular;constructor(Vt){this.ngZone=Vt,this.outsideAngular=Vt.runOutsideAngular(()=>new be(Zone.current)),this.insideAngular=Vt.run(()=>new be(Zone.current,_e.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(de){return new(de||Ze)(m.LFG(m.R0b))};static \u0275prov=m.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"})}return Ze})();function Ue(){const Ze=globalThis.\u0275AngularFireScheduler;if(!Ze)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ze}function te(Ze){return Ue().ngZone.run(()=>Ze())}function Ve(Ze){return function ze(Ze){return function(Vt){return(Vt=Vt.lift(new xe(Ze.ngZone))).pipe((0,ye.R)(Ze.outsideAngular),(0,Ke.Q)(Ze.insideAngular))}}(Ue())(Ze)}const en=(Ze,Tt)=>function(){const de=arguments;return Tt&&setTimeout(()=>{"scheduled"===Tt.state&&Tt.invoke()},10),te(()=>Ze.apply(void 0,de))},lt=(Ze,Tt)=>function(){let Vt;const de=arguments;for(let Ie=0;Ie<arguments.length;Ie++)"function"==typeof de[Ie]&&(Tt&&(Vt||=te(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pt,{},Pt,Pt))),de[Ie]=en(de[Ie],Vt));const ve=function Fe(Ze){return Ue().ngZone.runOutsideAngular(()=>Ze())}(()=>Ze.apply(this,de));if(!Tt){if(ve instanceof W.y){const Ie=Ue();return ve.pipe((0,ye.R)(Ie.outsideAngular),(0,Ke.Q)(Ie.insideAngular))}return te(()=>ve)}return ve instanceof W.y?ve.pipe(Ve):ve instanceof Promise?te(()=>new Promise((Ie,De)=>ve.then(Ne=>te(()=>Ie(Ne)),Ne=>te(()=>De(Ne))))):"function"==typeof ve&&Vt?function(){return setTimeout(()=>{Vt&&"scheduled"===Vt.state&&Vt.invoke()},10),ve.apply(this,arguments)}:te(()=>ve)}},6593:(Ct,Se,L)=>{L.d(Se,{Dx:()=>pn,H7:()=>Xn,b2:()=>Jt,q6:()=>Et});var m=L(9291),q=L(6814);class he extends q.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class se extends he{static makeCurrent(){(0,q.HT)(new se)}onAndCancel(z,$,H){return z.addEventListener($,H),()=>{z.removeEventListener($,H)}}dispatchEvent(z,$){z.dispatchEvent($)}remove(z){z.parentNode&&z.parentNode.removeChild(z)}createElement(z,$){return($=$||this.getDefaultDocument()).createElement(z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(z){return z.nodeType===Node.ELEMENT_NODE}isShadowRoot(z){return z instanceof DocumentFragment}getGlobalEventTarget(z,$){return"window"===$?window:"document"===$?z:"body"===$?z.body:null}getBaseHref(z){const $=function ie(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==$?null:function re(j){pe=pe||document.createElement("a"),pe.setAttribute("href",j);const z=pe.pathname;return"/"===z.charAt(0)?z:`/${z}`}($)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(z){return(0,q.Mx)(document.cookie,z)}}let pe,ae=null,W=(()=>{class j{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(H){return new(H||j)};static#t=this.\u0275prov=m.Yz7({token:j,factory:j.\u0275fac})}return j})();const ne=new m.OlP("EventManagerPlugins");let ye=(()=>{class j{constructor($,H){this._zone=H,this._eventNameToPlugin=new Map,$.forEach(fe=>{fe.manager=this}),this._plugins=$.slice().reverse()}addEventListener($,H,fe){return this._findPluginFor(H).addEventListener($,H,fe)}getZone(){return this._zone}_findPluginFor($){let H=this._eventNameToPlugin.get($);if(H)return H;if(H=this._plugins.find(We=>We.supports($)),!H)throw new m.vHH(5101,!1);return this._eventNameToPlugin.set($,H),H}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(ne),m.LFG(m.R0b))};static#t=this.\u0275prov=m.Yz7({token:j,factory:j.\u0275fac})}return j})();class Ke{constructor(z){this._doc=z}}const Le="ng-app-id";let He=(()=>{class j{constructor($,H,fe,We={}){this.doc=$,this.appId=H,this.nonce=fe,this.platformId=We,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,q.PM)(We),this.resetHostNodes()}addStyles($){for(const H of $)1===this.changeUsageCount(H,1)&&this.onStyleAdded(H)}removeStyles($){for(const H of $)this.changeUsageCount(H,-1)<=0&&this.onStyleRemoved(H)}ngOnDestroy(){const $=this.styleNodesInDOM;$&&($.forEach(H=>H.remove()),$.clear());for(const H of this.getAllStyles())this.onStyleRemoved(H);this.resetHostNodes()}addHost($){this.hostNodes.add($);for(const H of this.getAllStyles())this.addStyleToHost($,H)}removeHost($){this.hostNodes.delete($)}getAllStyles(){return this.styleRef.keys()}onStyleAdded($){for(const H of this.hostNodes)this.addStyleToHost(H,$)}onStyleRemoved($){const H=this.styleRef;H.get($)?.elements?.forEach(fe=>fe.remove()),H.delete($)}collectServerRenderedStyles(){const $=this.doc.head?.querySelectorAll(`style[${Le}="${this.appId}"]`);if($?.length){const H=new Map;return $.forEach(fe=>{null!=fe.textContent&&H.set(fe.textContent,fe)}),H}return null}changeUsageCount($,H){const fe=this.styleRef;if(fe.has($)){const We=fe.get($);return We.usage+=H,We.usage}return fe.set($,{usage:H,elements:[]}),H}getStyleElement($,H){const fe=this.styleNodesInDOM,We=fe?.get(H);if(We?.parentNode===$)return fe.delete(H),We.removeAttribute(Le),We;{const ut=this.doc.createElement("style");return this.nonce&&ut.setAttribute("nonce",this.nonce),ut.textContent=H,this.platformIsServer&&ut.setAttribute(Le,this.appId),ut}}addStyleToHost($,H){const fe=this.getStyleElement($,H);$.appendChild(fe);const We=this.styleRef,ut=We.get(H)?.elements;ut?ut.push(fe):We.set(H,{elements:[fe],usage:1})}resetHostNodes(){const $=this.hostNodes;$.clear(),$.add(this.doc.head)}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(q.K0),m.LFG(m.AFp),m.LFG(m.Ojb,8),m.LFG(m.Lbi))};static#t=this.\u0275prov=m.Yz7({token:j,factory:j.\u0275fac})}return j})();const it={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dt=/%COMP%/g,xe=new m.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Fe(j,z){return z.map($=>$.replace(Dt,j))}let te=(()=>{class j{constructor($,H,fe,We,ut,Gt,Qt,hn=null){this.eventManager=$,this.sharedStylesHost=H,this.appId=fe,this.removeStylesOnCompDestroy=We,this.doc=ut,this.platformId=Gt,this.ngZone=Qt,this.nonce=hn,this.rendererByCompId=new Map,this.platformIsServer=(0,q.PM)(Gt),this.defaultRenderer=new qt($,ut,Qt,this.platformIsServer)}createRenderer($,H){if(!$||!H)return this.defaultRenderer;this.platformIsServer&&H.encapsulation===m.ifc.ShadowDom&&(H={...H,encapsulation:m.ifc.Emulated});const fe=this.getOrCreateRenderer($,H);return fe instanceof Ze?fe.applyToHost($):fe instanceof lt&&fe.applyStyles(),fe}getOrCreateRenderer($,H){const fe=this.rendererByCompId;let We=fe.get(H.id);if(!We){const ut=this.doc,Gt=this.ngZone,Qt=this.eventManager,hn=this.sharedStylesHost,jt=this.removeStylesOnCompDestroy,Sn=this.platformIsServer;switch(H.encapsulation){case m.ifc.Emulated:We=new Ze(Qt,hn,H,this.appId,jt,ut,Gt,Sn);break;case m.ifc.ShadowDom:return new en(Qt,hn,$,H,ut,Gt,this.nonce,Sn);default:We=new lt(Qt,hn,H,jt,ut,Gt,Sn)}fe.set(H.id,We)}return We}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(ye),m.LFG(He),m.LFG(m.AFp),m.LFG(xe),m.LFG(q.K0),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(m.Ojb))};static#t=this.\u0275prov=m.Yz7({token:j,factory:j.\u0275fac})}return j})();class qt{constructor(z,$,H,fe){this.eventManager=z,this.doc=$,this.ngZone=H,this.platformIsServer=fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(z,$){return $?this.doc.createElementNS(it[$]||$,z):this.doc.createElement(z)}createComment(z){return this.doc.createComment(z)}createText(z){return this.doc.createTextNode(z)}appendChild(z,$){(ze(z)?z.content:z).appendChild($)}insertBefore(z,$,H){z&&(ze(z)?z.content:z).insertBefore($,H)}removeChild(z,$){z&&z.removeChild($)}selectRootElement(z,$){let H="string"==typeof z?this.doc.querySelector(z):z;if(!H)throw new m.vHH(-5104,!1);return $||(H.textContent=""),H}parentNode(z){return z.parentNode}nextSibling(z){return z.nextSibling}setAttribute(z,$,H,fe){if(fe){$=fe+":"+$;const We=it[fe];We?z.setAttributeNS(We,$,H):z.setAttribute($,H)}else z.setAttribute($,H)}removeAttribute(z,$,H){if(H){const fe=it[H];fe?z.removeAttributeNS(fe,$):z.removeAttribute(`${H}:${$}`)}else z.removeAttribute($)}addClass(z,$){z.classList.add($)}removeClass(z,$){z.classList.remove($)}setStyle(z,$,H,fe){fe&(m.JOm.DashCase|m.JOm.Important)?z.style.setProperty($,H,fe&m.JOm.Important?"important":""):z.style[$]=H}removeStyle(z,$,H){H&m.JOm.DashCase?z.style.removeProperty($):z.style[$]=""}setProperty(z,$,H){z[$]=H}setValue(z,$){z.nodeValue=$}listen(z,$,H){if("string"==typeof z&&!(z=(0,q.q)().getGlobalEventTarget(this.doc,z)))throw new Error(`Unsupported event target ${z} for event ${$}`);return this.eventManager.addEventListener(z,$,this.decoratePreventDefault(H))}decoratePreventDefault(z){return $=>{if("__ngUnwrap__"===$)return z;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>z($)):z($))&&$.preventDefault()}}}function ze(j){return"TEMPLATE"===j.tagName&&void 0!==j.content}class en extends qt{constructor(z,$,H,fe,We,ut,Gt,Qt){super(z,We,ut,Qt),this.sharedStylesHost=$,this.hostEl=H,this.shadowRoot=H.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const hn=Fe(fe.id,fe.styles);for(const jt of hn){const Sn=document.createElement("style");Gt&&Sn.setAttribute("nonce",Gt),Sn.textContent=jt,this.shadowRoot.appendChild(Sn)}}nodeOrShadowRoot(z){return z===this.hostEl?this.shadowRoot:z}appendChild(z,$){return super.appendChild(this.nodeOrShadowRoot(z),$)}insertBefore(z,$,H){return super.insertBefore(this.nodeOrShadowRoot(z),$,H)}removeChild(z,$){return super.removeChild(this.nodeOrShadowRoot(z),$)}parentNode(z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(z)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class lt extends qt{constructor(z,$,H,fe,We,ut,Gt,Qt){super(z,We,ut,Gt),this.sharedStylesHost=$,this.removeStylesOnCompDestroy=fe,this.styles=Qt?Fe(Qt,H.styles):H.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ze extends lt{constructor(z,$,H,fe,We,ut,Gt,Qt){const hn=fe+"-"+H.id;super(z,$,H,We,ut,Gt,Qt,hn),this.contentAttr=function $e(j){return"_ngcontent-%COMP%".replace(Dt,j)}(hn),this.hostAttr=function Ue(j){return"_nghost-%COMP%".replace(Dt,j)}(hn)}applyToHost(z){this.applyStyles(),this.setAttribute(z,this.hostAttr,"")}createElement(z,$){const H=super.createElement(z,$);return super.setAttribute(H,this.contentAttr,""),H}}let Tt=(()=>{class j extends Ke{constructor($){super($)}supports($){return!0}addEventListener($,H,fe){return $.addEventListener(H,fe,!1),()=>this.removeEventListener($,H,fe)}removeEventListener($,H,fe){return $.removeEventListener(H,fe)}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(q.K0))};static#t=this.\u0275prov=m.Yz7({token:j,factory:j.\u0275fac})}return j})();const Vt=["alt","control","meta","shift"],de={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ve={alt:j=>j.altKey,control:j=>j.ctrlKey,meta:j=>j.metaKey,shift:j=>j.shiftKey};let Ie=(()=>{class j extends Ke{constructor($){super($)}supports($){return null!=j.parseEventName($)}addEventListener($,H,fe){const We=j.parseEventName(H),ut=j.eventCallback(We.fullKey,fe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,q.q)().onAndCancel($,We.domEventName,ut))}static parseEventName($){const H=$.toLowerCase().split("."),fe=H.shift();if(0===H.length||"keydown"!==fe&&"keyup"!==fe)return null;const We=j._normalizeKey(H.pop());let ut="",Gt=H.indexOf("code");if(Gt>-1&&(H.splice(Gt,1),ut="code."),Vt.forEach(hn=>{const jt=H.indexOf(hn);jt>-1&&(H.splice(jt,1),ut+=hn+".")}),ut+=We,0!=H.length||0===We.length)return null;const Qt={};return Qt.domEventName=fe,Qt.fullKey=ut,Qt}static matchEventFullKeyCode($,H){let fe=de[$.key]||$.key,We="";return H.indexOf("code.")>-1&&(fe=$.code,We="code."),!(null==fe||!fe)&&(fe=fe.toLowerCase()," "===fe?fe="space":"."===fe&&(fe="dot"),Vt.forEach(ut=>{ut!==fe&&(0,ve[ut])($)&&(We+=ut+".")}),We+=fe,We===H)}static eventCallback($,H,fe){return We=>{j.matchEventFullKeyCode(We,$)&&fe.runGuarded(()=>H(We))}}static _normalizeKey($){return"esc"===$?"escape":$}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(q.K0))};static#t=this.\u0275prov=m.Yz7({token:j,factory:j.\u0275fac})}return j})();const Et=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:q.bD},{provide:m.g9A,useValue:function cn(){se.makeCurrent()},multi:!0},{provide:q.K0,useFactory:function Ut(){return(0,m.RDi)(document),document},deps:[]}]),Cn=new m.OlP(""),vn=[{provide:m.rWj,useClass:class _e{addToWindow(z){m.dqk.getAngularTestability=(H,fe=!0)=>{const We=z.findTestabilityInTree(H,fe);if(null==We)throw new m.vHH(5103,!1);return We},m.dqk.getAllAngularTestabilities=()=>z.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>z.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(H=>{const fe=m.dqk.getAllAngularTestabilities();let We=fe.length,ut=!1;const Gt=function(Qt){ut=ut||Qt,We--,0==We&&H(ut)};fe.forEach(Qt=>{Qt.whenStable(Gt)})})}findTestabilityInTree(z,$,H){return null==$?null:z.getTestability($)??(H?(0,q.q)().isShadowRoot($)?this.findTestabilityInTree(z,$.host,!0):this.findTestabilityInTree(z,$.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],ir=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function Pn(){return new m.qLn},deps:[]},{provide:ne,useClass:Tt,multi:!0,deps:[q.K0,m.R0b,m.Lbi]},{provide:ne,useClass:Ie,multi:!0,deps:[q.K0]},te,He,ye,{provide:m.FYo,useExisting:te},{provide:q.JF,useClass:W,deps:[]},[]];let Jt=(()=>{class j{constructor($){}static withServerTransition($){return{ngModule:j,providers:[{provide:m.AFp,useValue:$.appId}]}}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(Cn,12))};static#t=this.\u0275mod=m.oAB({type:j});static#n=this.\u0275inj=m.cJS({providers:[...ir,...vn],imports:[q.ez,m.hGG]})}return j})(),pn=(()=>{class j{constructor($){this._doc=$}getTitle(){return this._doc.title}setTitle($){this._doc.title=$||""}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(q.K0))};static#t=this.\u0275prov=m.Yz7({token:j,factory:function(H){let fe=null;return fe=H?new H:function Li(){return new pn((0,m.LFG)(q.K0))}(),fe},providedIn:"root"})}return j})();typeof window<"u"&&window;let Xn=(()=>{class j{static#e=this.\u0275fac=function(H){return new(H||j)};static#t=this.\u0275prov=m.Yz7({token:j,factory:function(H){let fe=null;return fe=H?new(H||j):m.LFG(mn),fe},providedIn:"root"})}return j})(),mn=(()=>{class j extends Xn{constructor($){super(),this._doc=$}sanitize($,H){if(null==H)return null;switch($){case m.q3G.NONE:return H;case m.q3G.HTML:return(0,m.qzn)(H,"HTML")?(0,m.z3N)(H):(0,m.EiD)(this._doc,String(H)).toString();case m.q3G.STYLE:return(0,m.qzn)(H,"Style")?(0,m.z3N)(H):H;case m.q3G.SCRIPT:if((0,m.qzn)(H,"Script"))return(0,m.z3N)(H);throw new m.vHH(5200,!1);case m.q3G.URL:return(0,m.qzn)(H,"URL")?(0,m.z3N)(H):(0,m.mCW)(String(H));case m.q3G.RESOURCE_URL:if((0,m.qzn)(H,"ResourceURL"))return(0,m.z3N)(H);throw new m.vHH(5201,!1);default:throw new m.vHH(5202,!1)}}bypassSecurityTrustHtml($){return(0,m.JVY)($)}bypassSecurityTrustStyle($){return(0,m.L6k)($)}bypassSecurityTrustScript($){return(0,m.eBb)($)}bypassSecurityTrustUrl($){return(0,m.LAX)($)}bypassSecurityTrustResourceUrl($){return(0,m.pB0)($)}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(q.K0))};static#t=this.\u0275prov=m.Yz7({token:j,factory:function(H){let fe=null;return fe=H?new H:function Mt(j){return new mn(j.get(q.K0))}(m.LFG(m.zs3)),fe},providedIn:"root"})}return j})()},4017:(Ct,Se,L)=>{L.d(Se,{gz:()=>Ii,m2:()=>Ye,wm:()=>wr,F0:()=>Ge,rH:()=>zu,Bz:()=>Bc,lC:()=>Ps});var m=L(9291),q=L(5592),he=L(4674),ae=L(2459),ie=L(2096),pe=L(5619),re=L(2572);const W=(0,L(2306).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var ne=L(5211),ye=L(4829);function Ke(y){return new q.y(D=>{(0,ye.Xf)(y()).subscribe(D)})}var Le=L(8407);function He(y,D){const _=(0,he.m)(y)?y:()=>y,A=R=>R.error(_());return new q.y(D?R=>D.schedule(A,0,R):A)}var it=L(6232),Dt=L(7394),tt=L(9360),dt=L(8251);function Pt(){return(0,tt.e)((y,D)=>{let _=null;y._refCount++;const A=(0,dt.x)(D,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(_=null);const R=y._connection,V=_;_=null,R&&(!V||R===V)&&R.unsubscribe(),D.unsubscribe()});y.subscribe(A),A.closed||(_=y.connect())})}class be extends q.y{constructor(D,_){super(),this.source=D,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,tt.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new Dt.w0;const _=this.getSubject();D.add(this.source.subscribe((0,dt.x)(_,void 0,()=>{this._teardown(),_.complete()},A=>{this._teardown(),_.error(A)},()=>this._teardown()))),D.closed&&(this._connection=null,D=Dt.w0.EMPTY)}return D}refCount(){return Pt()(this)}}var xe=L(8645),$e=L(6814),Ue=L(7398),Fe=L(4664),te=L(8180),qt=L(7921),Be=L(2181),Ve=L(1631);function ze(y){return(0,tt.e)((D,_)=>{let A=!1;D.subscribe((0,dt.x)(_,R=>{A=!0,_.next(R)},()=>{A||_.next(y),_.complete()}))})}function en(y=lt){return(0,tt.e)((D,_)=>{let A=!1;D.subscribe((0,dt.x)(_,R=>{A=!0,_.next(R)},()=>A?_.complete():_.error(y())))})}function lt(){return new W}var Ze=L(2737);function Tt(y,D){const _=arguments.length>=2;return A=>A.pipe(y?(0,Be.h)((R,V)=>y(R,V,A)):Ze.y,(0,te.q)(1),_?ze(D):en(()=>new W))}function Vt(y,D){return(0,he.m)(D)?(0,Ve.z)(y,D,1):(0,Ve.z)(y,1)}var de=L(9397);function ve(y){return(0,tt.e)((D,_)=>{let V,A=null,R=!1;A=D.subscribe((0,dt.x)(_,void 0,void 0,J=>{V=(0,ye.Xf)(y(J,ve(y)(D))),A?(A.unsubscribe(),A=null,V.subscribe(_)):R=!0})),R&&(A.unsubscribe(),A=null,V.subscribe(_))})}function Ne(y){return y<=0?()=>it.E:(0,tt.e)((D,_)=>{let A=[];D.subscribe((0,dt.x)(_,R=>{A.push(R),y<A.length&&A.shift()},()=>{for(const R of A)_.next(R);_.complete()},void 0,()=>{A=null}))})}function cn(y){return(0,tt.e)((D,_)=>{try{D.subscribe(_)}finally{_.add(y)}})}var Pn=L(9773),Ut=L(7537),_n=L(6593);const Et="primary",Cn=Symbol("RouteTitle");class vn{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_[0]:_}return null}getAll(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function ir(y){return new vn(y)}function Jt(y,D,_){const A=_.path.split("/");if(A.length>y.length||"full"===_.pathMatch&&(D.hasChildren()||A.length<y.length))return null;const R={};for(let V=0;V<A.length;V++){const J=A[V],Ce=y[V];if(J.startsWith(":"))R[J.substring(1)]=Ce;else if(J!==Ce.path)return null}return{consumed:y.slice(0,A.length),posParams:R}}function Gn(y,D){const _=y?Object.keys(y):void 0,A=D?Object.keys(D):void 0;if(!_||!A||_.length!=A.length)return!1;let R;for(let V=0;V<_.length;V++)if(R=_[V],!ki(y[R],D[R]))return!1;return!0}function ki(y,D){if(Array.isArray(y)&&Array.isArray(D)){if(y.length!==D.length)return!1;const _=[...y].sort(),A=[...D].sort();return _.every((R,V)=>A[V]===R)}return y===D}function Li(y){return y.length>0?y[y.length-1]:null}function pn(y){return function se(y){return!!y&&(y instanceof q.y||(0,he.m)(y.lift)&&(0,he.m)(y.subscribe))}(y)?y:(0,m.QGY)(y)?(0,ae.D)(Promise.resolve(y)):(0,ie.of)(y)}const yi={exact:function zt(y,D,_){if(!Bt(y.segments,D.segments)||!Cr(y.segments,D.segments,_)||y.numberOfChildren!==D.numberOfChildren)return!1;for(const A in D.children)if(!y.children[A]||!zt(y.children[A],D.children[A],_))return!1;return!0},subset:Ar},Qn={exact:function on(y,D){return Gn(y,D)},subset:function Ur(y,D){return Object.keys(D).length<=Object.keys(y).length&&Object.keys(D).every(_=>ki(y[_],D[_]))},ignored:()=>!0};function zn(y,D,_){return yi[_.paths](y.root,D.root,_.matrixParams)&&Qn[_.queryParams](y.queryParams,D.queryParams)&&!("exact"===_.fragment&&y.fragment!==D.fragment)}function Ar(y,D,_){return Un(y,D,D.segments,_)}function Un(y,D,_,A){if(y.segments.length>_.length){const R=y.segments.slice(0,_.length);return!(!Bt(R,_)||D.hasChildren()||!Cr(R,_,A))}if(y.segments.length===_.length){if(!Bt(y.segments,_)||!Cr(y.segments,_,A))return!1;for(const R in D.children)if(!y.children[R]||!Ar(y.children[R],D.children[R],A))return!1;return!0}{const R=_.slice(0,y.segments.length),V=_.slice(y.segments.length);return!!(Bt(y.segments,R)&&Cr(y.segments,R,A)&&y.children[Et])&&Un(y.children[Et],D,V,A)}}function Cr(y,D,_){return D.every((A,R)=>Qn[_](y[R].parameters,A.parameters))}class bn{constructor(D=new gn([],{}),_={},A=null){this.root=D,this.queryParams=_,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ir(this.queryParams)),this._queryParamMap}toString(){return Mt.serialize(this)}}class gn{constructor(D,_){this.segments=D,this.children=_,this.parent=null,Object.values(_).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mn(this)}}class yt{constructor(D,_){this.path=D,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=ir(this.parameters)),this._parameterMap}toString(){return oe(this)}}function Bt(y,D){return y.length===D.length&&y.every((_,A)=>_.path===D[A].path)}let Xr=(()=>{class y{static#e=this.\u0275fac=function(A){return new(A||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:function(){return new Xn},providedIn:"root"})}return y})();class Xn{parse(D){const _=new jt(D);return new bn(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(D){const _=`/${vr(D.root,!0)}`,A=function z(y){const D=Object.keys(y).map(_=>{const A=y[_];return Array.isArray(A)?A.map(R=>`${br(_)}=${br(R)}`).join("&"):`${br(_)}=${br(A)}`}).filter(_=>!!_);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${_}${A}${"string"==typeof D.fragment?`#${function ns(y){return encodeURI(y)}(D.fragment)}`:""}`}}const Mt=new Xn;function mn(y){return y.segments.map(D=>oe(D)).join("/")}function vr(y,D){if(!y.hasChildren())return mn(y);if(D){const _=y.children[Et]?vr(y.children[Et],!1):"",A=[];return Object.entries(y.children).forEach(([R,V])=>{R!==Et&&A.push(`${R}:${vr(V,!1)}`)}),A.length>0?`${_}(${A.join("//")})`:_}{const _=function sr(y,D){let _=[];return Object.entries(y.children).forEach(([A,R])=>{A===Et&&(_=_.concat(D(R,A)))}),Object.entries(y.children).forEach(([A,R])=>{A!==Et&&(_=_.concat(D(R,A)))}),_}(y,(A,R)=>R===Et?[vr(y.children[Et],!1)]:[`${R}:${vr(A,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Et]?`${mn(y)}/${_[0]}`:`${mn(y)}/(${_.join("//")})`}}function tn(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function br(y){return tn(y).replace(/%3B/gi,";")}function or(y){return tn(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jr(y){return decodeURIComponent(y)}function rs(y){return Jr(y.replace(/\+/g,"%20"))}function oe(y){return`${or(y.path)}${function j(y){return Object.keys(y).map(D=>`;${or(D)}=${or(y[D])}`).join("")}(y.parameters)}`}const $=/^[^\/()?;#]+/;function H(y){const D=y.match($);return D?D[0]:""}const fe=/^[^\/()?;=#]+/,ut=/^[^=?&#]+/,Qt=/^[^&#]+/;class jt{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gn([],{}):new gn([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(D.length>0||Object.keys(_).length>0)&&(A[Et]=new gn(D,_)),A}parseSegment(){const D=H(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(D),new yt(Jr(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const _=function We(y){const D=y.match(fe);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let A="";if(this.consumeOptional("=")){const R=H(this.remaining);R&&(A=R,this.capture(A))}D[Jr(_)]=Jr(A)}parseQueryParam(D){const _=function Gt(y){const D=y.match(ut);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let A="";if(this.consumeOptional("=")){const J=function hn(y){const D=y.match(Qt);return D?D[0]:""}(this.remaining);J&&(A=J,this.capture(A))}const R=rs(_),V=rs(A);if(D.hasOwnProperty(R)){let J=D[R];Array.isArray(J)||(J=[J],D[R]=J),J.push(V)}else D[R]=V}parseParens(D){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=H(this.remaining),R=this.remaining[A.length];if("/"!==R&&")"!==R&&";"!==R)throw new m.vHH(4010,!1);let V;A.indexOf(":")>-1?(V=A.slice(0,A.indexOf(":")),this.capture(V),this.capture(":")):D&&(V=Et);const J=this.parseChildren();_[V]=1===Object.keys(J).length?J[Et]:new gn([],J),this.consumeOptional("//")}return _}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new m.vHH(4011,!1)}}function Sn(y){return y.segments.length>0?new gn([],{[Et]:y}):y}function Br(y){const D={};for(const A of Object.keys(y.children)){const V=Br(y.children[A]);if(A===Et&&0===V.segments.length&&V.hasChildren())for(const[J,Ce]of Object.entries(V.children))D[J]=Ce;else(V.segments.length>0||V.hasChildren())&&(D[A]=V)}return function _s(y){if(1===y.numberOfChildren&&y.children[Et]){const D=y.children[Et];return new gn(y.segments.concat(D.segments),D.children)}return y}(new gn(y.segments,D))}function ar(y){return y instanceof bn}function ge(y){let D;const R=Sn(function _(V){const J={};for(const we of V.children){const It=_(we);J[we.outlet]=It}const Ce=new gn(V.url,J);return V===y&&(D=Ce),Ce}(y.root));return D??R}function et(y,D,_,A){let R=y;for(;R.parent;)R=R.parent;if(0===D.length)return nn(R,R,R,_,A);const V=function ur(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new Sr(!0,0,y);let D=0,_=!1;const A=y.reduce((R,V,J)=>{if("object"==typeof V&&null!=V){if(V.outlets){const Ce={};return Object.entries(V.outlets).forEach(([we,It])=>{Ce[we]="string"==typeof It?It.split("/"):It}),[...R,{outlets:Ce}]}if(V.segmentPath)return[...R,V.segmentPath]}return"string"!=typeof V?[...R,V]:0===J?(V.split("/").forEach((Ce,we)=>{0==we&&"."===Ce||(0==we&&""===Ce?_=!0:".."===Ce?D++:""!=Ce&&R.push(Ce))}),R):[...R,V]},[]);return new Sr(_,D,A)}(D);if(V.toRoot())return nn(R,R,new gn([],{}),_,A);const J=function cr(y,D,_){if(y.isAbsolute)return new Ai(D,!0,0);if(!_)return new Ai(D,!1,NaN);if(null===_.parent)return new Ai(_,!0,0);const A=nt(y.commands[0])?0:1;return function is(y,D,_){let A=y,R=D,V=_;for(;V>R;){if(V-=R,A=A.parent,!A)throw new m.vHH(4005,!1);R=A.segments.length}return new Ai(A,!1,R-V)}(_,_.segments.length-1+A,y.numberOfDoubleDots)}(V,R,y),Ce=J.processChildren?Lt(J.segmentGroup,J.index,V.commands):vi(J.segmentGroup,J.index,V.commands);return nn(R,J.segmentGroup,Ce,_,A)}function nt(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Wt(y){return"object"==typeof y&&null!=y&&y.outlets}function nn(y,D,_,A,R){let J,V={};A&&Object.entries(A).forEach(([we,It])=>{V[we]=Array.isArray(It)?It.map(dn=>`${dn}`):`${It}`}),J=y===D?_:ln(y,D,_);const Ce=Sn(Br(J));return new bn(Ce,V,R)}function ln(y,D,_){const A={};return Object.entries(y.children).forEach(([R,V])=>{A[R]=V===D?_:ln(V,D,_)}),new gn(y.segments,A)}class Sr{constructor(D,_,A){if(this.isAbsolute=D,this.numberOfDoubleDots=_,this.commands=A,D&&A.length>0&&nt(A[0]))throw new m.vHH(4003,!1);const R=A.find(Wt);if(R&&R!==Li(A))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ai{constructor(D,_,A){this.segmentGroup=D,this.processChildren=_,this.index=A}}function vi(y,D,_){if(y||(y=new gn([],{})),0===y.segments.length&&y.hasChildren())return Lt(y,D,_);const A=function ss(y,D,_){let A=0,R=D;const V={match:!1,pathIndex:0,commandIndex:0};for(;R<y.segments.length;){if(A>=_.length)return V;const J=y.segments[R],Ce=_[A];if(Wt(Ce))break;const we=`${Ce}`,It=A<_.length-1?_[A+1]:null;if(R>0&&void 0===we)break;if(we&&It&&"object"==typeof It&&void 0===It.outlets){if(!qi(we,It,J))return V;A+=2}else{if(!qi(we,{},J))return V;A++}R++}return{match:!0,pathIndex:R,commandIndex:A}}(y,D,_),R=_.slice(A.commandIndex);if(A.match&&A.pathIndex<y.segments.length){const V=new gn(y.segments.slice(0,A.pathIndex),{});return V.children[Et]=new gn(y.segments.slice(A.pathIndex),y.children),Lt(V,0,R)}return A.match&&0===R.length?new gn(y.segments,{}):A.match&&!y.hasChildren()?Ks(y,D,_):A.match?Lt(y,0,R):Ks(y,D,_)}function Lt(y,D,_){if(0===_.length)return new gn(y.segments,{});{const A=function lr(y){return Wt(y[0])?y[0].outlets:{[Et]:y}}(_),R={};if(Object.keys(A).some(V=>V!==Et)&&y.children[Et]&&1===y.numberOfChildren&&0===y.children[Et].segments.length){const V=Lt(y.children[Et],D,_);return new gn(y.segments,V.children)}return Object.entries(A).forEach(([V,J])=>{"string"==typeof J&&(J=[J]),null!==J&&(R[V]=vi(y.children[V],D,J))}),Object.entries(y.children).forEach(([V,J])=>{void 0===A[V]&&(R[V]=J)}),new gn(y.segments,R)}}function Ks(y,D,_){const A=y.segments.slice(0,D);let R=0;for(;R<_.length;){const V=_[R];if(Wt(V)){const we=Ir(V.outlets);return new gn(A,we)}if(0===R&&nt(_[0])){A.push(new yt(y.segments[D].path,os(_[0]))),R++;continue}const J=Wt(V)?V.outlets[Et]:`${V}`,Ce=R<_.length-1?_[R+1]:null;J&&Ce&&nt(Ce)?(A.push(new yt(J,os(Ce))),R+=2):(A.push(new yt(J,{})),R++)}return new gn(A,{})}function Ir(y){const D={};return Object.entries(y).forEach(([_,A])=>{"string"==typeof A&&(A=[A]),null!==A&&(D[_]=Ks(new gn([],{}),0,A))}),D}function os(y){const D={};return Object.entries(y).forEach(([_,A])=>D[_]=`${A}`),D}function qi(y,D,_){return y==_.path&&Gn(D,_.parameters)}const Rr="imperative";class di{constructor(D,_){this.id=D,this.url=_}}class ht extends di{constructor(D,_,A="imperative",R=null){super(D,_),this.type=0,this.navigationTrigger=A,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ye extends di{constructor(D,_,A){super(D,_),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gt extends di{constructor(D,_,A,R){super(D,_),this.reason=A,this.code=R,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xt extends di{constructor(D,_,A,R){super(D,_),this.reason=A,this.code=R,this.type=16}}class Wn extends di{constructor(D,_,A,R){super(D,_),this.error=A,this.target=R,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xr extends di{constructor(D,_,A,R){super(D,_),this.urlAfterRedirects=A,this.state=R,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ci extends di{constructor(D,_,A,R){super(D,_),this.urlAfterRedirects=A,this.state=R,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ys extends di{constructor(D,_,A,R,V){super(D,_),this.urlAfterRedirects=A,this.state=R,this.shouldActivate=V,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fi extends di{constructor(D,_,A,R){super(D,_),this.urlAfterRedirects=A,this.state=R,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class To extends di{constructor(D,_,A,R){super(D,_),this.urlAfterRedirects=A,this.state=R,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zs{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pr{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class da{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qs{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wo{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xs{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class as{constructor(D,_,A){this.routerEvent=D,this.position=_,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ki{}class Ss{constructor(D){this.url=D}}class Uo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Js,this.attachRef=null}}let Js=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(_,A){const R=this.getOrCreateContext(_);R.outlet=A,this.contexts.set(_,R)}onChildOutletDestroyed(_){const A=this.getContext(_);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let A=this.getContext(_);return A||(A=new Uo,this.contexts.set(_,A)),A}getContext(_){return this.contexts.get(_)||null}static#e=this.\u0275fac=function(A){return new(A||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();class Vs{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const _=this.pathFromRoot(D);return _.length>1?_[_.length-2]:null}children(D){const _=eo(D,this._root);return _?_.children.map(A=>A.value):[]}firstChild(D){const _=eo(D,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(D){const _=Vi(D,this._root);return _.length<2?[]:_[_.length-2].children.map(R=>R.value).filter(R=>R!==D)}pathFromRoot(D){return Vi(D,this._root).map(_=>_.value)}}function eo(y,D){if(y===D.value)return D;for(const _ of D.children){const A=eo(y,_);if(A)return A}return null}function Vi(y,D){if(y===D.value)return[D];for(const _ of D.children){const A=Vi(y,_);if(A.length)return A.unshift(D),A}return[]}class Kr{constructor(D,_){this.value=D,this.children=_}toString(){return`TreeNode(${this.value})`}}function bi(y){const D={};return y&&y.children.forEach(_=>D[_.value.outlet]=_),D}class to extends Vs{constructor(D,_){super(D),this.snapshot=_,ri(this,D)}toString(){return this.snapshot.toString()}}function no(y,D){const _=function Hn(y,D){const J=new ei([],{},{},"",{},Et,D,null,{});return new us("",new Kr(J,[]))}(0,D),A=new pe.X([new yt("",{})]),R=new pe.X({}),V=new pe.X({}),J=new pe.X({}),Ce=new pe.X(""),we=new Ii(A,R,J,Ce,V,Et,D,_.root);return we.snapshot=_.root,new to(new Kr(we,[]),_)}class Ii{constructor(D,_,A,R,V,J,Ce,we){this.urlSubject=D,this.paramsSubject=_,this.queryParamsSubject=A,this.fragmentSubject=R,this.dataSubject=V,this.outlet=J,this.component=Ce,this._futureSnapshot=we,this.title=this.dataSubject?.pipe((0,Ue.U)(It=>It[Cn]))??(0,ie.of)(void 0),this.url=D,this.params=_,this.queryParams=A,this.fragment=R,this.data=V}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ue.U)(D=>ir(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ue.U)(D=>ir(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fn(y,D="emptyOnly"){const _=y.pathFromRoot;let A=0;if("always"!==D)for(A=_.length-1;A>=1;){const R=_[A],V=_[A-1];if(R.routeConfig&&""===R.routeConfig.path)A--;else{if(V.component)break;A--}}return function Jn(y){return y.reduce((D,_)=>({params:{...D.params,..._.params},data:{...D.data,..._.data},resolve:{..._.data,...D.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(A))}class ei{get title(){return this.data?.[Cn]}constructor(D,_,A,R,V,J,Ce,we,It){this.url=D,this.params=_,this.queryParams=A,this.fragment=R,this.data=V,this.outlet=J,this.component=Ce,this.routeConfig=we,this._resolve=It}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ir(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ir(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class us extends Vs{constructor(D,_){super(_),this.url=D,ri(this,_)}toString(){return ro(this._root)}}function ri(y,D){D.value._routerState=y,D.children.forEach(_=>ri(y,_))}function ro(y){const D=y.children.length>0?` { ${y.children.map(ro).join(", ")} } `:"";return`${y.value}${D}`}function Rs(y){if(y.snapshot){const D=y.snapshot,_=y._futureSnapshot;y.snapshot=_,Gn(D.queryParams,_.queryParams)||y.queryParamsSubject.next(_.queryParams),D.fragment!==_.fragment&&y.fragmentSubject.next(_.fragment),Gn(D.params,_.params)||y.paramsSubject.next(_.params),function At(y,D){if(y.length!==D.length)return!1;for(let _=0;_<y.length;++_)if(!Gn(y[_],D[_]))return!1;return!0}(D.url,_.url)||y.urlSubject.next(_.url),Gn(D.data,_.data)||y.dataSubject.next(_.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function Ui(y,D){const _=Gn(y.params,D.params)&&function Wi(y,D){return Bt(y,D)&&y.every((_,A)=>Gn(_.parameters,D[A].parameters))}(y.url,D.url);return _&&!(!y.parent!=!D.parent)&&(!y.parent||Ui(y.parent,D.parent))}let Ps=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Et,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.parentContexts=(0,m.f3M)(Js),this.location=(0,m.f3M)(m.s_b),this.changeDetector=(0,m.f3M)(m.sBO),this.environmentInjector=(0,m.f3M)(m.lqb),this.inputBinder=(0,m.f3M)(Mn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:A,previousValue:R}=_.name;if(A)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,A){this.activated=_,this._activatedRoute=A,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,A){if(this.isActivated)throw new m.vHH(4013,!1);this._activatedRoute=_;const R=this.location,J=_.snapshot.component,Ce=this.parentContexts.getOrCreateContext(this.name).children,we=new Ms(_,Ce,R.injector);this.activated=R.createComponent(J,{index:R.length,injector:we,environmentInjector:A??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(A){return new(A||y)};static#t=this.\u0275dir=m.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.TTD]})}return y})();class Ms{constructor(D,_,A){this.route=D,this.childContexts=_,this.parent=A}get(D,_){return D===Ii?this.route:D===Js?this.childContexts:this.parent.get(D,_)}}const Mn=new m.OlP("");let mt=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:A}=_,R=(0,re.a)([A.queryParams,A.params,A.data]).pipe((0,Fe.w)(([V,J,Ce],we)=>(Ce={...V,...J,...Ce},0===we?(0,ie.of)(Ce):Promise.resolve(Ce)))).subscribe(V=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==A||null===A.component)return void this.unsubscribeFromRouteData(_);const J=(0,m.qFp)(A.component);if(J)for(const{templateName:Ce}of J.inputs)_.activatedComponentRef.setInput(Ce,V[Ce]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,R)}static#e=this.\u0275fac=function(A){return new(A||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac})}return y})();function Rn(y,D,_){if(_&&y.shouldReuseRoute(D.value,_.value.snapshot)){const A=_.value;A._futureSnapshot=D.value;const R=function Ei(y,D,_){return D.children.map(A=>{for(const R of _.children)if(y.shouldReuseRoute(A.value,R.value.snapshot))return Rn(y,A,R);return Rn(y,A)})}(y,D,_);return new Kr(A,R)}{if(y.shouldAttach(D.value)){const V=y.retrieve(D.value);if(null!==V){const J=V.route;return J.value._futureSnapshot=D.value,J.children=D.children.map(Ce=>Rn(y,Ce)),J}}const A=function Do(y){return new Ii(new pe.X(y.url),new pe.X(y.params),new pe.X(y.queryParams),new pe.X(y.fragment),new pe.X(y.data),y.outlet,y.component,y)}(D.value),R=D.children.map(V=>Rn(y,V));return new Kr(A,R)}}const jr="ngNavigationCancelingError";function mo(y,D){const{redirectTo:_,navigationBehaviorOptions:A}=ar(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,R=gr(!1,0,D);return R.url=_,R.navigationBehaviorOptions=A,R}function gr(y,D,_){const A=new Error("NavigationCancelingError: "+(y||""));return A[jr]=!0,A.cancellationCode=D,_&&(A.url=_),A}function ii(y){return y&&y[jr]}let Xt=(()=>{class y{static#e=this.\u0275fac=function(A){return new(A||y)};static#t=this.\u0275cmp=m.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(A,R){1&A&&m._UZ(0,"router-outlet")},dependencies:[Ps],encapsulation:2})}return y})();function ys(y){const D=y.children&&y.children.map(ys),_=D?{...y,children:D}:{...y};return!_.component&&!_.loadComponent&&(D||_.loadChildren)&&_.outlet&&_.outlet!==Et&&(_.component=Xt),_}function $r(y){return y.outlet||Et}function $i(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let D=y.parent;D;D=D.parent){const _=D.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class _o{constructor(D,_,A,R,V){this.routeReuseStrategy=D,this.futureState=_,this.currState=A,this.forwardEvent=R,this.inputBindingEnabled=V}activate(D){const _=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,A,D),Rs(this.futureState.root),this.activateChildRoutes(_,A,D)}deactivateChildRoutes(D,_,A){const R=bi(_);D.children.forEach(V=>{const J=V.value.outlet;this.deactivateRoutes(V,R[J],A),delete R[J]}),Object.values(R).forEach(V=>{this.deactivateRouteAndItsChildren(V,A)})}deactivateRoutes(D,_,A){const R=D.value,V=_?_.value:null;if(R===V)if(R.component){const J=A.getContext(R.outlet);J&&this.deactivateChildRoutes(D,_,J.children)}else this.deactivateChildRoutes(D,_,A);else V&&this.deactivateRouteAndItsChildren(_,A)}deactivateRouteAndItsChildren(D,_){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,_):this.deactivateRouteAndOutlet(D,_)}detachAndStoreRouteSubtree(D,_){const A=_.getContext(D.value.outlet),R=A&&D.value.component?A.children:_,V=bi(D);for(const J of Object.keys(V))this.deactivateRouteAndItsChildren(V[J],R);if(A&&A.outlet){const J=A.outlet.detach(),Ce=A.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:J,route:D,contexts:Ce})}}deactivateRouteAndOutlet(D,_){const A=_.getContext(D.value.outlet),R=A&&D.value.component?A.children:_,V=bi(D);for(const J of Object.keys(V))this.deactivateRouteAndItsChildren(V[J],R);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(D,_,A){const R=bi(_);D.children.forEach(V=>{this.activateRoutes(V,R[V.value.outlet],A),this.forwardEvent(new Xs(V.value.snapshot))}),D.children.length&&this.forwardEvent(new Qs(D.value.snapshot))}activateRoutes(D,_,A){const R=D.value,V=_?_.value:null;if(Rs(R),R===V)if(R.component){const J=A.getOrCreateContext(R.outlet);this.activateChildRoutes(D,_,J.children)}else this.activateChildRoutes(D,_,A);else if(R.component){const J=A.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const Ce=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),J.children.onOutletReAttached(Ce.contexts),J.attachRef=Ce.componentRef,J.route=Ce.route.value,J.outlet&&J.outlet.attach(Ce.componentRef,Ce.route.value),Rs(Ce.route.value),this.activateChildRoutes(D,null,J.children)}else{const Ce=$i(R.snapshot);J.attachRef=null,J.route=R,J.injector=Ce,J.outlet&&J.outlet.activateWith(R,J.injector),this.activateChildRoutes(D,null,J.children)}}else this.activateChildRoutes(D,null,A)}}class Ao{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class mr{constructor(D,_){this.component=D,this.route=_}}function Bo(y,D,_){const A=y._root;return er(A,D?D._root:null,_,[A.value])}function Hi(y,D){const _=Symbol(),A=D.get(y,_);return A===_?"function"!=typeof y||(0,m.Z0I)(y)?D.get(y):y:A}function er(y,D,_,A,R={canDeactivateChecks:[],canActivateChecks:[]}){const V=bi(D);return y.children.forEach(J=>{(function ha(y,D,_,A,R={canDeactivateChecks:[],canActivateChecks:[]}){const V=y.value,J=D?D.value:null,Ce=_?_.getContext(y.value.outlet):null;if(J&&V.routeConfig===J.routeConfig){const we=function fi(y,D,_){if("function"==typeof _)return _(y,D);switch(_){case"pathParamsChange":return!Bt(y.url,D.url);case"pathParamsOrQueryParamsChange":return!Bt(y.url,D.url)||!Gn(y.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ui(y,D)||!Gn(y.queryParams,D.queryParams);default:return!Ui(y,D)}}(J,V,V.routeConfig.runGuardsAndResolvers);we?R.canActivateChecks.push(new Ao(A)):(V.data=J.data,V._resolvedData=J._resolvedData),er(y,D,V.component?Ce?Ce.children:null:_,A,R),we&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&R.canDeactivateChecks.push(new mr(Ce.outlet.component,J))}else J&&qn(D,Ce,R),R.canActivateChecks.push(new Ao(A)),er(y,null,V.component?Ce?Ce.children:null:_,A,R)})(J,V[J.value.outlet],_,A.concat([J.value]),R),delete V[J.value.outlet]}),Object.entries(V).forEach(([J,Ce])=>qn(Ce,_.getContext(J),R)),R}function qn(y,D,_){const A=bi(y),R=y.value;Object.entries(A).forEach(([V,J])=>{qn(J,R.component?D?D.children.getContext(V):null:D,_)}),_.canDeactivateChecks.push(new mr(R.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,R))}function vs(y){return"function"==typeof y}function bt(y){return y instanceof W||"EmptyError"===y?.name}const an=Symbol("INITIAL_VALUE");function En(){return(0,Fe.w)(y=>(0,re.a)(y.map(D=>D.pipe((0,te.q)(1),(0,qt.O)(an)))).pipe((0,Ue.U)(D=>{for(const _ of D)if(!0!==_){if(_===an)return an;if(!1===_||_ instanceof bn)return _}return!0}),(0,Be.h)(D=>D!==an),(0,te.q)(1)))}function tr(y){return(0,Le.z)((0,de.b)(D=>{if(ar(D))throw mo(0,D)}),(0,Ue.U)(D=>!0===D))}class Ti{constructor(D){this.segmentGroup=D||null}}class Bs{constructor(D){this.urlTree=D}}function ls(y){return He(new Ti(y))}function Ns(y){return He(new Bs(y))}class xc{constructor(D,_){this.urlSerializer=D,this.urlTree=_}noMatchError(D){return new m.vHH(4002,!1)}lineralizeSegments(D,_){let A=[],R=_.root;for(;;){if(A=A.concat(R.segments),0===R.numberOfChildren)return(0,ie.of)(A);if(R.numberOfChildren>1||!R.children[Et])return He(new m.vHH(4e3,!1));R=R.children[Et]}}applyRedirectCommands(D,_,A){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),D,A)}applyRedirectCreateUrlTree(D,_,A,R){const V=this.createSegmentGroup(D,_.root,A,R);return new bn(V,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(D,_){const A={};return Object.entries(D).forEach(([R,V])=>{if("string"==typeof V&&V.startsWith(":")){const Ce=V.substring(1);A[R]=_[Ce]}else A[R]=V}),A}createSegmentGroup(D,_,A,R){const V=this.createSegments(D,_.segments,A,R);let J={};return Object.entries(_.children).forEach(([Ce,we])=>{J[Ce]=this.createSegmentGroup(D,we,A,R)}),new gn(V,J)}createSegments(D,_,A,R){return _.map(V=>V.path.startsWith(":")?this.findPosParam(D,V,R):this.findOrReturn(V,A))}findPosParam(D,_,A){const R=A[_.path.substring(1)];if(!R)throw new m.vHH(4001,!1);return R}findOrReturn(D,_){let A=0;for(const R of _){if(R.path===D.path)return _.splice(A),R;A++}return D}}const js={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pi(y,D,_,A,R){const V=gi(y,D,_);return V.matched?(A=function io(y,D){return y.providers&&!y._injector&&(y._injector=(0,m.MMx)(y.providers,D,`Route: ${y.path}`)),y._injector??D}(D,A),function Qi(y,D,_,A){const R=D.canMatch;if(!R||0===R.length)return(0,ie.of)(!0);const V=R.map(J=>{const Ce=Hi(J,y);return pn(function ke(y){return y&&vs(y.canMatch)}(Ce)?Ce.canMatch(D,_):y.runInContext(()=>Ce(D,_)))});return(0,ie.of)(V).pipe(En(),tr())}(A,D,_).pipe((0,Ue.U)(J=>!0===J?V:{...js}))):(0,ie.of)(V)}function gi(y,D,_){if(""===D.path)return"full"===D.pathMatch&&(y.hasChildren()||_.length>0)?{...js}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const R=(D.matcher||Jt)(_,y,D);if(!R)return{...js};const V={};Object.entries(R.posParams??{}).forEach(([Ce,we])=>{V[Ce]=we.path});const J=R.consumed.length>0?{...V,...R.consumed[R.consumed.length-1].parameters}:V;return{matched:!0,consumedSegments:R.consumed,remainingSegments:_.slice(R.consumed.length),parameters:J,positionalParamSegments:R.posParams??{}}}function Xi(y,D,_,A){return _.length>0&&function jo(y,D,_){return _.some(A=>$o(y,D,A)&&$r(A)!==Et)}(y,_,A)?{segmentGroup:new gn(D,$u(A,new gn(_,y.children))),slicedSegments:[]}:0===_.length&&function Is(y,D,_){return _.some(A=>$o(y,D,A))}(y,_,A)?{segmentGroup:new gn(y.segments,Bn(y,0,_,A,y.children)),slicedSegments:_}:{segmentGroup:new gn(y.segments,y.children),slicedSegments:_}}function Bn(y,D,_,A,R){const V={};for(const J of A)if($o(y,_,J)&&!R[$r(J)]){const Ce=new gn([],{});V[$r(J)]=Ce}return{...R,...V}}function $u(y,D){const _={};_[Et]=D;for(const A of y)if(""===A.path&&$r(A)!==Et){const R=new gn([],{});_[$r(A)]=R}return _}function $o(y,D,_){return(!(y.hasChildren()||D.length>0)||"full"!==_.pathMatch)&&""===_.path}class fa{constructor(D,_,A,R,V,J,Ce){this.injector=D,this.configLoader=_,this.rootComponentType=A,this.config=R,this.urlTree=V,this.paramsInheritanceStrategy=J,this.urlSerializer=Ce,this.allowRedirects=!0,this.applyRedirects=new xc(this.urlSerializer,this.urlTree)}noMatchError(D){return new m.vHH(4002,!1)}recognize(){const D=Xi(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,Et).pipe(ve(_=>{if(_ instanceof Bs)return this.allowRedirects=!1,this.urlTree=_.urlTree,this.match(_.urlTree);throw _ instanceof Ti?this.noMatchError(_):_}),(0,Ue.U)(_=>{const A=new ei([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Et,this.rootComponentType,null,{}),R=new Kr(A,_),V=new us("",R),J=function Pe(y,D,_=null,A=null){return et(ge(y),D,_,A)}(A,[],this.urlTree.queryParams,this.urlTree.fragment);return J.queryParams=this.urlTree.queryParams,V.url=this.urlSerializer.serialize(J),this.inheritParamsAndData(V._root),{state:V,tree:J}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D.root,Et).pipe(ve(A=>{throw A instanceof Ti?this.noMatchError(A):A}))}inheritParamsAndData(D){const _=D.value,A=fn(_,this.paramsInheritanceStrategy);_.params=Object.freeze(A.params),_.data=Object.freeze(A.data),D.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(D,_,A,R){return 0===A.segments.length&&A.hasChildren()?this.processChildren(D,_,A):this.processSegment(D,_,A,A.segments,R,!0)}processChildren(D,_,A){const R=[];for(const V of Object.keys(A.children))"primary"===V?R.unshift(V):R.push(V);return(0,ae.D)(R).pipe(Vt(V=>{const J=A.children[V],Ce=function ji(y,D){const _=y.filter(A=>$r(A)===D);return _.push(...y.filter(A=>$r(A)!==D)),_}(_,V);return this.processSegmentGroup(D,Ce,J,V)}),function De(y,D){return(0,tt.e)(function Ie(y,D,_,A,R){return(V,J)=>{let Ce=_,we=D,It=0;V.subscribe((0,dt.x)(J,dn=>{const rr=It++;we=Ce?y(we,dn,rr):(Ce=!0,dn),A&&J.next(we)},R&&(()=>{Ce&&J.next(we),J.complete()})))}}(y,D,arguments.length>=2,!0))}((V,J)=>(V.push(...J),V)),ze(null),function Qe(y,D){const _=arguments.length>=2;return A=>A.pipe(y?(0,Be.h)((R,V)=>y(R,V,A)):Ze.y,Ne(1),_?ze(D):en(()=>new W))}(),(0,Ve.z)(V=>{if(null===V)return ls(A);const J=ti(V);return function $s(y){y.sort((D,_)=>D.value.outlet===Et?-1:_.value.outlet===Et?1:D.value.outlet.localeCompare(_.value.outlet))}(J),(0,ie.of)(J)}))}processSegment(D,_,A,R,V,J){return(0,ae.D)(_).pipe(Vt(Ce=>this.processSegmentAgainstRoute(Ce._injector??D,_,Ce,A,R,V,J).pipe(ve(we=>{if(we instanceof Ti)return(0,ie.of)(null);throw we}))),Tt(Ce=>!!Ce),ve(Ce=>{if(bt(Ce))return function vo(y,D,_){return 0===D.length&&!y.children[_]}(A,R,V)?(0,ie.of)([]):ls(A);throw Ce}))}processSegmentAgainstRoute(D,_,A,R,V,J,Ce){return function Co(y,D,_,A){return!!($r(y)===A||A!==Et&&$o(D,_,y))&&("**"===y.path||gi(D,y,_).matched)}(A,R,V,J)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(D,R,A,V,J,Ce):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,R,_,A,V,J):ls(R):ls(R)}expandSegmentAgainstRouteUsingRedirect(D,_,A,R,V,J){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,A,R,J):this.expandRegularSegmentAgainstRouteUsingRedirect(D,_,A,R,V,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,_,A,R){const V=this.applyRedirects.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?Ns(V):this.applyRedirects.lineralizeSegments(A,V).pipe((0,Ve.z)(J=>{const Ce=new gn(J,{});return this.processSegment(D,_,Ce,J,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,_,A,R,V,J){const{matched:Ce,consumedSegments:we,remainingSegments:It,positionalParamSegments:dn}=gi(_,R,V);if(!Ce)return ls(_);const rr=this.applyRedirects.applyRedirectCommands(we,R.redirectTo,dn);return R.redirectTo.startsWith("/")?Ns(rr):this.applyRedirects.lineralizeSegments(R,rr).pipe((0,Ve.z)(On=>this.processSegment(D,A,_,On.concat(It),J,!1)))}matchSegmentAgainstRoute(D,_,A,R,V,J){let Ce;if("**"===A.path){const we=R.length>0?Li(R).parameters:{},It=new ei(R,we,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hs(A),$r(A),A.component??A._loadedComponent??null,A,ao(A));Ce=(0,ie.of)({snapshot:It,consumedSegments:[],remainingSegments:[]}),_.children={}}else Ce=pi(_,A,R,D).pipe((0,Ue.U)(({matched:we,consumedSegments:It,remainingSegments:dn,parameters:rr})=>we?{snapshot:new ei(It,rr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hs(A),$r(A),A.component??A._loadedComponent??null,A,ao(A)),consumedSegments:It,remainingSegments:dn}:null));return Ce.pipe((0,Fe.w)(we=>null===we?ls(_):this.getChildConfig(D=A._injector??D,A,R).pipe((0,Fe.w)(({routes:It})=>{const dn=A._loadedInjector??D,{snapshot:rr,consumedSegments:On,remainingSegments:fo}=we,{segmentGroup:Wo,slicedSegments:ma}=Xi(_,On,fo,It);if(0===ma.length&&Wo.hasChildren())return this.processChildren(dn,It,Wo).pipe((0,Ue.U)(qo=>null===qo?null:[new Kr(rr,qo)]));if(0===It.length&&0===ma.length)return(0,ie.of)([new Kr(rr,[])]);const fu=$r(A)===V;return this.processSegment(dn,It,Wo,ma,fu?Et:V,!0).pipe((0,Ue.U)(qo=>[new Kr(rr,qo)]))}))))}getChildConfig(D,_,A){return _.children?(0,ie.of)({routes:_.children,injector:D}):_.loadChildren?void 0!==_._loadedRoutes?(0,ie.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Tr(y,D,_,A){const R=D.canLoad;if(void 0===R||0===R.length)return(0,ie.of)(!0);const V=R.map(J=>{const Ce=Hi(J,y);return pn(function k(y){return y&&vs(y.canLoad)}(Ce)?Ce.canLoad(D,_):y.runInContext(()=>Ce(D,_)))});return(0,ie.of)(V).pipe(En(),tr())}(D,_,A).pipe((0,Ve.z)(R=>R?this.configLoader.loadChildren(D,_).pipe((0,de.b)(V=>{_._loadedRoutes=V.routes,_._loadedInjector=V.injector})):function ds(y){return He(gr(!1,3))}())):(0,ie.of)({routes:[],injector:D})}}function zi(y){const D=y.value.routeConfig;return D&&""===D.path}function ti(y){const D=[],_=new Set;for(const A of y){if(!zi(A)){D.push(A);continue}const R=D.find(V=>A.value.routeConfig===V.value.routeConfig);void 0!==R?(R.children.push(...A.children),_.add(R)):D.push(A)}for(const A of _){const R=ti(A.children);D.push(new Kr(A.value,R))}return D.filter(A=>!_.has(A))}function Hs(y){return y.data||{}}function ao(y){return y.resolve||{}}function S(y){return"string"==typeof y.title||null===y.title}function x(y){return(0,Fe.w)(D=>{const _=y(D);return _?(0,ae.D)(_).pipe((0,Ue.U)(()=>D)):(0,ie.of)(D)})}const K=new m.OlP("ROUTES");let Te=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.f3M)(m.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,ie.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const A=pn(_.loadComponent()).pipe((0,Ue.U)(nr),(0,de.b)(V=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=V}),cn(()=>{this.componentLoaders.delete(_)})),R=new be(A,()=>new xe.x).pipe(Pt());return this.componentLoaders.set(_,R),R}loadChildren(_,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,ie.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const V=function Oe(y,D,_,A){return pn(y.loadChildren()).pipe((0,Ue.U)(nr),(0,Ve.z)(R=>R instanceof m.YKP||Array.isArray(R)?(0,ie.of)(R):(0,ae.D)(D.compileModuleAsync(R))),(0,Ue.U)(R=>{A&&A(y);let V,J,Ce=!1;return Array.isArray(R)?(J=R,!0):(V=R.create(_).injector,J=V.get(K,[],{optional:!0,self:!0}).flat()),{routes:J.map(ys),injector:V}}))}(A,this.compiler,_,this.onLoadEndListener).pipe(cn(()=>{this.childrenLoaders.delete(A)})),J=new be(V,()=>new xe.x).pipe(Pt());return this.childrenLoaders.set(A,J),J}static#e=this.\u0275fac=function(A){return new(A||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function nr(y){return function St(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let An=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xe.x,this.transitionAbortSubject=new xe.x,this.configLoader=(0,m.f3M)(Te),this.environmentInjector=(0,m.f3M)(m.lqb),this.urlSerializer=(0,m.f3M)(Xr),this.rootContexts=(0,m.f3M)(Js),this.inputBindingEnabled=null!==(0,m.f3M)(Mn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ie.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new pr(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new Zs(R))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const A=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:A})}setupNavigations(_,A,R){return this.transitions=new pe.X({id:0,currentUrlTree:A,currentRawUrl:A,currentBrowserUrl:A,extractedUrl:_.urlHandlingStrategy.extract(A),urlAfterRedirects:_.urlHandlingStrategy.extract(A),rawUrl:A,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rr,restoredState:null,currentSnapshot:R.snapshot,targetSnapshot:null,currentRouterState:R,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Be.h)(V=>0!==V.id),(0,Ue.U)(V=>({...V,extractedUrl:_.urlHandlingStrategy.extract(V.rawUrl)})),(0,Fe.w)(V=>{this.currentTransition=V;let J=!1,Ce=!1;return(0,ie.of)(V).pipe((0,de.b)(we=>{this.currentNavigation={id:we.id,initialUrl:we.rawUrl,extractedUrl:we.extractedUrl,trigger:we.source,extras:we.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Fe.w)(we=>{const It=we.currentBrowserUrl.toString(),dn=!_.navigated||we.extractedUrl.toString()!==It||It!==we.currentUrlTree.toString();if(!dn&&"reload"!==(we.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const On="";return this.events.next(new xt(we.id,this.urlSerializer.serialize(we.rawUrl),On,0)),we.resolve(null),it.E}if(_.urlHandlingStrategy.shouldProcessUrl(we.rawUrl))return(0,ie.of)(we).pipe((0,Fe.w)(On=>{const fo=this.transitions?.getValue();return this.events.next(new ht(On.id,this.urlSerializer.serialize(On.extractedUrl),On.source,On.restoredState)),fo!==this.transitions?.getValue()?it.E:Promise.resolve(On)}),function Hu(y,D,_,A,R,V){return(0,Ve.z)(J=>function ka(y,D,_,A,R,V,J="emptyOnly"){return new fa(y,D,_,A,R,J,V).recognize()}(y,D,_,A,J.extractedUrl,R,V).pipe((0,Ue.U)(({state:Ce,tree:we})=>({...J,targetSnapshot:Ce,urlAfterRedirects:we}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,de.b)(On=>{V.targetSnapshot=On.targetSnapshot,V.urlAfterRedirects=On.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:On.urlAfterRedirects};const fo=new xr(On.id,this.urlSerializer.serialize(On.extractedUrl),this.urlSerializer.serialize(On.urlAfterRedirects),On.targetSnapshot);this.events.next(fo)}));if(dn&&_.urlHandlingStrategy.shouldProcessUrl(we.currentRawUrl)){const{id:On,extractedUrl:fo,source:Wo,restoredState:ma,extras:fu}=we,qo=new ht(On,this.urlSerializer.serialize(fo),Wo,ma);this.events.next(qo);const jc=no(0,this.rootComponentType).snapshot;return this.currentTransition=V={...we,targetSnapshot:jc,urlAfterRedirects:fo,extras:{...fu,skipLocationChange:!1,replaceUrl:!1}},(0,ie.of)(V)}{const On="";return this.events.next(new xt(we.id,this.urlSerializer.serialize(we.extractedUrl),On,1)),we.resolve(null),it.E}}),(0,de.b)(we=>{const It=new Ci(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects),we.targetSnapshot);this.events.next(It)}),(0,Ue.U)(we=>(this.currentTransition=V={...we,guards:Bo(we.targetSnapshot,we.currentSnapshot,this.rootContexts)},V)),function Kn(y,D){return(0,Ve.z)(_=>{const{targetSnapshot:A,currentSnapshot:R,guards:{canActivateChecks:V,canDeactivateChecks:J}}=_;return 0===J.length&&0===V.length?(0,ie.of)({..._,guardsResult:!0}):function Yr(y,D,_,A){return(0,ae.D)(y).pipe((0,Ve.z)(R=>function Ri(y,D,_,A,R){const V=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,ie.of)(!0);const J=V.map(Ce=>{const we=$i(D)??R,It=Hi(Ce,we);return pn(function me(y){return y&&vs(y.canDeactivate)}(It)?It.canDeactivate(y,D,_,A):we.runInContext(()=>It(y,D,_,A))).pipe(Tt())});return(0,ie.of)(J).pipe(En())}(R.component,R.route,_,D,A)),Tt(R=>!0!==R,!0))}(J,A,R,y).pipe((0,Ve.z)(Ce=>Ce&&function N(y){return"boolean"==typeof y}(Ce)?function Nr(y,D,_,A){return(0,ae.D)(D).pipe(Vt(R=>(0,ne.z)(function si(y,D){return null!==y&&D&&D(new da(y)),(0,ie.of)(!0)}(R.route.parent,A),function zr(y,D){return null!==y&&D&&D(new wo(y)),(0,ie.of)(!0)}(R.route,A),function Si(y,D,_){const A=D[D.length-1],V=D.slice(0,D.length-1).reverse().map(J=>function yo(y){const D=y.routeConfig?y.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:y,guards:D}:null}(J)).filter(J=>null!==J).map(J=>Ke(()=>{const Ce=J.guards.map(we=>{const It=$i(J.node)??_,dn=Hi(we,It);return pn(function ee(y){return y&&vs(y.canActivateChild)}(dn)?dn.canActivateChild(A,y):It.runInContext(()=>dn(A,y))).pipe(Tt())});return(0,ie.of)(Ce).pipe(En())}));return(0,ie.of)(V).pipe(En())}(y,R.path,_),function Or(y,D,_){const A=D.routeConfig?D.routeConfig.canActivate:null;if(!A||0===A.length)return(0,ie.of)(!0);const R=A.map(V=>Ke(()=>{const J=$i(D)??_,Ce=Hi(V,J);return pn(function Q(y){return y&&vs(y.canActivate)}(Ce)?Ce.canActivate(D,y):J.runInContext(()=>Ce(D,y))).pipe(Tt())}));return(0,ie.of)(R).pipe(En())}(y,R.route,_))),Tt(R=>!0!==R,!0))}(A,V,y,D):(0,ie.of)(Ce)),(0,Ue.U)(Ce=>({..._,guardsResult:Ce})))})}(this.environmentInjector,we=>this.events.next(we)),(0,de.b)(we=>{if(V.guardsResult=we.guardsResult,ar(we.guardsResult))throw mo(0,we.guardsResult);const It=new Ys(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects),we.targetSnapshot,!!we.guardsResult);this.events.next(It)}),(0,Be.h)(we=>!!we.guardsResult||(this.cancelNavigationTransition(we,"",3),!1)),x(we=>{if(we.guards.canActivateChecks.length)return(0,ie.of)(we).pipe((0,de.b)(It=>{const dn=new Fi(It.id,this.urlSerializer.serialize(It.extractedUrl),this.urlSerializer.serialize(It.urlAfterRedirects),It.targetSnapshot);this.events.next(dn)}),(0,Fe.w)(It=>{let dn=!1;return(0,ie.of)(It).pipe(function hu(y,D){return(0,Ve.z)(_=>{const{targetSnapshot:A,guards:{canActivateChecks:R}}=_;if(!R.length)return(0,ie.of)(_);let V=0;return(0,ae.D)(R).pipe(Vt(J=>function uo(y,D,_,A){const R=y.routeConfig,V=y._resolve;return void 0!==R?.title&&!S(R)&&(V[Cn]=R.title),function La(y,D,_,A){const R=function T(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===R.length)return(0,ie.of)({});const V={};return(0,ae.D)(R).pipe((0,Ve.z)(J=>function F(y,D,_,A){const R=$i(D)??A,V=Hi(y,R);return pn(V.resolve?V.resolve(D,_):R.runInContext(()=>V(D,_)))}(y[J],D,_,A).pipe(Tt(),(0,de.b)(Ce=>{V[J]=Ce}))),Ne(1),function Ot(y){return(0,Ue.U)(()=>y)}(V),ve(J=>bt(J)?it.E:He(J)))}(V,y,D,A).pipe((0,Ue.U)(J=>(y._resolvedData=J,y.data=fn(y,_).resolve,R&&S(R)&&(y.data[Cn]=R.title),null)))}(J.route,A,y,D)),(0,de.b)(()=>V++),Ne(1),(0,Ve.z)(J=>V===R.length?(0,ie.of)(_):it.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,de.b)({next:()=>dn=!0,complete:()=>{dn||this.cancelNavigationTransition(It,"",2)}}))}),(0,de.b)(It=>{const dn=new To(It.id,this.urlSerializer.serialize(It.extractedUrl),this.urlSerializer.serialize(It.urlAfterRedirects),It.targetSnapshot);this.events.next(dn)}))}),x(we=>{const It=dn=>{const rr=[];dn.routeConfig?.loadComponent&&!dn.routeConfig._loadedComponent&&rr.push(this.configLoader.loadComponent(dn.routeConfig).pipe((0,de.b)(On=>{dn.component=On}),(0,Ue.U)(()=>{})));for(const On of dn.children)rr.push(...It(On));return rr};return(0,re.a)(It(we.targetSnapshot.root)).pipe(ze(),(0,te.q)(1))}),x(()=>this.afterPreactivation()),(0,Ue.U)(we=>{const It=function rn(y,D,_){const A=Rn(y,D._root,_?_._root:void 0);return new to(A,D)}(_.routeReuseStrategy,we.targetSnapshot,we.currentRouterState);return this.currentTransition=V={...we,targetRouterState:It},V}),(0,de.b)(()=>{this.events.next(new Ki)}),((y,D,_,A)=>(0,Ue.U)(R=>(new _o(D,R.targetRouterState,R.currentRouterState,_,A).activate(y),R)))(this.rootContexts,_.routeReuseStrategy,we=>this.events.next(we),this.inputBindingEnabled),(0,te.q)(1),(0,de.b)({next:we=>{J=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ye(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects))),_.titleStrategy?.updateTitle(we.targetRouterState.snapshot),we.resolve(!0)},complete:()=>{J=!0}}),(0,Pn.R)(this.transitionAbortSubject.pipe((0,de.b)(we=>{throw we}))),cn(()=>{J||Ce||this.cancelNavigationTransition(V,"",1),this.currentNavigation?.id===V.id&&(this.currentNavigation=null)}),ve(we=>{if(Ce=!0,ii(we))this.events.next(new gt(V.id,this.urlSerializer.serialize(V.extractedUrl),we.message,we.cancellationCode)),function Yi(y){return ii(y)&&ar(y.url)}(we)?this.events.next(new Ss(we.url)):V.resolve(!1);else{this.events.next(new Wn(V.id,this.urlSerializer.serialize(V.extractedUrl),we,V.targetSnapshot??void 0));try{V.resolve(_.errorHandler(we))}catch(It){V.reject(It)}}return it.E}))}))}cancelNavigationTransition(_,A,R){const V=new gt(_.id,this.urlSerializer.serialize(_.extractedUrl),A,R);this.events.next(V),_.resolve(!1)}static#e=this.\u0275fac=function(A){return new(A||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function xn(y){return y!==Rr}let $t=(()=>{class y{buildTitle(_){let A,R=_.root;for(;void 0!==R;)A=this.getResolvedTitleForRoute(R)??A,R=R.children.find(V=>V.outlet===Et);return A}getResolvedTitleForRoute(_){return _.data[Cn]}static#e=this.\u0275fac=function(A){return new(A||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:function(){return(0,m.f3M)(dr)},providedIn:"root"})}return y})(),dr=(()=>{class y extends $t{constructor(_){super(),this.title=_}updateTitle(_){const A=this.buildTitle(_);void 0!==A&&this.title.setTitle(A)}static#e=this.\u0275fac=function(A){return new(A||y)(m.LFG(_n.Dx))};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),kn=(()=>{class y{static#e=this.\u0275fac=function(A){return new(A||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:function(){return(0,m.f3M)(bo)},providedIn:"root"})}return y})();class kr{shouldDetach(D){return!1}store(D,_){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,_){return D.routeConfig===_.routeConfig}}let bo=(()=>{class y extends kr{static#e=this.\u0275fac=function(){let _;return function(R){return(_||(_=m.n5z(y)))(R||y)}}();static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const qe=new m.OlP("",{providedIn:"root",factory:()=>({})});let Yn=(()=>{class y{static#e=this.\u0275fac=function(A){return new(A||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:function(){return(0,m.f3M)(Lr)},providedIn:"root"})}return y})(),Lr=(()=>{class y{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,A){return _}static#e=this.\u0275fac=function(A){return new(A||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var Ji=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(Ji||{});function vt(y,D){y.events.pipe((0,Be.h)(_=>_ instanceof Ye||_ instanceof gt||_ instanceof Wn||_ instanceof xt),(0,Ue.U)(_=>_ instanceof Ye||_ instanceof xt?Ji.COMPLETE:_ instanceof gt&&(0===_.code||1===_.code)?Ji.REDIRECTING:Ji.FAILED),(0,Be.h)(_=>_!==Ji.REDIRECTING),(0,te.q)(1)).subscribe(()=>{D()})}function Nt(y){throw y}function Yf(y,D,_){return D.parse("/")}const pt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Me={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ge=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,m.f3M)(m.c2e),this.isNgZoneEnabled=!1,this._events=new xe.x,this.options=(0,m.f3M)(qe,{optional:!0})||{},this.pendingTasks=(0,m.f3M)(m.HDt),this.errorHandler=this.options.errorHandler||Nt,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Yf,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.f3M)(Yn),this.routeReuseStrategy=(0,m.f3M)(kn),this.titleStrategy=(0,m.f3M)($t),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,m.f3M)(K,{optional:!0})?.flat()??[],this.navigationTransitions=(0,m.f3M)(An),this.urlSerializer=(0,m.f3M)(Xr),this.location=(0,m.f3M)($e.Ye),this.componentInputBindingEnabled=!!(0,m.f3M)(Mn,{optional:!0}),this.eventsSubscription=new Dt.w0,this.isNgZoneEnabled=(0,m.f3M)(m.R0b)instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=no(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(A=>{try{const{currentTransition:R}=this.navigationTransitions;if(null===R)return void(Ho(A)&&this._events.next(A));if(A instanceof ht)xn(R.source)&&(this.browserUrlTree=R.extractedUrl);else if(A instanceof xt)this.rawUrlTree=R.rawUrl;else if(A instanceof xr){if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(V,R)}this.browserUrlTree=R.urlAfterRedirects}}else if(A instanceof Ki)this.currentUrlTree=R.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,R),this.browserUrlTree=R.urlAfterRedirects);else if(A instanceof gt)0!==A.code&&1!==A.code&&(this.navigated=!0),(3===A.code||2===A.code)&&this.restoreHistory(R);else if(A instanceof Ss){const V=this.urlHandlingStrategy.merge(A.url,R.currentRawUrl),J={skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xn(R.source)};this.scheduleNavigation(V,Rr,null,J,{resolve:R.resolve,reject:R.reject,promise:R.promise})}A instanceof Wn&&this.restoreHistory(R,!0),A instanceof Ye&&(this.navigated=!0),Ho(A)&&this._events.next(A)}catch(R){this.navigationTransitions.transitionAbortSubject.next(R)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rr,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const A="popstate"===_.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,A,_.state)},0)}))}navigateToSyncWithBrowser(_,A,R){const V={replaceUrl:!0},J=R?.navigationId?R:null;if(R){const we={...R};delete we.navigationId,delete we.\u0275routerPageId,0!==Object.keys(we).length&&(V.state=we)}const Ce=this.parseUrl(_);this.scheduleNavigation(Ce,A,J,V)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(ys),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,A={}){const{relativeTo:R,queryParams:V,fragment:J,queryParamsHandling:Ce,preserveFragment:we}=A,It=we?this.currentUrlTree.fragment:J;let rr,dn=null;switch(Ce){case"merge":dn={...this.currentUrlTree.queryParams,...V};break;case"preserve":dn=this.currentUrlTree.queryParams;break;default:dn=V||null}null!==dn&&(dn=this.removeEmptyProps(dn));try{rr=ge(R?R.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),rr=this.currentUrlTree.root}return et(rr,_,dn,It??null)}navigateByUrl(_,A={skipLocationChange:!1}){const R=ar(_)?_:this.parseUrl(_),V=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(V,Rr,null,A)}navigate(_,A={skipLocationChange:!1}){return function Pr(y){for(let D=0;D<y.length;D++)if(null==y[D])throw new m.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,A),A)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let A;try{A=this.urlSerializer.parse(_)}catch(R){A=this.malformedUriErrorHandler(R,this.urlSerializer,_)}return A}isActive(_,A){let R;if(R=!0===A?{...pt}:!1===A?{...Me}:A,ar(_))return zn(this.currentUrlTree,_,R);const V=this.parseUrl(_);return zn(this.currentUrlTree,V,R)}removeEmptyProps(_){return Object.keys(_).reduce((A,R)=>{const V=_[R];return null!=V&&(A[R]=V),A},{})}scheduleNavigation(_,A,R,V,J){if(this.disposed)return Promise.resolve(!1);let Ce,we,It;J?(Ce=J.resolve,we=J.reject,It=J.promise):It=new Promise((rr,On)=>{Ce=rr,we=On});const dn=this.pendingTasks.add();return vt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(dn))}),this.navigationTransitions.handleNavigationRequest({source:A,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:_,extras:V,resolve:Ce,reject:we,promise:It,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),It.catch(rr=>Promise.reject(rr))}setBrowserUrl(_,A){const R=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(R)||A.extras.replaceUrl){const J={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId)};this.location.replaceState(R,"",J)}else{const V={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId+1)};this.location.go(R,"",V)}}restoreHistory(_,A=!1){if("computed"===this.canceledNavigationResolution){const V=this.currentPageId-this.browserPageId;0!==V?this.location.historyGo(V):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===V&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,A){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:A}:{navigationId:_}}static#e=this.\u0275fac=function(A){return new(A||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Ho(y){return!(y instanceof Ki||y instanceof Ss)}let zu=(()=>{class y{constructor(_,A,R,V,J,Ce){this.router=_,this.route=A,this.tabIndexAttribute=R,this.renderer=V,this.el=J,this.locationStrategy=Ce,this.href=null,this.commands=null,this.onChanges=new xe.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const we=J.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===we||"area"===we,this.isAnchorElement?this.subscription=_.events.subscribe(It=>{It instanceof Ye&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,A,R,V,J){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||A||R||V||J||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,m.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,A){const R=this.renderer,V=this.el.nativeElement;null!==A?R.setAttribute(V,_,A):R.removeAttribute(V,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(A){return new(A||y)(m.Y36(Ge),m.Y36(Ii),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36($e.S$))};static#t=this.\u0275dir=m.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(A,R){1&A&&m.NdJ("click",function(J){return R.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&A&&m.uIk("target",R.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",m.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",m.VuI],replaceUrl:["replaceUrl","replaceUrl",m.VuI],routerLink:"routerLink"},standalone:!0,features:[m.Xq5,m.TTD]})}return y})();class Oc{}let wr=(()=>{class y{preload(_,A){return A().pipe(ve(()=>(0,ie.of)(null)))}static#e=this.\u0275fac=function(A){return new(A||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),pa=(()=>{class y{constructor(_,A,R,V,J){this.router=_,this.injector=R,this.preloadingStrategy=V,this.loader=J}setUpPreloading(){this.subscription=this.router.events.pipe((0,Be.h)(_=>_ instanceof Ye),Vt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,A){const R=[];for(const V of A){V.providers&&!V._injector&&(V._injector=(0,m.MMx)(V.providers,_,`Route: ${V.path}`));const J=V._injector??_,Ce=V._loadedInjector??J;(V.loadChildren&&!V._loadedRoutes&&void 0===V.canLoad||V.loadComponent&&!V._loadedComponent)&&R.push(this.preloadConfig(J,V)),(V.children||V._loadedRoutes)&&R.push(this.processRoutes(Ce,V.children??V._loadedRoutes))}return(0,ae.D)(R).pipe((0,Ut.J)())}preloadConfig(_,A){return this.preloadingStrategy.preload(A,()=>{let R;R=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(_,A):(0,ie.of)(null);const V=R.pipe((0,Ve.z)(J=>null===J?(0,ie.of)(void 0):(A._loadedRoutes=J.routes,A._loadedInjector=J.injector,this.processRoutes(J.injector??_,J.routes))));if(A.loadComponent&&!A._loadedComponent){const J=this.loader.loadComponent(A);return(0,ae.D)([V,J]).pipe((0,Ut.J)())}return V})}static#e=this.\u0275fac=function(A){return new(A||y)(m.LFG(Ge),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(Oc),m.LFG(Te))};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const Pi=new m.OlP("");let Vl=(()=>{class y{constructor(_,A,R,V,J={}){this.urlSerializer=_,this.transitions=A,this.viewportScroller=R,this.zone=V,this.options=J,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},J.scrollPositionRestoration=J.scrollPositionRestoration||"disabled",J.anchorScrolling=J.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof ht?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof Ye?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof xt&&0===_.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof as&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new as(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(A){m.$Z()};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac})}return y})();function Dr(y,D){return{\u0275kind:y,\u0275providers:D}}function Nn(){const y=(0,m.f3M)(m.zs3);return D=>{const _=y.get(m.z2F);if(D!==_.components[0])return;const A=y.get(Ge),R=y.get(Wu);1===y.get(_r)&&A.initialNavigation(),y.get(wt,null,m.XFs.Optional)?.setUpPreloading(),y.get(Pi,null,m.XFs.Optional)?.init(),A.resetRootComponentType(_.componentTypes[0]),R.closed||(R.next(),R.complete(),R.unsubscribe())}}const Wu=new m.OlP("",{factory:()=>new xe.x}),_r=new m.OlP("",{providedIn:"root",factory:()=>1}),wt=new m.OlP("");function Fc(y){return Dr(0,[{provide:wt,useExisting:pa},{provide:Oc,useExisting:y}])}const ai=new m.OlP("ROUTER_FORROOT_GUARD"),qu=[$e.Ye,{provide:Xr,useClass:Xn},Ge,Js,{provide:Ii,useFactory:function Kt(y){return y.routerState.root},deps:[Ge]},Te,[]];function Va(){return new m.PXZ("Router",Ge)}let Bc=(()=>{class y{constructor(_){}static forRoot(_,A){return{ngModule:y,providers:[qu,[],{provide:K,multi:!0,useValue:_},{provide:ai,useFactory:wn,deps:[[Ge,new m.FiY,new m.tp0]]},{provide:qe,useValue:A||{}},A?.useHash?{provide:$e.S$,useClass:$e.Do}:{provide:$e.S$,useClass:$e.b0},{provide:Pi,useFactory:()=>{const y=(0,m.f3M)($e.EM),D=(0,m.f3M)(m.R0b),_=(0,m.f3M)(qe),A=(0,m.f3M)(An),R=(0,m.f3M)(Xr);return _.scrollOffset&&y.setOffset(_.scrollOffset),new Vl(R,A,y,D,_)}},A?.preloadingStrategy?Fc(A.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:Va},A?.initialNavigation?Es(A):[],A?.bindToComponentInputs?Dr(8,[mt,{provide:Mn,useExisting:mt}]).\u0275providers:[],[{provide:Ua,useFactory:Nn},{provide:m.tb,multi:!0,useExisting:Ua}]]}}static forChild(_){return{ngModule:y,providers:[{provide:K,multi:!0,useValue:_}]}}static#e=this.\u0275fac=function(A){return new(A||y)(m.LFG(ai,8))};static#t=this.\u0275mod=m.oAB({type:y});static#n=this.\u0275inj=m.cJS({})}return y})();function wn(y){return"guarded"}function Es(y){return["disabled"===y.initialNavigation?Dr(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const D=(0,m.f3M)(Ge);return()=>{D.setUpLocationChangeListener()}}},{provide:_r,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Dr(2,[{provide:_r,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:D=>{const _=D.get($e.V_,Promise.resolve());return()=>_.then(()=>new Promise(A=>{const R=D.get(Ge),V=D.get(Wu);vt(R,()=>{A(!0)}),D.get(An).afterPreactivation=()=>(A(!0),V.closed?(0,ie.of)(void 0):V),R.initialNavigation()}))}}]).\u0275providers:[]]}const Ua=new m.OlP("")},534:(Ct,Se,L)=>{L.r(Se),L.d(Se,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Xr,_DEFAULT_ENTRY_NAME:()=>zn,_addComponent:()=>Ar,_addOrOverwriteComponent:()=>Un,_apps:()=>zt,_clearComponents:()=>yt,_components:()=>Ur,_getProvider:()=>bn,_registerComponent:()=>Cr,_removeServiceInstance:()=>gn,deleteApp:()=>vr,getApp:()=>Mt,getApps:()=>mn,initializeApp:()=>Xn,onLog:()=>ns,registerVersion:()=>br,setLogLevel:()=>or});var m=L(5861),q=L(4537),he=L(7879),se=L(9058);const ae=(Pe,ge)=>ge.some(et=>Pe instanceof et);let ie,pe;const W=new WeakMap,ne=new WeakMap,ye=new WeakMap,Ke=new WeakMap,Le=new WeakMap;let Dt={get(Pe,ge,et){if(Pe instanceof IDBTransaction){if("done"===ge)return ne.get(Pe);if("objectStoreNames"===ge)return Pe.objectStoreNames||ye.get(Pe);if("store"===ge)return et.objectStoreNames[1]?void 0:et.objectStore(et.objectStoreNames[0])}return be(Pe[ge])},set:(Pe,ge,et)=>(Pe[ge]=et,!0),has:(Pe,ge)=>Pe instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in Pe};function Pt(Pe){return"function"==typeof Pe?function dt(Pe){return Pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Pe)?function(...ge){return Pe.apply(xe(this),ge),be(W.get(this))}:function(...ge){return be(Pe.apply(xe(this),ge))}:function(ge,...et){const nt=Pe.call(xe(this),ge,...et);return ye.set(nt,ge.sort?ge.sort():[ge]),be(nt)}}(Pe):(Pe instanceof IDBTransaction&&function it(Pe){if(ne.has(Pe))return;const ge=new Promise((et,nt)=>{const Wt=()=>{Pe.removeEventListener("complete",nn),Pe.removeEventListener("error",ln),Pe.removeEventListener("abort",ln)},nn=()=>{et(),Wt()},ln=()=>{nt(Pe.error||new DOMException("AbortError","AbortError")),Wt()};Pe.addEventListener("complete",nn),Pe.addEventListener("error",ln),Pe.addEventListener("abort",ln)});ne.set(Pe,ge)}(Pe),ae(Pe,function re(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Pe,Dt):Pe)}function be(Pe){if(Pe instanceof IDBRequest)return function He(Pe){const ge=new Promise((et,nt)=>{const Wt=()=>{Pe.removeEventListener("success",nn),Pe.removeEventListener("error",ln)},nn=()=>{et(be(Pe.result)),Wt()},ln=()=>{nt(Pe.error),Wt()};Pe.addEventListener("success",nn),Pe.addEventListener("error",ln)});return ge.then(et=>{et instanceof IDBCursor&&W.set(et,Pe)}).catch(()=>{}),Le.set(ge,Pe),ge}(Pe);if(Ke.has(Pe))return Ke.get(Pe);const ge=Pt(Pe);return ge!==Pe&&(Ke.set(Pe,ge),Le.set(ge,Pe)),ge}const xe=Pe=>Le.get(Pe),Fe=["get","getKey","getAll","getAllKeys","count"],te=["put","add","delete","clear"],qt=new Map;function Be(Pe,ge){if(!(Pe instanceof IDBDatabase)||ge in Pe||"string"!=typeof ge)return;if(qt.get(ge))return qt.get(ge);const et=ge.replace(/FromIndex$/,""),nt=ge!==et,Wt=te.includes(et);if(!(et in(nt?IDBIndex:IDBObjectStore).prototype)||!Wt&&!Fe.includes(et))return;const nn=function(){var ln=(0,m.Z)(function*(Sr,...ur){const Ai=this.transaction(Sr,Wt?"readwrite":"readonly");let cr=Ai.store;return nt&&(cr=cr.index(ur.shift())),(yield Promise.all([cr[et](...ur),Wt&&Ai.done]))[0]});return function(ur){return ln.apply(this,arguments)}}();return qt.set(ge,nn),nn}!function tt(Pe){Dt=Pe(Dt)}(Pe=>({...Pe,get:(ge,et,nt)=>Be(ge,et)||Pe.get(ge,et,nt),has:(ge,et)=>!!Be(ge,et)||Pe.has(ge,et)}));class Ve{constructor(ge){this.container=ge}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function ze(Pe){const ge=Pe.getComponent();return"VERSION"===ge?.type}(et)){const nt=et.getImmediate();return`${nt.library}/${nt.version}`}return null}).filter(et=>et).join(" ")}}const en="@firebase/app",Ze=new he.Yd("@firebase/app"),zn="[DEFAULT]",on={[en]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zt=new Map,Ur=new Map;function Ar(Pe,ge){try{Pe.container.addComponent(ge)}catch(et){Ze.debug(`Component ${ge.name} failed to register with FirebaseApp ${Pe.name}`,et)}}function Un(Pe,ge){Pe.container.addOrOverwriteComponent(ge)}function Cr(Pe){const ge=Pe.name;if(Ur.has(ge))return Ze.debug(`There were multiple attempts to register component ${ge}.`),!1;Ur.set(ge,Pe);for(const et of zt.values())Ar(et,Pe);return!0}function bn(Pe,ge){const et=Pe.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),Pe.container.getProvider(ge)}function gn(Pe,ge,et=zn){bn(Pe,ge).clearInstance(et)}function yt(){Ur.clear()}const Bt=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class sr{constructor(ge,et,nt){this._isDeleted=!1,this._options=Object.assign({},ge),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=nt,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ge){this._isDeleted=ge}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}const Xr="10.5.2";function Xn(Pe,ge={}){let et=Pe;"object"!=typeof ge&&(ge={name:ge});const nt=Object.assign({name:zn,automaticDataCollectionEnabled:!1},ge),Wt=nt.name;if("string"!=typeof Wt||!Wt)throw Bt.create("bad-app-name",{appName:String(Wt)});if(et||(et=(0,se.aH)()),!et)throw Bt.create("no-options");const nn=zt.get(Wt);if(nn){if((0,se.vZ)(et,nn.options)&&(0,se.vZ)(nt,nn.config))return nn;throw Bt.create("duplicate-app",{appName:Wt})}const ln=new q.H0(Wt);for(const ur of Ur.values())ln.addComponent(ur);const Sr=new sr(et,nt,ln);return zt.set(Wt,Sr),Sr}function Mt(Pe=zn){const ge=zt.get(Pe);if(!ge&&Pe===zn&&(0,se.aH)())return Xn();if(!ge)throw Bt.create("no-app",{appName:Pe});return ge}function mn(){return Array.from(zt.values())}function vr(Pe){return tn.apply(this,arguments)}function tn(){return(tn=(0,m.Z)(function*(Pe){const ge=Pe.name;zt.has(ge)&&(zt.delete(ge),yield Promise.all(Pe.container.getProviders().map(et=>et.delete())),Pe.isDeleted=!0)})).apply(this,arguments)}function br(Pe,ge,et){var nt;let Wt=null!==(nt=on[Pe])&&void 0!==nt?nt:Pe;et&&(Wt+=`-${et}`);const nn=Wt.match(/\s|\//),ln=ge.match(/\s|\//);if(nn||ln){const Sr=[`Unable to register library "${Wt}" with version "${ge}":`];return nn&&Sr.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),nn&&ln&&Sr.push("and"),ln&&Sr.push(`version name "${ge}" contains illegal characters (whitespace or "/")`),void Ze.warn(Sr.join(" "))}Cr(new q.wA(`${Wt}-version`,()=>({library:Wt,version:ge}),"VERSION"))}function ns(Pe,ge){if(null!==Pe&&"function"!=typeof Pe)throw Bt.create("invalid-log-argument");(0,he.Am)(Pe,ge)}function or(Pe){(0,he.Ub)(Pe)}const Jr="firebase-heartbeat-database",rs=1,oe="firebase-heartbeat-store";let j=null;function z(){return j||(j=function $e(Pe,ge,{blocked:et,upgrade:nt,blocking:Wt,terminated:nn}={}){const ln=indexedDB.open(Pe,ge),Sr=be(ln);return nt&&ln.addEventListener("upgradeneeded",ur=>{nt(be(ln.result),ur.oldVersion,ur.newVersion,be(ln.transaction),ur)}),et&&ln.addEventListener("blocked",ur=>et(ur.oldVersion,ur.newVersion,ur)),Sr.then(ur=>{nn&&ur.addEventListener("close",()=>nn()),Wt&&ur.addEventListener("versionchange",Ai=>Wt(Ai.oldVersion,Ai.newVersion,Ai))}).catch(()=>{}),Sr}(Jr,rs,{upgrade:(Pe,ge)=>{0===ge&&Pe.createObjectStore(oe)}}).catch(Pe=>{throw Bt.create("idb-open",{originalErrorMessage:Pe.message})})),j}function H(){return(H=(0,m.Z)(function*(Pe){try{return yield(yield z()).transaction(oe).objectStore(oe).get(ut(Pe))}catch(ge){if(ge instanceof se.ZR)Ze.warn(ge.message);else{const et=Bt.create("idb-get",{originalErrorMessage:ge?.message});Ze.warn(et.message)}}})).apply(this,arguments)}function fe(Pe,ge){return We.apply(this,arguments)}function We(){return(We=(0,m.Z)(function*(Pe,ge){try{const nt=(yield z()).transaction(oe,"readwrite");yield nt.objectStore(oe).put(ge,ut(Pe)),yield nt.done}catch(et){if(et instanceof se.ZR)Ze.warn(et.message);else{const nt=Bt.create("idb-set",{originalErrorMessage:et?.message});Ze.warn(nt.message)}}})).apply(this,arguments)}function ut(Pe){return`${Pe.name}!${Pe.options.appId}`}class hn{constructor(ge){this.container=ge,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new Br(et),this._heartbeatsCachePromise=this._storage.read().then(nt=>(this._heartbeatsCache=nt,nt))}triggerHeartbeat(){var ge=this;return(0,m.Z)(function*(){const nt=ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=jt();if(null===ge._heartbeatsCache&&(ge._heartbeatsCache=yield ge._heartbeatsCachePromise),ge._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!ge._heartbeatsCache.heartbeats.some(nn=>nn.date===Wt))return ge._heartbeatsCache.heartbeats.push({date:Wt,agent:nt}),ge._heartbeatsCache.heartbeats=ge._heartbeatsCache.heartbeats.filter(nn=>{const ln=new Date(nn.date).valueOf();return Date.now()-ln<=2592e6}),ge._storage.overwrite(ge._heartbeatsCache)})()}getHeartbeatsHeader(){var ge=this;return(0,m.Z)(function*(){if(null===ge._heartbeatsCache&&(yield ge._heartbeatsCachePromise),null===ge._heartbeatsCache||0===ge._heartbeatsCache.heartbeats.length)return"";const et=jt(),{heartbeatsToSend:nt,unsentEntries:Wt}=function Sn(Pe,ge=1024){const et=[];let nt=Pe.slice();for(const Wt of Pe){const nn=et.find(ln=>ln.agent===Wt.agent);if(nn){if(nn.dates.push(Wt.date),_s(et)>ge){nn.dates.pop();break}}else if(et.push({agent:Wt.agent,dates:[Wt.date]}),_s(et)>ge){et.pop();break}nt=nt.slice(1)}return{heartbeatsToSend:et,unsentEntries:nt}}(ge._heartbeatsCache.heartbeats),nn=(0,se.L)(JSON.stringify({version:2,heartbeats:nt}));return ge._heartbeatsCache.lastSentHeartbeatDate=et,Wt.length>0?(ge._heartbeatsCache.heartbeats=Wt,yield ge._storage.overwrite(ge._heartbeatsCache)):(ge._heartbeatsCache.heartbeats=[],ge._storage.overwrite(ge._heartbeatsCache)),nn})()}}function jt(){return(new Date).toISOString().substring(0,10)}class Br{constructor(ge){this.app=ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ge=this;return(0,m.Z)(function*(){return(yield ge._canUseIndexedDBPromise)&&(yield function $(Pe){return H.apply(this,arguments)}(ge.app))||{heartbeats:[]}})()}overwrite(ge){var et=this;return(0,m.Z)(function*(){var nt;if(yield et._canUseIndexedDBPromise){const nn=yield et.read();return fe(et.app,{lastSentHeartbeatDate:null!==(nt=ge.lastSentHeartbeatDate)&&void 0!==nt?nt:nn.lastSentHeartbeatDate,heartbeats:ge.heartbeats})}})()}add(ge){var et=this;return(0,m.Z)(function*(){var nt;if(yield et._canUseIndexedDBPromise){const nn=yield et.read();return fe(et.app,{lastSentHeartbeatDate:null!==(nt=ge.lastSentHeartbeatDate)&&void 0!==nt?nt:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...ge.heartbeats]})}})()}}function _s(Pe){return(0,se.L)(JSON.stringify({version:2,heartbeats:Pe})).length}!function ar(Pe){Cr(new q.wA("platform-logger",ge=>new Ve(ge),"PRIVATE")),Cr(new q.wA("heartbeat",ge=>new hn(ge),"PRIVATE")),br(en,"0.9.22",Pe),br(en,"0.9.22","esm2017"),br("fire-js","")}("")},4537:(Ct,Se,L)=>{L.d(Se,{H0:()=>re,wA:()=>he});var m=L(5861),q=L(9058);class he{constructor(W,ne,ye){this.name=W,this.instanceFactory=ne,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const se="[DEFAULT]";class ae{constructor(W,ne){this.name=W,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const ne=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(ne)){const ye=new q.BH;if(this.instancesDeferred.set(ne,ye),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:ne});Ke&&ye.resolve(Ke)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(W){var ne;const ye=this.normalizeInstanceIdentifier(W?.identifier),Ke=null!==(ne=W?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(Le){if(Ke)return null;throw Le}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function pe(_e){return"EAGER"===_e.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[ne,ye]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(ne);try{const Le=this.getOrInitializeService({instanceIdentifier:Ke});ye.resolve(Le)}catch{}}}}clearInstance(W=se){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,m.Z)(function*(){const ne=Array.from(W.instances.values());yield Promise.all([...ne.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...ne.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=se){return this.instances.has(W)}getOptions(W=se){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:ne={}}=W,ye=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:ye,options:ne});for(const[Le,He]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(Le)&&He.resolve(Ke);return Ke}onInit(W,ne){var ye;const Ke=this.normalizeInstanceIdentifier(ne),Le=null!==(ye=this.onInitCallbacks.get(Ke))&&void 0!==ye?ye:new Set;Le.add(W),this.onInitCallbacks.set(Ke,Le);const He=this.instances.get(Ke);return He&&W(He,Ke),()=>{Le.delete(W)}}invokeOnInitCallbacks(W,ne){const ye=this.onInitCallbacks.get(ne);if(ye)for(const Ke of ye)try{Ke(W,ne)}catch{}}getOrInitializeService({instanceIdentifier:W,options:ne={}}){let ye=this.instances.get(W);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=W,_e===se?void 0:_e),options:ne}),this.instances.set(W,ye),this.instancesOptions.set(W,ne),this.invokeOnInitCallbacks(ye,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ye)}catch{}var _e;return ye||null}normalizeInstanceIdentifier(W=se){return this.component?this.component.multipleInstances?W:se:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const ne=this.getProvider(W.name);if(ne.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);ne.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const ne=new ae(W,this);return this.providers.set(W,ne),ne}getProviders(){return Array.from(this.providers.values())}}},7879:(Ct,Se,L)=>{L.d(Se,{Am:()=>_e,Ub:()=>re,Yd:()=>pe,in:()=>q});const m=[];var q=function(W){return W[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",W}(q||{});const he={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},se=q.INFO,ae={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},ie=(W,ne,...ye)=>{if(ne<W.logLevel)return;const Ke=(new Date).toISOString(),Le=ae[ne];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Le](`[${Ke}]  ${W.name}:`,...ye)};class pe{constructor(ne){this.name=ne,this._logLevel=se,this._logHandler=ie,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in q))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?he[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...ne),this._logHandler(this,q.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...ne),this._logHandler(this,q.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,q.INFO,...ne),this._logHandler(this,q.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,q.WARN,...ne),this._logHandler(this,q.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...ne),this._logHandler(this,q.ERROR,...ne)}}function re(W){m.forEach(ne=>{ne.setLogLevel(W)})}function _e(W,ne){for(const ye of m){let Ke=null;ne&&ne.level&&(Ke=he[ne.level]),ye.userLogHandler=null===W?null:(Le,He,...it)=>{const Dt=it.map(tt=>{if(null==tt)return null;if("string"==typeof tt)return tt;if("number"==typeof tt||"boolean"==typeof tt)return tt.toString();if(tt instanceof Error)return tt.message;try{return JSON.stringify(tt)}catch{return null}}).filter(tt=>tt).join(" ");He>=(Ke??Le.logLevel)&&W({level:q[He].toLowerCase(),message:Dt,args:it,type:Le.name})}}}},3182:(Ct,Se,L)=>{L.d(Se,{C6:()=>m.getApps,KN:()=>m.registerVersion,Mq:()=>m.getApp,ZF:()=>m.initializeApp});var m=L(534);(0,m.registerVersion)("firebase","10.5.2","app")},3446:(Ct,Se,L)=>{L.d(Se,{hJ:()=>so,a$:()=>Os,Xb:()=>$u,v0:()=>na,Aj:()=>vt,w$:()=>Hs,LS:()=>ls,e5:()=>Is,rh:()=>wi,w7:()=>pt,ck:()=>T});var m=L(5861),q=L(9058),he=L(534),se=L(7879),ae=L(7582),ie=L(4537);const He=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tt=new se.Yd("@firebase/auth");function Pt(I,...h){tt.logLevel<=se.in.ERROR&&tt.error(`Auth (${he.SDK_VERSION}): ${I}`,...h)}function be(I,...h){throw Fe(I,...h)}function xe(I,...h){return Fe(I,...h)}function $e(I,h,p){const E=Object.assign(Object.assign({},He()),{[h]:p});return new q.LL("auth","Firebase",E).create(h,{appName:I.name})}function Fe(I,...h){if("string"!=typeof I){const p=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=I.name),I._errorFactory.create(p,...E)}return it.create(I,...h)}function te(I,h,...p){if(!I)throw Fe(h,...p)}function qt(I){const h="INTERNAL ASSERTION FAILED: "+I;throw Pt(h),new Error(h)}function Be(I,h){I||qt(h)}function Ve(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function en(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Tt{constructor(h,p){this.shortDelay=h,this.longDelay=p,Be(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return function lt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ze(){return"http:"===en()||"https:"===en()}()||(0,q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vt(I,h){Be(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class de{static initialize(h,p,E){this.fetchImpl=h,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void qt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void qt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void qt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new Tt(3e4,6e4);function De(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function Ne(I,h,p,E){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,m.Z)(function*(I,h,p,E,O={}){return Ot(I,O,(0,m.Z)(function*(){let G={},ce={};E&&("GET"===h?ce=E:G={body:JSON.stringify(E)});const Re=(0,q.xO)(Object.assign({key:I.config.apiKey},ce)).slice(1),Je=yield I._getAdditionalHeaders();return Je["Content-Type"]="application/json",I.languageCode&&(Je["X-Firebase-Locale"]=I.languageCode),de.fetch()(_n(I,I.config.apiHost,p,Re),Object.assign({method:h,headers:Je,referrerPolicy:"no-referrer"},G))}))})).apply(this,arguments)}function Ot(I,h,p){return cn.apply(this,arguments)}function cn(){return(cn=(0,m.Z)(function*(I,h,p){I._canInitEmulator=!1;const E=Object.assign(Object.assign({},ve),h);try{const O=new Cn(I),G=yield Promise.race([p(),O.promise]);O.clearNetworkTimeout();const ce=yield G.json();if("needConfirmation"in ce)throw vn(I,"account-exists-with-different-credential",ce);if(G.ok&&!("errorMessage"in ce))return ce;{const Re=G.ok?ce.errorMessage:ce.error.message,[Je,kt]=Re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw vn(I,"credential-already-in-use",ce);if("EMAIL_EXISTS"===Je)throw vn(I,"email-already-in-use",ce);if("USER_DISABLED"===Je)throw vn(I,"user-disabled",ce);const rt=E[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(kt)throw $e(I,rt,kt);be(I,rt)}}catch(O){if(O instanceof q.ZR)throw O;be(I,"network-request-failed",{message:String(O)})}})).apply(this,arguments)}function Pn(I,h,p,E){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,m.Z)(function*(I,h,p,E,O={}){const G=yield Ne(I,h,p,E,O);return"mfaPendingCredential"in G&&be(I,"multi-factor-auth-required",{_serverResponse:G}),G})).apply(this,arguments)}function _n(I,h,p,E){const O=`${h}${p}?${E}`;return I.config.emulator?Vt(I.config,O):`${I.config.apiScheme}://${O}`}function Et(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(xe(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vn(I,h,p){const E={appName:I.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const O=xe(I,h,E);return O.customData._tokenResponse=p,O}function Jt(I){return void 0!==I&&void 0!==I.enterprise}class At{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return Et(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function Li(I,h){return pn.apply(this,arguments)}function pn(){return(pn=(0,m.Z)(function*(I,h){return Ne(I,"GET","/v2/recaptchaConfig",De(I,h))})).apply(this,arguments)}function Qn(){return(Qn=(0,m.Z)(function*(I,h){return Ne(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Ur(){return(Ur=(0,m.Z)(function*(I,h){return Ne(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Ar(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function bn(){return(bn=(0,m.Z)(function*(I,h=!1){const p=(0,q.m9)(I),E=yield p.getIdToken(h),O=yt(E);te(O&&O.exp&&O.auth_time&&O.iat,p.auth,"internal-error");const G="object"==typeof O.firebase?O.firebase:void 0,ce=G?.sign_in_provider;return{claims:O,token:E,authTime:Ar(gn(O.auth_time)),issuedAtTime:Ar(gn(O.iat)),expirationTime:Ar(gn(O.exp)),signInProvider:ce||null,signInSecondFactor:G?.sign_in_second_factor||null}})).apply(this,arguments)}function gn(I){return 1e3*Number(I)}function yt(I){const[h,p,E]=I.split(".");if(void 0===h||void 0===p||void 0===E)return Pt("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,q.tV)(p);return O?JSON.parse(O):(Pt("Failed to decode base64 JWT payload"),null)}catch(O){return Pt("Caught error parsing JWT payload as JSON",O?.toString()),null}}function Bt(I,h){return sr.apply(this,arguments)}function sr(){return(sr=(0,m.Z)(function*(I,h,p=!1){if(p)return h;try{return yield h}catch(E){throw E instanceof q.ZR&&function Xr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(E)&&I.auth.currentUser===I&&(yield I.auth.signOut()),E}})).apply(this,arguments)}class Xn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const O=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,m.Z)(function*(){yield p.iteration()}),E)}iteration(){var h=this;return(0,m.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Mt{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ar(this.lastLoginAt),this.creationTime=Ar(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mn(I){return vr.apply(this,arguments)}function vr(){return vr=(0,m.Z)(function*(I){var h;const p=I.auth,E=yield I.getIdToken(),O=yield Bt(I,function zt(I,h){return Ur.apply(this,arguments)}(p,{idToken:E}));te(O?.users.length,p,"internal-error");const G=O.users[0];I._notifyReloadListener(G);const ce=null!==(h=G.providerUserInfo)&&void 0!==h&&h.length?function or(I){return I.map(h=>{var{providerId:p}=h,E=(0,ae._T)(h,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(G.providerUserInfo):[],Re=function ns(I,h){return[...I.filter(E=>!h.some(O=>O.providerId===E.providerId)),...h]}(I.providerData,ce),rt=!!I.isAnonymous&&!(I.email&&G.passwordHash||Re?.length),Ln={uid:G.localId,displayName:G.displayName||null,photoURL:G.photoUrl||null,email:G.email||null,emailVerified:G.emailVerified||!1,phoneNumber:G.phoneNumber||null,tenantId:G.tenantId||null,providerData:Re,metadata:new Mt(G.createdAt,G.lastLoginAt),isAnonymous:rt};Object.assign(I,Ln)}),vr.apply(this,arguments)}function br(){return(br=(0,m.Z)(function*(I){const h=(0,q.m9)(I);yield mn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function rs(){return(rs=(0,m.Z)(function*(I,h){const p=yield Ot(I,{},(0,m.Z)(function*(){const E=(0,q.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:O,apiKey:G}=I.config,ce=_n(I,O,"/v1/token",`key=${G}`),Re=yield I._getAdditionalHeaders();return Re["Content-Type"]="application/x-www-form-urlencoded",de.fetch()(ce,{method:"POST",headers:Re,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class oe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){te(h.idToken,"internal-error"),te(typeof h.idToken<"u","internal-error"),te(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Wi(I){const h=yt(I);return te(h,"internal-error"),te(typeof h.exp<"u","internal-error"),te(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var E=this;return(0,m.Z)(function*(){return te(!E.accessToken||E.refreshToken,h,"user-token-expired"),p||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(h,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var E=this;return(0,m.Z)(function*(){const{accessToken:O,refreshToken:G,expiresIn:ce}=yield function Jr(I,h){return rs.apply(this,arguments)}(h,p);E.updateTokensAndExpiration(O,G,Number(ce))})()}updateTokensAndExpiration(h,p,E){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,p){const{refreshToken:E,accessToken:O,expirationTime:G}=p,ce=new oe;return E&&(te("string"==typeof E,"internal-error",{appName:h}),ce.refreshToken=E),O&&(te("string"==typeof O,"internal-error",{appName:h}),ce.accessToken=O),G&&(te("number"==typeof G,"internal-error",{appName:h}),ce.expirationTime=G),ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new oe,this.toJSON())}_performRefresh(){return qt("not implemented")}}function j(I,h){te("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class z{constructor(h){var{uid:p,auth:E,stsTokenManager:O}=h,G=(0,ae._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=G.displayName||null,this.email=G.email||null,this.emailVerified=G.emailVerified||!1,this.phoneNumber=G.phoneNumber||null,this.photoURL=G.photoURL||null,this.isAnonymous=G.isAnonymous||!1,this.tenantId=G.tenantId||null,this.providerData=G.providerData?[...G.providerData]:[],this.metadata=new Mt(G.createdAt||void 0,G.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,m.Z)(function*(){const E=yield Bt(p,p.stsTokenManager.getToken(p.auth,h));return te(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(h){return function Cr(I){return bn.apply(this,arguments)}(this,h)}reload(){return function tn(I){return br.apply(this,arguments)}(this)}_assign(h){this!==h&&(te(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new z(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var E=this;return(0,m.Z)(function*(){let O=!1;h.idToken&&h.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(h),O=!0),p&&(yield mn(E)),yield E.auth._persistUserIfCurrent(E),O&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var h=this;return(0,m.Z)(function*(){const p=yield h.getIdToken();return yield Bt(h,function yi(I,h){return Qn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var E,O,G,ce,Re,Je,kt,rt;const Ln=null!==(E=p.displayName)&&void 0!==E?E:void 0,ps=null!==(O=p.email)&&void 0!==O?O:void 0,ra=null!==(G=p.phoneNumber)&&void 0!==G?G:void 0,xo=null!==(ce=p.photoURL)&&void 0!==ce?ce:void 0,Ja=null!==(Re=p.tenantId)&&void 0!==Re?Re:void 0,Tu=null!==(Je=p._redirectEventId)&&void 0!==Je?Je:void 0,np=null!==(kt=p.createdAt)&&void 0!==kt?kt:void 0,Zl=null!==(rt=p.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:Zc,emailVerified:wu,isAnonymous:Ea,providerData:Qc,stsTokenManager:Ta}=p;te(Zc&&Ta,h,"internal-error");const sc=oe.fromJSON(this.name,Ta);te("string"==typeof Zc,h,"internal-error"),j(Ln,h.name),j(ps,h.name),te("boolean"==typeof wu,h,"internal-error"),te("boolean"==typeof Ea,h,"internal-error"),j(ra,h.name),j(xo,h.name),j(Ja,h.name),j(Tu,h.name),j(np,h.name),j(Zl,h.name);const ia=new z({uid:Zc,auth:h,email:ps,emailVerified:wu,displayName:Ln,isAnonymous:Ea,photoURL:xo,phoneNumber:ra,tenantId:Ja,stsTokenManager:sc,createdAt:np,lastLoginAt:Zl});return Qc&&Array.isArray(Qc)&&(ia.providerData=Qc.map(lh=>Object.assign({},lh))),Tu&&(ia._redirectEventId=Tu),ia}static _fromIdTokenResponse(h,p,E=!1){return(0,m.Z)(function*(){const O=new oe;O.updateFromServerResponse(p);const G=new z({uid:p.localId,auth:h,stsTokenManager:O,isAnonymous:E});return yield mn(G),G})()}}const $=new Map;function H(I){Be(I instanceof Function,"Expected a class definition");let h=$.get(I);return h?(Be(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,$.set(I,h),h)}const We=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(p,E){var O=this;return(0,m.Z)(function*(){O.storage[p]=E})()}_get(p){var E=this;return(0,m.Z)(function*(){const O=E.storage[p];return void 0===O?null:O})()}_remove(p){var E=this;return(0,m.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return I.type="NONE",I})();function ut(I,h,p){return`firebase:${I}:${h}:${p}`}class Gt{constructor(h,p,E){this.persistence=h,this.auth=p,this.userKey=E;const{config:O,name:G}=this.auth;this.fullUserKey=ut(this.userKey,O.apiKey,G),this.fullPersistenceKey=ut("persistence",O.apiKey,G),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,m.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?z._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,m.Z)(function*(){if(p.persistence===h)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,E="authUser"){return(0,m.Z)(function*(){if(!p.length)return new Gt(H(We),h,E);const O=(yield Promise.all(p.map(function(){var kt=(0,m.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return kt.apply(this,arguments)}}()))).filter(kt=>kt);let G=O[0]||H(We);const ce=ut(E,h.config.apiKey,h.name);let Re=null;for(const kt of p)try{const rt=yield kt._get(ce);if(rt){const Ln=z._fromJSON(h,rt);kt!==G&&(Re=Ln),G=kt;break}}catch{}const Je=O.filter(kt=>kt._shouldAllowMigration);return G._shouldAllowMigration&&Je.length?(G=Je[0],Re&&(yield G._set(ce,Re.toJSON())),yield Promise.all(p.map(function(){var kt=(0,m.Z)(function*(rt){if(rt!==G)try{yield rt._remove(ce)}catch{}});return function(rt){return kt.apply(this,arguments)}}())),new Gt(G,h,E)):new Gt(G,h,E)})()}}function Qt(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Br(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(hn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ar(h))return"Blackberry";if(Pe(h))return"Webos";if(jt(h))return"Safari";if((h.includes("chrome/")||Sn(h))&&!h.includes("edge/"))return"Chrome";if(_s(h))return"Android";{const E=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function hn(I=(0,q.z$)()){return/firefox\//i.test(I)}function jt(I=(0,q.z$)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Sn(I=(0,q.z$)()){return/crios\//i.test(I)}function Br(I=(0,q.z$)()){return/iemobile/i.test(I)}function _s(I=(0,q.z$)()){return/android/i.test(I)}function ar(I=(0,q.z$)()){return/blackberry/i.test(I)}function Pe(I=(0,q.z$)()){return/webos/i.test(I)}function ge(I=(0,q.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function nn(I=(0,q.z$)()){return ge(I)||_s(I)||Pe(I)||ar(I)||/windows phone/i.test(I)||Br(I)}function Sr(I,h=[]){let p;switch(I){case"Browser":p=Qt((0,q.z$)());break;case"Worker":p=`${Qt((0,q.z$)())}-${I}`;break;default:p=I}const E=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${he.SDK_VERSION}/${E}`}class ur{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const E=G=>new Promise((ce,Re)=>{try{ce(h(G))}catch(Je){Re(Je)}});E.onAbort=p,this.queue.push(E);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,m.Z)(function*(){if(p.auth.currentUser===h)return;const E=[];try{for(const O of p.queue)yield O(h),O.onAbort&&E.push(O.onAbort)}catch(O){E.reverse();for(const G of E)try{G()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:O?.message})}})()}}function cr(){return(cr=(0,m.Z)(function*(I,h={}){return Ne(I,"GET","/v2/passwordPolicy",De(I,h))})).apply(this,arguments)}class lr{constructor(h){var p,E,O,G;const ce=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=ce.minPasswordLength)&&void 0!==p?p:6,ce.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ce.maxPasswordLength),void 0!==ce.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ce.containsLowercaseCharacter),void 0!==ce.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ce.containsUppercaseCharacter),void 0!==ce.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ce.containsNumericCharacter),void 0!==ce.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ce.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(O=null===(E=h.allowedNonAlphanumericCharacters)||void 0===E?void 0:E.join(""))&&void 0!==O?O:"",this.forceUpgradeOnSignin=null!==(G=h.forceUpgradeOnSignin)&&void 0!==G&&G,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,E,O,G,ce,Re;const Je={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Je),this.validatePasswordCharacterOptions(h,Je),Je.isValid&&(Je.isValid=null===(p=Je.meetsMinPasswordLength)||void 0===p||p),Je.isValid&&(Je.isValid=null===(E=Je.meetsMaxPasswordLength)||void 0===E||E),Je.isValid&&(Je.isValid=null===(O=Je.containsLowercaseLetter)||void 0===O||O),Je.isValid&&(Je.isValid=null===(G=Je.containsUppercaseLetter)||void 0===G||G),Je.isValid&&(Je.isValid=null===(ce=Je.containsNumericCharacter)||void 0===ce||ce),Je.isValid&&(Je.isValid=null===(Re=Je.containsNonAlphanumericCharacter)||void 0===Re||Re),Je}validatePasswordLengthOptions(h,p){const E=this.customStrengthOptions.minPasswordLength,O=this.customStrengthOptions.maxPasswordLength;E&&(p.meetsMinPasswordLength=h.length>=E),O&&(p.meetsMaxPasswordLength=h.length<=O)}validatePasswordCharacterOptions(h,p){let E;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let O=0;O<h.length;O++)E=h.charAt(O),this.updatePasswordCharacterOptionsStatuses(p,E>="a"&&E<="z",E>="A"&&E<="Z",E>="0"&&E<="9",this.allowedNonAlphanumericCharacters.includes(E))}updatePasswordCharacterOptionsStatuses(h,p,E,O,G){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=E)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=O)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=G))}}class vi{constructor(h,p,E,O){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=E,this.config=O,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ss(this),this.idTokenSubscription=new ss(this),this.beforeStateQueue=new ur(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=O.sdkClientVersion}_initializeWithPersistence(h,p){var E=this;return p&&(this._popupRedirectResolver=H(p)),this._initializationPromise=this.queue((0,m.Z)(function*(){var O,G;if(!E._deleted&&(E.persistenceManager=yield Gt.create(E,h),!E._deleted)){if(null!==(O=E._popupRedirectResolver)&&void 0!==O&&O._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(G=E.currentUser)||void 0===G?void 0:G.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,m.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,m.Z)(function*(){var E;const O=yield p.assertedPersistence.getCurrentUser();let G=O,ce=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Re=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,Je=G?._redirectEventId,kt=yield p.tryRedirectSignIn(h);(!Re||Re===Je)&&kt?.user&&(G=kt.user,ce=!0)}if(!G)return p.directlySetCurrentUser(null);if(!G._redirectEventId){if(ce)try{yield p.beforeStateQueue.runMiddleware(G)}catch(Re){G=O,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Re))}return G?p.reloadAndSetCurrentUserOrClear(G):p.directlySetCurrentUser(null)}return te(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===G._redirectEventId?p.directlySetCurrentUser(G):p.reloadAndSetCurrentUserOrClear(G)})()}tryRedirectSignIn(h){var p=this;return(0,m.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,m.Z)(function*(){try{yield mn(h)}catch(E){if("auth/network-request-failed"!==E?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,m.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,m.Z)(function*(){const E=h?(0,q.m9)(h):null;return E&&te(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(h,p=!1){var E=this;return(0,m.Z)(function*(){if(!E._deleted)return h&&te(E.tenantId===h.tenantId,E,"tenant-id-mismatch"),p||(yield E.beforeStateQueue.runMiddleware(h)),E.queue((0,m.Z)(function*(){yield E.directlySetCurrentUser(h),E.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,m.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,m.Z)(function*(){yield p.assertedPersistence.setPersistence(H(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,m.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const E=p._getPasswordPolicyInternal();return E.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):E.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,m.Z)(function*(){const p=yield function Ai(I){return cr.apply(this,arguments)}(h),E=new lr(p);null===h.tenantId?h._projectPasswordPolicy=E:h._tenantPasswordPolicies[h.tenantId]=E})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new q.LL("auth","Firebase",h())}onAuthStateChanged(h,p,E){return this.registerStateListener(this.authStateSubscription,h,p,E)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,E){return this.registerStateListener(this.idTokenSubscription,h,p,E)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const E=this.onAuthStateChanged(()=>{E(),h()},p)}})}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var E=this;return(0,m.Z)(function*(){const O=yield E.getOrInitRedirectPersistenceManager(p);return null===h?O.removeCurrentUser():O.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,m.Z)(function*(){if(!p.redirectPersistenceManager){const E=h&&H(h)||p._popupRedirectResolver;te(E,p,"argument-error"),p.redirectPersistenceManager=yield Gt.create(p,[H(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,m.Z)(function*(){var E,O;return p._isInitialized&&(yield p.queue((0,m.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===h?p._currentUser:(null===(O=p.redirectUser)||void 0===O?void 0:O._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,m.Z)(function*(){if(h===p.currentUser)return p.queue((0,m.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,E,O){if(this._deleted)return()=>{};const G="function"==typeof p?p:p.next.bind(p);let ce=!1;const Re=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(Re,this,"internal-error"),Re.then(()=>{ce||G(this.currentUser)}),"function"==typeof p){const Je=h.addObserver(p,E,O);return()=>{ce=!0,Je()}}{const Je=h.addObserver(p);return()=>{ce=!0,Je()}}}directlySetCurrentUser(h){var p=this;return(0,m.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Sr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,m.Z)(function*(){var p;const E={"X-Client-Version":h.clientVersion};h.app.options.appId&&(E["X-Firebase-gmpid"]=h.app.options.appId);const O=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();O&&(E["X-Firebase-Client"]=O);const G=yield h._getAppCheckToken();return G&&(E["X-Firebase-AppCheck"]=G),E})()}_getAppCheckToken(){var h=this;return(0,m.Z)(function*(){var p;const E=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return E?.error&&function dt(I,...h){tt.logLevel<=se.in.WARN&&tt.warn(`Auth (${he.SDK_VERSION}): ${I}`,...h)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Lt(I){return(0,q.m9)(I)}class ss{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,q.ne)(p=>this.observer=p)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ir(I){return new Promise((h,p)=>{const E=document.createElement("script");E.setAttribute("src",I),E.onload=h,E.onerror=O=>{const G=xe("internal-error");G.customData=O,p(G)},E.type="text/javascript",E.charset="UTF-8",function Ks(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(E)})}function os(I){return`__${I}${Math.floor(1e6*Math.random())}`}class ht{constructor(h){this.type="recaptcha-enterprise",this.auth=Lt(h)}verify(h="verify",p=!1){var E=this;return(0,m.Z)(function*(){function G(){return G=(0,m.Z)(function*(Re){if(!p){if(null==Re.tenantId&&null!=Re._agentRecaptchaConfig)return Re._agentRecaptchaConfig.siteKey;if(null!=Re.tenantId&&void 0!==Re._tenantRecaptchaConfigs[Re.tenantId])return Re._tenantRecaptchaConfigs[Re.tenantId].siteKey}return new Promise(function(){var Je=(0,m.Z)(function*(kt,rt){Li(Re,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ln=>{if(void 0!==Ln.recaptchaKey){const ps=new At(Ln);return null==Re.tenantId?Re._agentRecaptchaConfig=ps:Re._tenantRecaptchaConfigs[Re.tenantId]=ps,kt(ps.siteKey)}rt(new Error("recaptcha Enterprise site key undefined"))}).catch(Ln=>{rt(Ln)})});return function(kt,rt){return Je.apply(this,arguments)}}())}),G.apply(this,arguments)}function ce(Re,Je,kt){const rt=window.grecaptcha;Jt(rt)?rt.enterprise.ready(()=>{rt.enterprise.execute(Re,{action:h}).then(Ln=>{Je(Ln)}).catch(()=>{Je("NO_RECAPTCHA")})}):kt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Re,Je)=>{(function O(Re){return G.apply(this,arguments)})(E.auth).then(kt=>{if(!p&&Jt(window.grecaptcha))ce(kt,Re,Je);else{if(typeof window>"u")return void Je(new Error("RecaptchaVerifier is only supported in browser"));Ir("https://www.google.com/recaptcha/enterprise.js?render="+kt).then(()=>{ce(kt,Re,Je)}).catch(rt=>{Je(rt)})}}).catch(kt=>{Je(kt)})})})()}}function Ye(I,h,p){return gt.apply(this,arguments)}function gt(){return(gt=(0,m.Z)(function*(I,h,p,E=!1){const O=new ht(I);let G;try{G=yield O.verify(p)}catch{G=yield O.verify(p,!0)}const ce=Object.assign({},h);return Object.assign(ce,E?{captchaResp:G}:{captchaResponse:G}),Object.assign(ce,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ce,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ce})).apply(this,arguments)}function xt(I,h,p,E){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,m.Z)(function*(I,h,p,E){var O;if(null!==(O=I._getRecaptchaConfig())&&void 0!==O&&O.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const G=yield Ye(I,h,p,"getOobCode"===p);return E(I,G)}return E(I,h).catch(function(){var G=(0,m.Z)(function*(ce){if("auth/missing-recaptcha-token"===ce.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Re=yield Ye(I,h,p,"getOobCode"===p);return E(I,Re)}return Promise.reject(ce)});return function(ce){return G.apply(this,arguments)}}())}),Wn.apply(this,arguments)}function Zs(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function da(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class wo{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return qt("not implemented")}_getIdTokenResponse(h){return qt("not implemented")}_linkToIdToken(h,p){return qt("not implemented")}_getReauthenticationResolver(h){return qt("not implemented")}}function Ki(I,h){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,m.Z)(function*(I,h){return Ne(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Js(I,h){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,m.Z)(function*(I,h){return Pn(I,"POST","/v1/accounts:signInWithPassword",De(I,h))})).apply(this,arguments)}function eo(I,h){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,m.Z)(function*(I,h){return Ne(I,"POST","/v1/accounts:sendOobCode",De(I,h))})).apply(this,arguments)}function bi(){return(bi=(0,m.Z)(function*(I,h){return eo(I,h)})).apply(this,arguments)}function to(I,h){return no.apply(this,arguments)}function no(){return(no=(0,m.Z)(function*(I,h){return eo(I,h)})).apply(this,arguments)}function us(){return(us=(0,m.Z)(function*(I,h){return Pn(I,"POST","/v1/accounts:signInWithEmailLink",De(I,h))})).apply(this,arguments)}function ro(){return(ro=(0,m.Z)(function*(I,h){return Pn(I,"POST","/v1/accounts:signInWithEmailLink",De(I,h))})).apply(this,arguments)}class Rs extends wo{constructor(h,p,E,O=null){super("password",E),this._email=h,this._password=p,this._tenantId=O}static _fromEmailAndPassword(h,p){return new Rs(h,p,"password")}static _fromEmailAndCode(h,p,E=null){return new Rs(h,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,m.Z)(function*(){switch(p.signInMethod){case"password":return xt(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Js);case"emailLink":return function ei(I,h){return us.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:be(h,"internal-error")}})()}_linkToIdToken(h,p){var E=this;return(0,m.Z)(function*(){switch(E.signInMethod){case"password":return Ki(h,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function ri(I,h){return ro.apply(this,arguments)}(h,{idToken:p,email:E._email,oobCode:E._password});default:be(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ui(I,h){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,m.Z)(function*(I,h){return Pn(I,"POST","/v1/accounts:signInWithIdp",De(I,h))})).apply(this,arguments)}class Mn extends wo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Mn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):be("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:O}=p,G=(0,ae._T)(p,["providerId","signInMethod"]);if(!E||!O)return null;const ce=new Mn(E,O);return ce.idToken=G.idToken||void 0,ce.accessToken=G.accessToken||void 0,ce.secret=G.secret,ce.nonce=G.nonce,ce.pendingToken=G.pendingToken||null,ce}_getIdTokenResponse(h){return Ui(h,this.buildRequest())}_linkToIdToken(h,p){const E=this.buildRequest();return E.idToken=p,Ui(h,E)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Ui(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,q.xO)(p)}return h}}class cs{constructor(h){var p,E,O,G,ce,Re;const Je=(0,q.zd)((0,q.pd)(h)),kt=null!==(p=Je.apiKey)&&void 0!==p?p:null,rt=null!==(E=Je.oobCode)&&void 0!==E?E:null,Ln=function Xt(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=Je.mode)&&void 0!==O?O:null);te(kt&&rt&&Ln,"argument-error"),this.apiKey=kt,this.operation=Ln,this.code=rt,this.continueUrl=null!==(G=Je.continueUrl)&&void 0!==G?G:null,this.languageCode=null!==(ce=Je.languageCode)&&void 0!==ce?ce:null,this.tenantId=null!==(Re=Je.tenantId)&&void 0!==Re?Re:null}static parseLink(h){const p=function io(I){const h=(0,q.zd)((0,q.pd)(I)).link,p=h?(0,q.zd)((0,q.pd)(h)).deep_link_id:null,E=(0,q.zd)((0,q.pd)(I)).deep_link_id;return(E?(0,q.zd)((0,q.pd)(E)).link:null)||E||p||h||I}(h);try{return new cs(p)}catch{return null}}}let Er=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,E){return Rs._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const O=cs.parseLink(E);return te(O,"argument-error"),Rs._fromEmailAndCode(p,O.code,O.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Zi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Us extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}let so=(()=>{class I extends Us{constructor(){super("google.com"),this.addScope("profile")}static credential(p,E){return Mn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:E})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:E,oauthAccessToken:O}=p;if(!E&&!O)return null;try{return I.credential(E,O)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})();function _o(I,h){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,m.Z)(function*(I,h){return Pn(I,"POST","/v1/accounts:signUp",De(I,h))})).apply(this,arguments)}class mr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,E,O=!1){return(0,m.Z)(function*(){const G=yield z._fromIdTokenResponse(h,E,O),ce=Bo(E);return new mr({user:G,providerId:ce,_tokenResponse:E,operationType:p})})()}static _forOperation(h,p,E){return(0,m.Z)(function*(){yield h._updateTokensIfNecessary(E,!0);const O=Bo(E);return new mr({user:h,providerId:O,_tokenResponse:E,operationType:p})})()}}function Bo(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class er extends q.ZR{constructor(h,p,E,O){var G;super(p.code,p.message),this.operationType=E,this.user=O,Object.setPrototypeOf(this,er.prototype),this.customData={appName:h.name,tenantId:null!==(G=h.tenantId)&&void 0!==G?G:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(h,p,E,O){return new er(h,p,E,O)}}function ha(I,h,p,E){return("reauthenticate"===h?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(G=>{throw"auth/multi-factor-auth-required"===G.code?er._fromErrorAndOperation(I,G,h,E):G})}function k(){return(k=(0,m.Z)(function*(I,h,p=!1){const E=yield Bt(I,h._linkToIdToken(I.auth,yield I.getIdToken()),p);return mr._forOperation(I,"link",E)})).apply(this,arguments)}function ke(){return(ke=(0,m.Z)(function*(I,h,p=!1){const{auth:E}=I,O="reauthenticate";try{const G=yield Bt(I,ha(E,O,h,I),p);te(G.idToken,E,"internal-error");const ce=yt(G.idToken);te(ce,E,"internal-error");const{sub:Re}=ce;return te(I.uid===Re,E,"user-mismatch"),mr._forOperation(I,O,G)}catch(G){throw"auth/user-not-found"===G?.code&&be(E,"user-mismatch"),G}})).apply(this,arguments)}function at(I,h){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,m.Z)(function*(I,h,p=!1){const E="signIn",O=yield ha(I,E,h),G=yield mr._fromIdTokenResponse(I,E,O);return p||(yield I._updateCurrentUser(G.user)),G})).apply(this,arguments)}function an(){return(an=(0,m.Z)(function*(I,h){return at(Lt(I),h)})).apply(this,arguments)}function Qi(I,h,p){var E;te((null===(E=p.url)||void 0===E?void 0:E.length)>0,I,"invalid-continue-uri"),te(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(te(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(te(p.android.packageName.length>0,I,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function Ti(I){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,m.Z)(function*(I){const h=Lt(I);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function ls(I,h,p){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,m.Z)(function*(I,h,p){const E=Lt(I),O={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};p&&Qi(E,O,p),yield xt(E,O,"getOobCode",to)})).apply(this,arguments)}function $u(I,h,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,m.Z)(function*(I,h,p){const E=Lt(I),ce=yield xt(E,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_o).catch(Je=>{throw"auth/password-does-not-meet-requirements"===Je.code&&Ti(I),Je}),Re=yield mr._fromIdTokenResponse(E,"signIn",ce);return yield E._updateCurrentUser(Re.user),Re})).apply(this,arguments)}function Is(I,h,p){return function bt(I,h){return an.apply(this,arguments)}((0,q.m9)(I),Er.credential(h,p)).catch(function(){var E=(0,m.Z)(function*(O){throw"auth/password-does-not-meet-requirements"===O.code&&Ti(I),O});return function(O){return E.apply(this,arguments)}}())}function Hs(I,h){return ao.apply(this,arguments)}function ao(){return ao=(0,m.Z)(function*(I,h){const p=(0,q.m9)(I),O={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};h&&Qi(p.auth,O,h);const{email:G}=yield function Kr(I,h){return bi.apply(this,arguments)}(p.auth,O);G!==I.email&&(yield I.reload())}),ao.apply(this,arguments)}function La(){return(La=(0,m.Z)(function*(I,h){return Ne(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function T(I,h){return F.apply(this,arguments)}function F(){return F=(0,m.Z)(function*(I,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const E=(0,q.m9)(I),G={idToken:yield E.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},ce=yield Bt(E,function uo(I,h){return La.apply(this,arguments)}(E.auth,G));E.displayName=ce.displayName||null,E.photoURL=ce.photoUrl||null;const Re=E.providerData.find(({providerId:Je})=>"password"===Je);Re&&(Re.displayName=E.displayName,Re.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ce)}),F.apply(this,arguments)}function vt(I,h,p,E){return(0,q.m9)(I).onAuthStateChanged(h,p,E)}function pt(I){return(0,q.m9)(I).signOut()}const Fa="__sak";class Kt{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Fa,"1"),this.storage.removeItem(Fa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Os=(()=>{class I extends Kt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dr(){const I=(0,q.z$)();return jt(I)||ge(I)}()&&function ln(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=nn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const O=this.storage.getItem(E),G=this.localCache[E];O!==G&&p(E,G,O)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((Re,Je,kt)=>{this.notifyListeners(Re,kt)});const O=p.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Re=this.storage.getItem(O);if(p.newValue!==Re)null!==p.newValue?this.storage.setItem(O,p.newValue):this.storage.removeItem(O);else if(this.localCache[O]===p.newValue&&!E)return}const G=()=>{const Re=this.storage.getItem(O);!E&&this.localCache[O]===Re||this.notifyListeners(O,Re)},ce=this.storage.getItem(O);!function Wt(){return(0,q.w1)()&&10===document.documentMode}()||ce===p.newValue||p.newValue===p.oldValue?G():setTimeout(G,10)}notifyListeners(p,E){this.localCache[p]=E;const O=this.listeners[p];if(O)for(const G of Array.from(O))G(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var O=()=>super._set,G=this;return(0,m.Z)(function*(){yield O().call(G,p,E),G.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,O=this;return(0,m.Z)(function*(){const G=yield E().call(O,p);return O.localCache[p]=JSON.stringify(G),G})()}_remove(p){var E=()=>super._remove,O=this;return(0,m.Z)(function*(){yield E().call(O,p),delete O.localCache[p]})()}}return I.type="LOCAL",I})(),Wu=(()=>{class I extends Kt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return I.type="SESSION",I})();let _t=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(G=>G.isListeningto(p));if(E)return E;const O=new I(p);return this.receivers.push(O),O}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,m.Z)(function*(){const O=p,{eventId:G,eventType:ce,data:Re}=O.data,Je=E.handlersMap[ce];if(!Je?.size)return;O.ports[0].postMessage({status:"ack",eventId:G,eventType:ce});const kt=Array.from(Je).map(function(){var Ln=(0,m.Z)(function*(ps){return ps(O.origin,Re)});return function(ps){return Ln.apply(this,arguments)}}()),rt=yield function _r(I){return Promise.all(I.map(function(){var h=(0,m.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return h.apply(this,arguments)}}()))}(kt);O.ports[0].postMessage({status:"done",eventId:G,eventType:ce,response:rt})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function lo(I="",h=10){let p="";for(let E=0;E<h;E++)p+=Math.floor(10*Math.random());return I+p}class Lc{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,E=50){var O=this;return(0,m.Z)(function*(){const G=typeof MessageChannel<"u"?new MessageChannel:null;if(!G)throw new Error("connection_unavailable");let ce,Re;return new Promise((Je,kt)=>{const rt=lo("",20);G.port1.start();const Ln=setTimeout(()=>{kt(new Error("unsupported_event"))},E);Re={messageChannel:G,onMessage(ps){const ra=ps;if(ra.data.eventId===rt)switch(ra.data.status){case"ack":clearTimeout(Ln),ce=setTimeout(()=>{kt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ce),Je(ra.data.response);break;default:clearTimeout(Ln),clearTimeout(ce),kt(new Error("invalid_response"))}}},O.handlers.add(Re),G.port1.addEventListener("message",Re.onMessage),O.target.postMessage({eventType:h,eventId:rt,data:p},[G.port2])}).finally(()=>{Re&&O.removeMessageHandler(Re)})})()}}function wt(){return window}function zo(){return typeof wt().WorkerGlobalScope<"u"&&"function"==typeof wt().importScripts}function Go(){return(Go=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ai="firebaseLocalStorageDb",Va="firebaseLocalStorage",Bc="fbase_key";class ks{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function ga(I,h){return I.transaction([Va],h?"readwrite":"readonly").objectStore(Va)}function wn(){const I=indexedDB.open(ai,1);return new Promise((h,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const E=I.result;try{E.createObjectStore(Va,{keyPath:Bc})}catch(O){p(O)}}),I.addEventListener("success",(0,m.Z)(function*(){const E=I.result;E.objectStoreNames.contains(Va)?h(E):(E.close(),yield function X(){const I=indexedDB.deleteDatabase(ai);return new ks(I).toPromise()}(),h(yield wn()))}))})}function Es(I,h,p){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,m.Z)(function*(I,h,p){const E=ga(I,!0).put({[Bc]:h,value:p});return new ks(E).toPromise()})).apply(this,arguments)}function ho(){return(ho=(0,m.Z)(function*(I,h){const p=ga(I,!1).get(h),E=yield new ks(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ba(I,h){const p=ga(I,!0).delete(h);return new ks(p).toPromise()}const Xd=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,m.Z)(function*(){return p.db||(p.db=yield wn()),p.db})()}_withRetries(p){var E=this;return(0,m.Z)(function*(){let O=0;for(;;)try{const G=yield E._openDb();return yield p(G)}catch(G){if(O++>3)throw G;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,m.Z)(function*(){return zo()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,m.Z)(function*(){p.receiver=_t._getInstance(function Uc(){return zo()?self:null}()),p.receiver._subscribe("keyChanged",function(){var E=(0,m.Z)(function*(O,G){return{keyProcessed:(yield p._poll()).includes(G.key)}});return function(O,G){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,m.Z)(function*(O,G){return["keyChanged"]});return function(O,G){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,m.Z)(function*(){var E,O;if(p.activeServiceWorker=yield function Qd(){return Go.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Lc(p.activeServiceWorker);const G=yield p.sender._send("ping",{},800);G&&null!==(E=G[0])&&void 0!==E&&E.fulfilled&&null!==(O=G[0])&&void 0!==O&&O.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,m.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Vc(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const p=yield wn();return yield Es(p,Fa,"1"),yield Ba(p,Fa),!0}catch{}return!1})()}_withPendingWrite(p){var E=this;return(0,m.Z)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var O=this;return(0,m.Z)(function*(){return O._withPendingWrite((0,m.Z)(function*(){return yield O._withRetries(G=>Es(G,p,E)),O.localCache[p]=E,O.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,m.Z)(function*(){const O=yield E._withRetries(G=>function ni(I,h){return ho.apply(this,arguments)}(G,p));return E.localCache[p]=O,O})()}_remove(p){var E=this;return(0,m.Z)(function*(){return E._withPendingWrite((0,m.Z)(function*(){return yield E._withRetries(O=>Ba(O,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,m.Z)(function*(){const E=yield p._withRetries(ce=>{const Re=ga(ce,!1).getAll();return new ks(Re).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const O=[],G=new Set;for(const{fbase_key:ce,value:Re}of E)G.add(ce),JSON.stringify(p.localCache[ce])!==JSON.stringify(Re)&&(p.notifyListeners(ce,Re),O.push(ce));for(const ce of Object.keys(p.localCache))p.localCache[ce]&&!G.has(ce)&&(p.notifyListeners(ce,null),O.push(ce));return O})()}notifyListeners(p,E){this.localCache[p]=E;const O=this.listeners[p];if(O)for(const G of Array.from(O))G(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function ja(I,h){return h?H(h):(te(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}os("rcb"),new Tt(3e4,6e4);class pu extends wo{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ui(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Ui(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Ui(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Mi(I){return at(I.auth,new pu(I),I.bypassAuthState)}function Zu(I){const{auth:h,user:p}=I;return te(p,h,"internal-error"),function me(I,h){return ke.apply(this,arguments)}(p,new pu(I),I.bypassAuthState)}function Ts(I){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,m.Z)(function*(I){const{auth:h,user:p}=I;return te(p,h,"internal-error"),function N(I,h){return k.apply(this,arguments)}(p,new pu(I),I.bypassAuthState)})).apply(this,arguments)}class hr{constructor(h,p,E,O,G=!1){this.auth=h,this.resolver=E,this.user=O,this.bypassAuthState=G,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,m.Z)(function*(E,O){h.pendingPromise={resolve:E,reject:O};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(G){h.reject(G)}});return function(E,O){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,m.Z)(function*(){const{urlResponse:E,sessionId:O,postBody:G,tenantId:ce,error:Re,type:Je}=h;if(Re)return void p.reject(Re);const kt={auth:p.auth,requestUri:E,sessionId:O,tenantId:ce||void 0,postBody:G||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Je)(kt))}catch(rt){p.reject(rt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Mi;case"linkViaPopup":case"linkViaRedirect":return Ts;case"reauthViaPopup":case"reauthViaRedirect":return Zu;default:be(this.auth,"internal-error")}}resolve(h){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $a=new Tt(2e3,1e4);function wi(I,h,p){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,m.Z)(function*(I,h,p){const E=Lt(I);!function Ue(I,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&be(I,"argument-error"),$e(I,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(I,h,Zi);const O=ja(E,p);return new gu(E,"signInViaPopup",h,O).executeNotNull()})).apply(this,arguments)}let gu=(()=>{class I extends hr{constructor(p,E,O,G,ce){super(p,E,G,ce),this.provider=O,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var p=this;return(0,m.Z)(function*(){const E=yield p.execute();return te(E,p.auth,"internal-error"),E})()}onExecution(){var p=this;return(0,m.Z)(function*(){Be(1===p.filter.length,"Popup operations only handle one event");const E=lo();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],E),p.authWindow.associatedEvent=E,p.resolver._originValidation(p.auth).catch(O=>{p.reject(O)}),p.resolver._isIframeWebStorageSupported(p.auth,O=>{O||p.reject(xe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const p=()=>{var E,O;this.pollId=null!==(O=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==O&&O.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,$a.get())};p()}}return I.currentPopupAction=null,I})();const xi="pendingRedirect",Wc=new Map;class So extends hr{constructor(h,p,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,m.Z)(function*(){let E=Wc.get(p.auth._key());if(!E){try{const G=(yield function mi(I,h){return Io.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;E=()=>Promise.resolve(G)}catch(O){E=()=>Promise.reject(O)}Wc.set(p.auth._key(),E)}return p.bypassAuthState||Wc.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,E=this;return(0,m.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(E,h);if("unknown"!==h.type){if(h.eventId){const O=yield E.auth._redirectUserForId(h.eventId);if(O)return E.user=O,p().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function Io(){return(Io=(0,m.Z)(function*(I,h){const p=function Qo(I){return ut(xi,I.config.apiKey,I.name)}(h),E=function po(I){return H(I._redirectPersistence)}(I);if(!(yield E._isAvailable()))return!1;const O="true"===(yield E._get(p));return yield E._remove(p),O})).apply(this,arguments)}function jl(I,h){Wc.set(I._key(),h)}function Ga(I,h){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,m.Z)(function*(I,h,p=!1){const E=Lt(I),O=ja(E,h),ce=yield new So(E,O,p).execute();return ce&&!p&&(delete ce.user._redirectEventId,yield E._persistUserIfCurrent(ce.user),yield E._setRedirectUser(null,h)),ce})).apply(this,arguments)}class Hl{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(p=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function nh(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gl(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var E;if(h.error&&!Gl(h)){const O=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(xe(this.auth,O))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const E=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zl(h))}saveEventToCache(h){this.cachedEventUids.add(zl(h)),this.lastProcessedEventTime=Date.now()}}function zl(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function Gl({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===h?.code}function Gr(){return(Gr=(0,m.Z)(function*(I,h={}){return Ne(I,"GET","/v1/projects",h)})).apply(this,arguments)}const rh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vr=/^https?/;function _a(){return _a=(0,m.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield function tc(I){return Gr.apply(this,arguments)}(I);for(const p of h)try{if(ih(p))return}catch{}be(I,"unauthorized-domain")}),_a.apply(this,arguments)}function ih(I){const h=Ve(),{protocol:p,hostname:E}=new URL(h);if(I.startsWith("chrome-extension://")){const ce=new URL(I);return""===ce.hostname&&""===E?"chrome-extension:"===p&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&ce.hostname===E}if(!Vr.test(p))return!1;if(rh.test(I))return E===I;const O=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(E)}const Ni=new Tt(3e4,6e4);function sh(){const I=wt().___jsl;if(I?.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let Dn=null;const qa=new Tt(5e3,15e3),nc="__/auth/iframe",ya="emulator/auth/iframe",Ka={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},va=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ql(I){const h=I.config;te(h.authDomain,I,"auth-domain-config-required");const p=h.emulator?Vt(h,ya):`https://${I.config.authDomain}/${nc}`,E={apiKey:h.apiKey,appName:I.name,v:he.SDK_VERSION},O=va.get(I.config.apiHost);O&&(E.eid=O);const G=I._getFrameworks();return G.length&&(E.fw=G.join(",")),`${p}?${(0,q.xO)(E).slice(1)}`}function ta(){return ta=(0,m.Z)(function*(I){const h=yield function yr(I){return Dn=Dn||function Wl(I){return new Promise((h,p)=>{var E,O,G;function ce(){sh(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{sh(),p(xe(I,"network-request-failed"))},timeout:Ni.get()})}if(null!==(O=null===(E=wt().gapi)||void 0===E?void 0:E.iframes)&&void 0!==O&&O.Iframe)h(gapi.iframes.getContext());else{if(null===(G=wt().gapi)||void 0===G||!G.load){const Re=os("iframefcb");return wt()[Re]=()=>{gapi.load?ce():p(xe(I,"network-request-failed"))},Ir(`https://apis.google.com/js/api.js?onload=${Re}`).catch(Je=>p(Je))}ce()}}).catch(h=>{throw Dn=null,h})}(I),Dn}(I),p=wt().gapi;return te(p,I,"internal-error"),h.open({where:document.body,url:ql(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ka,dontclear:!0},E=>new Promise(function(){var O=(0,m.Z)(function*(G,ce){yield E.restyle({setHideOnLeave:!1});const Re=xe(I,"network-request-failed"),Je=wt().setTimeout(()=>{ce(Re)},qa.get());function kt(){wt().clearTimeout(Je),G(E)}E.ping(kt).then(kt,()=>{ce(Re)})});return function(G,ce){return O.apply(this,arguments)}}()))}),ta.apply(this,arguments)}const qg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oh{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Iu="__/auth/handler",Kl="emulator/auth/handler",Ya=encodeURIComponent("fac");function Qr(I,h,p,E,O,G){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,m.Z)(function*(I,h,p,E,O,G){te(I.config.authDomain,I,"auth-domain-config-required"),te(I.config.apiKey,I,"invalid-api-key");const ce={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:E,v:he.SDK_VERSION,eventId:O};if(h instanceof Zi){h.setDefaultLanguage(I.languageCode),ce.providerId=h.providerId||"",(0,q.xb)(h.getCustomParameters())||(ce.customParameters=JSON.stringify(h.getCustomParameters()));for(const[rt,Ln]of Object.entries(G||{}))ce[rt]=Ln}if(h instanceof Us){const rt=h.getScopes().filter(Ln=>""!==Ln);rt.length>0&&(ce.scopes=rt.join(","))}I.tenantId&&(ce.tid=I.tenantId);const Re=ce;for(const rt of Object.keys(Re))void 0===Re[rt]&&delete Re[rt];const Je=yield I._getAppCheckToken(),kt=Je?`#${Ya}=${encodeURIComponent(Je)}`:"";return`${function Ia({config:I}){return I.emulator?Vt(I,Kl):`https://${I.authDomain}/${Iu}`}(I)}?${(0,q.xO)(Re).slice(1)}${kt}`})).apply(this,arguments)}const Kc="webStorageSupport",Ls=class Gs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wu,this._completeRedirectFn=Ga,this._overrideRedirectResult=jl}_openPopup(h,p,E,O){var G=this;return(0,m.Z)(function*(){var ce;Be(null===(ce=G.eventManagers[h._key()])||void 0===ce?void 0:ce.manager,"_initialize() not called before _openPopup()");const Re=yield Qr(h,p,E,Ve(),O);return function Zg(I,h,p,E=500,O=600){const G=Math.max((window.screen.availHeight-O)/2,0).toString(),ce=Math.max((window.screen.availWidth-E)/2,0).toString();let Re="";const Je=Object.assign(Object.assign({},qg),{width:E.toString(),height:O.toString(),top:G,left:ce}),kt=(0,q.z$)().toLowerCase();p&&(Re=Sn(kt)?"_blank":p),hn(kt)&&(h=h||"http://localhost",Je.scrollbars="yes");const rt=Object.entries(Je).reduce((ps,[ra,xo])=>`${ps}${ra}=${xo},`,"");if(function nt(I=(0,q.z$)()){var h;return ge(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(kt)&&"_self"!==Re)return function Qg(I,h){const p=document.createElement("a");p.href=I,p.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(h||"",Re),new oh(null);const Ln=window.open(h||"",Re,rt);te(Ln,I,"popup-blocked");try{Ln.focus()}catch{}return new oh(Ln)}(h,Re,lo())})()}_openRedirect(h,p,E,O){var G=this;return(0,m.Z)(function*(){return yield G._originValidation(h),function Fc(I){wt().location.href=I}(yield Qr(h,p,E,Ve(),O)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:O,promise:G}=this.eventManagers[p];return O?Promise.resolve(O):(Be(G,"If manager is not set, promise should be"),G)}const E=this.initAndGetManager(h);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(h){var p=this;return(0,m.Z)(function*(){const E=yield function qc(I){return ta.apply(this,arguments)}(h),O=new Hl(h);return E.register("authEvent",G=>(te(G?.authEvent,h,"invalid-auth-event"),{status:O.onEvent(G.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:O},p.iframes[h._key()]=E,O})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Kc,{type:Kc},O=>{var G;const ce=null===(G=O?.[0])||void 0===G?void 0:G[Kc];void 0!==ce&&p(!!ce),be(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ea(I){return _a.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return nn()||jt()||ge()}};var fs="@firebase/auth";class Mo{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,m.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(E=>{h(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ch=(0,q.Pz)("authIdTokenMaxAge")||300;let Yl=null;const tp=I=>function(){var h=(0,m.Z)(function*(p){const E=p&&(yield p.getIdTokenResult()),O=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(O&&O>ch)return;const G=E?.token;Yl!==G&&(Yl=G,yield fetch(I,{method:G?"POST":"DELETE",headers:G?{Authorization:`Bearer ${G}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function na(I=(0,he.getApp)()){const h=(0,he._getProvider)(I,"auth");if(h.isInitialized())return h.getImmediate();const p=function Ys(I,h){const p=(0,he._getProvider)(I,"auth");if(p.isInitialized()){const O=p.getImmediate(),G=p.getOptions();if((0,q.vZ)(G,h??{}))return O;be(O,"already-initialized")}return p.initialize({options:h})}(I,{popupRedirectResolver:Ls,persistence:[Xd,Os,Wu]}),E=(0,q.Pz)("authTokenSyncURL");if(E){const G=tp(E);(function Ji(I,h,p){(0,q.m9)(I).beforeAuthStateChanged(h,p)})(p,G,()=>G(p.currentUser)),function Lr(I,h,p,E){(0,q.m9)(I).onIdTokenChanged(h,p,E)}(p,ce=>G(ce))}const O=(0,q.q4)("auth");return O&&function To(I,h,p){const E=Lt(I);te(E._canInitEmulator,E,"emulator-config-failed"),te(/^https?:\/\//.test(h),E,"invalid-emulator-scheme");const O=!!p?.disableWarnings,G=Zs(h),{host:ce,port:Re}=function pr(I){const h=Zs(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(E);if(O){const G=O[1];return{host:G,port:da(E.substr(G.length+1))}}{const[G,ce]=E.split(":");return{host:G,port:da(ce)}}}(h);E.config.emulator={url:`${G}//${ce}${null===Re?"":`:${Re}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ce,port:Re,protocol:G.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function Qs(){function I(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(p,`http://${O}`),p}!function Xa(I){(0,he._registerComponent)(new ie.wA("auth",(h,{options:p})=>{const E=h.getProvider("app").getImmediate(),O=h.getProvider("heartbeat"),G=h.getProvider("app-check-internal"),{apiKey:ce,authDomain:Re}=E.options;te(ce&&!ce.includes(":"),"invalid-api-key",{appName:E.name});const Je={apiKey:ce,authDomain:Re,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sr(I)},kt=new vi(E,O,G,Je);return function Fi(I,h){const p=h?.persistence||[],E=(Array.isArray(p)?p:[p]).map(H);h?.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(E,h?.popupRedirectResolver)}(kt,p),kt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,E)=>{h.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new ie.wA("auth-internal",h=>{const p=Lt(h.getProvider("auth").getImmediate());return new Mo(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(fs,"1.3.2",function ep(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,he.registerVersion)(fs,"1.3.2","esm2017")}("Browser")},5861:(Ct,Se,L)=>{function m(he,se,ae,ie,pe,re,_e){try{var W=he[re](_e),ne=W.value}catch(ye){return void ae(ye)}W.done?se(ne):Promise.resolve(ne).then(ie,pe)}function q(he){return function(){var se=this,ae=arguments;return new Promise(function(ie,pe){var re=he.apply(se,ae);function _e(ne){m(re,ie,pe,_e,W,"next",ne)}function W(ne){m(re,ie,pe,_e,W,"throw",ne)}_e(void 0)})}}L.d(Se,{Z:()=>q})},7582:(Ct,Se,L)=>{function se(de,ve){var Ie={};for(var De in de)Object.prototype.hasOwnProperty.call(de,De)&&ve.indexOf(De)<0&&(Ie[De]=de[De]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(De=Object.getOwnPropertySymbols(de);Ne<De.length;Ne++)ve.indexOf(De[Ne])<0&&Object.prototype.propertyIsEnumerable.call(de,De[Ne])&&(Ie[De[Ne]]=de[De[Ne]])}return Ie}function ye(de,ve,Ie,De){return new(Ie||(Ie=Promise))(function(Qe,Ot){function cn(_n){try{Ut(De.next(_n))}catch(Et){Ot(Et)}}function Pn(_n){try{Ut(De.throw(_n))}catch(Et){Ot(Et)}}function Ut(_n){_n.done?Qe(_n.value):function Ne(Qe){return Qe instanceof Ie?Qe:new Ie(function(Ot){Ot(Qe)})}(_n.value).then(cn,Pn)}Ut((De=De.apply(de,ve||[])).next())})}function be(de){return this instanceof be?(this.v=de,this):new be(de)}function xe(de,ve,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,De=Ie.apply(de,ve||[]),Qe=[];return Ne={},Ot("next"),Ot("throw"),Ot("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function Ot(Cn){De[Cn]&&(Ne[Cn]=function(vn){return new Promise(function(ir,Jt){Qe.push([Cn,vn,ir,Jt])>1||cn(Cn,vn)})})}function cn(Cn,vn){try{!function Pn(Cn){Cn.value instanceof be?Promise.resolve(Cn.value.v).then(Ut,_n):Et(Qe[0][2],Cn)}(De[Cn](vn))}catch(ir){Et(Qe[0][3],ir)}}function Ut(Cn){cn("next",Cn)}function _n(Cn){cn("throw",Cn)}function Et(Cn,vn){Cn(vn),Qe.shift(),Qe.length&&cn(Qe[0][0],Qe[0][1])}}function Ue(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,ve=de[Symbol.asyncIterator];return ve?ve.call(de):(de=function it(de){var ve="function"==typeof Symbol&&Symbol.iterator,Ie=ve&&de[ve],De=0;if(Ie)return Ie.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&De>=de.length&&(de=void 0),{value:de&&de[De++],done:!de}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Ie={},De("next"),De("throw"),De("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function De(Qe){Ie[Qe]=de[Qe]&&function(Ot){return new Promise(function(cn,Pn){!function Ne(Qe,Ot,cn,Pn){Promise.resolve(Pn).then(function(Ut){Qe({value:Ut,done:cn})},Ot)}(cn,Pn,(Ot=de[Qe](Ot)).done,Ot.value)})}}}L.d(Se,{FC:()=>xe,KL:()=>Ue,_T:()=>se,mG:()=>ye,qq:()=>be}),"function"==typeof SuppressedError&&SuppressedError}},Ct=>{Ct(Ct.s=7881)}]);