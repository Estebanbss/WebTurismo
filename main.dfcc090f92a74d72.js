"use strict";(self.webpackChunkpal_huila=self.webpackChunkpal_huila||[]).push([[179],{7247:(jt,He,B)=>{B.d(He,{nm:()=>ur});var m=B(8186),le=(B(4946),B(8726),B(3182),B(5861)),de=B(534),Ie=B(4537),fe=B(9058),Le=B(7879);const Q=new Map,ie={activated:!1,tokenObservers:[]},Me={initialized:!1,enabled:!1};function qe(me){return Q.get(me)||Object.assign({},ie)}function dt(){return Me}const ht="https://content-firebaseappcheck.googleapis.com/v1",Jt="exchangeDebugToken",qt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ze{constructor(pe,De,Xe,ct,Wt){if(this.operation=pe,this.retryPolicy=De,this.getWaitDuration=Xe,this.lowerBound=ct,this.upperBound=Wt,this.pending=null,this.nextErrorWaitInterval=ct,ct>Wt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(pe){var De=this;return(0,le.Z)(function*(){De.stop();try{De.pending=new fe.BH,yield function ve(me){return new Promise(pe=>{setTimeout(pe,me)})}(De.getNextRun(pe)),De.pending.resolve(),yield De.pending.promise,De.pending=new fe.BH,yield De.operation(),De.pending.resolve(),yield De.pending.promise,De.process(!0).catch(()=>{})}catch(Xe){De.retryPolicy(Xe)?De.process(!1).catch(()=>{}):De.stop()}})()}getNextRun(pe){if(pe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const De=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),De}}}const Ue=new fe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function nt(me){if(!qe(me).activated)throw Ue.create("use-before-activation",{appName:me.name})}function Rn(me,pe){return wr.apply(this,arguments)}function wr(){return(wr=(0,le.Z)(function*({url:me,body:pe},De){const Xe={"Content-Type":"application/json"},ct=De.getImmediate({optional:!0});if(ct){const xi=yield ct.getHeartbeatsHeader();xi&&(Xe["X-Firebase-Client"]=xi)}const Wt={method:"POST",body:JSON.stringify(pe),headers:Xe};let kn,$n;try{kn=yield fetch(me,Wt)}catch(xi){throw Ue.create("fetch-network-error",{originalErrorMessage:xi?.message})}if(200!==kn.status)throw Ue.create("fetch-status-error",{httpStatus:kn.status});try{$n=yield kn.json()}catch(xi){throw Ue.create("fetch-parse-error",{originalErrorMessage:xi?.message})}const Ln=$n.ttl.match(/^([\d.]+)(s)$/);if(!Ln||!Ln[2]||isNaN(Number(Ln[1])))throw Ue.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${$n.ttl}`});const Ys=1e3*Number(Ln[1]),pi=Date.now();return{token:$n.token,expireTimeMillis:pi+Ys,issuedAtTimeMillis:pi}})).apply(this,arguments)}function bt(me,pe){const{projectId:De,appId:Xe,apiKey:ct}=me.options;return{url:`${ht}/projects/${De}/apps/${Xe}:${Jt}?key=${ct}`,body:{debug_token:pe}}}const un="firebase-app-check-database",Ae=1,xe="firebase-app-check-store";let be=null;function Dn(){return(Dn=(0,le.Z)(function*(me,pe){const Xe=(yield function je(){return be||(be=new Promise((me,pe)=>{try{const De=indexedDB.open(un,Ae);De.onsuccess=Xe=>{me(Xe.target.result)},De.onerror=Xe=>{var ct;pe(Ue.create("storage-open",{originalErrorMessage:null===(ct=Xe.target.error)||void 0===ct?void 0:ct.message}))},De.onupgradeneeded=Xe=>{0===Xe.oldVersion&&Xe.target.result.createObjectStore(xe,{keyPath:"compositeKey"})}}catch(De){pe(Ue.create("storage-open",{originalErrorMessage:De?.message}))}}),be)}()).transaction(xe,"readwrite"),Wt=Xe.objectStore(xe).put({compositeKey:me,value:pe});return new Promise((kn,$n)=>{Wt.onsuccess=Ln=>{kn()},Xe.onerror=Ln=>{var Ys;$n(Ue.create("storage-set",{originalErrorMessage:null===(Ys=Ln.target.error)||void 0===Ys?void 0:Ys.message}))}})})).apply(this,arguments)}const An=new Le.Yd("@firebase/app-check");function Cn(me,pe){return(0,fe.hl)()?function Lt(me,pe){return function zt(me,pe){return Dn.apply(this,arguments)}(function ar(me){return`${me.options.appId}-${me.name}`}(me),pe)}(me,pe).catch(De=>{An.warn(`Failed to write token to IndexedDB. Error: ${De}`)}):Promise.resolve()}function Vr(){return dt().enabled}function fi(){return In.apply(this,arguments)}function In(){return(In=(0,le.Z)(function*(){const me=dt();if(me.enabled&&me.token)return me.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const on={error:"UNKNOWN_ERROR"};function Yt(me){return fe.US.encodeString(JSON.stringify(me),!1)}function Qn(me){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,le.Z)(function*(me,pe=!1){const De=me.app;nt(De);const Xe=qe(De);let Wt,ct=Xe.token;if(ct&&!Yr(ct)&&(Xe.token=void 0,ct=void 0),!ct){const Ln=yield Xe.cachedTokenPromise;Ln&&(Yr(Ln)?ct=Ln:yield Cn(De,void 0))}if(!pe&&ct&&Yr(ct))return{token:ct.token};let $n,kn=!1;if(Vr()){Xe.exchangeTokenPromise||(Xe.exchangeTokenPromise=Rn(bt(De,yield fi()),me.heartbeatServiceProvider).finally(()=>{Xe.exchangeTokenPromise=void 0}),kn=!0);const Ln=yield Xe.exchangeTokenPromise;return yield Cn(De,Ln),Xe.token=Ln,{token:Ln.token}}try{Xe.exchangeTokenPromise||(Xe.exchangeTokenPromise=Xe.provider.getToken().finally(()=>{Xe.exchangeTokenPromise=void 0}),kn=!0),ct=yield qe(De).exchangeTokenPromise}catch(Ln){"appCheck/throttled"===Ln.code?An.warn(Ln.message):An.error(Ln),Wt=Ln}return ct?Wt?$n=Yr(ct)?{token:ct.token,internalError:Wt}:Wn(Wt):($n={token:ct.token},Xe.token=ct,yield Cn(De,ct)):$n=Wn(Wt),kn&&function gt(me,pe){const De=qe(me).tokenObservers;for(const Xe of De)try{"EXTERNAL"===Xe.type&&null!=pe.error?Xe.error(pe.error):Xe.next(pe)}catch{}}(De,$n),$n})).apply(this,arguments)}function Zr(me){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,le.Z)(function*(me){const pe=me.app;nt(pe);const{provider:De}=qe(pe);if(Vr()){const Xe=yield fi(),{token:ct}=yield Rn(bt(pe,Xe),me.heartbeatServiceProvider);return{token:ct}}{const{token:Xe}=yield De.getToken();return{token:Xe}}})).apply(this,arguments)}function dn(me,pe){const De=qe(me),Xe=De.tokenObservers.filter(ct=>ct.next!==pe);0===Xe.length&&De.tokenRefresher&&De.tokenRefresher.isRunning()&&De.tokenRefresher.stop(),De.tokenObservers=Xe}function Sn(me){const{app:pe}=me,De=qe(pe);let Xe=De.tokenRefresher;Xe||(Xe=function Ii(me){const{app:pe}=me;return new Ze((0,le.Z)(function*(){let Xe;if(Xe=qe(pe).token?yield Qn(me,!0):yield Qn(me),Xe.error)throw Xe.error;if(Xe.internalError)throw Xe.internalError}),()=>!0,()=>{const De=qe(pe);if(De.token){let Xe=De.token.issuedAtTimeMillis+.5*(De.token.expireTimeMillis-De.token.issuedAtTimeMillis)+3e5;return Xe=Math.min(Xe,De.token.expireTimeMillis-3e5),Math.max(0,Xe-Date.now())}return 0},qt.RETRIAL_MIN_WAIT,qt.RETRIAL_MAX_WAIT)}(me),De.tokenRefresher=Xe),!Xe.isRunning()&&De.isTokenAutoRefreshEnabled&&Xe.start()}function Yr(me){return me.expireTimeMillis-Date.now()>0}function Wn(me){return{token:Yt(on),error:me}}class Pn{constructor(pe,De){this.app=pe,this.heartbeatServiceProvider=De}_delete(){const{tokenObservers:pe}=qe(this.app);for(const De of pe)dn(this.app,De.next);return Promise.resolve()}}const $e="app-check-internal";!function ut(){(0,de.Xd)(new Ie.wA("app-check",me=>function En(me,pe){return new Pn(me,pe)}(me.getProvider("app").getImmediate(),me.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((me,pe,De)=>{me.getProvider($e).initialize()})),(0,de.Xd)(new Ie.wA($e,me=>function gn(me){return{getToken:pe=>Qn(me,pe),getLimitedUseToken:()=>Zr(me),addTokenListener:pe=>function On(me,pe,De,Xe){const{app:ct}=me,Wt=qe(ct);if(Wt.tokenObservers=[...Wt.tokenObservers,{next:De,error:Xe,type:pe}],Wt.token&&Yr(Wt.token)){const $n=Wt.token;Promise.resolve().then(()=>{De({token:$n.token}),Sn(me)}).catch(()=>{})}Wt.cachedTokenPromise.then(()=>Sn(me))}(me,"INTERNAL",pe),removeTokenListener:pe=>dn(me.app,pe)}}(me.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,de.KN)("@firebase/app-check","0.8.0")}();class ur{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window},8726:(jt,He,B)=>{B.d(He,{Ot:()=>ae,ZF:()=>pt,hX:()=>qe,z6:()=>le});var m=B(3182),Z=B(4946),he=B(8186);class ae{constructor(Ze){return Ze}}class le{constructor(){return(0,m.C6)()}}const fe=new Z.OlP("angularfire2._apps"),Le={provide:ae,useFactory:function Ie(Oe){return Oe&&1===Oe.length?Oe[0]:new ae((0,m.Mq)())},deps:[[new Z.FiY,fe]]},Q={provide:le,deps:[[new Z.FiY,fe]]};function ie(Oe){return(Ze,ve)=>{const it=Ze.runOutsideAngular(()=>Oe(ve));return new ae(it)}}let Me=(()=>{class Oe{constructor(ve){(0,m.KN)("angularfire",he.q4.full,"core"),(0,m.KN)("angularfire",he.q4.full,"app"),(0,m.KN)("angular",Z.q4F.full,ve.toString())}}return Oe.\u0275fac=function(ve){return new(ve||Oe)(Z.LFG(Z.Lbi))},Oe.\u0275mod=Z.oAB({type:Oe}),Oe.\u0275inj=Z.cJS({providers:[Le,Q]}),Oe})();function qe(Oe,...Ze){return{ngModule:Me,providers:[{provide:fe,useFactory:ie(Oe),multi:!0,deps:[Z.R0b,Z.zs3,he.HU,...Ze]}]}}const pt=(0,he.u3)(m.ZF,!0)},8429:(jt,He,B)=>{B.d(He,{AR:()=>pt,Aj:()=>Lt,LS:()=>Yn,Xb:()=>ne,ck:()=>Sn,dh:()=>Le,e5:()=>fi,gx:()=>fe,rh:()=>on,v0:()=>Rn,w$:()=>An});var m=B(8186),Z=B(4946),he=B(8726),ae=B(3182),le=B(7247),de=B(2644);class fe{constructor(Pn){return Pn}}class Le{constructor(){return(0,m.vb)("auth")}}const ie=new Z.OlP("angularfire2.auth-instances");function qe(Wn){return(Pn,En)=>{const gn=Pn.runOutsideAngular(()=>Wn(En));return new fe(gn)}}const Ye={provide:Le,deps:[[new Z.FiY,ie]]},dt={provide:fe,useFactory:function Me(Wn,Pn){const En=(0,m.JM)("auth",Wn,Pn);return En&&new fe(En)},deps:[[new Z.FiY,ie],he.Ot]};let ht=(()=>{class Wn{constructor(){(0,ae.KN)("angularfire",m.q4.full,"auth")}}return Wn.\u0275fac=function(En){return new(En||Wn)},Wn.\u0275mod=Z.oAB({type:Wn}),Wn.\u0275inj=Z.cJS({providers:[dt,Ye]}),Wn})();function pt(Wn,...Pn){return{ngModule:ht,providers:[{provide:ie,useFactory:qe(Wn),multi:!0,deps:[Z.R0b,Z.zs3,m.HU,he.z6,[new Z.FiY,le.nm],...Pn]}]}}const ne=(0,m.u3)(de.Xb,!0),Rn=(0,m.u3)(de.v0,!0),Lt=(0,m.u3)(de.Aj,!0),An=(0,m.u3)(de.w$,!0),Yn=(0,m.u3)(de.LS,!0),fi=(0,m.u3)(de.e5,!0),on=(0,m.u3)(de.rh,!0),Sn=(0,m.u3)(de.ck,!0)},3828:(jt,He,B)=>{B.d(He,{gg:()=>It,ET:()=>ir,hJ:()=>Vr,BS:()=>Tt,oe:()=>fr,JU:()=>Qn,QT:()=>Ii,PL:()=>Wn,ad:()=>gn,Xo:()=>H,Cm:()=>Lt,IO:()=>W,pl:()=>yt,r7:()=>ui,ar:()=>Fr});var m=B(8186),Z=B(4946),he=B(8429),ae=B(8726),le=B(3182),de=B(7247),Ie=B(5776),fe=B(5592),Le=B(7398),Q=function(){return Q=Object.assign||function(ye){for(var $e,ut=1,mt=arguments.length;ut<mt;ut++)for(var $t in $e=arguments[ut])Object.prototype.hasOwnProperty.call($e,$t)&&(ye[$t]=$e[$t]);return ye},Q.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Me={includeMetadataChanges:!1};function en(re,ye){return void 0===ye&&(ye={}),function ne(re){return function qe(re,ye){return void 0===ye&&(ye=Me),new fe.y(function($e){return{unsubscribe:(0,Ie.cf)(re,ye,{next:$e.next.bind($e),error:$e.error.bind($e),complete:$e.complete.bind($e)})}})}(re,{includeMetadataChanges:!0}).pipe((0,Le.U)(function(ye){return ye.docs}))}(re).pipe((0,Le.U)(function($e){return $e.map(function(ut){return function ht(re,ye){var $e;void 0===ye&&(ye={});var ut=re.data(ye);return re.exists()&&"object"==typeof ut&&null!==ut&&ye.idField?Q(Q({},ut),(($e={})[ye.idField]=re.id,$e)):ut}(ut,ye)})}))}class It{constructor(ye){return ye}}const gr="firestore",Ae=new Z.OlP("angularfire2.firestore-instances");function ze(re){return(ye,$e)=>{const ut=ye.runOutsideAngular(()=>re($e));return new It(ut)}}const be={provide:class bt{constructor(){return(0,m.vb)(gr)}},deps:[[new Z.FiY,Ae]]},je={provide:It,useFactory:function xe(re,ye){const $e=(0,m.JM)(gr,re,ye);return $e&&new It($e)},deps:[[new Z.FiY,Ae],ae.Ot]};let at=(()=>{class re{constructor(){(0,le.KN)("angularfire",m.q4.full,"fst")}}return re.\u0275fac=function($e){return new($e||re)},re.\u0275mod=Z.oAB({type:re}),re.\u0275inj=Z.cJS({providers:[je,be]}),re})();function Lt(re,...ye){return{ngModule:at,providers:[{provide:Ae,useFactory:ze(re),multi:!0,deps:[Z.R0b,Z.zs3,m.HU,ae.z6,[new Z.FiY,he.dh],[new Z.FiY,de.nm],...ye]}]}}const Tt=(0,m.u3)(en,!0),ir=(0,m.u3)(Ie.ET,!0),Vr=(0,m.u3)(Ie.hJ,!0),fr=(0,m.u3)(Ie.oe,!0),Qn=(0,m.u3)(Ie.JU,!0),Ii=(0,m.u3)(Ie.QT,!0),Wn=(0,m.u3)(Ie.PL,!0),gn=(0,m.u3)(Ie.ad,!0),H=(0,m.u3)(Ie.Xo,!0),W=(0,m.u3)(Ie.IO,!0),yt=(0,m.u3)(Ie.pl,!0),ui=(0,m.u3)(Ie.r7,!0),Fr=(0,m.u3)(Ie.ar,!0)},9493:(jt,He,B)=>{B.d(He,{Ke:()=>Ki,oq:()=>Do,Jt:()=>la,cF:()=>Fo,Vq:()=>vs,iH:()=>Hs,KV:()=>Di});var m=B(8186),Z=B(4946),he=B(8726),ae=B(8429),le=B(3182),de=B(7247),Ie=B(5861),fe=B(534),Le=B(9058),Q=B(4537);const ie="firebasestorage.googleapis.com",Me="storageBucket";class ht extends Le.ZR{constructor(L,J,oe=0){super(ft(L),`Firebase Storage: ${J} (${ft(L)})`),this.status_=oe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(L){this.status_=L}_codeEquals(L){return ft(L)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(L){this.customData.serverResponse=L,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var pt=function(F){return F.UNKNOWN="unknown",F.OBJECT_NOT_FOUND="object-not-found",F.BUCKET_NOT_FOUND="bucket-not-found",F.PROJECT_NOT_FOUND="project-not-found",F.QUOTA_EXCEEDED="quota-exceeded",F.UNAUTHENTICATED="unauthenticated",F.UNAUTHORIZED="unauthorized",F.UNAUTHORIZED_APP="unauthorized-app",F.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",F.INVALID_CHECKSUM="invalid-checksum",F.CANCELED="canceled",F.INVALID_EVENT_NAME="invalid-event-name",F.INVALID_URL="invalid-url",F.INVALID_DEFAULT_BUCKET="invalid-default-bucket",F.NO_DEFAULT_BUCKET="no-default-bucket",F.CANNOT_SLICE_BLOB="cannot-slice-blob",F.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",F.NO_DOWNLOAD_URL="no-download-url",F.INVALID_ARGUMENT="invalid-argument",F.INVALID_ARGUMENT_COUNT="invalid-argument-count",F.APP_DELETED="app-deleted",F.INVALID_ROOT_OPERATION="invalid-root-operation",F.INVALID_FORMAT="invalid-format",F.INTERNAL_ERROR="internal-error",F.UNSUPPORTED_ENVIRONMENT="unsupported-environment",F}(pt||{});function ft(F){return"storage/"+F}function Jt(){return new ht(pt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function bt(F){return new ht(pt.INVALID_ARGUMENT,F)}function un(){return new ht(pt.APP_DELETED,"The Firebase app was deleted.")}function xe(F,L){return new ht(pt.INVALID_FORMAT,"String does not match format '"+F+"': "+L)}function ze(F){throw new ht(pt.INTERNAL_ERROR,"Internal error: "+F)}class be{constructor(L,J){this.bucket=L,this.path_=J}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const L=encodeURIComponent;return"/b/"+L(this.bucket)+"/o/"+L(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(L,J){let oe;try{oe=be.makeFromUrl(L,J)}catch{return new be(L,"")}if(""===oe.path)return oe;throw function Ot(F){return new ht(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+F+"'.")}(L)}static makeFromUrl(L,J){let oe=null;const Te="([A-Za-z0-9.\\-_]+)",Ft=new RegExp("^gs://"+Te+"(/(.*))?$","i");function fn(_i){_i.path_=decodeURIComponent(_i.path)}const Ur=J.replace(/[.]/g,"\\."),br=[{regex:Ft,indices:{bucket:1,path:3},postModify:function Ke(_i){"/"===_i.path.charAt(_i.path.length-1)&&(_i.path_=_i.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ur}/v[A-Za-z0-9_]+/b/${Te}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:fn},{regex:new RegExp(`^https?://${J===ie?"(?:storage.googleapis.com|storage.cloud.google.com)":J}/${Te}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:fn}];for(let _i=0;_i<br.length;_i++){const Ji=br[_i],hs=Ji.regex.exec(L);if(hs){let Ms=hs[Ji.indices.path];Ms||(Ms=""),oe=new be(hs[Ji.indices.bucket],Ms),Ji.postModify(oe);break}}if(null==oe)throw function nt(F){return new ht(pt.INVALID_URL,"Invalid URL '"+F+"'.")}(L);return oe}}class je{constructor(L){this.promise_=Promise.reject(L)}getPromise(){return this.promise_}cancel(L=!1){}}function Dn(F){return"string"==typeof F||F instanceof String}function Tt(F){return bn()&&F instanceof Blob}function bn(){return typeof Blob<"u"&&!(0,Le.UG)()}function ar(F,L,J,oe){if(oe<L)throw bt(`Invalid value for '${F}'. Expected ${L} or greater.`);if(oe>J)throw bt(`Invalid value for '${F}'. Expected ${J} or less.`)}function An(F,L,J){let oe=L;return null==J&&(oe=`https://${L}`),`${J}://${oe}/v0${F}`}function Yn(F){const L=encodeURIComponent;let J="?";for(const oe in F)F.hasOwnProperty(oe)&&(J=J+(L(oe)+"=")+L(F[oe])+"&");return J=J.slice(0,-1),J}var ir=function(F){return F[F.NO_ERROR=0]="NO_ERROR",F[F.NETWORK_ERROR=1]="NETWORK_ERROR",F[F.ABORT=2]="ABORT",F}(ir||{});class Gt{constructor(L,J,oe,Te,Ke,_t,Ft,At,fn,xn,Ur,ri=!0){this.url_=L,this.method_=J,this.headers_=oe,this.body_=Te,this.successCodes_=Ke,this.additionalRetryCodes_=_t,this.callback_=Ft,this.errorCallback_=At,this.timeout_=fn,this.progressCallback_=xn,this.connectionFactory_=Ur,this.retry=ri,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((zr,Gr)=>{this.resolve_=zr,this.reject_=Gr,this.start_()})}start_(){const J=(oe,Te)=>{const Ke=this.resolve_,_t=this.reject_,Ft=Te.connection;if(Te.wasSuccessCode)try{const At=this.callback_(Ft,Ft.getResponse());!function _n(F){return void 0!==F}(At)?Ke():Ke(At)}catch(At){_t(At)}else if(null!==Ft){const At=Jt();At.serverResponse=Ft.getErrorText(),_t(this.errorCallback_?this.errorCallback_(Ft,At):At)}else _t(Te.canceled?this.appDelete_?un():function ne(){return new ht(pt.CANCELED,"User canceled the upload/download.")}():function Ue(){return new ht(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?J(0,new kr(!1,null,!0)):this.backoffId_=function at(F,L,J){let oe=1,Te=null,Ke=null,_t=!1,Ft=0;function At(){return 2===Ft}let fn=!1;function xn(...Wr){fn||(fn=!0,L.apply(null,Wr))}function Ur(Wr){Te=setTimeout(()=>{Te=null,F(zr,At())},Wr)}function ri(){Ke&&clearTimeout(Ke)}function zr(Wr,...Xi){if(fn)return void ri();if(Wr)return ri(),void xn.call(null,Wr,...Xi);if(At()||_t)return ri(),void xn.call(null,Wr,...Xi);let br;oe<64&&(oe*=2),1===Ft?(Ft=2,br=0):br=1e3*(oe+Math.random()),Ur(br)}let Gr=!1;function Ri(Wr){Gr||(Gr=!0,ri(),!fn&&(null!==Te?(Wr||(Ft=2),clearTimeout(Te),Ur(0)):Wr||(Ft=1)))}return Ur(0),Ke=setTimeout(()=>{_t=!0,Ri(!0)},J),Ri}((oe,Te)=>{if(Te)return void oe(!1,new kr(!1,null,!0));const Ke=this.connectionFactory_();this.pendingConnection_=Ke;const _t=Ft=>{null!==this.progressCallback_&&this.progressCallback_(Ft.loaded,Ft.lengthComputable?Ft.total:-1)};null!==this.progressCallback_&&Ke.addUploadProgressListener(_t),Ke.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ke.removeUploadProgressListener(_t),this.pendingConnection_=null;const Ft=Ke.getErrorCode()===ir.NO_ERROR,At=Ke.getStatus();if(!Ft||function Cn(F,L){const J=F>=500&&F<600,Te=-1!==[408,429].indexOf(F),Ke=-1!==L.indexOf(F);return J||Te||Ke}(At,this.additionalRetryCodes_)&&this.retry){const xn=Ke.getErrorCode()===ir.ABORT;return void oe(!1,new kr(!1,null,xn))}const fn=-1!==this.successCodes_.indexOf(At);oe(!0,new kr(fn,Ke))})},J,this.timeout_)}getPromise(){return this.promise_}cancel(L){this.canceled_=!0,this.appDelete_=L||!1,null!==this.backoffId_&&function Lt(F){F(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class kr{constructor(L,J,oe){this.wasSuccessCode=L,this.connection=J,this.canceled=!!oe}}function Qn(...F){const L=function Yt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==L){const J=new L;for(let oe=0;oe<F.length;oe++)J.append(F[oe]);return J.getBlob()}if(bn())return new Blob(F);throw new ht(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Xn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class On{constructor(L,J){this.data=L,this.contentType=J||null}}function Sn(F){const L=[];for(let J=0;J<F.length;J++){let oe=F.charCodeAt(J);oe<=127?L.push(oe):oe<=2047?L.push(192|oe>>6,128|63&oe):55296==(64512&oe)?J<F.length-1&&56320==(64512&F.charCodeAt(J+1))?(oe=65536|(1023&oe)<<10|1023&F.charCodeAt(++J),L.push(240|oe>>18,128|oe>>12&63,128|oe>>6&63,128|63&oe)):L.push(239,191,189):56320==(64512&oe)?L.push(239,191,189):L.push(224|oe>>12,128|oe>>6&63,128|63&oe)}return new Uint8Array(L)}function gt(F,L){switch(F){case Xn.BASE64:{const Te=-1!==L.indexOf("-"),Ke=-1!==L.indexOf("_");if(Te||Ke)throw xe(F,"Invalid character '"+(Te?"-":"_")+"' found: is it base64url encoded?");break}case Xn.BASE64URL:{const Te=-1!==L.indexOf("+"),Ke=-1!==L.indexOf("/");if(Te||Ke)throw xe(F,"Invalid character '"+(Te?"+":"/")+"' found: is it base64 encoded?");L=L.replace(/-/g,"+").replace(/_/g,"/");break}}let J;try{J=function Zr(F){if(typeof atob>"u")throw function gr(F){return new ht(pt.UNSUPPORTED_ENVIRONMENT,`${F} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(F)}(L)}catch(Te){throw Te.message.includes("polyfill")?Te:xe(F,"Invalid character found")}const oe=new Uint8Array(J.length);for(let Te=0;Te<J.length;Te++)oe[Te]=J.charCodeAt(Te);return oe}class Yr{constructor(L){this.base64=!1,this.contentType=null;const J=L.match(/^data:([^,]+)?,/);if(null===J)throw xe(Xn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const oe=J[1]||null;null!=oe&&(this.base64=function En(F,L){return F.length>=L.length&&F.substring(F.length-L.length)===L}(oe,";base64"),this.contentType=this.base64?oe.substring(0,oe.length-7):oe),this.rest=L.substring(L.indexOf(",")+1)}}class gn{constructor(L,J){let oe=0,Te="";Tt(L)?(this.data_=L,oe=L.size,Te=L.type):L instanceof ArrayBuffer?(J?this.data_=new Uint8Array(L):(this.data_=new Uint8Array(L.byteLength),this.data_.set(new Uint8Array(L))),oe=this.data_.length):L instanceof Uint8Array&&(J?this.data_=L:(this.data_=new Uint8Array(L.length),this.data_.set(L)),oe=L.length),this.size_=oe,this.type_=Te}size(){return this.size_}type(){return this.type_}slice(L,J){if(Tt(this.data_)){const Te=function Ar(F,L,J){return F.webkitSlice?F.webkitSlice(L,J):F.mozSlice?F.mozSlice(L,J):F.slice?F.slice(L,J):null}(this.data_,L,J);return null===Te?null:new gn(Te)}{const oe=new Uint8Array(this.data_.buffer,L,J-L);return new gn(oe,!0)}}static getBlob(...L){if(bn()){const J=L.map(oe=>oe instanceof gn?oe.data_:oe);return new gn(Qn.apply(null,J))}{const J=L.map(_t=>Dn(_t)?function dn(F,L){switch(F){case Xn.RAW:return new On(Sn(L));case Xn.BASE64:case Xn.BASE64URL:return new On(gt(F,L));case Xn.DATA_URL:return new On(function Wn(F){const L=new Yr(F);return L.base64?gt(Xn.BASE64,L.rest):function Ii(F){let L;try{L=decodeURIComponent(F)}catch{throw xe(Xn.DATA_URL,"Malformed data URL.")}return Sn(L)}(L.rest)}(L),function Pn(F){return new Yr(F).contentType}(L))}throw Jt()}(Xn.RAW,_t).data:_t.data_);let oe=0;J.forEach(_t=>{oe+=_t.byteLength});const Te=new Uint8Array(oe);let Ke=0;return J.forEach(_t=>{for(let Ft=0;Ft<_t.length;Ft++)Te[Ke++]=_t[Ft]}),new gn(Te,!0)}}uploadData(){return this.data_}}function ln(F){let L;try{L=JSON.parse(F)}catch{return null}return function zt(F){return"object"==typeof F&&!Array.isArray(F)}(L)?L:null}function tn(F){const L=F.lastIndexOf("/",F.length-2);return-1===L?F:F.slice(L+1)}function us(F,L){return L}class qn{constructor(L,J,oe,Te){this.server=L,this.local=J||L,this.writable=!!oe,this.xform=Te||us}}let jr=null;function H(){if(jr)return jr;const F=[];F.push(new qn("bucket")),F.push(new qn("generation")),F.push(new qn("metageneration")),F.push(new qn("name","fullPath",!0));const J=new qn("name");J.xform=function L(Ke,_t){return function ce(F){return!Dn(F)||F.length<2?F:tn(F)}(_t)},F.push(J);const Te=new qn("size");return Te.xform=function oe(Ke,_t){return void 0!==_t?Number(_t):_t},F.push(Te),F.push(new qn("timeCreated")),F.push(new qn("updated")),F.push(new qn("md5Hash",null,!0)),F.push(new qn("cacheControl",null,!0)),F.push(new qn("contentDisposition",null,!0)),F.push(new qn("contentEncoding",null,!0)),F.push(new qn("contentLanguage",null,!0)),F.push(new qn("contentType",null,!0)),F.push(new qn("metadata","customMetadata",!0)),jr=F,jr}function G(F,L,J){const oe=ln(L);return null===oe?null:function z(F,L,J){const oe={type:"file"},Te=J.length;for(let Ke=0;Ke<Te;Ke++){const _t=J[Ke];oe[_t.local]=_t.xform(oe,L[_t.server])}return function W(F,L){Object.defineProperty(F,"ref",{get:function J(){const Ke=new be(F.bucket,F.fullPath);return L._makeStorageReference(Ke)}})}(oe,F),oe}(F,oe,J)}class nn{constructor(L,J,oe,Te){this.url=L,this.method=J,this.handler=oe,this.timeout=Te,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Mn(F){if(!F)throw Jt()}function Be(F){return function L(J,oe){let Te;return Te=401===J.getStatus()?J.getErrorText().includes("Firebase App Check token is invalid")?function ve(){return new ht(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ze(){return new ht(pt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===J.getStatus()?function Oe(F){return new ht(pt.QUOTA_EXCEEDED,"Quota for bucket '"+F+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(F.bucket):403===J.getStatus()?function it(F){return new ht(pt.UNAUTHORIZED,"User does not have permission to access '"+F+"'.")}(F.path):oe,Te.status=J.getStatus(),Te.serverResponse=oe.serverResponse,Te}}function re(F){const L=Be(F);return function J(oe,Te){let Ke=L(oe,Te);return 404===oe.getStatus()&&(Ke=function qt(F){return new ht(pt.OBJECT_NOT_FOUND,"Object '"+F+"' does not exist.")}(F.path)),Ke.serverResponse=Te.serverResponse,Ke}}function Pi(F,L,J,oe,Te){const Ke=L.bucketOnlyServerUrl(),_t={"X-Goog-Upload-Protocol":"multipart"},At=function Ft(){let br="";for(let _i=0;_i<2;_i++)br+=Math.random().toString().slice(2);return br}();_t["Content-Type"]="multipart/related; boundary="+At;const fn=function Xr(F,L,J){const oe=Object.assign({},J);return oe.fullPath=F.path,oe.size=L.size(),oe.contentType||(oe.contentType=function tr(F,L){return F&&F.contentType||L&&L.type()||"application/octet-stream"}(null,L)),oe}(L,oe,Te),xn=function rt(F,L){const J={},oe=L.length;for(let Te=0;Te<oe;Te++){const Ke=L[Te];Ke.writable&&(J[Ke.server]=F[Ke.local])}return JSON.stringify(J)}(fn,J),zr=gn.getBlob("--"+At+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xn+"\r\n--"+At+"\r\nContent-Type: "+fn.contentType+"\r\n\r\n",oe,"\r\n--"+At+"--");if(null===zr)throw function Rn(){return new ht(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const Gr={name:fn.fullPath},Ri=An(Ke,F.host,F._protocol),Xi=F.maxUploadRetryTime,di=new nn(Ri,"POST",function ui(F,L){return function J(oe,Te){const Ke=G(F,Te,L);return Mn(null!==Ke),Ke}}(F,J),Xi);return di.urlParams=Gr,di.headers=_t,di.body=zr.uploadData(),di.errorHandler=Be(L),di}let ds=null;class me{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ir.NO_ERROR,this.sendPromise_=new Promise(L=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ir.ABORT,L()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ir.NETWORK_ERROR,L()}),this.xhr_.addEventListener("load",()=>{L()})})}send(L,J,oe,Te){if(this.sent_)throw ze("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(J,L,!0),void 0!==Te)for(const Ke in Te)Te.hasOwnProperty(Ke)&&this.xhr_.setRequestHeader(Ke,Te[Ke].toString());return void 0!==oe?this.xhr_.send(oe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ze("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ze("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ze("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ze("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(L){return this.xhr_.getResponseHeader(L)}addUploadProgressListener(L){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",L)}removeUploadProgressListener(L){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",L)}}class pe extends me{initXhr(){this.xhr_.responseType="text"}}function De(){return ds?ds():new pe}class Ln{constructor(L,J){this._service=L,this._location=J instanceof be?J:be.makeFromUrl(J,L.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(L,J){return new Ln(L,J)}get root(){const L=new be(this._location.bucket,"");return this._newRef(this._service,L)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tn(this._location.path)}get storage(){return this._service}get parent(){const L=function Lr(F){if(0===F.length)return null;const L=F.lastIndexOf("/");return-1===L?"":F.slice(0,L)}(this._location.path);if(null===L)return null;const J=new be(this._location.bucket,L);return new Ln(this._service,J)}_throwIfRoot(L){if(""===this._location.path)throw function Ae(F){return new ht(pt.INVALID_ROOT_OPERATION,"The operation '"+F+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(L)}}function Xs(F){F._throwIfRoot("getDownloadURL");const L=function mt(F,L,J){const Te=An(L.fullServerUrl(),F.host,F._protocol),_t=F.maxOperationRetryTime,Ft=new nn(Te,"GET",function Fr(F,L){return function J(oe,Te){const Ke=G(F,Te,L);return Mn(null!==Ke),function Ee(F,L,J,oe){const Te=ln(L);if(null===Te||!Dn(Te.downloadTokens))return null;const Ke=Te.downloadTokens;if(0===Ke.length)return null;const _t=encodeURIComponent;return Ke.split(",").map(fn=>{const Ur=F.fullPath;return An("/b/"+_t(F.bucket)+"/o/"+_t(Ur),J,oe)+Yn({alt:"media",token:fn})})[0]}(Ke,Te,F.host,F._protocol)}}(F,J),_t);return Ft.errorHandler=re(L),Ft}(F.storage,F._location,H());return F.storage.makeRequestWithTokens(L,De).then(J=>{if(null===J)throw function It(){return new ht(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return J})}function Bs(F,L){if(F instanceof gi){const J=F;if(null==J._bucket)throw function en(){return new ht(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Me+"' property when initializing the app?")}();const oe=new Ln(J,J._bucket);return null!=L?Bs(oe,L):oe}return void 0!==L?function Io(F,L){const J=function Qr(F,L){const J=L.split("/").filter(oe=>oe.length>0).join("/");return 0===F.length?J:F+"/"+J}(F._location.path,L),oe=new be(F._location.bucket,J);return new Ln(F.storage,oe)}(F,L):F}function Vs(F,L){const J=L?.[Me];return null==J?null:be.makeFromBucketSpec(J,F)}class gi{constructor(L,J,oe,Te,Ke){this.app=L,this._authProvider=J,this._appCheckProvider=oe,this._url=Te,this._firebaseVersion=Ke,this._bucket=null,this._host=ie,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Te?be.makeFromBucketSpec(Te,this._host):Vs(this._host,this.app.options)}get host(){return this._host}set host(L){this._host=L,this._bucket=null!=this._url?be.makeFromBucketSpec(this._url,L):Vs(L,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(L){ar("time",0,Number.POSITIVE_INFINITY,L),this._maxUploadRetryTime=L}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(L){ar("time",0,Number.POSITIVE_INFINITY,L),this._maxOperationRetryTime=L}_getAuthToken(){var L=this;return(0,Ie.Z)(function*(){if(L._overrideAuthToken)return L._overrideAuthToken;const J=L._authProvider.getImmediate({optional:!0});if(J){const oe=yield J.getToken();if(null!==oe)return oe.accessToken}return null})()}_getAppCheckToken(){var L=this;return(0,Ie.Z)(function*(){const J=L._appCheckProvider.getImmediate({optional:!0});return J?(yield J.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(L=>L.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(L){return new Ln(this,L)}_makeRequest(L,J,oe,Te,Ke=!0){if(this._deleted)return new je(un());{const _t=function on(F,L,J,oe,Te,Ke,_t=!0){const Ft=Yn(F.urlParams),At=F.url+Ft,fn=Object.assign({},F.headers);return function In(F,L){L&&(F["X-Firebase-GMPID"]=L)}(fn,L),function Vr(F,L){null!==L&&L.length>0&&(F.Authorization="Firebase "+L)}(fn,J),function fi(F,L){F["X-Firebase-Storage-Version"]="webjs/"+(L??"AppManager")}(fn,Ke),function fr(F,L){null!==L&&(F["X-Firebase-AppCheck"]=L)}(fn,oe),new Gt(At,F.method,fn,F.body,F.successCodes,F.additionalRetryCodes,F.handler,F.errorHandler,F.timeout,F.progressCallback,Te,_t)}(L,this._appId,oe,Te,J,this._firebaseVersion,Ke);return this._requests.add(_t),_t.getPromise().then(()=>this._requests.delete(_t),()=>this._requests.delete(_t)),_t}}makeRequestWithTokens(L,J){var oe=this;return(0,Ie.Z)(function*(){const[Te,Ke]=yield Promise.all([oe._getAuthToken(),oe._getAppCheckToken()]);return oe._makeRequest(L,J,Te,Ke).getPromise()})()}}const Js="@firebase/storage",Fn="storage";function ci(F,L,J){return function xi(F,L,J){F._throwIfRoot("uploadBytes");const oe=Pi(F.storage,F._location,H(),new gn(L,!0),J);return F.storage.makeRequestWithTokens(oe,De).then(Te=>({metadata:Te,ref:F}))}(F=(0,Le.m9)(F),L,J)}function Ss(F){return Xs(F=(0,Le.m9)(F))}function pr(F){return function ko(F){F._throwIfRoot("deleteObject");const L=function ur(F,L){const oe=An(L.fullServerUrl(),F.host,F._protocol),Ft=new nn(oe,"DELETE",function _t(At,fn){},F.maxOperationRetryTime);return Ft.successCodes=[200,204],Ft.errorHandler=re(L),Ft}(F.storage,F._location);return F.storage.makeRequestWithTokens(L,De)}(F=(0,Le.m9)(F))}function Et(F,L){return function Eo(F,L){if(L&&function bs(F){return/^[A-Za-z]+:\/\//.test(F)}(L)){if(F instanceof gi)return function Hr(F,L){return new Ln(F,L)}(F,L);throw bt("To use ref(service, url), the first argument must be a Storage instance.")}return Bs(F,L)}(F=(0,Le.m9)(F),L)}function $r(F=(0,fe.Mq)(),L){F=(0,Le.m9)(F);const oe=(0,fe.qX)(F,Fn).getImmediate({identifier:L}),Te=(0,Le.P0)("storage");return Te&&function Fi(F,L,J,oe={}){!function nr(F,L,J,oe={}){F.host=`${L}:${J}`,F._protocol="http";const{mockUserToken:Te}=oe;Te&&(F._overrideAuthToken="string"==typeof Te?Te:(0,Le.Sg)(Te,F.app.options.projectId))}(F,L,J,oe)}(oe,...Te),oe}function js(F,{instanceIdentifier:L}){const J=F.getProvider("app").getImmediate(),oe=F.getProvider("auth-internal"),Te=F.getProvider("app-check-internal");return new gi(J,oe,Te,L,fe.Jn)}!function Rr(){(0,fe.Xd)(new Q.wA(Fn,js,"PUBLIC").setMultipleInstances(!0)),(0,fe.KN)(Js,"0.11.2",""),(0,fe.KN)(Js,"0.11.2","esm2017")}();class Ki{constructor(L){return L}}const $s="storage",Lo=new Z.OlP("angularfire2.storage-instances");function ti(F){return(L,J)=>{const oe=L.runOutsideAngular(()=>F(J));return new Ki(oe)}}const ys={provide:class an{constructor(){return(0,m.vb)($s)}},deps:[[new Z.FiY,Lo]]},yi={provide:Ki,useFactory:function uo(F,L){const J=(0,m.JM)($s,F,L);return J&&new Ki(J)},deps:[[new Z.FiY,Lo],he.Ot]};let Dr=(()=>{class F{constructor(){(0,le.KN)("angularfire",m.q4.full,"gcs")}}return F.\u0275fac=function(J){return new(J||F)},F.\u0275mod=Z.oAB({type:F}),F.\u0275inj=Z.cJS({providers:[yi,ys]}),F})();function vs(F,...L){return{ngModule:Dr,providers:[{provide:Lo,useFactory:ti(F),multi:!0,deps:[Z.R0b,Z.zs3,m.HU,he.z6,[new Z.FiY,ae.dh],[new Z.FiY,de.nm],...L]}]}}const Do=(0,m.u3)(pr,!0),la=(0,m.u3)(Ss,!0),Fo=(0,m.u3)($r,!0),Hs=(0,m.u3)(Et,!0),Di=(0,m.u3)(ci,!0)},8186:(jt,He,B)=>{B.d(He,{q4:()=>oa,HU:()=>Au,vb:()=>Lc,JM:()=>lu,u3:()=>Mu});var m=B(4946),Z=B(3182),he=B(5861),ae=B(534),le=B(9058),de=B(4537),Ie=B(7879);const fe=(E,A)=>A.some(P=>E instanceof P);let Le,Q;const qe=new WeakMap,Ye=new WeakMap,dt=new WeakMap,ht=new WeakMap,pt=new WeakMap;let qt={get(E,A,P){if(E instanceof IDBTransaction){if("done"===A)return Ye.get(E);if("objectStoreNames"===A)return E.objectStoreNames||dt.get(E);if("store"===A)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return it(E[A])},set:(E,A,P)=>(E[A]=P,!0),has:(E,A)=>E instanceof IDBTransaction&&("done"===A||"store"===A)||A in E};function ve(E){return"function"==typeof E?function Ze(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...A){return E.apply(Ue(this),A),it(qe.get(this))}:function(...A){return it(E.apply(Ue(this),A))}:function(A,...P){const Y=E.call(Ue(this),A,...P);return dt.set(Y,A.sort?A.sort():[A]),it(Y)}}(E):(E instanceof IDBTransaction&&function Jt(E){if(Ye.has(E))return;const A=new Promise((P,Y)=>{const ue=()=>{E.removeEventListener("complete",we),E.removeEventListener("error",Ge),E.removeEventListener("abort",Ge)},we=()=>{P(),ue()},Ge=()=>{Y(E.error||new DOMException("AbortError","AbortError")),ue()};E.addEventListener("complete",we),E.addEventListener("error",Ge),E.addEventListener("abort",Ge)});Ye.set(E,A)}(E),fe(E,function ie(){return Le||(Le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,qt):E)}function it(E){if(E instanceof IDBRequest)return function ft(E){const A=new Promise((P,Y)=>{const ue=()=>{E.removeEventListener("success",we),E.removeEventListener("error",Ge)},we=()=>{P(it(E.result)),ue()},Ge=()=>{Y(E.error),ue()};E.addEventListener("success",we),E.addEventListener("error",Ge)});return A.then(P=>{P instanceof IDBCursor&&qe.set(P,E)}).catch(()=>{}),pt.set(A,E),A}(E);if(ht.has(E))return ht.get(E);const A=ve(E);return A!==E&&(ht.set(E,A),pt.set(A,E)),A}const Ue=E=>pt.get(E),Ot=["get","getKey","getAll","getAllKeys","count"],en=["put","add","delete","clear"],Rn=new Map;function wr(E,A){if(!(E instanceof IDBDatabase)||A in E||"string"!=typeof A)return;if(Rn.get(A))return Rn.get(A);const P=A.replace(/FromIndex$/,""),Y=A!==P,ue=en.includes(P);if(!(P in(Y?IDBIndex:IDBObjectStore).prototype)||!ue&&!Ot.includes(P))return;const we=function(){var Ge=(0,he.Z)(function*(St,...Dt){const Ht=this.transaction(St,ue?"readwrite":"readonly");let yn=Ht.store;return Y&&(yn=yn.index(Dt.shift())),(yield Promise.all([yn[P](...Dt),ue&&Ht.done]))[0]});return function(Dt){return Ge.apply(this,arguments)}}();return Rn.set(A,we),we}!function Oe(E){qt=E(qt)}(E=>({...E,get:(A,P,Y)=>wr(A,P)||E.get(A,P,Y),has:(A,P)=>!!wr(A,P)||E.has(A,P)}));const It="@firebase/installations",gr="0.6.4",bt=1e4,un=`w:${gr}`,Ae="FIS_v2",xe="https://firebaseinstallations.googleapis.com/v1",ze=36e5,Lt=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _n(E){return E instanceof le.ZR&&E.code.includes("request-failed")}function Tn({projectId:E}){return`${xe}/projects/${E}/installations`}function zt(E){return{token:E.token,requestStatus:2,expiresIn:ir(E.expiresIn),creationTime:Date.now()}}function Dn(E,A){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,he.Z)(function*(E,A){const Y=(yield A.json()).error;return Lt.create("request-failed",{requestName:E,serverCode:Y.code,serverMessage:Y.message,serverStatus:Y.status})})).apply(this,arguments)}function bn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function An(E){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,he.Z)(function*(E){const A=yield E();return A.status>=500&&A.status<600?E():A})).apply(this,arguments)}function ir(E){return Number(E.replace("s","000"))}function kr(){return(kr=(0,he.Z)(function*({appConfig:E,heartbeatServiceProvider:A},{fid:P}){const Y=Tn(E),ue=bn(E),we=A.getImmediate({optional:!0});if(we){const Ht=yield we.getHeartbeatsHeader();Ht&&ue.append("x-firebase-client",Ht)}const St={method:"POST",headers:ue,body:JSON.stringify({fid:P,authVersion:Ae,appId:E.appId,sdkVersion:un})},Dt=yield An(()=>fetch(Y,St));if(Dt.ok){const Ht=yield Dt.json();return{fid:Ht.fid||P,registrationStatus:2,refreshToken:Ht.refreshToken,authToken:zt(Ht.authToken)}}throw yield Dn("Create Installation",Dt)})).apply(this,arguments)}function Vr(E){return new Promise(A=>{setTimeout(A,E)})}const In=/^[cdef][\w-]{21}$/,fr="";function on(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const P=function Yt(E){return function fi(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return In.test(P)?P:fr}catch{return fr}}function Qn(E){return`${E.appName}!${E.appId}`}const Ar=new Map;function Zr(E,A){const P=Qn(E);dn(P,A),function Sn(E,A){const P=function gt(){return!Ii&&"BroadcastChannel"in self&&(Ii=new BroadcastChannel("[Firebase] FID Change"),Ii.onmessage=E=>{dn(E.data.key,E.data.fid)}),Ii}();P&&P.postMessage({key:E,fid:A}),function Yr(){0===Ar.size&&Ii&&(Ii.close(),Ii=null)}()}(P,A)}function dn(E,A){const P=Ar.get(E);if(P)for(const Y of P)Y(A)}let Ii=null;const Wn="firebase-installations-database",Pn=1,En="firebase-installations-store";let gn=null;function ln(){return gn||(gn=function ne(E,A,{blocked:P,upgrade:Y,blocking:ue,terminated:we}={}){const Ge=indexedDB.open(E,A),St=it(Ge);return Y&&Ge.addEventListener("upgradeneeded",Dt=>{Y(it(Ge.result),Dt.oldVersion,Dt.newVersion,it(Ge.transaction))}),P&&Ge.addEventListener("blocked",()=>P()),St.then(Dt=>{we&&Dt.addEventListener("close",()=>we()),ue&&Dt.addEventListener("versionchange",()=>ue())}).catch(()=>{}),St}(Wn,Pn,{upgrade:(E,A)=>{0===A&&E.createObjectStore(En)}})),gn}function Lr(E,A){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,he.Z)(function*(E,A){const P=Qn(E),ue=(yield ln()).transaction(En,"readwrite"),we=ue.objectStore(En),Ge=yield we.get(P);return yield we.put(A,P),yield ue.done,(!Ge||Ge.fid!==A.fid)&&Zr(E,A.fid),A})).apply(this,arguments)}function tn(E){return us.apply(this,arguments)}function us(){return(us=(0,he.Z)(function*(E){const A=Qn(E),Y=(yield ln()).transaction(En,"readwrite");yield Y.objectStore(En).delete(A),yield Y.done})).apply(this,arguments)}function qn(E,A){return jr.apply(this,arguments)}function jr(){return(jr=(0,he.Z)(function*(E,A){const P=Qn(E),ue=(yield ln()).transaction(En,"readwrite"),we=ue.objectStore(En),Ge=yield we.get(P),St=A(Ge);return void 0===St?yield we.delete(P):yield we.put(St,P),yield ue.done,St&&(!Ge||Ge.fid!==St.fid)&&Zr(E,St.fid),St})).apply(this,arguments)}function ce(E){return H.apply(this,arguments)}function H(){return H=(0,he.Z)(function*(E){let A;const P=yield qn(E.appConfig,Y=>{const ue=function W(E){return Kt(E||{fid:on(),registrationStatus:0})}(Y),we=function z(E,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Lt.create("app-offline"))};const P={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},Y=function G(E,A){return Ee.apply(this,arguments)}(E,P);return{installationEntry:P,registrationPromise:Y}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:rt(E)}:{installationEntry:A}}(E,ue);return A=we.registrationPromise,we.installationEntry});return P.fid===fr?{installationEntry:yield A}:{installationEntry:P,registrationPromise:A}}),H.apply(this,arguments)}function Ee(){return Ee=(0,he.Z)(function*(E,A){try{const P=yield function Gt(E,A){return kr.apply(this,arguments)}(E,A);return Lr(E.appConfig,P)}catch(P){throw _n(P)&&409===P.customData.serverCode?yield tn(E.appConfig):yield Lr(E.appConfig,{fid:A.fid,registrationStatus:0}),P}}),Ee.apply(this,arguments)}function rt(E){return yt.apply(this,arguments)}function yt(){return(yt=(0,he.Z)(function*(E){let A=yield Qt(E.appConfig);for(;1===A.registrationStatus;)yield Vr(100),A=yield Qt(E.appConfig);if(0===A.registrationStatus){const{installationEntry:P,registrationPromise:Y}=yield ce(E);return Y||P}return A})).apply(this,arguments)}function Qt(E){return qn(E,A=>{if(!A)throw Lt.create("installation-not-found");return Kt(A)})}function Kt(E){return function Vn(E){return 1===E.registrationStatus&&E.registrationTime+bt<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Mn(){return(Mn=(0,he.Z)(function*({appConfig:E,heartbeatServiceProvider:A},P){const Y=function ui(E,{fid:A}){return`${Tn(E)}/${A}/authTokens:generate`}(E,P),ue=function ar(E,{refreshToken:A}){const P=bn(E);return P.append("Authorization",function Cn(E){return`${Ae} ${E}`}(A)),P}(E,P),we=A.getImmediate({optional:!0});if(we){const Ht=yield we.getHeartbeatsHeader();Ht&&ue.append("x-firebase-client",Ht)}const St={method:"POST",headers:ue,body:JSON.stringify({installation:{sdkVersion:un,appId:E.appId}})},Dt=yield An(()=>fetch(Y,St));if(Dt.ok)return zt(yield Dt.json());throw yield Dn("Generate Auth Token",Dt)})).apply(this,arguments)}function cs(E){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,he.Z)(function*(E,A=!1){let P;const Y=yield qn(E.appConfig,we=>{if(!mt(we))throw Lt.create("not-registered");const Ge=we.authToken;if(!A&&function $t(E){return 2===E.requestStatus&&!function ur(E){const A=Date.now();return A<E.creationTime||E.creationTime+E.expiresIn<A+ze}(E)}(Ge))return we;if(1===Ge.requestStatus)return P=function Be(E,A){return re.apply(this,arguments)}(E,A),we;{if(!navigator.onLine)throw Lt.create("app-offline");const St=function tr(E){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:A})}(we);return P=function $e(E,A){return ut.apply(this,arguments)}(E,St),St}});return P?yield P:Y.authToken}),Fr.apply(this,arguments)}function re(){return(re=(0,he.Z)(function*(E,A){let P=yield ye(E.appConfig);for(;1===P.authToken.requestStatus;)yield Vr(100),P=yield ye(E.appConfig);const Y=P.authToken;return 0===Y.requestStatus?cs(E,A):Y})).apply(this,arguments)}function ye(E){return qn(E,A=>{if(!mt(A))throw Lt.create("not-registered");return function Xr(E){return 1===E.requestStatus&&E.requestTime+bt<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function ut(){return ut=(0,he.Z)(function*(E,A){try{const P=yield function nn(E,A){return Mn.apply(this,arguments)}(E,A),Y=Object.assign(Object.assign({},A),{authToken:P});return yield Lr(E.appConfig,Y),P}catch(P){if(!_n(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const Y=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Lr(E.appConfig,Y)}else yield tn(E.appConfig);throw P}}),ut.apply(this,arguments)}function mt(E){return void 0!==E&&2===E.registrationStatus}function Mi(){return(Mi=(0,he.Z)(function*(E){const A=E,{installationEntry:P,registrationPromise:Y}=yield ce(A);return Y?Y.catch(console.error):cs(A).catch(console.error),P.fid})).apply(this,arguments)}function ls(){return ls=(0,he.Z)(function*(E,A=!1){const P=E;return yield function Mr(E){return Jr.apply(this,arguments)}(P),(yield cs(P,A)).token}),ls.apply(this,arguments)}function Jr(){return(Jr=(0,he.Z)(function*(E){const{registrationPromise:A}=yield ce(E);A&&(yield A)})).apply(this,arguments)}function pe(E){return Lt.create("missing-app-config-values",{valueName:E})}const De="installations",ct=E=>{const A=E.getProvider("app").getImmediate(),P=function me(E){if(!E||!E.options)throw pe("App Configuration");if(!E.name)throw pe("App Name");const A=["projectId","apiKey","appId"];for(const P of A)if(!E.options[P])throw pe(P);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(A);return{app:A,appConfig:P,heartbeatServiceProvider:(0,ae.qX)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Wt=E=>{const A=E.getProvider("app").getImmediate(),P=(0,ae.qX)(A,De).getImmediate();return{getId:()=>function Pi(E){return Mi.apply(this,arguments)}(P),getToken:ue=>function _r(E){return ls.apply(this,arguments)}(P,ue)}};(function kn(){(0,ae.Xd)(new de.wA(De,ct,"PUBLIC")),(0,ae.Xd)(new de.wA("installations-internal",Wt,"PRIVATE"))})(),(0,ae.KN)(It,gr),(0,ae.KN)(It,gr,"esm2017");const $n="@firebase/remote-config",cr=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fn{constructor(A,P,Y,ue){this.client=A,this.storage=P,this.storageCache=Y,this.logger=ue}isCachedDataFresh(A,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Y=Date.now()-P,ue=Y<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Y}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ue}.`),ue}fetch(A){var P=this;return(0,he.Z)(function*(){const[Y,ue]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(ue&&P.isCachedDataFresh(A.cacheMaxAgeMillis,Y))return ue;A.eTag=ue&&ue.eTag;const we=yield P.client.fetch(A),Ge=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===we.status&&Ge.push(P.storage.setLastSuccessfulFetchResponse(we)),yield Promise.all(Ge),we})()}}function ei(E=navigator){return E.languages&&E.languages[0]||E.language}class ci{constructor(A,P,Y,ue,we,Ge){this.firebaseInstallations=A,this.sdkVersion=P,this.namespace=Y,this.projectId=ue,this.apiKey=we,this.appId=Ge}fetch(A){var P=this;return(0,he.Z)(function*(){const[Y,ue]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),Ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,St={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Dt={sdk_version:P.sdkVersion,app_instance_id:Y,app_instance_id_token:ue,app_id:P.appId,language_code:ei()},Ht={method:"POST",headers:St,body:JSON.stringify(Dt)},yn=fetch(Ge,Ht),vn=new Promise((va,_a)=>{A.signal.addEventListener(()=>{const dh=new Error("The operation was aborted.");dh.name="AbortError",_a(dh)})});let ks;try{yield Promise.race([yn,vn]),ks=yield yn}catch(va){let _a="fetch-client-network";throw"AbortError"===va?.name&&(_a="fetch-timeout"),cr.create(_a,{originalErrorMessage:va?.message})}let ss=ks.status;const Go=ks.headers.get("ETag")||void 0;let yl,du;if(200===ks.status){let va;try{va=yield ks.json()}catch(_a){throw cr.create("fetch-client-parse",{originalErrorMessage:_a?.message})}yl=va.entries,du=va.state}if("INSTANCE_STATE_UNSPECIFIED"===du?ss=500:"NO_CHANGE"===du?ss=304:("NO_TEMPLATE"===du||"EMPTY_CONFIG"===du)&&(yl={}),304!==ss&&200!==ss)throw cr.create("fetch-status",{httpStatus:ss});return{status:ss,eTag:Go,config:yl}})()}}class Yo{constructor(A,P){this.client=A,this.storage=P}fetch(A){var P=this;return(0,he.Z)(function*(){const Y=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(A,Y)})()}attemptFetch(A,{throttleEndTimeMillis:P,backoffCount:Y}){var ue=this;return(0,he.Z)(function*(){yield function Cs(E,A){return new Promise((P,Y)=>{const ue=Math.max(A-Date.now(),0),we=setTimeout(P,ue);E.addEventListener(()=>{clearTimeout(we),Y(cr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,P);try{const we=yield ue.client.fetch(A);return yield ue.storage.deleteThrottleMetadata(),we}catch(we){if(!function qi(E){if(!(E instanceof le.ZR&&E.customData))return!1;const A=Number(E.customData.httpStatus);return 429===A||500===A||503===A||504===A}(we))throw we;const Ge={throttleEndTimeMillis:Date.now()+(0,le.$s)(Y),backoffCount:Y+1};return yield ue.storage.setThrottleMetadata(Ge),ue.attemptFetch(A,Ge)}})()}}class wo{constructor(A,P,Y,ue,we){this.app=A,this._client=P,this._storageCache=Y,this._storage=ue,this._logger=we,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ss(E,A){const P=E.target.error||void 0;return cr.create(A,{originalErrorMessage:P&&P?.message})}const pr="app_namespace_store";class Fi{constructor(A,P,Y,ue=function $r(){return new Promise((E,A)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=Y=>{A(Ss(Y,"storage-open"))},P.onsuccess=Y=>{E(Y.target.result)},P.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(pr,{keyPath:"compositeKey"})}}catch(P){A(cr.create("storage-open",{originalErrorMessage:P?.message}))}})}()){this.appId=A,this.appName=P,this.namespace=Y,this.openDbPromise=ue}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var P=this;return(0,he.Z)(function*(){const Y=yield P.openDbPromise;return new Promise((ue,we)=>{const St=Y.transaction([pr],"readonly").objectStore(pr),Dt=P.createCompositeKey(A);try{const Ht=St.get(Dt);Ht.onerror=yn=>{we(Ss(yn,"storage-get"))},Ht.onsuccess=yn=>{const vn=yn.target.result;ue(vn?vn.value:void 0)}}catch(Ht){we(cr.create("storage-get",{originalErrorMessage:Ht?.message}))}})})()}set(A,P){var Y=this;return(0,he.Z)(function*(){const ue=yield Y.openDbPromise;return new Promise((we,Ge)=>{const Dt=ue.transaction([pr],"readwrite").objectStore(pr),Ht=Y.createCompositeKey(A);try{const yn=Dt.put({compositeKey:Ht,value:P});yn.onerror=vn=>{Ge(Ss(vn,"storage-set"))},yn.onsuccess=()=>{we()}}catch(yn){Ge(cr.create("storage-set",{originalErrorMessage:yn?.message}))}})})()}delete(A){var P=this;return(0,he.Z)(function*(){const Y=yield P.openDbPromise;return new Promise((ue,we)=>{const St=Y.transaction([pr],"readwrite").objectStore(pr),Dt=P.createCompositeKey(A);try{const Ht=St.delete(Dt);Ht.onerror=yn=>{we(Ss(yn,"storage-delete"))},Ht.onsuccess=()=>{ue()}}catch(Ht){we(cr.create("storage-delete",{originalErrorMessage:Ht?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class ms{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,he.Z)(function*(){const P=A.storage.getLastFetchStatus(),Y=A.storage.getLastSuccessfulFetchTimestampMillis(),ue=A.storage.getActiveConfig(),we=yield P;we&&(A.lastFetchStatus=we);const Ge=yield Y;Ge&&(A.lastSuccessfulFetchTimestampMillis=Ge);const St=yield ue;St&&(A.activeConfig=St)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Ki(){return $s.apply(this,arguments)}function $s(){return($s=(0,he.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function mi(){(0,ae.Xd)(new de.wA("remote-config",function E(A,{instanceIdentifier:P}){const Y=A.getProvider("app").getImmediate(),ue=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw cr.create("registration-window");if(!(0,le.hl)())throw cr.create("indexed-db-unavailable");const{projectId:we,apiKey:Ge,appId:St}=Y.options;if(!we)throw cr.create("registration-project-id");if(!Ge)throw cr.create("registration-api-key");if(!St)throw cr.create("registration-app-id");const Dt=new Fi(St,Y.name,P=P||"firebase"),Ht=new ms(Dt),yn=new Ie.Yd($n);yn.logLevel=Ie.in.ERROR;const vn=new ci(ue,ae.Jn,P,we,Ge,St),ks=new Yo(vn,Dt),ss=new Fn(ks,Dt,Ht,yn),Go=new wo(Y,ss,Ht,Dt,yn);return function Io(E){const A=(0,le.m9)(E);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Go),Go},"PUBLIC").setMultipleInstances(!0)),(0,ae.KN)($n,"0.4.4"),(0,ae.KN)($n,"0.4.4","esm2017")}();const an=(E,A)=>A.some(P=>E instanceof P);let As,Lo;const ys=new WeakMap,yi=new WeakMap,Dr=new WeakMap,vs=new WeakMap,Zi=new WeakMap;let Do={get(E,A,P){if(E instanceof IDBTransaction){if("done"===A)return yi.get(E);if("objectStoreNames"===A)return E.objectStoreNames||Dr.get(E);if("store"===A)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return Ui(E[A])},set:(E,A,P)=>(E[A]=P,!0),has:(E,A)=>E instanceof IDBTransaction&&("done"===A||"store"===A)||A in E};function la(E){return"function"==typeof E?function Hn(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ti(){return Lo||(Lo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...A){return E.apply(Fo(this),A),Ui(ys.get(this))}:function(...A){return Ui(E.apply(Fo(this),A))}:function(A,...P){const Y=E.call(Fo(this),A,...P);return Dr.set(Y,A.sort?A.sort():[A]),Ui(Y)}}(E):(E instanceof IDBTransaction&&function vi(E){if(yi.has(E))return;const A=new Promise((P,Y)=>{const ue=()=>{E.removeEventListener("complete",we),E.removeEventListener("error",Ge),E.removeEventListener("abort",Ge)},we=()=>{P(),ue()},Ge=()=>{Y(E.error||new DOMException("AbortError","AbortError")),ue()};E.addEventListener("complete",we),E.addEventListener("error",Ge),E.addEventListener("abort",Ge)});yi.set(E,A)}(E),an(E,function uo(){return As||(As=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Do):E)}function Ui(E){if(E instanceof IDBRequest)return function Yi(E){const A=new Promise((P,Y)=>{const ue=()=>{E.removeEventListener("success",we),E.removeEventListener("error",Ge)},we=()=>{P(Ui(E.result)),ue()},Ge=()=>{Y(E.error),ue()};E.addEventListener("success",we),E.addEventListener("error",Ge)});return A.then(P=>{P instanceof IDBCursor&&ys.set(P,E)}).catch(()=>{}),Zi.set(A,E),A}(E);if(vs.has(E))return vs.get(E);const A=la(E);return A!==E&&(vs.set(E,A),Zi.set(A,E)),A}const Fo=E=>Zi.get(E);function Bi(E,A,{blocked:P,upgrade:Y,blocking:ue,terminated:we}={}){const Ge=indexedDB.open(E,A),St=Ui(Ge);return Y&&Ge.addEventListener("upgradeneeded",Dt=>{Y(Ui(Ge.result),Dt.oldVersion,Dt.newVersion,Ui(Ge.transaction))}),P&&Ge.addEventListener("blocked",()=>P()),St.then(Dt=>{we&&Dt.addEventListener("close",()=>we()),ue&&Dt.addEventListener("versionchange",()=>ue())}).catch(()=>{}),St}function Qi(E,{blocked:A}={}){const P=indexedDB.deleteDatabase(E);return A&&P.addEventListener("blocked",()=>A()),Ui(P).then(()=>{})}const _s=["get","getKey","getAll","getAllKeys","count"],Hs=["put","add","delete","clear"],li=new Map;function Di(E,A){if(!(E instanceof IDBDatabase)||A in E||"string"!=typeof A)return;if(li.get(A))return li.get(A);const P=A.replace(/FromIndex$/,""),Y=A!==P,ue=Hs.includes(P);if(!(P in(Y?IDBIndex:IDBObjectStore).prototype)||!ue&&!_s.includes(P))return;const we=function(){var Ge=(0,he.Z)(function*(St,...Dt){const Ht=this.transaction(St,ue?"readwrite":"readonly");let yn=Ht.store;return Y&&(yn=yn.index(Dt.shift())),(yield Promise.all([yn[P](...Dt),ue&&Ht.done]))[0]});return function(Dt){return Ge.apply(this,arguments)}}();return li.set(A,we),we}!function Tr(E){Do=E(Do)}(E=>({...E,get:(A,P,Y)=>Di(A,P)||E.get(A,P,Y),has:(A,P)=>!!Di(A,P)||E.has(A,P)}));const ni="/firebase-messaging-sw.js",Ti="/firebase-cloud-messaging-push-scope",F="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",L="https://fcmregistrations.googleapis.com/v1",J="google.c.a.c_id",oe="google.c.a.c_l",Te="google.c.a.ts";var Ft=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(Ft||{});function At(E){const A=new Uint8Array(E);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fn(E){const P=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Y=atob(P),ue=new Uint8Array(Y.length);for(let we=0;we<Y.length;++we)ue[we]=Y.charCodeAt(we);return ue}const xn="fcm_token_details_db",Ur=5,ri="fcm_token_object_Store";function Gr(){return Gr=(0,he.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(we=>we.name).includes(xn))return null;let A=null;return(yield Bi(xn,Ur,{upgrade:(Y=(0,he.Z)(function*(ue,we,Ge,St){var Dt;if(we<2||!ue.objectStoreNames.contains(ri))return;const Ht=St.objectStore(ri),yn=yield Ht.index("fcmSenderId").get(E);if(yield Ht.clear(),yn)if(2===we){const vn=yn;if(!vn.auth||!vn.p256dh||!vn.endpoint)return;A={token:vn.fcmToken,createTime:null!==(Dt=vn.createTime)&&void 0!==Dt?Dt:Date.now(),subscriptionOptions:{auth:vn.auth,p256dh:vn.p256dh,endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:"string"==typeof vn.vapidKey?vn.vapidKey:At(vn.vapidKey)}}}else if(3===we){const vn=yn;A={token:vn.fcmToken,createTime:vn.createTime,subscriptionOptions:{auth:At(vn.auth),p256dh:At(vn.p256dh),endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:At(vn.vapidKey)}}}else if(4===we){const vn=yn;A={token:vn.fcmToken,createTime:vn.createTime,subscriptionOptions:{auth:At(vn.auth),p256dh:At(vn.p256dh),endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:At(vn.vapidKey)}}}}),function(we,Ge,St,Dt){return Y.apply(this,arguments)})})).close(),yield Qi(xn),yield Qi("fcm_vapid_details_db"),yield Qi("undefined"),function Ri(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:A}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var Y}),Gr.apply(this,arguments)}const Wr="firebase-messaging-database",Xi=1,di="firebase-messaging-store";let br=null;function _i(){return br||(br=Bi(Wr,Xi,{upgrade:(E,A)=>{0===A&&E.createObjectStore(di)}})),br}function Ji(E){return hs.apply(this,arguments)}function hs(){return hs=(0,he.Z)(function*(E){const A=co(E),Y=yield(yield _i()).transaction(di).objectStore(di).get(A);if(Y)return Y;{const ue=yield function zr(E){return Gr.apply(this,arguments)}(E.appConfig.senderId);if(ue)return yield Vi(E,ue),ue}}),hs.apply(this,arguments)}function Vi(E,A){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,he.Z)(function*(E,A){const P=co(E),ue=(yield _i()).transaction(di,"readwrite");return yield ue.objectStore(di).put(A,P),yield ue.done,A})).apply(this,arguments)}function Qo(){return(Qo=(0,he.Z)(function*(E){const A=co(E),Y=(yield _i()).transaction(di,"readwrite");yield Y.objectStore(di).delete(A),yield Y.done})).apply(this,arguments)}function co({appConfig:E}){return E.appId}const bi=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zs(E,A){return qr.apply(this,arguments)}function qr(){return(qr=(0,he.Z)(function*(E,A){const P=yield To(E),Y=Jo(A),ue={method:"POST",headers:P,body:JSON.stringify(Y)};let we;try{we=yield(yield fetch(Xo(E.appConfig),ue)).json()}catch(Ge){throw bi.create("token-subscribe-failed",{errorInfo:Ge?.toString()})}if(we.error)throw bi.create("token-subscribe-failed",{errorInfo:we.error.message});if(!we.token)throw bi.create("token-subscribe-no-token");return we.token})).apply(this,arguments)}function ts(){return(ts=(0,he.Z)(function*(E,A){const P=yield To(E),Y=Jo(A.subscriptionOptions),ue={method:"PATCH",headers:P,body:JSON.stringify(Y)};let we;try{we=yield(yield fetch(`${Xo(E.appConfig)}/${A.token}`,ue)).json()}catch(Ge){throw bi.create("token-update-failed",{errorInfo:Ge?.toString()})}if(we.error)throw bi.create("token-update-failed",{errorInfo:we.error.message});if(!we.token)throw bi.create("token-update-no-token");return we.token})).apply(this,arguments)}function Ea(E,A){return ns.apply(this,arguments)}function ns(){return(ns=(0,he.Z)(function*(E,A){const Y={method:"DELETE",headers:yield To(E)};try{const we=yield(yield fetch(`${Xo(E.appConfig)}/${A}`,Y)).json();if(we.error)throw bi.create("token-unsubscribe-failed",{errorInfo:we.error.message})}catch(ue){throw bi.create("token-unsubscribe-failed",{errorInfo:ue?.toString()})}})).apply(this,arguments)}function Xo({projectId:E}){return`${L}/projects/${E}/registrations`}function To(E){return eo.apply(this,arguments)}function eo(){return(eo=(0,he.Z)(function*({appConfig:E,installations:A}){const P=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Jo({p256dh:E,auth:A,endpoint:P,vapidKey:Y}){const ue={web:{endpoint:P,auth:A,p256dh:E}};return Y!==F&&(ue.web.applicationPubKey=Y),ue}const Fa=6048e5;function Is(){return Is=(0,he.Z)(function*(E){const A=yield function bo(E,A){return eu.apply(this,arguments)}(E.swRegistration,E.vapidKey),P={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:A.endpoint,auth:At(A.getKey("auth")),p256dh:At(A.getKey("p256dh"))},Y=yield Ji(E.firebaseDependencies);if(Y){if(function w(E,A){return A.vapidKey===E.vapidKey&&A.endpoint===E.endpoint&&A.auth===E.auth&&A.p256dh===E.p256dh}(Y.subscriptionOptions,P))return Date.now()>=Y.createTime+Fa?function lo(E,A){return Gs.apply(this,arguments)}(E,{token:Y.token,createTime:Date.now(),subscriptionOptions:P}):Y.token;try{yield Ea(E.firebaseDependencies,Y.token)}catch(ue){console.warn(ue)}return Ws(E.firebaseDependencies,P)}return Ws(E.firebaseDependencies,P)}),Is.apply(this,arguments)}function ea(){return ea=(0,he.Z)(function*(E){const A=yield Ji(E.firebaseDependencies);A&&(yield Ea(E.firebaseDependencies,A.token),yield function es(E){return Qo.apply(this,arguments)}(E.firebaseDependencies));const P=yield E.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()}),ea.apply(this,arguments)}function Gs(){return Gs=(0,he.Z)(function*(E,A){try{const P=yield function mr(E,A){return ts.apply(this,arguments)}(E.firebaseDependencies,A),Y=Object.assign(Object.assign({},A),{token:P,createTime:Date.now()});return yield Vi(E.firebaseDependencies,Y),P}catch(P){throw yield function Ci(E){return ea.apply(this,arguments)}(E),P}}),Gs.apply(this,arguments)}function Ws(E,A){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,he.Z)(function*(E,A){const Y={token:yield zs(E,A),createTime:Date.now(),subscriptionOptions:A};return yield Vi(E,Y),Y.token})).apply(this,arguments)}function eu(){return(eu=(0,he.Z)(function*(E,A){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fn(A)})})).apply(this,arguments)}function V(E){const A={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function M(E,A){if(!A.notification)return;E.notification={};const P=A.notification.title;P&&(E.notification.title=P);const Y=A.notification.body;Y&&(E.notification.body=Y);const ue=A.notification.image;ue&&(E.notification.image=ue);const we=A.notification.icon;we&&(E.notification.icon=we)}(A,E),function O(E,A){A.data&&(E.data=A.data)}(A,E),function X(E,A){var P,Y,ue,we,Ge;if(!(A.fcmOptions||null!==(P=A.notification)&&void 0!==P&&P.click_action))return;E.fcmOptions={};const St=null!==(ue=null===(Y=A.fcmOptions)||void 0===Y?void 0:Y.link)&&void 0!==ue?ue:null===(we=A.notification)||void 0===we?void 0:we.click_action;St&&(E.fcmOptions.link=St);const Dt=null===(Ge=A.fcmOptions)||void 0===Ge?void 0:Ge.analytics_label;Dt&&(E.fcmOptions.analyticsLabel=Dt)}(A,E),A}function We(E,A){const P=[];for(let Y=0;Y<E.length;Y++)P.push(E.charAt(Y)),Y<A.length&&P.push(A.charAt(Y));return P.join("")}function Cr(E){return bi.create("missing-app-config-values",{valueName:E})}We("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),We("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class sr{constructor(A,P,Y){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ue=function Pt(E){if(!E||!E.options)throw Cr("App Configuration Object");if(!E.name)throw Cr("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:P}=E;for(const Y of A)if(!P[Y])throw Cr(Y);return{appName:E.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ue,installations:P,analyticsProvider:Y}}_delete(){return Promise.resolve()}}function Zt(){return(Zt=(0,he.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(ni,{scope:Ti}),E.swRegistration.update().catch(()=>{})}catch(A){throw bi.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function Nn(){return(Nn=(0,he.Z)(function*(E,A){if(!A&&!E.swRegistration&&(yield function lr(E){return Zt.apply(this,arguments)}(E)),A||!E.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw bi.create("invalid-sw-registration");E.swRegistration=A}})).apply(this,arguments)}function Co(){return(Co=(0,he.Z)(function*(E,A){A?E.vapidKey=A:E.vapidKey||(E.vapidKey=F)})).apply(this,arguments)}function Sr(){return Sr=(0,he.Z)(function*(E,A){if(!navigator)throw bi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bi.create("permission-blocked");return yield function ii(E,A){return Co.apply(this,arguments)}(E,A?.vapidKey),yield function Ir(E,A){return Nn.apply(this,arguments)}(E,A?.serviceWorkerRegistration),function xs(E){return Is.apply(this,arguments)}(E)}),Sr.apply(this,arguments)}function rs(){return(rs=(0,he.Z)(function*(E,A,P){const Y=function Nt(E){switch(E){case Ft.NOTIFICATION_CLICKED:return"notification_open";case Ft.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(Y,{message_id:P[J],message_name:P[oe],message_time:P[Te],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function wa(){return wa=(0,he.Z)(function*(E,A){const P=A.data;if(!P.isFirebaseMessaging)return;E.onMessageHandler&&P.messageType===Ft.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(V(P)):E.onMessageHandler.next(V(P)));const Y=P.data;(function Re(E){return"object"==typeof E&&!!E&&J in E})(Y)&&"1"===Y["google.c.a.e"]&&(yield function hi(E,A,P){return rs.apply(this,arguments)}(E,P.messageType,Y))}),wa.apply(this,arguments)}const Mt="@firebase/messaging",tt=E=>{const A=new sr(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function Bt(E,A){return wa.apply(this,arguments)}(A,P)),A},Si=E=>{const A=E.getProvider("messaging").getImmediate();return{getToken:Y=>function st(E,A){return Sr.apply(this,arguments)}(A,Y)}};function Ba(){return nu.apply(this,arguments)}function nu(){return(nu=(0,he.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function tu(){(0,ae.Xd)(new de.wA("messaging",tt,"PUBLIC")),(0,ae.Xd)(new de.wA("messaging-internal",Si,"PRIVATE")),(0,ae.KN)(Mt,"0.12.4"),(0,ae.KN)(Mt,"0.12.4","esm2017")}();const mn="analytics",is="firebase_id",da="origin",rr=6e4,Xt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Da="https://www.googletagmanager.com/gtag/js",cn=new Ie.Yd("@firebase/analytics"),Bn=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ct(E){if(!E.startsWith(Da)){const A=Bn.create("invalid-gtag-resource",{gtagURL:E});return cn.warn(A.message),""}return E}function So(E){return Promise.all(E.map(A=>A.catch(P=>P)))}function Va(){return(Va=(0,he.Z)(function*(E,A,P,Y,ue,we){const Ge=Y[ue];try{if(Ge)yield A[Ge];else{const Dt=(yield So(P)).find(Ht=>Ht.measurementId===ue);Dt&&(yield A[Dt.appId])}}catch(St){cn.error(St)}E("config",ue,we)})).apply(this,arguments)}function ba(){return(ba=(0,he.Z)(function*(E,A,P,Y,ue){try{let we=[];if(ue&&ue.send_to){let Ge=ue.send_to;Array.isArray(Ge)||(Ge=[Ge]);const St=yield So(P);for(const Dt of Ge){const Ht=St.find(vn=>vn.measurementId===Dt),yn=Ht&&A[Ht.appId];if(!yn){we=[];break}we.push(yn)}}0===we.length&&(we=Object.values(A)),yield Promise.all(we),E("event",Y,ue||{})}catch(we){cn.error(we)}})).apply(this,arguments)}const Ca=30,su=new class ta{constructor(A={},P=1e3){this.throttleMetadata=A,this.intervalMillis=P}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,P){this.throttleMetadata[A]=P}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Pe(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function et(){return(et=(0,he.Z)(function*(E){var A;const{appId:P,apiKey:Y}=E,ue={method:"GET",headers:Pe(Y)},we=Xt.replace("{app-id}",P),Ge=yield fetch(we,ue);if(200!==Ge.status&&304!==Ge.status){let St="";try{const Dt=yield Ge.json();null!==(A=Dt.error)&&void 0!==A&&A.message&&(St=Dt.error.message)}catch{}throw Bn.create("config-fetch-failed",{httpStatus:Ge.status,responseMessage:St})}return Ge.json()})).apply(this,arguments)}function na(){return(na=(0,he.Z)(function*(E,A=su,P){const{appId:Y,apiKey:ue,measurementId:we}=E.options;if(!Y)throw Bn.create("no-app-id");if(!ue){if(we)return{measurementId:we,appId:Y};throw Bn.create("no-api-key")}const Ge=A.getThrottleMetadata(Y)||{backoffCount:0,throttleEndTimeMillis:Date.now()},St=new ho;return setTimeout((0,he.Z)(function*(){St.abort()}),void 0!==P?P:rr),jo({appId:Y,apiKey:ue,measurementId:we},Ge,St,A)})).apply(this,arguments)}function jo(E,A,P){return ji.apply(this,arguments)}function ji(){return ji=(0,he.Z)(function*(E,{throttleEndTimeMillis:A,backoffCount:P},Y,ue=su){var we;const{appId:Ge,measurementId:St}=E;try{yield function $o(E,A){return new Promise((P,Y)=>{const ue=Math.max(A-Date.now(),0),we=setTimeout(P,ue);E.addEventListener(()=>{clearTimeout(we),Y(Bn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(Y,A)}catch(Dt){if(St)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${Dt?.message}]`),{appId:Ge,measurementId:St};throw Dt}try{const Dt=yield function ou(E){return et.apply(this,arguments)}(E);return ue.deleteThrottleMetadata(Ge),Dt}catch(Dt){const Ht=Dt;if(!function ja(E){if(!(E instanceof le.ZR&&E.customData))return!1;const A=Number(E.customData.httpStatus);return 429===A||500===A||503===A||504===A}(Ht)){if(ue.deleteThrottleMetadata(Ge),St)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${Ht?.message}]`),{appId:Ge,measurementId:St};throw Dt}const yn=503===Number(null===(we=Ht?.customData)||void 0===we?void 0:we.httpStatus)?(0,le.$s)(P,ue.intervalMillis,Ca):(0,le.$s)(P,ue.intervalMillis),vn={throttleEndTimeMillis:Date.now()+yn,backoffCount:P+1};return ue.setThrottleMetadata(Ge,vn),cn.debug(`Calling attemptFetch again in ${yn} millis`),jo(E,vn,Y,ue)}}),ji.apply(this,arguments)}class ho{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let au,er;function b(){return(b=(0,he.Z)(function*(E,A,P,Y,ue){if(ue&&ue.global)E("event",P,Y);else{const we=yield A;E("event",P,Object.assign(Object.assign({},Y),{send_to:we}))}})).apply(this,arguments)}function Ho(){return(Ho=(0,he.Z)(function*(){if(!(0,le.hl)())return cn.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(E){return cn.warn(Bn.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Mo(){return Mo=(0,he.Z)(function*(E,A,P,Y,ue,we,Ge){var St;const Dt=function Jn(E){return na.apply(this,arguments)}(E);Dt.then(ss=>{P[ss.measurementId]=ss.appId,E.options.measurementId&&ss.measurementId!==E.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${ss.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ss=>cn.error(ss)),A.push(Dt);const Ht=function $a(){return Ho.apply(this,arguments)}().then(ss=>{if(ss)return Y.getId()}),[yn,vn]=yield Promise.all([Dt,Ht]);(function iu(E){const A=window.document.getElementsByTagName("script");for(const P of Object.values(A))if(P.src&&P.src.includes(Da)&&P.src.includes(E))return P;return null})(we)||function Vo(E,A){const P=function Ta(E,A){let P;return window.trustedTypes&&(P=window.trustedTypes.createPolicy(E,A)),P}("firebase-js-sdk-policy",{createScriptURL:Ct}),Y=document.createElement("script"),ue=`${Da}?l=${E}&id=${A}`;Y.src=P?P?.createScriptURL(ue):ue,Y.async=!0,document.head.appendChild(Y)}(we,yn.measurementId),er&&(ue("consent","default",er),function Ns(E){er=E}(void 0)),ue("js",new Date);const ks=null!==(St=Ge?.config)&&void 0!==St?St:{};return ks[da]="firebase",ks.update=!0,null!=vn&&(ks[is]=vn),ue("config",yn.measurementId,ks),au&&(ue("set",au),function Ao(E){au=E}(void 0)),yn.measurementId}),Mo.apply(this,arguments)}class Du{constructor(A){this.app=A}_delete(){return delete zo[this.app.options.appId],Promise.resolve()}}let zo={},Rc=[];const Nc={};let hl,ra,za="dataLayer",$i=!1;function fl(E,A,P){!function si(){const E=[];if((0,le.ru)()&&E.push("This is a browser extension environment."),(0,le.zI)()||E.push("Cookies are not available."),E.length>0){const A=E.map((Y,ue)=>`(${ue+1}) ${Y}`).join(" "),P=Bn.create("invalid-analytics-context",{errorInfo:A});cn.warn(P.message)}}();const Y=E.options.appId;if(!Y)throw Bn.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Bn.create("no-api-key");cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zo[Y])throw Bn.create("already-exists",{id:Y});if(!$i){!function Eu(E){let A=[];Array.isArray(window[E])?A=window[E]:window[E]=A}(za);const{wrappedGtag:we,gtagCore:Ge}=function Rs(E,A,P,Y,ue){let we=function(...Ge){window[Y].push(arguments)};return window[ue]&&"function"==typeof window[ue]&&(we=window[ue]),window[ue]=function Ku(E,A,P,Y){function we(){return we=(0,he.Z)(function*(Ge,...St){try{if("event"===Ge){const[Dt,Ht]=St;yield function wu(E,A,P,Y,ue){return ba.apply(this,arguments)}(E,A,P,Dt,Ht)}else if("config"===Ge){const[Dt,Ht]=St;yield function pn(E,A,P,Y,ue,we){return Va.apply(this,arguments)}(E,A,P,Y,Dt,Ht)}else if("consent"===Ge){const[Dt]=St;E("consent","update",Dt)}else if("get"===Ge){const[Dt,Ht,yn]=St;E("get",Dt,Ht,yn)}else if("set"===Ge){const[Dt]=St;E("set",Dt)}else E(Ge,...St)}catch(Dt){cn.error(Dt)}}),we.apply(this,arguments)}return function ue(Ge){return we.apply(this,arguments)}}(we,E,A,P),{gtagCore:we,wrappedGtag:window[ue]}}(zo,Rc,Nc,za,"gtag");ra=we,hl=Ge,$i=!0}return zo[Y]=function Ha(E,A,P,Y,ue,we,Ge){return Mo.apply(this,arguments)}(E,Rc,Nc,A,hl,za,P),new Du(E)}function ps(){return ha.apply(this,arguments)}function ha(){return(ha=(0,he.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const Oc="@firebase/analytics";!function ai(){(0,ae.Xd)(new de.wA(mn,(A,{options:P})=>fl(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,ae.Xd)(new de.wA("analytics-internal",function E(A){try{const P=A.getProvider(mn).getImmediate();return{logEvent:(Y,ue,we)=>function fa(E,A,P,Y){E=(0,le.m9)(E),function _(E,A,P,Y,ue){return b.apply(this,arguments)}(ra,zo[E.app.options.appId],A,P,Y).catch(ue=>cn.error(ue))}(P,Y,ue,we)}}catch(P){throw Bn.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,ae.KN)(Oc,"0.10.0"),(0,ae.KN)(Oc,"0.10.0","esm2017")}();var Qu=B(1954),Ei=B(9931);const Pc=new class ia extends Ei.v{}(class Aa extends Qu.o{constructor(A,P){super(A,P),this.scheduler=A,this.work=P}schedule(A,P=0){return P>0?super.schedule(A,P):(this.delay=P,this.state=A,this.scheduler.flush(this),this)}execute(A,P){return P>0||this.closed?super.execute(A,P):this._execute(A,P)}requestAsyncId(A,P,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(A,P,Y):(A.flush(this),0)}});var Xu=B(6321),kc=B(5592),Ga=B(9397),fo=B(5137),sa=B(3093);const oa=new m.GfV("7.6.1"),Os="__angularfire_symbol__analyticsIsSupportedValue",pa="__angularfire_symbol__analyticsIsSupported",no="__angularfire_symbol__remoteConfigIsSupportedValue",Ju="__angularfire_symbol__remoteConfigIsSupported",ga="__angularfire_symbol__messagingIsSupportedValue",cu="__angularfire_symbol__messagingIsSupported";function lu(E,A,P){if(A){if(1===A.length)return A[0];const we=A.filter(Ge=>Ge.app===P);if(1===we.length)return we[0]}return P.container.getProvider(E).getImmediate({optional:!0})}globalThis[pa]||(globalThis[pa]=ps().then(E=>globalThis[Os]=E).catch(()=>globalThis[Os]=!1)),globalThis[cu]||(globalThis[cu]=Ba().then(E=>globalThis[ga]=E).catch(()=>globalThis[ga]=!1)),globalThis[Ju]||(globalThis[Ju]=Ki().then(E=>globalThis[no]=E).catch(()=>globalThis[no]=!1));const Lc=(E,A)=>{const P=A?[A]:(0,Z.C6)(),Y=[];return P.forEach(ue=>{ue.container.getProvider(E).instances.forEach(Ge=>{Y.includes(Ge)||Y.push(Ge)})}),Y};function xo(){}class ma{constructor(A,P=Pc){this.zone=A,this.delegate=P}now(){return this.delegate.now()}schedule(A,P,Y){const ue=this.zone;return this.delegate.schedule(function(Ge){ue.runGuarded(()=>{A.apply(this,[Ge])})},P,Y)}}class ml{constructor(A){this.zone=A,this.task=null}call(A,P){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xo,{},xo,xo)),P.pipe((0,Ga.b)({next:Y,complete:Y,error:Y})).subscribe(A).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Au=(()=>{class E{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new ma(Zone.current)),this.insideAngular=P.run(()=>new ma(Zone.current,Xu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(P){return new(P||E)(m.LFG(m.R0b))},E.\u0275prov=m.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function xa(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function ya(E){return xa().ngZone.run(()=>E())}function Nr(E){return xa(),function Ra(E){return function(P){return(P=P.lift(new ml(E.ngZone))).pipe((0,fo.R)(E.outsideAngular),(0,sa.Q)(E.insideAngular))}}(xa())(E)}const Uc=(E,A)=>function(){const Y=arguments;return A&&setTimeout(()=>{"scheduled"===A.state&&A.invoke()},10),ya(()=>E.apply(void 0,Y))},Mu=(E,A)=>function(){let P;const Y=arguments;for(let we=0;we<arguments.length;we++)"function"==typeof Y[we]&&(A&&(P||(P=ya(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xo,{},xo,xo)))),Y[we]=Uc(Y[we],P));const ue=function Fc(E){return xa().ngZone.runOutsideAngular(()=>E())}(()=>E.apply(this,Y));if(!A){if(ue instanceof kc.y){const we=xa();return ue.pipe((0,fo.R)(we.outsideAngular),(0,sa.Q)(we.insideAngular))}return ya(()=>ue)}return ue instanceof kc.y?ue.pipe(Nr):ue instanceof Promise?ya(()=>new Promise((we,Ge)=>ue.then(St=>ya(()=>we(St)),St=>ya(()=>Ge(St))))):"function"==typeof ue&&P?function(){return setTimeout(()=>{P&&"scheduled"===P.state&&P.invoke()},10),ue.apply(this,arguments)}:ya(()=>ue)}},5776:(jt,He,B)=>{B.d(He,{ET:()=>m_,hJ:()=>Dy,oe:()=>g_,JU:()=>pg,QT:()=>Ng,PL:()=>ky,ad:()=>Zv,cf:()=>Og,Xo:()=>id,IO:()=>Oo,pl:()=>f_,r7:()=>p_,ar:()=>bf});var fe,m=B(5861),Z=B(534),he=B(4537),ae=B(7879),le=B(9058),de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ie={},Le=Le||{},Q=de||self;function ie(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Me(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ye="closure_uid_"+(1e9*Math.random()>>>0),dt=0;function ht(i,e,n){return i.call.apply(i.bind,arguments)}function pt(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function ft(i,e,n){return(ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ht:pt).apply(null,arguments)}function Jt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function qt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),T=2;T<arguments.length;T++)f[T-2]=arguments[T];return e.prototype[u].apply(o,f)}}function Oe(){this.s=this.s,this.o=this.o}Oe.prototype.s=!1,Oe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function qe(i){Object.prototype.hasOwnProperty.call(i,Ye)&&i[Ye]||(i[Ye]=++dt)}(this)},Oe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ve=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function it(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Ue(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(ie(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function ne(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Q.addEventListener("test",()=>{},e),Q.removeEventListener("test",()=>{},e)}catch{}return i}();function Ot(i){return/^[\s\xa0]*$/.test(i)}function en(){var i=Q.navigator;return i&&(i=i.userAgent)?i:""}function Rn(i){return-1!=en().indexOf(i)}function wr(i){return wr[" "](i),i}wr[" "]=function(){};var je,i,gr=Rn("Opera"),bt=Rn("Trident")||Rn("MSIE"),un=Rn("Edge"),Ae=un||bt,xe=Rn("Gecko")&&!(-1!=en().toLowerCase().indexOf("webkit")&&!Rn("Edge"))&&!(Rn("Trident")||Rn("MSIE"))&&!Rn("Edge"),ze=-1!=en().toLowerCase().indexOf("webkit")&&!Rn("Edge");function be(){var i=Q.document;return i?i.documentMode:void 0}e:{var at="",Lt=(i=en(),xe?/rv:([^\);]+)(\)|;)/.exec(i):un?/Edge\/([\d\.]+)/.exec(i):bt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ze?/WebKit\/(\S+)/.exec(i):gr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Lt&&(at=Lt?Lt[1]:""),bt){var _n=be();if(null!=_n&&_n>parseFloat(at)){je=String(_n);break e}}je=at}var Dn=Q.document&&bt&&(be()||parseInt(je,10))||void 0;function Tt(i,e){if(ne.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(xe){e:{try{wr(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:bn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Tt.$.h.call(this)}}qt(Tt,ne);var bn={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ar="closure_listenable_"+(1e6*Math.random()|0),An=0;function Yn(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++An,this.fa=this.ia=!1}function ir(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Cn(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function kr(i){const e={};for(const n in i)e[n]=i[n];return e}const Vr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fi(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<Vr.length;l++)n=Vr[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function In(i){this.src=i,this.g={},this.h=0}function fr(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=ve(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(ir(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function on(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}In.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=on(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new Yn(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var Yt="closure_lm_"+(1e6*Math.random()|0),Qn={};function Ar(i,e,n,o,u){if(o&&o.once)return On(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Ar(i,e[l],n,o,u);return null}return n=Pn(n),i&&i[ar]?i.O(e,n,Me(o)?!!o.capture:!!o,u):Zr(i,e,n,!1,o,u)}function Zr(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=Me(u)?!!u.capture:!!u,T=Yr(i);if(T||(i[Yt]=T=new In(i)),(n=T.add(e,n,o,f,l)).proxy)return n;if(o=function Xn(){const e=gt;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)nt||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Ii(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function On(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)On(i,e[l],n,o,u);return null}return n=Pn(n),i&&i[ar]?i.P(e,n,Me(o)?!!o.capture:!!o,u):Zr(i,e,n,!0,o,u)}function dn(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)dn(i,e[l],n,o,u);else o=Me(o)?!!o.capture:!!o,n=Pn(n),i&&i[ar]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=on(l=i.g[e],n,o,u))&&(ir(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Yr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=on(e,n,o,u)),(n=-1<i?e[i]:null)&&Sn(n))}function Sn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[ar])fr(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Ii(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Yr(e))?(fr(n,i),0==n.h&&(n.src=null,e[Yt]=null)):ir(i)}}}function Ii(i){return i in Qn?Qn[i]:Qn[i]="on"+i}function gt(i,e){if(i.fa)i=!0;else{e=new Tt(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Sn(i),i=n.call(o,e)}return i}function Yr(i){return(i=i[Yt])instanceof In?i:null}var Wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pn(i){return"function"==typeof i?i:(i[Wn]||(i[Wn]=function(e){return i.handleEvent(e)}),i[Wn])}function En(){Oe.call(this),this.i=new In(this),this.S=this,this.J=null}function gn(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new ne(e,i);else if(e instanceof ne)e.target=e.target||i;else{var u=e;fi(e=new ne(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=ln(f,o,!0,e)&&u}if(u=ln(f=e.g=i,o,!0,e)&&u,u=ln(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=ln(f=e.g=n[l],o,!1,e)&&u}function ln(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var T=f.listener,x=f.la||f.src;f.ia&&fr(i.i,f),u=!1!==T.call(x,o)&&u}}return u&&!o.defaultPrevented}qt(En,Oe),En.prototype[ar]=!0,En.prototype.removeEventListener=function(i,e,n,o){dn(this,i,e,n,o)},En.prototype.N=function(){if(En.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)ir(n[o]);delete i.g[e],i.h--}}this.J=null},En.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},En.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Lr=Q.JSON.stringify;function tn(){var i=G;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var qn=new class Qr{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new jr,i=>i.reset());class jr{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ce(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function H(i){Q.setTimeout(()=>{throw i},0)}let W,z=!1,G=new class us{constructor(){this.h=this.g=null}add(e,n){const o=qn.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},Ee=()=>{const i=Q.Promise.resolve(void 0);W=()=>{i.then(rt)}};var rt=()=>{for(var i;i=tn();){try{i.h.call(i.g)}catch(n){H(n)}var e=qn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}z=!1};function yt(i,e){En.call(this),this.h=i||1,this.g=e||Q,this.j=ft(this.qb,this),this.l=Date.now()}function Qt(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Kt(i,e,n){if("function"==typeof i)n&&(i=ft(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ft(i.handleEvent,i)}return 2147483647<Number(e)?-1:Q.setTimeout(i,e||0)}function Vn(i){i.g=Kt(()=>{i.g=null,i.i&&(i.i=!1,Vn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}qt(yt,En),(fe=yt.prototype).ga=!1,fe.T=null,fe.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gn(this,"tick"),this.ga&&(Qt(this),this.start()))}},fe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fe.N=function(){yt.$.N.call(this),Qt(this),delete this.g};class nn extends Oe{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Vn(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mn(i){Oe.call(this),this.h=i,this.g={}}qt(Mn,Oe);var ui=[];function cs(i,e,n,o){Array.isArray(n)||(n&&(ui[0]=n.toString()),n=ui);for(var u=0;u<n.length;u++){var l=Ar(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Fr(i){Cn(i.g,function(e,n){this.g.hasOwnProperty(n)&&Sn(e)},i),i.g={}}function Be(){this.g=!0}function $e(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function mt(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return Lr(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Mn.prototype.N=function(){Mn.$.N.call(this),Fr(this)},Mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Be.prototype.Ea=function(){this.g=!1},Be.prototype.info=function(){};var $t={},ur=null;function tr(){return ur=ur||new En}function Xr(i){ne.call(this,$t.Ta,i)}function Pi(i){const e=tr();gn(e,new Xr(e))}function Mi(i,e){ne.call(this,$t.STAT_EVENT,i),this.stat=e}function _r(i){const e=tr();gn(e,new Mi(e,i))}function ls(i,e){ne.call(this,$t.Ua,i),this.size=e}function Mr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){i()},e)}$t.Ta="serverreachability",qt(Xr,ne),$t.STAT_EVENT="statevent",qt(Mi,ne),$t.Ua="timingevent",qt(ls,ne);var Jr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ts(){}function io(){}Ts.prototype.h=null;var me,ki={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xr(){ne.call(this,"d")}function ds(){ne.call(this,"c")}function pe(){}function De(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Mn(this),this.P=ct,this.V=new yt(i=Ae?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Xe}function Xe(){this.i=null,this.g="",this.h=!1}qt(xr,ne),qt(ds,ne),qt(pe,Ts),pe.prototype.g=function(){return new XMLHttpRequest},pe.prototype.i=function(){return{}},me=new pe;var ct=45e3,Wt={},kn={};function $n(i,e,n){i.L=1,i.v=gi(Hr(e)),i.s=n,i.S=!0,Ln(i,null)}function Ln(i,e){i.G=Date.now(),cr(i),i.A=Hr(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),pr(n.i,"t",o),i.C=0,n=i.l.J,i.h=new Xe,i.g=hs(i.l,n?e:null,!i.s),0<i.O&&(i.M=new nn(ft(i.Pa,i,i.g),i.O)),cs(i.U,i.g,"readystatechange",i.nb),e=i.I?kr(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Pi(),function re(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",T=l.split("&"),x=0;x<T.length;x++){var k=T[x].split("=");if(1<k.length){var K=k[0];k=k[1];var se=K.split("_");f=2<=se.length&&"type"==se[1]?f+(K+"=")+k+"&":f+(K+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Ys(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function pi(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=xi(i,n),u==kn){4==e&&(i.o=4,_r(14),o=!1),$e(i.j,i.m,null,"[Incomplete Response]");break}if(u==Wt){i.o=4,_r(15),$e(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}$e(i.j,i.m,u,null),Qs(i,u)}Ys(i)&&u!=kn&&u!=Wt&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,_r(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gr(e),e.M=!0,_r(11))):($e(i.j,i.m,n,"[Invalid Chunked Response]"),Li(i),oo(i))}function xi(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?kn:(n=Number(e.substring(n,o)),isNaN(n)?Wt:(o+=1)+n>e.length?kn:(e=e.slice(o,o+n),i.C=o+n,e))}function cr(i){i.Y=Date.now()+i.P,Po(i,i.P)}function Po(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Mr(ft(i.lb,i),e)}function so(i){i.B&&(Q.clearTimeout(i.B),i.B=null)}function oo(i){0==i.l.H||i.J||Xi(i.l,i)}function Li(i){so(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Qt(i.V),Fr(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Qs(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Rr(n.i,i)))if(!i.K&&Rr(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Wr(n),Ke(n)}zr(n),_r(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Mr(ft(n.ib,n),6e3));if(1>=js(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else br(n,11)}else if((i.K||n.g==i)&&Wr(n),!Ot(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let k=u[e];if(n.V=k[0],k=k[1],2==n.H)if("c"==k[0]){n.K=k[1],n.pa=k[2];const K=k[3];null!=K&&(n.ra=K,n.l.info("VER="+n.ra));const se=k[4];null!=se&&(n.Ga=se,n.l.info("SVER="+n.Ga));const Ne=k[5];null!=Ne&&"number"==typeof Ne&&0<Ne&&(n.L=o=1.5*Ne,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const Qe=i.g;if(Qe){const vt=Qe.g?Qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vt){var l=o.i;l.g||-1==vt.indexOf("spdy")&&-1==vt.indexOf("quic")&&-1==vt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Ki(l,l.h),l.h=null))}if(o.F){const Ut=Qe.g?Qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ut&&(o.Da=Ut,nr(o.I,o.F,Ut))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=Ji(o,o.J?o.pa:null,o.Y),f.K){$s(o.i,f);var T=f,x=o.L;x&&T.setTimeout(x),T.B&&(so(T),cr(T)),o.g=f}else ri(o);0<n.j.length&&Ft(n)}else"stop"!=k[0]&&"close"!=k[0]||br(n,7);else 3==n.H&&("stop"==k[0]||"close"==k[0]?"stop"==k[0]?br(n,7):Te(n):"noop"!=k[0]&&n.h&&n.h.Aa(k),n.A=0)}Pi()}catch{}}function Xs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ie(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function ca(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ie(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function Zo(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ie(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(fe=De.prototype).setTimeout=function(i){this.P=i},fe.nb=function(i){i=i.target;const e=this.M;e&&3==Di(i)?e.l():this.Pa(i)},fe.Pa=function(i){try{if(i==this.g)e:{const K=Di(this.g);var e=this.g.Ia();if(this.g.da(),!(3>K)&&(3!=K||Ae||this.g&&(this.h.h||this.g.ja()||ni(this.g)))){this.J||4!=K||7==e||Pi(),so(this);var n=this.g.da();this.ca=n;t:if(Ys(this)){var o=ni(this.g);i="";var u=o.length,l=4==Di(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Li(this),oo(this);var f="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function ye(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,K,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,x=this.g;if((T=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ot(T)){var k=T;break t}}k=null}if(!(n=k)){this.i=!1,this.o=3,_r(12),Li(this),oo(this);break e}$e(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qs(this,n)}this.S?(pi(this,K,f),Ae&&this.i&&3==K&&(cs(this.U,this.V,"tick",this.mb),this.V.start())):($e(this.j,this.m,f,null),Qs(this,f)),4==K&&Li(this),this.i&&!this.J&&(4==K?Xi(this.l,this):(this.i=!1,cr(this)))}else(function Ti(i){const e={};i=(i.g&&2<=Di(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(Ot(i[o]))continue;var n=ce(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function Gt(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,_r(12)):(this.o=0,_r(13)),Li(this),oo(this)}}}catch{}},fe.mb=function(){if(this.g){var i=Di(this.g),e=this.g.ja();this.C<e.length&&(so(this),pi(this,i,e),this.i&&4!=i&&cr(this))}},fe.cancel=function(){this.J=!0,Li(this)},fe.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function ut(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Pi(),_r(17)),Li(this),this.o=2,oo(this)):Po(this,this.Y-i)};var ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bs(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof bs){this.h=i.h,Bs(this,i.j),this.s=i.s,this.g=i.g,Eo(this,i.m),this.l=i.l;var e=i.i,n=new ao;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Vs(this,n),this.o=i.o}else i&&(e=String(i).match(ko))?(this.h=!1,Bs(this,e[1]||"",!0),this.s=Js(e[2]||""),this.g=Js(e[3]||"",!0),Eo(this,e[4]),this.l=Js(e[5]||"",!0),Vs(this,e[6]||"",!0),this.o=Js(e[7]||"")):(this.h=!1,this.i=new ao(null,this.h))}function Hr(i){return new bs(i)}function Bs(i,e,n){i.j=n?Js(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Eo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Vs(i,e,n){e instanceof ao?(i.i=e,function hn(i,e){e&&!i.j&&(gs(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(wo(this,o),pr(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Wi(e,qi)),i.i=new ao(e,i.h))}function nr(i,e,n){i.i.set(e,n)}function gi(i){return nr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Js(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Wi(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Fn),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Fn(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}bs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Wi(e,ei,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Wi(e,ei,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Wi(n,"/"==n.charAt(0)?Cs:ci,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Wi(n,Yo)),i.join("")};var ei=/[#\/\?@]/g,ci=/[#\?:]/g,Cs=/[#\?]/g,qi=/[#\?@]/g,Yo=/#/g;function ao(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function gs(i){i.g||(i.g=new Map,i.h=0,i.i&&function Io(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function wo(i,e){gs(i),e=Et(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ss(i,e){return gs(i),e=Et(i,e),i.g.has(e)}function pr(i,e,n){wo(i,e),0<n.length&&(i.i=null,i.g.set(Et(i,e),it(n)),i.h+=n.length)}function Et(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Fi(i){this.l=i||ms,i=Q.PerformanceNavigationTiming?0<(i=Q.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(fe=ao.prototype).add=function(i,e){gs(this),this.i=null,i=Et(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},fe.forEach=function(i,e){gs(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},fe.ta=function(){gs(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},fe.Z=function(i){gs(this);let e=[];if("string"==typeof i)Ss(this,i)&&(e=e.concat(this.g.get(Et(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},fe.set=function(i,e){return gs(this),this.i=null,Ss(this,i=Et(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},fe.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var ms=10;function mi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function js(i){return i.h?1:i.g?i.g.size:0}function Rr(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Ki(i,e){i.g?i.g.add(e):i.h=e}function $s(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function an(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return it(i.i)}Fi.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var As=class{stringify(i){return Q.JSON.stringify(i,void 0)}parse(i){return Q.JSON.parse(i,void 0)}};function Lo(){this.g=new As}function uo(i,e,n){const o=n||"";try{Xs(i,function(u,l){let f=u;Me(u)&&(f=Lr(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ys(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function yi(i){this.l=i.fc||null,this.j=i.ob||!1}function Dr(i,e){En.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qt(yi,Ts),yi.prototype.g=function(){return new Dr(this.l,this.j)},yi.prototype.i=function(i){return function(){return i}}({}),qt(Dr,En);var vs=0;function Zi(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Yi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,vi(i)}function vi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(fe=Dr.prototype).open=function(i,e){if(this.readyState!=vs)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,vi(this)},fe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yi(this)),this.readyState=vs},fe.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zi(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},fe.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Yi(this):vi(this),3==this.readyState&&Zi(this)}},fe.Za=function(i){this.g&&(this.response=this.responseText=i,Yi(this))},fe.Ya=function(i){this.g&&(this.response=i,Yi(this))},fe.ka=function(){this.g&&Yi(this)},fe.setRequestHeader=function(i,e){this.v.append(i,e)},fe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},fe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Do=Q.JSON.parse;function Tr(i){En.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Hn,this.L=this.M=!1}qt(Tr,En);var Hn="",la=/^https?$/i,Ui=["POST","PUT"];function Bi(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Qi(i),Hs(i)}function Qi(i){i.F||(i.F=!0,gn(i,"complete"),gn(i,"error"))}function _s(i){if(i.h&&typeof Le<"u"&&(!i.C[1]||4!=Di(i)||2!=i.da()))if(i.v&&4==Di(i))Kt(i.La,0,i);else if(gn(i,"readystatechange"),4==Di(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(ko)[1]||null;!u&&Q.self&&Q.self.location&&(u=Q.self.location.protocol.slice(0,-1)),o=!la.test(u?u.toLowerCase():"")}n=o}if(n)gn(i,"complete"),gn(i,"success");else{i.m=6;try{var l=2<Di(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",Qi(i)}}finally{Hs(i)}}}function Hs(i,e){if(i.g){li(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||gn(i,"ready");try{n.onreadystatechange=o}catch{}}}function li(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Q.clearTimeout(i.A),i.A=null)}function Di(i){return i.g?i.g.readyState:0}function ni(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Hn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function F(i){let e="";return Cn(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function L(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=F(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):nr(i,e,n))}function J(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function oe(i){this.Ga=0,this.j=[],this.l=new Be,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=J("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=J("baseRetryDelayMs",5e3,i),this.hb=J("retryDelaySeedMs",1e4,i),this.eb=J("forwardChannelMaxRetries",2,i),this.xa=J("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Fi(i&&i.concurrentRequestLimit),this.Ja=new Lo,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Te(i){if(_t(i),3==i.H){var e=i.W++,n=Hr(i.I);if(nr(n,"SID",i.K),nr(n,"RID",e),nr(n,"TYPE","terminate"),xn(i,n),(e=new De(i,i.l,e)).L=2,e.v=gi(Hr(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=hs(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cr(e)}_i(i)}function Ke(i){i.g&&(Gr(i),i.g.cancel(),i.g=null)}function _t(i){Ke(i),i.u&&(Q.clearTimeout(i.u),i.u=null),Wr(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Q.clearTimeout(i.m),i.m=null)}function Ft(i){if(!mi(i.i)&&!i.m){i.m=!0;var e=i.Na;W||Ee(),z||(W(),z=!0),G.add(e,i),i.C=0}}function fn(i,e){var n;n=e?e.m:i.W++;const o=Hr(i.I);nr(o,"SID",i.K),nr(o,"RID",n),nr(o,"AID",i.V),xn(i,o),i.o&&i.s&&L(o,i.o,i.s),n=new De(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Ur(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Ki(i.i,n),$n(n,o,e)}function xn(i,e){i.na&&Cn(i.na,function(n,o){nr(e,o,n)}),i.h&&Xs({},function(n,o){nr(e,o,n)})}function Ur(i,e,n){n=Math.min(i.j.length,n);var o=i.h?ft(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let T=!0;for(let x=0;x<n;x++){let k=u[x].g;const K=u[x].map;if(k-=l,0>k)l=Math.max(0,u[x].g-100),T=!1;else try{uo(K,f,"req"+k+"_")}catch{o&&o(K)}}if(T){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function ri(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;W||Ee(),z||(W(),z=!0),G.add(e,i),i.A=0}}function zr(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Mr(ft(i.Ma,i),di(i,i.A)),i.A++,0))}function Gr(i){null!=i.B&&(Q.clearTimeout(i.B),i.B=null)}function Ri(i){i.g=new De(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Hr(i.wa);nr(e,"RID","rpc"),nr(e,"SID",i.K),nr(e,"AID",i.V),nr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&nr(e,"TO",i.qa),nr(e,"TYPE","xmlhttp"),xn(i,e),i.o&&i.s&&L(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=gi(Hr(e)),n.s=null,n.S=!0,Ln(n,i)}function Wr(i){null!=i.v&&(Q.clearTimeout(i.v),i.v=null)}function Xi(i,e){var n=null;if(i.g==e){Wr(i),Gr(i),i.g=null;var o=2}else{if(!Rr(i.i,e))return;n=e.F,$s(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;gn(o=tr(),new ls(o,n)),Ft(i)}else ri(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function At(i,e){return!(js(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Mr(ft(i.Na,i,e),di(i,i.C)),i.C++,0)))}(i,e)||2==o&&zr(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:br(i,5);break;case 4:br(i,10);break;case 3:br(i,6);break;default:br(i,2)}}function di(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function br(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=ft(i.pb,i);n||(n=new bs("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||Bs(n,"https"),gi(n)),function ti(i,e){const n=new Be;if(Q.Image){const o=new Image;o.onload=Jt(ys,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Jt(ys,n,o,"TestLoadImage: error",!1,e),o.onabort=Jt(ys,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Jt(ys,n,o,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else _r(2);i.H=0,i.h&&i.h.za(e),_i(i),_t(i)}function _i(i){if(i.H=0,i.ma=[],i.h){const e=an(i.i);(0!=e.length||0!=i.j.length)&&(Ue(i.ma,e),Ue(i.ma,i.j),i.i.i.length=0,it(i.j),i.j.length=0),i.h.ya()}}function Ji(i,e,n){var o=n instanceof bs?Hr(n):new bs(n);if(""!=o.g)e&&(o.g=e+"."+o.g),Eo(o,o.m);else{var u=Q.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new bs(null);o&&Bs(l,o),e&&(l.g=e),u&&Eo(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&nr(o,n,e),nr(o,"VER",i.ra),xn(i,o),o}function hs(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tr(n&&i.Ha&&!i.va?new yi({ob:!0}):i.va)).Oa(i.J),e}function Vi(){}function Ms(){if(bt&&!(10<=Number(Dn)))throw Error("Environmental error: no available transport.")}function es(i,e){En.call(this),this.g=new oe(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Ot(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ot(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new fs(this)}function Qo(i){xr.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function co(){ds.call(this),this.status=1}function fs(i){this.g=i}function zs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function qr(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function mr(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(fe=Tr.prototype).Oa=function(i){this.M=i},fe.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():me.g(),this.C=function Un(i){return i.h||(i.h=i.i())}(this.u?this.u:me),this.g.onreadystatechange=ft(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void Bi(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=Q.FormData&&i instanceof Q.FormData,!(0<=ve(Ui,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{li(this),0<this.B&&((this.L=function Fo(i){return bt&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ft(this.ua,this)):this.A=Kt(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){Bi(this,l)}},fe.ua=function(){typeof Le<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gn(this,"timeout"),this.abort(8))},fe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,gn(this,"complete"),gn(this,"abort"),Hs(this))},fe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hs(this,!0)),Tr.$.N.call(this)},fe.La=function(){this.s||(this.G||this.v||this.l?_s(this):this.kb())},fe.kb=function(){_s(this)},fe.isActive=function(){return!!this.g},fe.da=function(){try{return 2<Di(this)?this.g.status:-1}catch{return-1}},fe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},fe.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Do(e)}},fe.Ia=function(){return this.m},fe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(fe=oe.prototype).ra=8,fe.H=1,fe.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new De(this,this.l,i);let l=this.s;if(this.U&&(l?(l=kr(l),fi(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ur(this,u,e),nr(n=Hr(this.I),"RID",i),nr(n,"CVER",22),this.F&&nr(n,"X-HTTP-Session-Id",this.F),xn(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(F(l)))+"&"+e:this.o&&L(n,this.o,l)),Ki(this.i,u),this.bb&&nr(n,"TYPE","init"),this.P?(nr(n,"$req",e),nr(n,"SID","null"),u.aa=!0,$n(u,n,null)):$n(u,n,e),this.H=2}}else 3==this.H&&(i?fn(this,i):0==this.j.length||mi(this.i)||fn(this))},fe.Ma=function(){if(this.u=null,Ri(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Mr(ft(this.jb,this),i)}},fe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_r(10),Ke(this),Ri(this))},fe.ib=function(){null!=this.v&&(this.v=null,Ke(this),zr(this),_r(19))},fe.pb=function(i){i?(this.l.info("Successfully pinged google.com"),_r(2)):(this.l.info("Failed to ping google.com"),_r(1))},fe.isActive=function(){return!!this.h&&this.h.isActive(this)},(fe=Vi.prototype).Ba=function(){},fe.Aa=function(){},fe.za=function(){},fe.ya=function(){},fe.isActive=function(){return!0},fe.Va=function(){},Ms.prototype.g=function(i,e){return new es(i,e)},qt(es,En),es.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;_r(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Ji(i,null,i.Y),Ft(i)},es.prototype.close=function(){Te(this.g)},es.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Lr(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Ft(e)},es.prototype.N=function(){this.g.h=null,delete this.j,Te(this.g),delete this.g,es.$.N.call(this)},qt(Qo,xr),qt(co,ds),qt(fs,Vi),fs.prototype.Ba=function(){gn(this.g,"a")},fs.prototype.Aa=function(i){gn(this.g,new Qo(i))},fs.prototype.za=function(i){gn(this.g,new co)},fs.prototype.ya=function(){gn(this.g,"b")},qt(zs,function bi(){this.blockSize=-1}),zs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zs.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)qr(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){qr(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){qr(this,o),u=0;break}}this.h=u,this.i+=e},zs.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var ts={};function Ea(i){return-128<=i&&128>i?function It(i,e){var n=ts;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new mr([0|e],0>e?-1:0)}):new mr([0|i],0>i?-1:0)}function ns(i){if(isNaN(i)||!isFinite(i))return eo;if(0>i)return Ci(ns(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=To;return new mr(e,0)}var To=4294967296,eo=Ea(0),Jo=Ea(1),Fa=Ea(16777216);function xs(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Is(i){return-1==i.h}function Ci(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new mr(n,~i.h).add(Jo)}function ea(i,e){return i.add(Ci(e))}function lo(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Gs(i,e){this.g=i,this.h=e}function Ws(i,e){if(xs(e))throw Error("division by zero");if(xs(i))return new Gs(eo,eo);if(Is(i))return e=Ws(Ci(i),e),new Gs(Ci(e.g),Ci(e.h));if(Is(e))return e=Ws(i,Ci(e)),new Gs(Ci(e.g),e.h);if(30<i.g.length){if(Is(i)||Is(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Jo,o=e;0>=o.X(i);)n=Ua(n),o=Ua(o);var u=bo(n,1),l=bo(o,1);for(o=bo(o,2),n=bo(n,2);!xs(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=bo(o,1),n=bo(n,1)}return e=ea(i,u.R(e)),new Gs(u,e)}for(u=eo;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=ns(n)).R(e);Is(f)||0<f.X(i);)f=(l=ns(n-=o)).R(e);xs(l)&&(l=Jo),u=u.add(l),i=ea(i,f)}return new Gs(u,i)}function Ua(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new mr(n,i.h)}function bo(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new mr(u,i.h)}(fe=mr.prototype).ea=function(){if(Is(this))return-Ci(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:To+o)*e,e*=To}return i},fe.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(xs(this))return"0";if(Is(this))return"-"+Ci(this).toString(i);for(var e=ns(Math.pow(i,6)),n=this,o="";;){var u=Ws(n,e).g,l=((0<(n=ea(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(xs(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},fe.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},fe.X=function(i){return Is(i=ea(this,i))?-1:xs(i)?0:1},fe.abs=function(){return Is(this)?Ci(this):this},fe.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new mr(n,-2147483648&n[n.length-1]?-1:0)},fe.R=function(i){if(xs(this)||xs(i))return eo;if(Is(this))return Is(i)?Ci(this).R(Ci(i)):Ci(Ci(this).R(i));if(Is(i))return Ci(this.R(Ci(i)));if(0>this.X(Fa)&&0>i.X(Fa))return ns(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),T=i.D(u)>>>16,x=65535&i.D(u);n[2*o+2*u]+=f*x,lo(n,2*o+2*u),n[2*o+2*u+1]+=l*x,lo(n,2*o+2*u+1),n[2*o+2*u+1]+=f*T,lo(n,2*o+2*u+1),n[2*o+2*u+2]+=l*T,lo(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new mr(n,0)},fe.gb=function(i){return Ws(this,i).h},fe.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new mr(n,this.h&i.h)},fe.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new mr(n,this.h|i.h)},fe.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new mr(n,this.h^i.h)},Ms.prototype.createWebChannel=Ms.prototype.g,es.prototype.send=es.prototype.u,es.prototype.open=es.prototype.m,es.prototype.close=es.prototype.close,Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,jn.COMPLETE="complete",io.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",En.prototype.listen=En.prototype.O,Tr.prototype.listenOnce=Tr.prototype.P,Tr.prototype.getLastError=Tr.prototype.Sa,Tr.prototype.getLastErrorCode=Tr.prototype.Ia,Tr.prototype.getStatus=Tr.prototype.da,Tr.prototype.getResponseJson=Tr.prototype.Wa,Tr.prototype.getResponseText=Tr.prototype.ja,Tr.prototype.send=Tr.prototype.ha,Tr.prototype.setWithCredentials=Tr.prototype.Oa,zs.prototype.digest=zs.prototype.l,zs.prototype.reset=zs.prototype.reset,zs.prototype.update=zs.prototype.j,mr.prototype.add=mr.prototype.add,mr.prototype.multiply=mr.prototype.R,mr.prototype.modulo=mr.prototype.gb,mr.prototype.compare=mr.prototype.X,mr.prototype.toNumber=mr.prototype.ea,mr.prototype.toString=mr.prototype.toString,mr.prototype.getBits=mr.prototype.D,mr.fromNumber=ns,mr.fromString=function Xo(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Ci(Xo(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ns(Math.pow(e,8)),o=eo,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=ns(Math.pow(e,l)),o=o.R(l).add(ns(f))):o=(o=o.R(n)).add(ns(f))}return o};var eu=Ie.createWebChannelTransport=function(){return new Ms},w=Ie.getStatEventTarget=function(){return tr()},V=Ie.ErrorCode=Jr,M=Ie.EventType=jn,O=Ie.Event=$t,X=Ie.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Re=Ie.FetchXmlHttpFactory=yi,We=Ie.WebChannel=io,Pt=Ie.XhrIo=Tr,Cr=Ie.Md5=zs,sr=Ie.Integer=mr;const lr="@firebase/firestore";class Zt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Ir="9.23.0";const Nn=new ae.Yd("@firebase/firestore");function ii(){return Nn.logLevel}function st(i,...e){if(Nn.logLevel<=ae.in.DEBUG){const n=e.map(rs);Nn.debug(`Firestore (${Ir}): ${i}`,...n)}}function Sr(i,...e){if(Nn.logLevel<=ae.in.ERROR){const n=e.map(rs);Nn.error(`Firestore (${Ir}): ${i}`,...n)}}function hi(i,...e){if(Nn.logLevel<=ae.in.WARN){const n=e.map(rs);Nn.warn(`Firestore (${Ir}): ${i}`,...n)}}function rs(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Nt(i="Unexpected state"){const e=`FIRESTORE (${Ir}) INTERNAL ASSERTION FAILED: `+i;throw Sr(e),new Error(e)}function Bt(i,e){i||Nt()}function Mt(i,e){return i}const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends le.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class tu{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ba{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class nu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qu{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=k=>this.i!==u?(u=this.i,n(k)):Promise.resolve();let f=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Si,e.enqueueRetryable(()=>l(this.currentUser))};const T=()=>{const k=f;e.enqueueRetryable((0,m.Z)(function*(){yield k.promise,yield l(o.currentUser)}))},x=k=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=k,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(k=>x(k)),setTimeout(()=>{if(!this.auth){const k=this.t.getImmediate({optional:!0});k?x(k):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Si)}},0),T()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Bt("string"==typeof o.accessToken),new tu(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bt(null===e||"string"==typeof e),new Zt(e)}}class to{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Iu{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new to(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kr{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,st("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Bt("string"==typeof n.token),this.T=n.token,new Mc(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ru(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class yr{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=ru(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function mn(i,e){return i<e?-1:i>e?1:0}function is(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class rr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new tt(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tt(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new tt(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new rr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xt(e)}static min(){return new Xt(new rr(0,0))}static max(){return new Xt(new rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Da{constructor(e,n,o){void 0===n?n=0:n>e.length&&Nt(),void 0===o?o=e.length-n:o>e.length-n&&Nt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Da.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Da?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class cn extends Da{construct(e,n,o){return new cn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new tt(Fe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new cn(n)}static emptyPath(){return new cn([])}}const Bo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Da{construct(e,n,o){return new Bn(e,n,o)}static isValidIdentifier(e){return Bo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bn(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new tt(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new tt(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const x=e[u+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new tt(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=x,u+=2}else"`"===T?(f=!f,u++):"."!==T||f?(o+=T,u++):(l(),u++)}if(l(),f)throw new tt(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(n)}static emptyPath(){return new Bn([])}}class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(cn.fromString(e))}static fromName(e){return new Ct(cn.fromString(e).popFirst(5))}static empty(){return new Ct(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return cn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new cn(e.slice()))}}function Ku(i){return new Rs(i.readTime,i.key,-1)}class Rs{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Rs(Xt.min(),Ct.empty(),-1)}static max(){return new Rs(Xt.max(),Ct.empty(),-1)}}function iu(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ct.comparator(i.documentKey,e.documentKey),0!==n?n:mn(i.largestBatchId,e.largestBatchId))}const Ca="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ta(i){return su.apply(this,arguments)}function su(){return su=(0,m.Z)(function*(i){if(i.code!==Fe.FAILED_PRECONDITION||i.message!==Ca)throw i;st("LocalStore","Unexpectedly lost primary lease")}),su.apply(this,arguments)}class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Pe((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Pe?n:Pe.resolve(n)}catch(n){return Pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Pe.reject(n)}static resolve(e){return new Pe((n,o)=>{n(e)})}static reject(e){return new Pe((n,o)=>{o(e)})}static waitFor(e){return new Pe((n,o)=>{let u=0,l=0,f=!1;e.forEach(T=>{++u,T.next(()=>{++l,f&&l===u&&n()},x=>o(x))}),f=!0,l===u&&n()})}static or(e){let n=Pe.resolve(!1);for(const o of e)n=n.next(u=>u?Pe.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Pe((o,u)=>{const l=e.length,f=new Array(l);let T=0;for(let x=0;x<l;x++){const k=x;n(e[k]).next(K=>{f[k]=K,++T,T===l&&o(f)},K=>u(K))}})}static doWhile(e,n){return new Pe((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function jo(i){return"IndexedDbTransactionError"===i.name}let b=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function y(i){return null==i}function S(i){return 0===i&&1/i==-1/0}function ha(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Sa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Zu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class or{constructor(e,n){this.comparator=e,this.root=n||Ni.EMPTY}insert(e,n){return new or(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(e){return new or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cu(this.root,e,this.comparator,!0)}}class Cu{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ni{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Ni.RED,this.left=u??Ni.EMPTY,this.right=l??Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Ni(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Ni.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const e=this.left.check();if(e!==this.right.check())throw Nt();return e+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1,Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(i,e,n,o,u){return this}insert(i,e,n){return new Ni(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class oi{constructor(e){this.comparator=e,this.data=new or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yu(this.data.getIterator())}getIteratorFrom(e){return new Yu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof oi)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new oi(this.comparator);return n.data=e,n}}class Yu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qs{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new qs([])}unionWith(e){let n=new oi(Bn.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new qs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return is(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Oc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Oc("Invalid base64 string: "+u):u}}(e);return new ai(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new ai(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const Qu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(i){if(Bt(!!i),"string"==typeof i){let e=0;const n=Qu.exec(i);if(Bt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ei(i.seconds),nanos:Ei(i.nanos)}}function Ei(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ia(i){return"string"==typeof i?ai.fromBase64String(i):ai.fromUint8Array(i)}function Pc(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Su(i){const e=i.mapValue.fields.__previous_value__;return Pc(e)?Su(e):e}function Xu(i){const e=Aa(i.mapValue.fields.__local_write_time__.timestampValue);return new rr(e.seconds,e.nanos)}class kc{constructor(e,n,o,u,l,f,T,x,k){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=T,this.longPollingOptions=x,this.useFetchStreams=k}}class Ga{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ga("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ga&&e.projectId===this.projectId&&e.database===this.database}}const fo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Pc(i)?4:ml(i)?9007199254740991:10:Nt()}function Os(i,e){if(i===e)return!0;const n=oa(i);if(n!==oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Xu(i).isEqual(Xu(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=Aa(o.timestampValue),f=Aa(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ia(i.bytesValue).isEqual(ia(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Ei(o.geoPointValue.latitude)===Ei(u.geoPointValue.latitude)&&Ei(o.geoPointValue.longitude)===Ei(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ei(o.integerValue)===Ei(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=Ei(o.doubleValue),f=Ei(u.doubleValue);return l===f?S(l)===S(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return is(i.arrayValue.values||[],e.arrayValue.values||[],Os);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(ha(l)!==ha(f))return!1;for(const T in l)if(l.hasOwnProperty(T)&&(void 0===f[T]||!Os(l[T],f[T])))return!1;return!0}(i,e);default:return Nt()}var u}function pa(i,e){return void 0!==(i.values||[]).find(n=>Os(n,e))}function no(i,e){if(i===e)return 0;const n=oa(i),o=oa(e);if(n!==o)return mn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return mn(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=Ei(u.integerValue||u.doubleValue),T=Ei(l.integerValue||l.doubleValue);return f<T?-1:f>T?1:f===T?0:isNaN(f)?isNaN(T)?0:-1:1}(i,e);case 3:return Ju(i.timestampValue,e.timestampValue);case 4:return Ju(Xu(i),Xu(e));case 5:return mn(i.stringValue,e.stringValue);case 6:return function(u,l){const f=ia(u),T=ia(l);return f.compareTo(T)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),T=l.split("/");for(let x=0;x<f.length&&x<T.length;x++){const k=mn(f[x],T[x]);if(0!==k)return k}return mn(f.length,T.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=mn(Ei(u.latitude),Ei(l.latitude));return 0!==f?f:mn(Ei(u.longitude),Ei(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],T=l.values||[];for(let x=0;x<f.length&&x<T.length;++x){const k=no(f[x],T[x]);if(k)return k}return mn(f.length,T.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===fo.mapValue&&l===fo.mapValue)return 0;if(u===fo.mapValue)return 1;if(l===fo.mapValue)return-1;const f=u.fields||{},T=Object.keys(f),x=l.fields||{},k=Object.keys(x);T.sort(),k.sort();for(let K=0;K<T.length&&K<k.length;++K){const se=mn(T[K],k[K]);if(0!==se)return se;const Ne=no(f[T[K]],x[k[K]]);if(0!==Ne)return Ne}return mn(T.length,k.length)}(i.mapValue,e.mapValue);default:throw Nt()}}function Ju(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return mn(i,e);const n=Aa(i),o=Aa(e),u=mn(n.seconds,o.seconds);return 0!==u?u:mn(n.nanos,o.nanos)}function ga(i){return cu(i)}function cu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Aa(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ia(i.bytesValue).toBase64():"referenceValue"in i?Ct.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=cu(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const T of u)f?f=!1:l+=",",l+=`${T}:${cu(o.fields[T])}`;return l+"}"}(i.mapValue):Nt();var e}function Ks(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function gl(i){return!!i&&"integerValue"in i}function Wa(i){return!!i&&"arrayValue"in i}function lu(i){return!!i&&"nullValue"in i}function Lc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xo(i){return!!i&&"mapValue"in i}function ma(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Sa(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=ma(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ma(i.arrayValue.values[n]);return e}return Object.assign({},i)}function ml(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ps{constructor(e){this.value=e}static empty(){return new Ps({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!xo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ma(n)}setAll(e){let n=Bn.emptyPath(),o={},u=[];e.forEach((f,T)=>{if(!n.isImmediateParentOf(T)){const x=this.getFieldsMap(n);this.applyChanges(x,o,u),o={},u=[],n=T.popLast()}f?o[T.lastSegment()]=ma(f):u.push(T.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());xo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];xo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Sa(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Ps(ma(this.value))}}function ec(i){const e=[];return Sa(i.fields,(n,o)=>{const u=new Bn([n]);if(xo(o)){const l=ec(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new qs(e)}class Nr{constructor(e,n,o,u,l,f,T){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=T}static newInvalidDocument(e){return new Nr(e,0,Xt.min(),Xt.min(),Xt.min(),Ps.empty(),0)}static newFoundDocument(e,n,o,u){return new Nr(e,1,n,Xt.min(),o,u,0)}static newNoDocument(e,n){return new Nr(e,2,n,Xt.min(),Xt.min(),Ps.empty(),0)}static newUnknownDocument(e,n){return new Nr(e,3,n,Xt.min(),Xt.min(),Ps.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ps.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ra{constructor(e,n){this.position=e,this.inclusive=n}}function Uc(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?Ct.comparator(Ct.fromName(f.referenceValue),n.key):no(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function Mu(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Os(i.position[n],e.position[n]))return!1;return!0}class E{constructor(e,n="asc"){this.field=e,this.dir=n}}function A(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class P{}class Y extends P{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new ss(e,n,o):"array-contains"===n?new va(e,o):"in"===n?new _a(e,o):"not-in"===n?new dh(e,o):"array-contains-any"===n?new nv(e,o):new Y(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new Go(e,o):new yl(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(no(n,this.value)):null!==n&&oa(this.value)===oa(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ue extends P{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ue(e,n)}matches(e){return we(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function we(i){return"and"===i.op}function St(i){return function Dt(i){for(const e of i.filters)if(e instanceof ue)return!1;return!0}(i)&&we(i)}function Ht(i){if(i instanceof Y)return i.field.canonicalString()+i.op.toString()+ga(i.value);if(St(i))return i.filters.map(e=>Ht(e)).join(",");{const e=i.filters.map(n=>Ht(n)).join(",");return`${i.op}(${e})`}}function yn(i,e){return i instanceof Y?(n=i,(o=e)instanceof Y&&n.op===o.op&&n.field.isEqual(o.field)&&Os(n.value,o.value)):i instanceof ue?function(n,o){return o instanceof ue&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&yn(l,o.filters[f]),!0)}(i,e):void Nt();var n,o}function ks(i){return i instanceof Y?`${(e=i).field.canonicalString()} ${e.op} ${ga(e.value)}`:i instanceof ue?function(e){return e.op.toString()+" {"+e.getFilters().map(ks).join(" ,")+"}"}(i):"Filter";var e}class ss extends Y{constructor(e,n,o){super(e,n,o),this.key=Ct.fromName(o.referenceValue)}matches(e){const n=Ct.comparator(e.key,this.key);return this.matchesComparison(n)}}class Go extends Y{constructor(e,n){super(e,"in",n),this.keys=du(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yl extends Y{constructor(e,n){super(e,"not-in",n),this.keys=du(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function du(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Ct.fromName(o.referenceValue))}class va extends Y{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wa(n)&&pa(n.arrayValue,this.value)}}class _a extends Y{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&pa(this.value.arrayValue,n)}}class dh extends Y{constructor(e,n){super(e,"not-in",n)}matches(e){if(pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!pa(this.value.arrayValue,n)}}class nv extends Y{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wa(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>pa(this.value.arrayValue,o))}}class hh{constructor(e,n=null,o=[],u=[],l=null,f=null,T=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=T,this.dt=null}}function dd(i,e=null,n=[],o=[],u=null,l=null,f=null){return new hh(i,e,n,o,u,l,f)}function po(i){const e=Mt(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>Ht(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),y(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>ga(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>ga(o)).join(",")),e.dt=n}return e.dt}function tc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!A(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!yn(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Mu(i.startAt,e.startAt)&&Mu(i.endAt,e.endAt)}function Bc(i){return Ct.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class qa{constructor(e,n=null,o=[],u=[],l=null,f="F",T=null,x=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=T,this.endAt=x,this.wt=null,this._t=null}}function aa(i){return new qa(i)}function hd(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function rc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function I(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function h(i){return null!==i.collectionGroup}function p(i){const e=Mt(i);if(null===e.wt){e.wt=[];const n=I(e),o=rc(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new E(n)),e.wt.push(new E(Bn.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new E(Bn.keyField(),l))}}}return e.wt}function D(i){const e=Mt(i);if(!e._t)if("F"===e.limitType)e._t=dd(e.path,e.collectionGroup,p(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of p(e))n.push(new E(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new Ra(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Ra(e.startAt.position,e.startAt.inclusive):null;e._t=dd(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function U(i,e){e.getFirstInequalityField(),I(i);const n=i.filters.concat([e]);return new qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function q(i,e,n){return new qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function _e(i,e){return tc(D(i),D(e))&&i.limitType===e.limitType}function Ve(i){return`${po(D(i))}|lt:${i.limitType}`}function wt(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>ks(o)).join(", ")}]`),y(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>ga(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>ga(o)).join(",")),`Target(${n})`}(D(i))}; limitType=${i.limitType})`}function Rt(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Ct.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of p(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const T=Uc(u,l,f);return u.inclusive?T<=0:T<0}(n.startAt,p(n),o)||n.endAt&&!function(u,l,f){const T=Uc(u,l,f);return u.inclusive?T>=0:T>0}(n.endAt,p(n),o)));var n,o}function dr(i){return(e,n)=>{let o=!1;for(const u of p(i)){const l=Ro(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Ro(i,e,n){const o=i.field.isKeyField()?Ct.comparator(e.key,n.key):function(u,l,f){const T=l.data.field(u),x=f.data.field(u);return null!==T&&null!==x?no(T,x):Nt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Nt()}}class ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Zu(this.inner)}size(){return this.innerSize}}const vl=new or(Ct.comparator);function go(){return vl}const ic=new or(Ct.comparator);function Ka(...i){let e=ic;for(const n of i)e=e.insert(n.key,n);return e}function fd(i){let e=ic;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function mo(){return Za()}function pd(){return Za()}function Za(){return new ro(i=>i.toString(),(i,e)=>i.isEqual(e))}const gd=new or(Ct.comparator),md=new oi(Ct.comparator);function zn(...i){let e=md;for(const n of i)e=e.add(n);return e}const sc=new oi(mn);function em(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:S(e)?"-0":e}}function tm(i){return{integerValue:""+i}}function Vc(i,e){return function R(i){return"number"==typeof i&&Number.isInteger(i)&&!S(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?tm(e):em(i,e)}class oc{constructor(){this._=void 0}}function rv(i,e,n){return i instanceof Il?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pc(u)&&(u=Su(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof El?nm(i,e):i instanceof jc?rm(i,e):function(o,u){const l=Vf(o,u),f=jf(l)+jf(o.gt);return gl(l)&&gl(o.gt)?tm(f):em(o.serializer,f)}(i,e)}function I0(i,e,n){return i instanceof El?nm(i,e):i instanceof jc?rm(i,e):n}function Vf(i,e){return i instanceof xu?gl(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Il extends oc{}class El extends oc{constructor(e){super(),this.elements=e}}function nm(i,e){const n=im(e);for(const o of i.elements)n.some(u=>Os(u,o))||n.push(o);return{arrayValue:{values:n}}}class jc extends oc{constructor(e){super(),this.elements=e}}function rm(i,e){let n=im(e);for(const o of i.elements)n=n.filter(u=>!Os(u,o));return{arrayValue:{values:n}}}class xu extends oc{constructor(e,n){super(),this.serializer=e,this.gt=n}}function jf(i){return Ei(i.integerValue||i.doubleValue)}function im(i){return Wa(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class sm{constructor(e,n){this.version=e,this.transformResults=n}}class os{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new os}static exists(e){return new os(void 0,e)}static updateTime(e){return new os(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class gh{}function mh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Ru(i.key,os.none()):new yd(i.key,i.data,os.none());{const n=i.data,o=Ps.empty();let u=new oi(Bn.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new ac(i.key,o,new qs(u.toArray()),os.none())}}function w0(i,e,n){i instanceof yd?function(o,u,l){const f=o.value.clone(),T=ov(o.fieldTransforms,u,l.transformResults);f.setAll(T),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof ac?function(o,u,l){if(!ph(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=ov(o.fieldTransforms,u,l.transformResults),T=u.data;T.setAll(sv(o)),T.setAll(f),u.convertToFoundDocument(l.version,T).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function yh(i,e,n,o){return i instanceof yd?function(u,l,f,T){if(!ph(u.precondition,l))return f;const x=u.value.clone(),k=om(u.fieldTransforms,T,l);return x.setAll(k),l.convertToFoundDocument(l.version,x).setHasLocalMutations(),null}(i,e,n,o):i instanceof ac?function(u,l,f,T){if(!ph(u.precondition,l))return f;const x=om(u.fieldTransforms,T,l),k=l.data;return k.setAll(sv(u)),k.setAll(x),l.convertToFoundDocument(l.version,k).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(K=>K.field))}(i,e,n,o):(f=n,ph(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function $f(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Vf(o.transform,u||null);null!=l&&(null===n&&(n=Ps.empty()),n.set(o.field,l))}return n||null}function iv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&is(n,o,(u,l)=>function E0(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof El&&o instanceof El||n instanceof jc&&o instanceof jc?is(n.elements,o.elements,Os):n instanceof xu&&o instanceof xu?Os(n.gt,o.gt):n instanceof Il&&o instanceof Il);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class yd extends gh{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ac extends gh{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function sv(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function ov(i,e,n){const o=new Map;Bt(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,T=e.data.field(l.field);o.set(l.field,I0(f,T,n[u]))}return o}function om(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,rv(l,f,e))}return o}class Ru extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dl extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vh{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&w0(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=yh(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=yh(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=pd();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let T=this.applyToLocalView(f,l.mutatedFields);T=n.has(u.key)?null:T;const x=mh(f,T);null!==x&&o.set(u.key,x),f.isValidDocument()||f.convertToNoDocument(Xt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),zn())}isEqual(e){return this.batchId===e.batchId&&is(this.mutations,e.mutations,(n,o)=>iv(n,o))&&is(this.baseMutations,e.baseMutations,(n,o)=>iv(n,o))}}class _h{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Bt(e.mutations.length===o.length);let u=gd;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new _h(e,n,o,u)}}class Ih{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class am{constructor(e,n){this.count=e,this.unchangedNames=n}}var Es,Er;function _d(i){if(void 0===i)return Sr("GRPC error has no .code"),Fe.UNKNOWN;switch(i){case Es.OK:return Fe.OK;case Es.CANCELLED:return Fe.CANCELLED;case Es.UNKNOWN:return Fe.UNKNOWN;case Es.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case Es.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case Es.INTERNAL:return Fe.INTERNAL;case Es.UNAVAILABLE:return Fe.UNAVAILABLE;case Es.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case Es.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case Es.NOT_FOUND:return Fe.NOT_FOUND;case Es.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case Es.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case Es.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case Es.ABORTED:return Fe.ABORTED;case Es.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case Es.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case Es.DATA_LOSS:return Fe.DATA_LOSS;default:return Nt()}}(Er=Es||(Es={}))[Er.OK=0]="OK",Er[Er.CANCELLED=1]="CANCELLED",Er[Er.UNKNOWN=2]="UNKNOWN",Er[Er.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Er[Er.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Er[Er.NOT_FOUND=5]="NOT_FOUND",Er[Er.ALREADY_EXISTS=6]="ALREADY_EXISTS",Er[Er.PERMISSION_DENIED=7]="PERMISSION_DENIED",Er[Er.UNAUTHENTICATED=16]="UNAUTHENTICATED",Er[Er.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Er[Er.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Er[Er.ABORTED=10]="ABORTED",Er[Er.OUT_OF_RANGE=11]="OUT_OF_RANGE",Er[Er.UNIMPLEMENTED=12]="UNIMPLEMENTED",Er[Er.INTERNAL=13]="INTERNAL",Er[Er.UNAVAILABLE=14]="UNAVAILABLE",Er[Er.DATA_LOSS=15]="DATA_LOSS";class Hf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Eh}static getOrCreateInstance(){return null===Eh&&(Eh=new Hf),Eh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Eh=null;const cm=new sr([4294967295,4294967295],0);function wh(i){const e=function um(){return new TextEncoder}().encode(i),n=new Cr;return n.update(e),new Uint8Array(n.digest())}function lm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new sr([n,o],0),new sr([u,l],0)]}class zf{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Id(`Invalid padding: ${n}`);if(o<0)throw new Id(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Id(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new Id(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=sr.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(sr.fromNumber(o)));return 1===u.compare(cm)&&(u=new sr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=wh(e),[o,u]=lm(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new zf(l,u,n);return o.forEach(T=>f.insert(T)),f}insert(e){if(0===this.It)return;const n=wh(e),[o,u]=lm(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Id extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bl{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Ed.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new bl(Xt.min(),u,new or(mn),go(),zn())}}class Ed{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Ed(o,n,zn(),zn(),zn())}}class Dh{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class qo{constructor(e,n){this.targetId=e,this.Vt=n}}class Th{constructor(e,n,o=ai.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Gf{constructor(){this.St=0,this.Dt=Cl(),this.Ct=ai.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=zn(),n=zn(),o=zn();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Nt()}}),new Ed(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=Cl()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Wf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=go(),this.zt=yo(),this.Wt=new or(mn)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:Nt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(Bc(f))if(0===u){const T=new Ct(f.path);this.Yt(o,T,Nr.newNoDocument(T,Xt.min()))}else Bt(1===u);else{const T=this.ie(o);if(T!==u){const x=this.re(e,T);0!==x&&(this.ee(o),this.Wt=this.Wt.insert(o,2===x?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Hf.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(k,K,se){var Ne,Qe,vt,Ut,Vt,Kn;const Pr={localCacheCount:K,existenceFilterCount:se.count},hr=se.unchangedNames;return hr&&(Pr.bloomFilter={applied:0===k,hashCount:null!==(Ne=hr?.hashCount)&&void 0!==Ne?Ne:0,bitmapLength:null!==(Ut=null===(vt=null===(Qe=hr?.bits)||void 0===Qe?void 0:Qe.bitmap)||void 0===vt?void 0:vt.length)&&void 0!==Ut?Ut:0,padding:null!==(Kn=null===(Vt=hr?.bits)||void 0===Vt?void 0:Vt.padding)&&void 0!==Kn?Kn:0}),Pr}(x,T,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:T=0}=o;let x,k;try{x=ia(l).toUint8Array()}catch(K){if(K instanceof Oc)return hi("Decoding the base64 bloom filter in existence filter failed ("+K.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw K}try{k=new zf(x,f,T)}catch(K){return hi(K instanceof Id?"BloomFilter error: ":"Applying bloom filter failed: ",K),1}return 0===k.It?1:u!==n-this.oe(e.targetId,k)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),T=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(T)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const T=this.se(f);if(T){if(l.current&&Bc(T.target)){const x=new Ct(T.target.path);null!==this.jt.get(x)||this.ae(f,x)||this.Yt(f,x,Nr.newNoDocument(x,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=zn();this.zt.forEach((l,f)=>{let T=!0;f.forEachWhile(x=>{const k=this.se(x);return!k||"TargetPurposeLimboResolution"===k.purpose||(T=!1,!1)}),T&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new bl(e,n,this.Wt,this.jt,o);return this.jt=go(),this.zt=yo(),this.Wt=new or(mn),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Gf,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new oi(mn),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||st("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Gf),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function yo(){return new or(Ct.comparator)}function Cl(){return new or(Ct.comparator)}const dm={asc:"ASCENDING",desc:"DESCENDING"},hm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},av={and:"AND",or:"OR"};class fm{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qf(i,e){return i.useProto3Json||y(e)?e:{value:e}}function $c(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function gm(i,e){return $c(i,e.toTimestamp())}function ws(i){return Bt(!!i),Xt.fromTimestamp(function(e){const n=Aa(e);return new rr(n.seconds,n.nanos)}(i))}function Kf(i,e){return(n=i,new cn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function bh(i){const e=cn.fromString(i);return Bt(Mh(e)),e}function Hc(i,e){return Kf(i.databaseId,e.path)}function hu(i,e){const n=bh(e);if(n.get(1)!==i.databaseId.projectId)throw new tt(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new tt(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ct(Zf(n))}function zc(i,e){return Kf(i.databaseId,e)}function wd(i){return new cn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Zf(i){return Bt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Yf(i,e,n){return{name:Hc(i,e),fields:n.value.mapValue.fields}}function ym(i,e){return{documents:[zc(i,e.path)]}}function Xf(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=zc(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zc(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(x){if(0!==x.length)return Em(ue.create(x,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(x){if(0!==x.length)return x.map(k=>{return{field:fu((K=k).field),direction:cv(K.dir)};var K})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=qf(i,e.limit);var T,x;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(n.structuredQuery.endAt={before:!(x=e.endAt).inclusive,values:x.position}),n}function vm(i){let e=function mm(i){const e=bh(i);return 4===e.length?cn.emptyPath():Zf(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Bt(1===o);const K=n.from[0];K.allDescendants?u=K.collectionId:e=e.child(K.collectionId)}let l=[];n.where&&(l=function(K){const se=_m(K);return se instanceof ue&&St(se)?se.getFilters():[se]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(K=>{return new E(uc((se=K).field),function(Ne){switch(Ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(se.direction));var se}));let T=null;n.limit&&(T=function(K){let se;return se="object"==typeof K?K.value:K,y(se)?null:se}(n.limit));let x=null;var K;n.startAt&&(x=new Ra((K=n.startAt).values||[],!!K.before));let k=null;return n.endAt&&(k=function(K){return new Ra(K.values||[],!K.before)}(n.endAt)),function Wo(i,e,n,o,u,l,f,T){return new qa(i,e,n,o,u,l,f,T)}(e,u,f,l,T,"F",x,k)}function _m(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=uc(e.unaryFilter.field);return Y.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=uc(e.unaryFilter.field);return Y.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uc(e.unaryFilter.field);return Y.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=uc(e.unaryFilter.field);return Y.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(i):void 0!==i.fieldFilter?Y.create(uc((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return ue.create(e.compositeFilter.filters.map(n=>_m(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Nt()}}(e.compositeFilter.op))}(i):Nt();var e}function cv(i){return dm[i]}function Im(i){return hm[i]}function Ah(i){return av[i]}function fu(i){return{fieldPath:i.canonicalString()}}function uc(i){return Bn.fromServerFormat(i.fieldPath)}function Em(i){return i instanceof Y?function(e){if("=="===e.op){if(Lc(e.value))return{unaryFilter:{field:fu(e.field),op:"IS_NAN"}};if(lu(e.value))return{unaryFilter:{field:fu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lc(e.value))return{unaryFilter:{field:fu(e.field),op:"IS_NOT_NAN"}};if(lu(e.value))return{unaryFilter:{field:fu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(e.field),op:Im(e.op),value:e.value}}}(i):i instanceof ue?function(e){const n=e.getFilters().map(o=>Em(o));return 1===n.length?n[0]:{compositeFilter:{op:Ah(e.op),filters:n}}}(i):Nt()}function lv(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Mh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class pu{constructor(e,n,o,u,l=Xt.min(),f=Xt.min(),T=ai.EMPTY_BYTE_STRING,x=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=T,this.expectedCount=x}withSequenceNumber(e){return new pu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cc{constructor(e){this.fe=e}}function Rh(i){const e=vm({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?q(e,e.limit,"L"):e}class Nu{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ei(e.integerValue));else if("doubleValue"in e){const o=Ei(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),S(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ia(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?ml(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Nt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),Ct.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Nu.Ve=new Nu;class op{constructor(){this.rn=new Oh}addToCollectionParentIndex(e,n){return this.rn.add(n),Pe.resolve()}getCollectionParents(e,n){return Pe.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Pe.resolve()}deleteFieldIndex(e,n){return Pe.resolve()}getDocumentsMatchingTarget(e,n){return Pe.resolve(null)}getIndexType(e,n){return Pe.resolve(0)}getFieldIndexes(e,n){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,n){return Pe.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return Pe.resolve(Rs.min())}updateCollectionGroup(e,n,o){return Pe.resolve()}updateIndexEntries(e,n){return Pe.resolve()}}class Oh{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new oi(cn.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new oi(cn.comparator)).toArray()}}new Uint8Array(0);class zi{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new zi(e,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(41943040,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);class fc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new fc(0)}static Mn(){return new fc(-1)}}class D0{constructor(){this.changes=new ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Pe.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mv{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Fm{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&yh(o.mutation,u,qs.empty(),rr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,zn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=zn()){const u=mo();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=Ka();return l.forEach((T,x)=>{f=f.insert(T,x.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=mo();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,zn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,T)=>{n.set(f,T)})})}computeViews(e,n,o,u){let l=go();const f=Za(),T=Za();return n.forEach((x,k)=>{const K=o.get(k.key);u.has(k.key)&&(void 0===K||K.mutation instanceof ac)?l=l.insert(k.key,k):void 0!==K?(f.set(k.key,K.mutation.getFieldMask()),yh(K.mutation,k,K.mutation.getFieldMask(),rr.now())):f.set(k.key,qs.empty())}),this.recalculateAndSaveOverlays(e,l).next(x=>(x.forEach((k,K)=>f.set(k,K)),n.forEach((k,K)=>{var se;return T.set(k,new mv(K,null!==(se=f.get(k))&&void 0!==se?se:null))}),T))}recalculateAndSaveOverlays(e,n){const o=Za();let u=new or((f,T)=>f-T),l=zn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const T of f)T.keys().forEach(x=>{const k=n.get(x);if(null===k)return;let K=o.get(x)||qs.empty();K=T.applyToLocalView(k,K),o.set(x,K);const se=(u.get(T.batchId)||zn()).add(x);u=u.insert(T.batchId,se)})}).next(()=>{const f=[],T=u.getReverseIterator();for(;T.hasNext();){const x=T.getNext(),k=x.key,K=x.value,se=pd();K.forEach(Ne=>{if(!l.has(Ne)){const Qe=mh(n.get(Ne),o.get(Ne));null!==Qe&&se.set(Ne,Qe),l=l.add(Ne)}}),f.push(this.documentOverlayCache.saveOverlays(e,k,se))}return Pe.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Ct.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):h(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Pe.resolve(mo());let T=-1,x=l;return f.next(k=>Pe.forEach(k,(K,se)=>(T<se.largestBatchId&&(T=se.largestBatchId),l.get(K)?Pe.resolve():this.remoteDocumentCache.getEntry(e,K).next(Ne=>{x=x.insert(K,Ne)}))).next(()=>this.populateOverlays(e,k,l)).next(()=>this.computeViews(e,x,k,zn())).next(K=>({batchId:T,changes:fd(K)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ct(n)).next(o=>{let u=Ka();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=Ka();return this.indexManager.getCollectionParents(e,u).next(f=>Pe.forEach(f,T=>{const x=(k=n,K=T.child(u),new qa(K,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt));var k,K;return this.getDocumentsMatchingCollectionQuery(e,x,o).next(k=>{k.forEach((K,se)=>{l=l.insert(K,se)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((T,x)=>{const k=x.getKey();null===l.get(k)&&(l=l.insert(k,Nr.newInvalidDocument(k)))});let f=Ka();return l.forEach((T,x)=>{const k=u.get(T);void 0!==k&&yh(k.mutation,x,qs.empty(),rr.now()),Rt(n,x)&&(f=f.insert(T,x))}),f})}}class Um{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Pe.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:ws(o.createTime)}),Pe.resolve()}getNamedQuery(e,n){return Pe.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:Rh(o.bundledQuery),readTime:ws(o.readTime)}),Pe.resolve();var o}}class Uh{constructor(){this.overlays=new or(Ct.comparator),this.ls=new Map}getOverlay(e,n){return Pe.resolve(this.overlays.get(n))}getOverlays(e,n){const o=mo();return Pe.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),Pe.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),Pe.resolve()}getOverlaysForCollection(e,n,o){const u=mo(),l=n.length+1,f=new Ct(n.child("")),T=this.overlays.getIteratorFrom(f);for(;T.hasNext();){const x=T.getNext().value,k=x.getKey();if(!n.isPrefixOf(k.path))break;k.path.length===l&&x.largestBatchId>o&&u.set(x.getKey(),x)}return Pe.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new or((k,K)=>k-K);const f=this.overlays.getIterator();for(;f.hasNext();){const k=f.getNext().value;if(k.getKey().getCollectionGroup()===n&&k.largestBatchId>o){let K=l.get(k.largestBatchId);null===K&&(K=mo(),l=l.insert(k.largestBatchId,K)),K.set(k.getKey(),k)}}const T=mo(),x=l.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((k,K)=>T.set(k,K)),!(T.size()>=u)););return Pe.resolve(T)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Ih(n,o));let l=this.ls.get(n);void 0===l&&(l=zn(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class Bh{constructor(){this.fs=new oi(Ls.ds),this.ws=new oi(Ls._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new Ls(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new Ls(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new Ct(new cn([])),o=new Ls(n,e),u=new Ls(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ct(new cn([])),o=new Ls(n,e),u=new Ls(n,e+1);let l=zn();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new Ls(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Ls{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ct.comparator(e.key,n.key)||mn(e.As,n.As)}static _s(e,n){return mn(e.As,n.As)||Ct.comparator(e.key,n.key)}}class yv{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new oi(Ls.ds)}checkEmpty(e){return Pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new vh(l,n,o,u);this.mutationQueue.push(f);for(const T of u)this.Rs=this.Rs.add(new Ls(T.key,l)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Pe.resolve(f)}lookupMutationBatch(e,n){return Pe.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return Pe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Ls(n,0),u=new Ls(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const T=this.Ps(f.As);l.push(T)}),Pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new oi(mn);return n.forEach(u=>{const l=new Ls(u,0),f=new Ls(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],T=>{o=o.add(T.As)})}),Pe.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;Ct.isDocumentKey(l)||(l=l.child(""));const f=new Ls(new Ct(l),0);let T=new oi(mn);return this.Rs.forEachWhile(x=>{const k=x.key.path;return!!o.isPrefixOf(k)&&(k.length===u&&(T=T.add(x.As)),!0)},f),Pe.resolve(this.Vs(T))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Bt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Pe.forEach(n.mutations,u=>{const l=new Ls(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new Ls(n,0),u=this.Rs.firstAfterOrEqual(o);return Pe.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Pe.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Qc{constructor(e){this.Ds=e,this.docs=new or(Ct.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Pe.resolve(o?o.document.mutableCopy():Nr.newInvalidDocument(n))}getEntries(e,n){let o=go();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():Nr.newInvalidDocument(u))}),Pe.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=go();const f=n.path,T=new Ct(f.child("")),x=this.docs.getIteratorFrom(T);for(;x.hasNext();){const{key:k,value:{document:K}}=x.getNext();if(!f.isPrefixOf(k.path))break;k.path.length>f.length+1||iu(Ku(K),o)<=0||(u.has(K.key)||Rt(n,K))&&(l=l.insert(K.key,K.mutableCopy()))}return Pe.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Nt()}Cs(e,n){return Pe.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new vv(this)}getSize(e){return Pe.resolve(this.size)}}class vv extends D0{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),Pe.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class _v{constructor(e){this.persistence=e,this.xs=new ro(n=>po(n),tc),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Bh,this.targetCount=0,this.Ms=fc.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),Pe.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new fc(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Pe.resolve()}updateTargetData(e,n){return this.Fn(n),Pe.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,T)=>{T.sequenceNumber<=n&&null===o.get(T.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),Pe.waitFor(l).next(()=>u)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return Pe.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),Pe.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Pe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Pe.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return Pe.resolve(o)}containsKey(e,n){return Pe.resolve(this.ks.containsKey(n))}}class kd{constructor(e,n){this.$s={},this.overlays={},this.Os=new b(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new _v(this),this.indexManager=new op,this.remoteDocumentCache=new Qc(o=>this.referenceDelegate.Ls(o)),this.serializer=new cc(n),this.qs=new Um(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Uh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new yv(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){st("MemoryPersistence","Starting transaction:",e);const u=new Bm(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return Pe.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class Bm extends xc{constructor(e){super(),this.currentSequenceNumber=e}}class Vh{constructor(e){this.persistence=e,this.Qs=new Bh,this.js=null}static zs(e){return new Vh(e)}get Ws(){if(this.js)return this.js;throw Nt()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),Pe.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),Pe.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Pe.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.Ws,o=>{const u=Ct.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,Xt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Pe.or([()=>Pe.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class zh{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=zn(),u=zn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new zh(e,n.fromCache,o,u)}}class lp{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(hd(n))return Pe.resolve(null);let o=D(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=q(n,null,"F"),o=D(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=zn(...l);return this.Ui.getDocuments(e,f).next(T=>this.indexManager.getMinOffset(e,o).next(x=>{const k=this.ji(n,T);return this.zi(n,k,f,x.readTime)?this.Ki(e,q(n,null,"F")):this.Wi(e,k,n,x)}))})))}Gi(e,n,o,u){return hd(n)||u.isEqual(Xt.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):(ii()<=ae.in.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),wt(n)),this.Wi(e,f,n,function ba(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Xt.fromTimestamp(1e9===o?new rr(n+1,0):new rr(n,o));return new Rs(u,Ct.empty(),e)}(u,-1)))})}ji(e,n){let o=new oi(dr(e));return n.forEach((u,l)=>{Rt(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return ii()<=ae.in.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",wt(n)),this.Ui.getDocumentsMatchingQuery(e,n,Rs.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class dp{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new or(mn),this.Yi=new ro(l=>po(l),tc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fm(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function $m(i,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,m.Z)(function*(i,e){const n=Mt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],T=[];let x=zn();for(const k of u){f.push(k.batchId);for(const K of k.mutations)x=x.add(K.key)}for(const k of l){T.push(k.batchId);for(const K of k.mutations)x=x.add(K.key)}return n.localDocuments.getDocuments(o,x).next(k=>({er:k,removedBatchIds:f,addedBatchIds:T}))})})}),Gh.apply(this,arguments)}function Ld(i){const e=Mt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Ev(i,e){const n=Mt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Jc(i,e,n){return qh.apply(this,arguments)}function qh(){return qh=(0,m.Z)(function*(i,e,n){const o=Mt(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!jo(f))throw f;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),qh.apply(this,arguments)}function mu(i,e,n){const o=Mt(i);let u=Xt.min(),l=zn();return o.persistence.runTransaction("Execute query","readonly",f=>function(T,x,k){const K=Mt(T),se=K.Yi.get(k);return void 0!==se?Pe.resolve(K.Ji.get(se)):K.Bs.getTargetData(x,k)}(o,f,D(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,T.targetId).next(x=>{l=x})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:Xt.min(),n?l:zn())).next(T=>(function Fd(i,e,n){let o=i.Xi.get(e)||Xt.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function rn(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),T),{documents:T,ir:l})))}class gp{constructor(){this.activeTargetIds=function _l(){return sc}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xh{constructor(){this.Hr=new gp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new gp,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gm{Yr(e){}shutdown(){}}class Wm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Bd=null;function Vd(){return null===Bd?Bd=268435456+Math.round(2147483648*Math.random()):Bd++,"0x"+Bd.toString(16)}const C0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dv{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const No="WebChannelConnection";class Tv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=Vd(),T=this.To(e,n);st("RestConnection",`Sending RPC '${e}' ${f}:`,T,o);const x={};return this.Eo(x,u,l),this.Ao(e,T,x,o).then(k=>(st("RestConnection",`Received RPC '${e}' ${f}: `,k),k),k=>{throw hi("RestConnection",`RPC '${e}' ${f} failed with error: `,k,"url: ",T,"request:",o),k})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ir,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${C0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=Vd();return new Promise((f,T)=>{const x=new Pt;x.setWithCredentials(!0),x.listenOnce(M.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case V.NO_ERROR:const K=x.getResponseJson();st(No,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(K)),f(K);break;case V.TIMEOUT:st(No,`RPC '${e}' ${l} timed out`),T(new tt(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case V.HTTP_ERROR:const se=x.getStatus();if(st(No,`RPC '${e}' ${l} failed with status:`,se,"response text:",x.getResponseText()),se>0){let Ne=x.getResponseJson();Array.isArray(Ne)&&(Ne=Ne[0]);const Qe=Ne?.error;if(Qe&&Qe.status&&Qe.message){const vt=function(Ut){const Vt=Ut.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(Vt)>=0?Vt:Fe.UNKNOWN}(Qe.status);T(new tt(vt,Qe.message))}else T(new tt(Fe.UNKNOWN,"Server responded with status "+x.getStatus()))}else T(new tt(Fe.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{st(No,`RPC '${e}' ${l} completed.`)}});const k=JSON.stringify(u);st(No,`RPC '${e}' ${l} sending request:`,u),x.send(n,"POST",k,o,15)})}Ro(e,n,o){const u=Vd(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=eu(),T=w(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},k=this.longPollingOptions.timeoutSeconds;void 0!==k&&(x.longPollingTimeout=Math.round(1e3*k)),this.useFetchStreams&&(x.xmlHttpFactory=new Re({})),this.Eo(x.initMessageHeaders,n,o),x.encodeInitMessageHeaders=!0;const K=l.join("");st(No,`Creating RPC '${e}' stream ${u}: ${K}`,x);const se=f.createWebChannel(K,x);let Ne=!1,Qe=!1;const vt=new Dv({ro:Vt=>{Qe?st(No,`Not sending because RPC '${e}' stream ${u} is closed:`,Vt):(Ne||(st(No,`Opening RPC '${e}' stream ${u} transport.`),se.open(),Ne=!0),st(No,`RPC '${e}' stream ${u} sending:`,Vt),se.send(Vt))},oo:()=>se.close()}),Ut=(Vt,Kn,Pr)=>{Vt.listen(Kn,hr=>{try{Pr(hr)}catch(Us){setTimeout(()=>{throw Us},0)}})};return Ut(se,We.EventType.OPEN,()=>{Qe||st(No,`RPC '${e}' stream ${u} transport opened.`)}),Ut(se,We.EventType.CLOSE,()=>{Qe||(Qe=!0,st(No,`RPC '${e}' stream ${u} transport closed`),vt.wo())}),Ut(se,We.EventType.ERROR,Vt=>{Qe||(Qe=!0,hi(No,`RPC '${e}' stream ${u} transport errored:`,Vt),vt.wo(new tt(Fe.UNAVAILABLE,"The operation could not be completed")))}),Ut(se,We.EventType.MESSAGE,Vt=>{var Kn;if(!Qe){const Pr=Vt.data[0];Bt(!!Pr);const Us=Pr.error||(null===(Kn=Pr[0])||void 0===Kn?void 0:Kn.error);if(Us){st(No,`RPC '${e}' stream ${u} received error:`,Us);const Ds=Us.status;let Ai=function(Cc){const $g=Es[Cc];if(void 0!==$g)return _d($g)}(Ds),Ko=Us.message;void 0===Ai&&(Ai=Fe.INTERNAL,Ko="Unknown error status: "+Ds+" with message "+Us.message),Qe=!0,vt.wo(new tt(Ai,Ko)),se.close()}else st(No,`RPC '${e}' stream ${u} received:`,Pr),vt._o(Pr)}}),Ut(T,O.STAT_EVENT,Vt=>{Vt.stat===X.PROXY?st(No,`RPC '${e}' stream ${u} detected buffering proxy`):Vt.stat===X.NOPROXY&&st(No,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{vt.fo()},0),vt}}function yp(){return typeof document<"u"?document:null}function yc(i){return new fm(i,!0)}class vp{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&st("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Jh{constructor(e,n,o,u,l,f,T,x){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=T,this.listener=x,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new vp(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,m.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,m.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,m.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===Fe.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===Fe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new tt(Fe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,m.Z)(function*(){e.state=0,e.start()}))}tu(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _p extends Jh{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Ch(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(x=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===x?1:"REMOVE"===x?2:"CURRENT"===x?3:"RESET"===x?4:Nt(),u=e.targetChange.targetIds||[],l=function(x,k){return x.useProto3Json?(Bt(void 0===k||"string"==typeof k),ai.fromBase64String(k||"")):(Bt(void 0===k||k instanceof Uint8Array),ai.fromUint8Array(k||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,T=f&&function(x){const k=void 0===x.code?Fe.UNKNOWN:_d(x.code);return new tt(k,x.message||"")}(f);n=new Th(o,u,l,T||null)}else if("documentChange"in e){const o=e.documentChange,u=hu(i,o.document.name),l=ws(o.document.updateTime),f=o.document.createTime?ws(o.document.createTime):Xt.min(),T=new Ps({mapValue:{fields:o.document.fields}}),x=Nr.newFoundDocument(u,l,f,T);n=new Dh(o.targetIds||[],o.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const o=e.documentDelete,u=hu(i,o.document),l=o.readTime?ws(o.readTime):Xt.min(),f=Nr.newNoDocument(u,l);n=new Dh([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=hu(i,o.document);n=new Dh([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Nt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new am(u,l);n=new qo(o.targetId,f)}}var x;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return Xt.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Xt.min():l.readTime?ws(l.readTime):Xt.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=wd(this.serializer),n.addTarget=function(u,l){let f;const T=l.target;if(f=Bc(T)?{documents:ym(u,T)}:{query:Xf(u,T)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=pm(u,l.resumeToken);const x=qf(u,l.expectedCount);null!==x&&(f.expectedCount=x)}else if(l.snapshotVersion.compareTo(Xt.min())>0){f.readTime=$c(u,l.snapshotVersion.toTimestamp());const x=qf(u,l.expectedCount);null!==x&&(f.expectedCount=x)}return f}(this.serializer,e);const o=function uv(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=wd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Ul extends Jh{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Sh(i,e){return i&&i.length>0?(Bt(void 0!==e),i.map(n=>function(o,u){let l=ws(o.updateTime?o.updateTime:u);return l.isEqual(Xt.min())&&(l=ws(u)),new sm(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=ws(e.commitTime);return this.listener.cu(o,n)}return Bt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=wd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function Al(i,e){let n;if(e instanceof yd)n={update:Yf(i,e.key,e.value)};else if(e instanceof Ru)n={delete:Hc(i,e.key)};else if(e instanceof ac)n={update:Yf(i,e.key,e.data),updateMask:lv(e.fieldMask)};else{if(!(e instanceof Dl))return Nt();n={verify:Hc(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof Il)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof El)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof jc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof xu)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw Nt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:gm(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Nt()),n;var u}(this.serializer,o))};this.Wo(n)}}class Ip extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new tt(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new tt(Fe.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new tt(Fe.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class ef{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Sr(n),this.mu=!1):st("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Bl{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(T=>{o.enqueueAndForget((0,m.Z)(function*(){var x;yu(f)&&(st("RemoteStore","Restarting streams for network reachability change."),yield(x=(0,m.Z)(function*(k){const K=Mt(k);K.vu.add(4),yield Lu(K),K.bu.set("Unknown"),K.vu.delete(4),yield nl(K)}),function(k){return x.apply(this,arguments)})(f))}))}),this.bu=new ef(o,u)}}function nl(i){return jd.apply(this,arguments)}function jd(){return jd=(0,m.Z)(function*(i){if(yu(i))for(const e of i.Ru)yield e(!0)}),jd.apply(this,arguments)}function Lu(i){return qm.apply(this,arguments)}function qm(){return qm=(0,m.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),qm.apply(this,arguments)}function Vl(i,e){const n=Mt(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),bp(n)?Tp(n):_c(n).Ko()&&wp(n,e))}function Fu(i,e){const n=Mt(i),o=_c(n);n.Au.delete(e),o.Ko()&&Dp(n,e),0===n.Au.size&&(o.Ko()?o.jo():yu(n)&&n.bu.set("Unknown"))}function wp(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_c(i).su(e)}function Dp(i,e){i.Vu.qt(e),_c(i).iu(e)}function Tp(i){i.Vu=new Wf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),_c(i).start(),i.bu.gu()}function bp(i){return yu(i)&&!_c(i).Uo()&&i.Au.size>0}function yu(i){return 0===Mt(i).vu.size}function Cp(i){i.Vu=void 0}function Cv(i){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,m.Z)(function*(i){i.Au.forEach((e,n)=>{wp(i,e)})}),Sp.apply(this,arguments)}function S0(i,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,m.Z)(function*(i,e){Cp(i),bp(i)?(i.bu.Iu(e),Tp(i)):i.bu.set("Unknown")}),Ap.apply(this,arguments)}function tf(i,e,n){return $d.apply(this,arguments)}function $d(){return $d=(0,m.Z)(function*(i,e,n){if(i.bu.set("Online"),e instanceof Th&&2===e.state&&e.cause)try{yield(o=(0,m.Z)(function*(u,l){const f=l.cause;for(const T of l.targetIds)u.Au.has(T)&&(yield u.remoteSyncer.rejectListen(T,f),u.Au.delete(T),u.Vu.removeTarget(T))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield nf(i,o)}else if(e instanceof Dh?i.Vu.Ht(e):e instanceof qo?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(Xt.min()))try{const o=yield Ld(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((T,x)=>{if(T.resumeToken.approximateByteSize()>0){const k=u.Au.get(x);k&&u.Au.set(x,k.withResumeToken(T.resumeToken,l))}}),f.targetMismatches.forEach((T,x)=>{const k=u.Au.get(T);if(!k)return;u.Au.set(T,k.withResumeToken(ai.EMPTY_BYTE_STRING,k.snapshotVersion)),Dp(u,T);const K=new pu(k.target,T,x,k.sequenceNumber);wp(u,K)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){st("RemoteStore","Failed to raise snapshot:",o),yield nf(i,o)}var o}),$d.apply(this,arguments)}function nf(i,e,n){return rf.apply(this,arguments)}function rf(){return rf=(0,m.Z)(function*(i,e,n){if(!jo(e))throw e;i.vu.add(1),yield Lu(i),i.bu.set("Offline"),n||(n=()=>Ld(i.localStore)),i.asyncQueue.enqueueRetryable((0,m.Z)(function*(){st("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield nl(i)}))}),rf.apply(this,arguments)}function sf(i,e){return e().catch(n=>nf(i,n,e))}function Uu(i){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,m.Z)(function*(i){const e=Mt(i),n=rl(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Km(e);)try{const u=yield Ev(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,Sv(e,u)}catch(u){yield nf(e,u)}xp(e)&&Av(e)}),Mp.apply(this,arguments)}function Km(i){return yu(i)&&i.Eu.length<10}function Sv(i,e){i.Eu.push(e);const n=rl(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function xp(i){return yu(i)&&!rl(i).Uo()&&i.Eu.length>0}function Av(i){rl(i).start()}function Mv(i){return jl.apply(this,arguments)}function jl(){return jl=(0,m.Z)(function*(i){rl(i).hu()}),jl.apply(this,arguments)}function xv(i){return vc.apply(this,arguments)}function vc(){return vc=(0,m.Z)(function*(i){const e=rl(i);for(const n of i.Eu)e.uu(n.mutations)}),vc.apply(this,arguments)}function Hd(i,e,n){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,m.Z)(function*(i,e,n){const o=i.Eu.shift(),u=_h.from(o,e,n);yield sf(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Uu(i)}),Rp.apply(this,arguments)}function Zm(i,e){return Np.apply(this,arguments)}function Np(){return Np=(0,m.Z)(function*(i,e){var n;e&&rl(i).ou&&(yield(n=(0,m.Z)(function*(o,u){if(function vd(i){switch(i){default:return Nt();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}(l=u.code)&&l!==Fe.ABORTED){const f=o.Eu.shift();rl(o).Qo(),yield sf(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield Uu(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),xp(i)&&Av(i)}),Np.apply(this,arguments)}function Ym(i,e){return Op.apply(this,arguments)}function Op(){return Op=(0,m.Z)(function*(i,e){const n=Mt(i);n.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const o=yu(n);n.vu.add(3),yield Lu(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield nl(n)}),Op.apply(this,arguments)}function uf(){return uf=(0,m.Z)(function*(i,e){const n=Mt(i);e?(n.vu.delete(2),yield nl(n)):e||(n.vu.add(2),yield Lu(n),n.bu.set("Unknown"))}),uf.apply(this,arguments)}function _c(i){return i.Su||(i.Su=function(e,n,o){const u=Mt(e);return u.fu(),new _p(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Cv.bind(null,i),ao:S0.bind(null,i),nu:tf.bind(null,i)}),i.Ru.push(function(){var e=(0,m.Z)(function*(n){n?(i.Su.Qo(),bp(i)?Tp(i):i.bu.set("Unknown")):(yield i.Su.stop(),Cp(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function rl(i){return i.Du||(i.Du=function(e,n,o){const u=Mt(e);return u.fu(),new Ul(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Mv.bind(null,i),ao:Zm.bind(null,i),au:xv.bind(null,i),cu:Hd.bind(null,i)}),i.Ru.push(function(){var e=(0,m.Z)(function*(n){n?(i.Du.Qo(),yield Uu(i)):(yield i.Du.stop(),i.Eu.length>0&&(st("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class zd{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,T=new zd(e,n,f,u,l);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function il(i,e){if(Sr("AsyncQueue",`${e}: ${i}`),jo(i))return new tt(Fe.UNAVAILABLE,`${e}: ${i}`);throw i}class $l{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Ct.comparator(n.key,o.key):(n,o)=>Ct.comparator(n.key,o.key),this.keyedMap=Ka(),this.sortedSet=new or(this.comparator)}static emptySet(e){return new $l(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new $l;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Qm{constructor(){this.Cu=new or(Ct.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Nt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class sl{constructor(e,n,o,u,l,f,T,x,k){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=T,this.excludesMetadataChanges=x,this.hasCachedResults=k}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(T=>{f.push({type:0,doc:T})}),new sl(e,n,$l.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_e(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class Rv{constructor(){this.Nu=void 0,this.listeners=[]}}class Xm{constructor(){this.queries=new ro(e=>Ve(e),_e),this.onlineState="Unknown",this.ku=new Set}}function Pp(i,e){return kp.apply(this,arguments)}function kp(){return kp=(0,m.Z)(function*(i,e){const n=Mt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new Rv),u)try{l.Nu=yield n.onListen(o)}catch(f){const T=il(f,`Initialization of query '${wt(e.query)}' failed`);return void e.onError(T)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&lf(n)}),kp.apply(this,arguments)}function Jm(i,e){return cf.apply(this,arguments)}function cf(){return cf=(0,m.Z)(function*(i,e){const n=Mt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),cf.apply(this,arguments)}function ey(i,e){const n=Mt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const T of f.listeners)T.$u(u)&&(o=!0);f.Nu=u}}o&&lf(n)}function Ya(i,e,n){const o=Mt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function lf(i){i.ku.forEach(e=>{e.next()})}class ty{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new sl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Nv{constructor(e){this.key=e}}class ry{constructor(e){this.key=e}}class df{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=zn(),this.mutatedKeys=zn(),this.tc=dr(e),this.ec=new $l(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new Qm,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,T=!1;const x="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,k="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((K,se)=>{const Ne=u.get(K),Qe=Rt(this.query,se)?se:null,vt=!!Ne&&this.mutatedKeys.has(Ne.key),Ut=!!Qe&&(Qe.hasLocalMutations||this.mutatedKeys.has(Qe.key)&&Qe.hasCommittedMutations);let Vt=!1;Ne&&Qe?Ne.data.isEqual(Qe.data)?vt!==Ut&&(o.track({type:3,doc:Qe}),Vt=!0):this.rc(Ne,Qe)||(o.track({type:2,doc:Qe}),Vt=!0,(x&&this.tc(Qe,x)>0||k&&this.tc(Qe,k)<0)&&(T=!0)):!Ne&&Qe?(o.track({type:0,doc:Qe}),Vt=!0):Ne&&!Qe&&(o.track({type:1,doc:Ne}),Vt=!0,(x||k)&&(T=!0)),Vt&&(Qe?(f=f.add(Qe),l=Ut?l.add(K):l.delete(K)):(f=f.delete(K),l=l.delete(K)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const K="F"===this.query.limitType?f.last():f.first();f=f.delete(K.key),l=l.delete(K.key),o.track({type:1,doc:K})}return{ec:f,ic:o,zi:T,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((k,K)=>function(se,Ne){const Qe=vt=>{switch(vt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return Qe(se)-Qe(Ne)}(k.type,K.type)||this.tc(k.doc,K.doc)),this.oc(o);const f=n?this.uc():[],T=0===this.Zu.size&&this.current?1:0,x=T!==this.Xu;return this.Xu=T,0!==l.length||x?{snapshot:new sl(this.query,e.ec,u,l,e.mutatedKeys,0===T,x,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Qm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=zn(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new ry(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new Nv(o))}),n}hc(e){this.Yu=e.ir,this.Zu=zn();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return sl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class vu{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class iy{constructor(e){this.key=e,this.fc=!1}}class Ov{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new ro(T=>Ve(T),_e),this._c=new Map,this.mc=new Set,this.gc=new or(Ct.comparator),this.yc=new Map,this.Ic=new Bh,this.Tc={},this.Ec=new Map,this.Ac=fc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function A0(i,e){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,m.Z)(function*(i,e){const n=function vf(i){const e=Mt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=jp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sy.bind(null,e),e.dc.nu=ey.bind(null,e.eventManager),e.dc.Pc=Ya.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function mc(i,e){const n=Mt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,Pe.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new pu(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,D(e)),T=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function Up(i,e,n,o,u){return Gd.apply(this,arguments)}(n,e,o,"current"===T,f.resumeToken),n.isPrimaryClient&&Vl(n.remoteStore,f)}return u}),Fs.apply(this,arguments)}function Gd(){return Gd=(0,m.Z)(function*(i,e,n,o,u){i.Rc=(se,Ne,Qe)=>{return(vt=(0,m.Z)(function*(Ut,Vt,Kn,Pr){let hr=Vt.view.sc(Kn);hr.zi&&(hr=yield mu(Ut.localStore,Vt.query,!1).then(({documents:Ai})=>Vt.view.sc(Ai,hr)));const Us=Pr&&Pr.targetChanges.get(Vt.targetId),Ds=Vt.view.applyChanges(hr,Ut.isPrimaryClient,Us);return Wd(Ut,Vt.targetId,Ds.cc),Ds.snapshot}),function(Ut,Vt,Kn,Pr){return vt.apply(this,arguments)})(i,se,Ne,Qe);var vt};const l=yield mu(i.localStore,e,!0),f=new df(e,l.ir),T=f.sc(l.documents),x=Ed.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),k=f.applyChanges(T,i.isPrimaryClient,x);Wd(i,n,k.cc);const K=new vu(e,n,f);return i.wc.set(e,K),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),k.snapshot}),Gd.apply(this,arguments)}function Pv(i,e){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,m.Z)(function*(i,e){const n=Mt(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!_e(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Jc(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Fu(n.remoteStore,o.targetId),ol(n,o.targetId)}).catch(ta))):(ol(n,o.targetId),yield Jc(n.localStore,o.targetId,!0))}),Bp.apply(this,arguments)}function hf(){return hf=(0,m.Z)(function*(i,e,n){const o=function _f(i){const e=Mt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ay.bind(null,e),e}(i);try{const u=yield function(l,f){const T=Mt(l),x=rr.now(),k=f.reduce((Ne,Qe)=>Ne.add(Qe.key),zn());let K,se;return T.persistence.runTransaction("Locally write mutations","readwrite",Ne=>{let Qe=go(),vt=zn();return T.Zi.getEntries(Ne,k).next(Ut=>{Qe=Ut,Qe.forEach((Vt,Kn)=>{Kn.isValidDocument()||(vt=vt.add(Vt))})}).next(()=>T.localDocuments.getOverlayedDocuments(Ne,Qe)).next(Ut=>{K=Ut;const Vt=[];for(const Kn of f){const Pr=$f(Kn,K.get(Kn.key).overlayedDocument);null!=Pr&&Vt.push(new ac(Kn.key,Pr,ec(Pr.value.mapValue),os.exists(!0)))}return T.mutationQueue.addMutationBatch(Ne,x,Vt,f)}).next(Ut=>{se=Ut;const Vt=Ut.applyToLocalDocumentSet(K,vt);return T.documentOverlayCache.saveOverlays(Ne,Ut.batchId,Vt)})}).then(()=>({batchId:se.batchId,changes:fd(K)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,T){let x=l.Tc[l.currentUser.toKey()];x||(x=new or(mn)),x=x.insert(f,T),l.Tc[l.currentUser.toKey()]=x}(o,u.batchId,n),yield _u(o,u.changes),yield Uu(o.remoteStore)}catch(u){const l=il(u,"Failed to persist write");n.reject(l)}}),hf.apply(this,arguments)}function jp(i,e){return $p.apply(this,arguments)}function $p(){return $p=(0,m.Z)(function*(i,e){const n=Mt(i);try{const o=yield function b0(i,e){const n=Mt(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const T=[];e.targetChanges.forEach((K,se)=>{const Ne=u.get(se);if(!Ne)return;T.push(n.Bs.removeMatchingKeys(l,K.removedDocuments,se).next(()=>n.Bs.addMatchingKeys(l,K.addedDocuments,se)));let Qe=Ne.withSequenceNumber(l.currentSequenceNumber);var vt,Ut,Vt;null!==e.targetMismatches.get(se)?Qe=Qe.withResumeToken(ai.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):K.resumeToken.approximateByteSize()>0&&(Qe=Qe.withResumeToken(K.resumeToken,o)),u=u.insert(se,Qe),Ut=Qe,Vt=K,(0===(vt=Ne).resumeToken.approximateByteSize()||Ut.snapshotVersion.toMicroseconds()-vt.snapshotVersion.toMicroseconds()>=3e8||Vt.addedDocuments.size+Vt.modifiedDocuments.size+Vt.removedDocuments.size>0)&&T.push(n.Bs.updateTargetData(l,Qe))});let x=go(),k=zn();if(e.documentUpdates.forEach(K=>{e.resolvedLimboDocuments.has(K)&&T.push(n.persistence.referenceDelegate.updateLimboDocument(l,K))}),T.push(function Wh(i,e,n){let o=zn(),u=zn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=go();return n.forEach((T,x)=>{const k=l.get(T);x.isFoundDocument()!==k.isFoundDocument()&&(u=u.add(T)),x.isNoDocument()&&x.version.isEqual(Xt.min())?(e.removeEntry(T,x.readTime),f=f.insert(T,x)):!k.isValidDocument()||x.version.compareTo(k.version)>0||0===x.version.compareTo(k.version)&&k.hasPendingWrites?(e.addEntry(x),f=f.insert(T,x)):st("LocalStore","Ignoring outdated watch update for ",T,". Current version:",k.version," Watch version:",x.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(K=>{x=K.nr,k=K.sr})),!o.isEqual(Xt.min())){const K=n.Bs.getLastRemoteSnapshotVersion(l).next(se=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));T.push(K)}return Pe.waitFor(T).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,x,k)).next(()=>x)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(Bt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?Bt(f.fc):u.removedDocuments.size>0&&(Bt(f.fc),f.fc=!1))}),yield _u(n,o,e)}catch(o){yield ta(o)}}),$p.apply(this,arguments)}function Hp(i,e,n){const o=Mt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const T=f.view.Mu(e);T.snapshot&&u.push(T.snapshot)}),function(l,f){const T=Mt(l);T.onlineState=f;let x=!1;T.queries.forEach((k,K)=>{for(const se of K.listeners)se.Mu(f)&&(x=!0)}),x&&lf(T)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function sy(i,e,n){return zp.apply(this,arguments)}function zp(){return zp=(0,m.Z)(function*(i,e,n){const o=Mt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new or(Ct.comparator);f=f.insert(l,Nr.newNoDocument(l,Xt.min()));const T=zn().add(l),x=new bl(Xt.min(),new Map,new or(mn),f,T);yield jp(o,x),o.gc=o.gc.remove(l),o.yc.delete(e),Hl(o)}else yield Jc(o.localStore,e,!1).then(()=>ol(o,e,n)).catch(ta)}),zp.apply(this,arguments)}function oy(i,e){return ff.apply(this,arguments)}function ff(){return ff=(0,m.Z)(function*(i,e){const n=Mt(i),o=e.batch.batchId;try{const u=yield function Hm(i,e){const n=Mt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,T,x,k){const K=x.batch,se=K.keys();let Ne=Pe.resolve();return se.forEach(Qe=>{Ne=Ne.next(()=>k.getEntry(T,Qe)).next(vt=>{const Ut=x.docVersions.get(Qe);Bt(null!==Ut),vt.version.compareTo(Ut)<0&&(K.applyToRemoteDocument(vt,x),vt.isValidDocument()&&(vt.setReadTime(x.commitVersion),k.addEntry(vt)))})}),Ne.next(()=>f.mutationQueue.removeMutationBatch(T,K))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let T=zn();for(let x=0;x<f.mutationResults.length;++x)f.mutationResults[x].transformResults.length>0&&(T=T.add(f.batch.mutations[x].key));return T}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);Wp(n,o,null),Gp(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield _u(n,u)}catch(u){yield ta(u)}}),ff.apply(this,arguments)}function ay(i,e,n){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,m.Z)(function*(i,e,n){const o=Mt(i);try{const u=yield function(l,f){const T=Mt(l);return T.persistence.runTransaction("Reject batch","readwrite-primary",x=>{let k;return T.mutationQueue.lookupMutationBatch(x,f).next(K=>(Bt(null!==K),k=K.keys(),T.mutationQueue.removeMutationBatch(x,K))).next(()=>T.mutationQueue.performConsistencyCheck(x)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(x,k,f)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,k)).next(()=>T.localDocuments.getDocuments(x,k))})}(o.localStore,e);Wp(o,e,n),Gp(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield _u(o,u)}catch(u){yield ta(u)}}),Ic.apply(this,arguments)}function Gp(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function Wp(i,e,n){const o=Mt(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function ol(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||qp(i,o)})}function qp(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(Fu(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),Hl(i))}function Wd(i,e,n){for(const o of n)o instanceof Nv?(i.Ic.addReference(o.key,e),qd(i,o)):o instanceof ry?(st("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||qp(i,o.key)):Nt()}function qd(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(st("SyncEngine","New document in limbo: "+n),i.mc.add(o),Hl(i))}function Hl(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new Ct(cn.fromString(e)),o=i.Ac.next();i.yc.set(o,new iy(n)),i.gc=i.gc.insert(n,o),Vl(i.remoteStore,new pu(D(aa(n.path)),o,"TargetPurposeLimboResolution",b.ct))}}function _u(i,e,n){return pf.apply(this,arguments)}function pf(){return pf=(0,m.Z)(function*(i,e,n){const o=Mt(i),u=[],l=[],f=[];var T;o.wc.isEmpty()||(o.wc.forEach((T,x)=>{f.push(o.Rc(x,e,n).then(k=>{if((k||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(x.targetId,k?.fromCache?"not-current":"current"),k){u.push(k);const K=zh.Li(x.targetId,k);l.push(K)}}))}),yield Promise.all(f),o.dc.nu(u),yield(T=(0,m.Z)(function*(x,k){const K=Mt(x);try{yield K.persistence.runTransaction("notifyLocalViewChanges","readwrite",se=>Pe.forEach(k,Ne=>Pe.forEach(Ne.Fi,Qe=>K.persistence.referenceDelegate.addReference(se,Ne.targetId,Qe)).next(()=>Pe.forEach(Ne.Bi,Qe=>K.persistence.referenceDelegate.removeReference(se,Ne.targetId,Qe)))))}catch(se){if(!jo(se))throw se;st("LocalStore","Failed to update sequence numbers: "+se)}for(const se of k){const Ne=se.targetId;if(!se.fromCache){const Qe=K.Ji.get(Ne),Ut=Qe.withLastLimboFreeSnapshotVersion(Qe.snapshotVersion);K.Ji=K.Ji.insert(Ne,Ut)}}}),function(x,k){return T.apply(this,arguments)})(o.localStore,l))}),pf.apply(this,arguments)}function kv(i,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,m.Z)(function*(i,e){const n=Mt(i);if(!n.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const o=yield $m(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(T=>{T.reject(new tt(Fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield _u(n,o.er)}var u}),Kp.apply(this,arguments)}function Lv(i,e){const n=Mt(i),o=n.yc.get(e);if(o&&o.fc)return zn().add(o.key);{let u=zn();const l=n._c.get(e);if(!l)return u;for(const f of l){const T=n.wc.get(f);u=u.unionWith(T.view.nc)}return u}}class Kd{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,m.Z)(function*(){n.serializer=yc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function hp(i,e,n,o){return new dp(i,e,n,o)}(this.persistence,new lp,e.initialUser,this.serializer)}createPersistence(e){return new kd(Vh.zs,this.serializer)}createSharedClientState(e){return new Xh}terminate(){var e=this;return(0,m.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wc{initialize(e,n){var o=this;return(0,m.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Hp(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=kv.bind(null,o.syncEngine),yield function af(i,e){return uf.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Xm}createDatastore(e){const n=yc(e.databaseInfo.databaseId),o=new Tv(e.databaseInfo);return new Ip(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=T=>Hp(this.syncEngine,T,0),f=Wm.D()?new Wm:new Gm,new Bl(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,T,x,k){const K=new Ov(o,u,l,f,T,x);return k&&(K.vc=!0),K}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,m.Z)(function*(n){const o=Mt(n);st("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield Lu(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Yd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class hy{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Zt.UNAUTHENTICATED,this.clientId=yr.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,m.Z)(function*(T){st("FirestoreClient","Received user=",T.uid),yield l.authCredentialListener(T),l.user=T});return function(T){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(st("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,m.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=il(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function ql(i,e){return eg.apply(this,arguments)}function eg(){return eg=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,m.Z)(function*(l){o.isEqual(l)||(yield $m(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),eg.apply(this,arguments)}function tg(i,e){return ng.apply(this,arguments)}function ng(){return ng=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function ig(i){return sg.apply(this,arguments)}(i);st("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>Ym(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>Ym(e.remoteStore,l)),i._onlineComponents=e}),ng.apply(this,arguments)}function sg(){return sg=(0,m.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){st("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ql(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function rg(i){return"FirebaseError"===i.name?i.code===Fe.FAILED_PRECONDITION||i.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;hi("Error using user provided cache. Falling back to memory cache: "+n),yield ql(i,new Kd)}}else st("FirestoreClient","Using default OfflineComponentProvider"),yield ql(i,new Kd);return i._offlineComponents}),sg.apply(this,arguments)}function If(i){return og.apply(this,arguments)}function og(){return og=(0,m.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(st("FirestoreClient","Using user provided OnlineComponentProvider"),yield tg(i,i._uninitializedComponentsProvider._online)):(st("FirestoreClient","Using default OnlineComponentProvider"),yield tg(i,new wc))),i._onlineComponents}),og.apply(this,arguments)}function Kl(i){return cg.apply(this,arguments)}function cg(){return cg=(0,m.Z)(function*(i){const e=yield If(i),n=e.eventManager;return n.onListen=A0.bind(null,e.syncEngine),n.onUnlisten=Pv.bind(null,e.syncEngine),n}),cg.apply(this,arguments)}function vy(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const _y=new Map;function hg(i,e,n){if(!n)throw new tt(Fe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Iy(i){if(!Ct.isDocumentKey(i))throw new tt(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Qa(i){if(Ct.isDocumentKey(i))throw new tt(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Zl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Nt()}function Or(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new tt(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zl(i);throw new tt(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Ey{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function zv(i,e,n,o){if(!0===e&&!0===o)throw new tt(Fe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=vy(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new tt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new tt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new tt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yl{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ey({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tt(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tt(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ey(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Ba;switch(n.type){case"firstParty":return new Iu(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new tt(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=_y.get(e);n&&(st("ComponentProvider","Removing Datastore"),_y.delete(e),n.terminate())}(this),Promise.resolve()}}class Gi{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gi(this.firestore,e,this._key)}}class Zs{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class ju extends Zs{constructor(e,n,o){super(e,n,aa(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gi(this.firestore,null,new Ct(e))}withConverter(e){return new ju(this.firestore,e,this._path)}}function Dy(i,e,...n){if(i=(0,le.m9)(i),hg("collection","path",e),i instanceof Yl){const o=cn.fromString(e,...n);return Qa(o),new ju(i,null,o)}{if(!(i instanceof Gi||i instanceof ju))throw new tt(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(cn.fromString(e,...n));return Qa(o),new ju(i.firestore,null,o)}}function pg(i,e,...n){if(i=(0,le.m9)(i),1===arguments.length&&(e=yr.A()),hg("doc","path",e),i instanceof Yl){const o=cn.fromString(e,...n);return Iy(o),new Gi(i,null,new Ct(o))}{if(!(i instanceof Gi||i instanceof ju))throw new tt(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(cn.fromString(e,...n));return Iy(o),new Gi(i.firestore,i instanceof ju?i.converter:null,new Ct(o))}}class $u{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new vp(this,"async_queue_retry"),this.Xc=()=>{const n=yp();n&&st("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=yp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=yp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Si;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,m.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!jo(n))throw n;st("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Sr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=zd.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&Nt()}verifyOperationInProgress(){}sa(){var e=this;return(0,m.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function gg(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Oi extends Yl{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new $u,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ql(this),this._firestoreClient.terminate()}}function Zv(i,e){const n="object"==typeof i?i:(0,Z.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,Z.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,le.P0)("firestore");l&&function wy(i,e,n,o={}){var u;const l=(i=Or(i,Yl))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&hi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let T,x;if("string"==typeof o.mockUserToken)T=o.mockUserToken,x=Zt.MOCK_USER;else{T=(0,le.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const k=o.mockUserToken.sub||o.mockUserToken.user_id;if(!k)throw new tt(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Zt(k)}i._authCredentials=new nu(new tu(T,x))}}(u,...l)}return u}function as(i){return i._firestoreClient||Ql(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Ql(i){var e,n,o;const u=i._freezeSettings(),l=(T=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new kc(i._databaseId,T,i._persistenceKey,(k=u).host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,vy(k.experimentalLongPollingOptions),k.useFetchStreams));var T,k;i._firestoreClient=new hy(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class Dc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dc(ai.fromBase64String(e))}catch(n){throw new tt(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dc(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new tt(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ul{constructor(e){this._methodName=e}}class yg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new tt(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new tt(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}}const n_=/^__.*__$/;class r_{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new ac(e,this.data,this.fieldMask,n,this.fieldTransforms):new yd(e,this.data,n,this.fieldTransforms)}}class Cy{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new ac(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Sy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class wf{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new wf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Eg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Sy(this.ca)&&n_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class i_{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||yc(e)}ya(e,n,o,u=!1){return new wf({ca:e,methodName:n,ga:o,path:Bn.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ed(i){const e=i._freezeSettings(),n=yc(i._databaseId);return new i_(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Df(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);Ig("Data must be an object, but it was:",f,o);const T=vg(o,f);let x,k;if(l.merge)x=new qs(f.fieldMask),k=f.fieldTransforms;else if(l.mergeFields){const K=[];for(const se of l.mergeFields){const Ne=Tf(e,se,n);if(!f.contains(Ne))throw new tt(Fe.INVALID_ARGUMENT,`Field '${Ne}' is specified in your field mask but missing from your input data.`);eh(K,Ne)||K.push(Ne)}x=new qs(K),k=f.fieldTransforms.filter(se=>x.covers(se.field))}else x=null,k=f.fieldTransforms;return new r_(new Ps(T),x,k)}class cl extends ul{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cl}}function ll(i,e){if(_g(i=(0,le.m9)(i)))return Ig("Unsupported field value:",e,i),vg(i,e);if(i instanceof ul)return function(n,o){if(!Sy(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let T=ll(f,o.wa(l));null==T&&(T={nullValue:"NULL_VALUE"}),u.push(T),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,le.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Vc(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=rr.fromDate(n);return{timestampValue:$c(o.serializer,u)}}if(n instanceof rr){const u=new rr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:$c(o.serializer,u)}}if(n instanceof yg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Dc)return{bytesValue:pm(o.serializer,n._byteString)};if(n instanceof Gi){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Kf(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${Zl(n)}`)}(i,e)}function vg(i,e){const n={};return Zu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(i,(o,u)=>{const l=ll(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function _g(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof rr||i instanceof yg||i instanceof Dc||i instanceof Gi||i instanceof ul)}function Ig(i,e,n){if(!_g(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Zl(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function Tf(i,e,n){if((e=(0,le.m9)(e))instanceof Jl)return e._internalPath;if("string"==typeof e)return Jd(i,e);throw Eg("Field path arguments must be of type string or ",i,!1,void 0,n)}const Ny=new RegExp("[~\\*/\\[\\]]");function Jd(i,e,n){if(e.search(Ny)>=0)throw Eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Jl(...e.split("."))._internalPath}catch{throw Eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Eg(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let T=`Function ${e}() called with invalid data`;n&&(T+=" (via `toFirestore()`)"),T+=". ";let x="";return(l||f)&&(x+=" (found",l&&(x+=` in field ${o}`),f&&(x+=` in document ${u}`),x+=")"),new tt(Fe.INVALID_ARGUMENT,T+i+x)}function eh(i,e){return i.some(n=>n.isEqual(e))}class wg{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new u_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class u_ extends wg{data(){return super.data()}}function nd(i,e){return"string"==typeof e?Jd(i,e):e instanceof Jl?e._internalPath:e._delegate._internalPath}function Oy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new tt(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Oa{}class rd extends Oa{}function Oo(i,e,...n){let o=[];e instanceof Oa&&o.push(e),o=o.concat(n),function(u){const l=u.filter(T=>T instanceof vo).length,f=u.filter(T=>T instanceof Xa).length;if(l>1||l>0&&f>0)throw new tt(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Xa extends rd{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Xa(e,n,o)}_apply(e){const n=this._parse(e);return Cg(e._query,n),new Zs(e.firestore,e.converter,U(e._query,n))}_parse(e){const n=ed(e.firestore);return function(u,l,f,T,x,k,K){let se;if(x.isKeyField()){if("array-contains"===k||"array-contains-any"===k)throw new tt(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${k}' queries on documentId().`);if("in"===k||"not-in"===k){bg(K,k);const Ne=[];for(const Qe of K)Ne.push(Tg(T,u,Qe));se={arrayValue:{values:Ne}}}else se=Tg(T,u,K)}else"in"!==k&&"not-in"!==k&&"array-contains-any"!==k||bg(K,k),se=function Ry(i,e,n,o=!1){return ll(n,i.ya(o?4:3,e))}(f,"where",K,"in"===k||"not-in"===k);return Y.create(x,k,se)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function bf(i,e,n){const o=e,u=nd("where",i);return Xa._create(u,o,n)}class vo extends Oa{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vo(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:ue.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,u){let l=o;const f=u.getFlattenedFilters();for(const T of f)Cg(l,T),l=U(l,T)}(e._query,n),new Zs(e.firestore,e.converter,U(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Tc extends rd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tc(e,n)}_apply(e){const n=function(o,u,l){if(null!==o.startAt)throw new tt(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new tt(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new E(u,l);return function(T,x){if(null===rc(T)){const k=I(T);null!==k&&Sg(0,k,x.field)}}(o,f),f}(e._query,this._field,this._direction);return new Zs(e.firestore,e.converter,function(o,u){const l=o.explicitOrderBy.concat([u]);return new qa(o.path,o.collectionGroup,l,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function id(i,e="asc"){const n=e,o=nd("orderBy",i);return Tc._create(o,n)}function Tg(i,e,n){if("string"==typeof(n=(0,le.m9)(n))){if(""===n)throw new tt(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h(e)&&-1!==n.indexOf("/"))throw new tt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(cn.fromString(n));if(!Ct.isDocumentKey(o))throw new tt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ks(i,new Ct(o))}if(n instanceof Gi)return Ks(i,n._key);throw new tt(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zl(n)}.`)}function bg(i,e){if(!Array.isArray(i)||0===i.length)throw new tt(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Cg(i,e){if(e.isInequality()){const o=I(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new tt(Fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=rc(i);null!==l&&Sg(0,u,l)}const n=function(o,u){for(const l of o)for(const f of l.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new tt(Fe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Sg(i,e,n){if(!n.isEqual(e))throw new tt(Fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Mg{convertValue(e,n="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Nt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Sa(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new yg(Ei(e.latitude),Ei(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Su(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const n=Aa(e);return new rr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=cn.fromString(e);Bt(Mh(o));const u=new Ga(o.get(1),o.get(3)),l=new Ct(o.popFirst(5));return u.isEqual(n)||Sr(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function xg(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class sd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class od extends wg{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(nd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Cf extends od{data(e={}){return super.data(e)}}class ad{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new sd(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Cf(this._firestore,this._userDataWriter,o.key,o,new sd(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new tt(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Cf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new sd(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const T=new Cf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new sd(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let x=-1,k=-1;return 0!==f.type&&(x=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),k=l.indexOf(f.doc.key)),{type:Rg(f.type),doc:T,oldIndex:x,newIndex:k}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Rg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}function Ng(i){i=Or(i,Gi);const e=Or(i.firestore,Oi);return function gy(i,e,n={}){const o=new Si;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(u,l,f,T,x){const k=new Yd({next:se=>{l.enqueueAndForget(()=>Jm(u,K));const Ne=se.docs.has(f);!Ne&&se.fromCache?x.reject(new tt(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):Ne&&se.fromCache&&T&&"server"===T.source?x.reject(new tt(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(se)},error:se=>x.reject(se)}),K=new ty(aa(f.path),k,{includeMetadataChanges:!0,Ku:!0});return Pp(u,K)}(yield Kl(i),i.asyncQueue,e,n,o)})),o.promise}(as(e),i._key).then(n=>Ly(e,i,n))}class Ja extends Mg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,n)}}function ky(i){i=Or(i,Zs);const e=Or(i.firestore,Oi),n=as(e),o=new Ja(e);return Oy(i._query),function my(i,e,n={}){const o=new Si;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(u,l,f,T,x){const k=new Yd({next:se=>{l.enqueueAndForget(()=>Jm(u,K)),se.fromCache&&"server"===T.source?x.reject(new tt(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(se)},error:se=>x.reject(se)}),K=new ty(f,k,{includeMetadataChanges:!0,Ku:!0});return Pp(u,K)}(yield Kl(i),i.asyncQueue,e,n,o)})),o.promise}(n,i._query).then(u=>new ad(e,o,i,u))}function f_(i,e,n){i=Or(i,Gi);const o=Or(i.firestore,Oi),u=xg(i.converter,e,n);return bc(o,[Df(ed(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,os.none())])}function p_(i,e,n,...o){i=Or(i,Gi);const u=Or(i.firestore,Oi),l=ed(u);let f;return f="string"==typeof(e=(0,le.m9)(e))||e instanceof Jl?function xy(i,e,n,o,u,l){const f=i.ya(1,e,n),T=[Tf(e,o,n)],x=[u];if(l.length%2!=0)throw new tt(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ne=0;Ne<l.length;Ne+=2)T.push(Tf(e,l[Ne])),x.push(l[Ne+1]);const k=[],K=Ps.empty();for(let Ne=T.length-1;Ne>=0;--Ne)if(!eh(k,T[Ne])){const Qe=T[Ne];let vt=x[Ne];vt=(0,le.m9)(vt);const Ut=f.da(Qe);if(vt instanceof cl)k.push(Qe);else{const Vt=ll(vt,Ut);null!=Vt&&(k.push(Qe),K.set(Qe,Vt))}}const se=new qs(k);return new Cy(K,se,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function My(i,e,n,o){const u=i.ya(1,e,n);Ig("Data must be an object, but it was:",u,o);const l=[],f=Ps.empty();Sa(o,(x,k)=>{const K=Jd(e,x,n);k=(0,le.m9)(k);const se=u.da(K);if(k instanceof cl)l.push(K);else{const Ne=ll(k,se);null!=Ne&&(l.push(K),f.set(K,Ne))}});const T=new qs(l);return new Cy(f,T,u.fieldTransforms)}(l,"updateDoc",i._key,e),bc(u,[f.toMutation(i._key,os.exists(!0))])}function g_(i){return bc(Or(i.firestore,Oi),[new Ru(i._key,os.none())])}function m_(i,e){const n=Or(i.firestore,Oi),o=pg(i),u=xg(i.converter,e);return bc(n,[Df(ed(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,os.exists(!1))]).then(()=>o)}function Og(i,...e){var n,o,u;i=(0,le.m9)(i);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||gg(e[f])||(l=e[f],f++);const T={includeMetadataChanges:l.includeMetadataChanges};if(gg(e[f])){const se=e[f];e[f]=null===(n=se.next)||void 0===n?void 0:n.bind(se),e[f+1]=null===(o=se.error)||void 0===o?void 0:o.bind(se),e[f+2]=null===(u=se.complete)||void 0===u?void 0:u.bind(se)}let x,k,K;if(i instanceof Gi)k=Or(i.firestore,Oi),K=aa(i._key.path),x={next:se=>{e[f]&&e[f](Ly(k,i,se))},error:e[f+1],complete:e[f+2]};else{const se=Or(i,Zs);k=Or(se.firestore,Oi),K=se._query;const Ne=new Ja(k);x={next:Qe=>{e[f]&&e[f](new ad(k,Ne,se,Qe))},error:e[f+1],complete:e[f+2]},Oy(i._query)}return function(se,Ne,Qe,vt){const Ut=new Yd(vt),Vt=new ty(Ne,Ut,Qe);return se.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return Pp(yield Kl(se),Vt)})),()=>{Ut.Dc(),se.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return Jm(yield Kl(se),Vt)}))}}(as(k),K,T,x)}function bc(i,e){return function(n,o){const u=new Si;return n.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function Vp(i,e,n){return hf.apply(this,arguments)}(yield function ug(i){return If(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(as(i),e)}function Ly(i,e,n){const o=n.docs.get(e._key),u=new Ja(i);return new od(i,u,e._key,o,new sd(n.hasPendingWrites,n.fromCache),e.converter)}!function(i,e=!0){Ir=Z.Jn,(0,Z.Xd)(new he.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new Oi(new qu(n.getProvider("auth-internal")),new Kr(n.getProvider("app-check-internal")),function(T,x){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new tt(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ga(T.options.projectId,x)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,Z.KN)(lr,"3.13.0",i),(0,Z.KN)(lr,"3.13.0","esm2017")}()},9058:(jt,He,B)=>{B.d(He,{$s:()=>tn,BH:()=>ve,L:()=>Le,LL:()=>at,P0:()=>qt,Pz:()=>Ze,Sg:()=>it,UG:()=>nt,US:()=>de,ZR:()=>je,aH:()=>Oe,b$:()=>Rn,eu:()=>xe,hl:()=>Ae,m9:()=>jr,ne:()=>Qn,pd:()=>on,q4:()=>Jt,ru:()=>en,tV:()=>Q,uI:()=>ne,vZ:()=>kr,w1:()=>It,xO:()=>In,xb:()=>Cn,z$:()=>Ue,zI:()=>ze,zd:()=>fr});const ae=function(ce){const H=[];let W=0;for(let z=0;z<ce.length;z++){let G=ce.charCodeAt(z);G<128?H[W++]=G:G<2048?(H[W++]=G>>6|192,H[W++]=63&G|128):55296==(64512&G)&&z+1<ce.length&&56320==(64512&ce.charCodeAt(z+1))?(G=65536+((1023&G)<<10)+(1023&ce.charCodeAt(++z)),H[W++]=G>>18|240,H[W++]=G>>12&63|128,H[W++]=G>>6&63|128,H[W++]=63&G|128):(H[W++]=G>>12|224,H[W++]=G>>6&63|128,H[W++]=63&G|128)}return H},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ce,H){if(!Array.isArray(ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let G=0;G<ce.length;G+=3){const Ee=ce[G],rt=G+1<ce.length,yt=rt?ce[G+1]:0,Qt=G+2<ce.length,Kt=Qt?ce[G+2]:0;let Mn=(15&yt)<<2|Kt>>6,ui=63&Kt;Qt||(ui=64,rt||(Mn=64)),z.push(W[Ee>>2],W[(3&Ee)<<4|yt>>4],W[Mn],W[ui])}return z.join("")},encodeString(ce,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(ce):this.encodeByteArray(ae(ce),H)},decodeString(ce,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(ce):function(ce){const H=[];let W=0,z=0;for(;W<ce.length;){const G=ce[W++];if(G<128)H[z++]=String.fromCharCode(G);else if(G>191&&G<224){const Ee=ce[W++];H[z++]=String.fromCharCode((31&G)<<6|63&Ee)}else if(G>239&&G<365){const Qt=((7&G)<<18|(63&ce[W++])<<12|(63&ce[W++])<<6|63&ce[W++])-65536;H[z++]=String.fromCharCode(55296+(Qt>>10)),H[z++]=String.fromCharCode(56320+(1023&Qt))}else{const Ee=ce[W++],rt=ce[W++];H[z++]=String.fromCharCode((15&G)<<12|(63&Ee)<<6|63&rt)}}return H.join("")}(this.decodeStringToByteArray(ce,H))},decodeStringToByteArray(ce,H){this.init_();const W=H?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let G=0;G<ce.length;){const Ee=W[ce.charAt(G++)],yt=G<ce.length?W[ce.charAt(G)]:0;++G;const Kt=G<ce.length?W[ce.charAt(G)]:64;++G;const nn=G<ce.length?W[ce.charAt(G)]:64;if(++G,null==Ee||null==yt||null==Kt||null==nn)throw new Ie;z.push(Ee<<2|yt>>4),64!==Kt&&(z.push(yt<<4&240|Kt>>2),64!==nn&&z.push(Kt<<6&192|nn))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ce=0;ce<this.ENCODED_VALS.length;ce++)this.byteToCharMap_[ce]=this.ENCODED_VALS.charAt(ce),this.charToByteMap_[this.byteToCharMap_[ce]]=ce,this.byteToCharMapWebSafe_[ce]=this.ENCODED_VALS_WEBSAFE.charAt(ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ce]]=ce,ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ce)]=ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ce)]=ce)}}};class Ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Le=function(ce){return function(ce){const H=ae(ce);return de.encodeByteArray(H,!0)}(ce).replace(/\./g,"")},Q=function(ce){try{return de.decodeString(ce,!0)}catch(H){console.error("base64Decode failed: ",H)}return null},ft=()=>{try{return function Ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ce=process.env.__FIREBASE_DEFAULTS__;return ce?JSON.parse(ce):void 0})()||(()=>{if(typeof document>"u")return;let ce;try{ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=ce&&Q(ce[1]);return H&&JSON.parse(H)})()}catch(ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ce}`)}},Jt=ce=>{var H,W;return null===(W=null===(H=ft())||void 0===H?void 0:H.emulatorHosts)||void 0===W?void 0:W[ce]},qt=ce=>{const H=Jt(ce);if(!H)return;const W=H.lastIndexOf(":");if(W<=0||W+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const z=parseInt(H.substring(W+1),10);return"["===H[0]?[H.substring(1,W-1),z]:[H.substring(0,W),z]},Oe=()=>{var ce;return null===(ce=ft())||void 0===ce?void 0:ce.config},Ze=ce=>{var H;return null===(H=ft())||void 0===H?void 0:H[`_${ce}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,W)=>{this.resolve=H,this.reject=W})}wrapCallback(H){return(W,z)=>{W?this.reject(W):this.resolve(z),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(W):H(W,z))}}}function it(ce,H){if(ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=H||"demo-project",G=ce.iat||0,Ee=ce.sub||ce.user_id;if(!Ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const rt=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:G,exp:G+3600,auth_time:G,sub:Ee,user_id:Ee,firebase:{sign_in_provider:"custom",identities:{}}},ce);return[Le(JSON.stringify({alg:"none",type:"JWT"})),Le(JSON.stringify(rt)),""].join(".")}function Ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function nt(){var ce;const H=null===(ce=ft())||void 0===ce?void 0:ce.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function en(){const ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ce&&void 0!==ce.id}function Rn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function It(){const ce=Ue();return ce.indexOf("MSIE ")>=0||ce.indexOf("Trident/")>=0}function Ae(){try{return"object"==typeof indexedDB}catch{return!1}}function xe(){return new Promise((ce,H)=>{try{let W=!0;const z="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(z);G.onsuccess=()=>{G.result.close(),W||self.indexedDB.deleteDatabase(z),ce(!0)},G.onupgradeneeded=()=>{W=!1},G.onerror=()=>{var Ee;H((null===(Ee=G.error)||void 0===Ee?void 0:Ee.message)||"")}}catch(W){H(W)}})}function ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class je extends Error{constructor(H,W,z){super(W),this.code=H,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,at.prototype.create)}}class at{constructor(H,W,z){this.service=H,this.serviceName=W,this.errors=z}create(H,...W){const z=W[0]||{},G=`${this.service}/${H}`,Ee=this.errors[H],rt=Ee?function Lt(ce,H){return ce.replace(_n,(W,z)=>{const G=H[z];return null!=G?String(G):`<${z}?>`})}(Ee,z):"Error";return new je(G,`${this.serviceName}: ${rt} (${G}).`,z)}}const _n=/\{\$([^}]+)}/g;function Cn(ce){for(const H in ce)if(Object.prototype.hasOwnProperty.call(ce,H))return!1;return!0}function kr(ce,H){if(ce===H)return!0;const W=Object.keys(ce),z=Object.keys(H);for(const G of W){if(!z.includes(G))return!1;const Ee=ce[G],rt=H[G];if(Vr(Ee)&&Vr(rt)){if(!kr(Ee,rt))return!1}else if(Ee!==rt)return!1}for(const G of z)if(!W.includes(G))return!1;return!0}function Vr(ce){return null!==ce&&"object"==typeof ce}function In(ce){const H=[];for(const[W,z]of Object.entries(ce))Array.isArray(z)?z.forEach(G=>{H.push(encodeURIComponent(W)+"="+encodeURIComponent(G))}):H.push(encodeURIComponent(W)+"="+encodeURIComponent(z));return H.length?"&"+H.join("&"):""}function fr(ce){const H={};return ce.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[G,Ee]=z.split("=");H[decodeURIComponent(G)]=decodeURIComponent(Ee)}}),H}function on(ce){const H=ce.indexOf("?");if(!H)return"";const W=ce.indexOf("#",H);return ce.substring(H,W>0?W:void 0)}function Qn(ce,H){const W=new Ar(ce,H);return W.subscribe.bind(W)}class Ar{constructor(H,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{H(this)}).catch(z=>{this.error(z)})}next(H){this.forEachObserver(W=>{W.next(H)})}error(H){this.forEachObserver(W=>{W.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,W,z){let G;if(void 0===H&&void 0===W&&void 0===z)throw new Error("Missing Observer.");G=function Xn(ce,H){if("object"!=typeof ce||null===ce)return!1;for(const W of H)if(W in ce&&"function"==typeof ce[W])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:W,complete:z},void 0===G.next&&(G.next=On),void 0===G.error&&(G.error=On),void 0===G.complete&&(G.complete=On);const Ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),Ee}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,H)}sendOne(H,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{W(this.observers[H])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}const gn=1e3,ln=2,Lr=144e5,Qr=.5;function tn(ce,H=gn,W=ln){const z=H*Math.pow(W,ce),G=Math.round(Qr*z*(Math.random()-.5)*2);return Math.min(Lr,z+G)}function jr(ce){return ce&&ce._delegate?ce._delegate:ce}},7731:(jt,He,B)=>{B.d(He,{H:()=>he});var m=B(5619),Z=B(4946);let he=(()=>{class ae{constructor(){this.valueSource=new m.X(""),this.currentValue=this.valueSource.asObservable(),this.modalsuichpstSubject=new m.X(!1),this.modalsuich$=this.modalsuichpstSubject.asObservable(),this.modaldataSubject=new m.X(!1),this.modaldata$=this.modaldataSubject.asObservable(),this.warningSubject=new m.X(!1),this.warning$=this.warningSubject.asObservable(),this.warningAllSubject=new m.X(!1),this.warningAll$=this.warningAllSubject.asObservable(),this.modalsuichmuniSubject=new m.X(!1),this.modalsuichmuni$=this.modalsuichmuniSubject.asObservable(),this.modalsuichatracSubject=new m.X(!1),this.modalsuichatrac$=this.modalsuichatracSubject.asObservable(),this.modalsuichrutasSubject=new m.X(!1),this.modalsuichrutas$=this.modalsuichrutasSubject.asObservable(),this.modalsuichtodoSubject=new m.X(!1),this.modalsuichtodo$=this.modalsuichtodoSubject.asObservable(),this.modalPFHeaderSubject=new m.X(!1),this.modalPFHeader$=this.modalPFHeaderSubject.asObservable(),this.modalTurnMuniSubject=new m.X(!1),this.modalTurnMuni$=this.modalTurnMuniSubject.asObservable(),this.modalTurnSliderPSubject=new m.X(!1),this.modalTurnSliderP$=this.modalTurnSliderPSubject.asObservable()}setTurnSliderP(de){this.modalTurnSliderPSubject.next(de)}setWarningAll(de){this.warningAllSubject.next(de)}setModalSuichPst(de){this.modalsuichpstSubject.next(de)}setWarning(de){this.warningSubject.next(de)}setModalSuichMuni(de){this.modalsuichmuniSubject.next(de)}setValue(de){this.valueSource.next(de)}setModalSuichAtrac(de){this.modalsuichatracSubject.next(de)}setModalSuichRutas(de){this.modalsuichrutasSubject.next(de)}setModalSuichTodo(de){this.modalsuichtodoSubject.next(de)}setData(de){this.modaldataSubject.next(de)}setProfileHeader(de){this.modalPFHeaderSubject.next(de)}setTurnMuni(de){this.modalTurnMuniSubject.next(de)}static#e=this.\u0275fac=function(Ie){return new(Ie||ae)};static#t=this.\u0275prov=Z.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},3934:(jt,He,B)=>{B.d(He,{K:()=>Ie});var m=B(5861),Z=B(8429),he=B(2644),ae=B(3828),le=B(5619),de=B(4946);let Ie=(()=>{class fe{constructor(Q){this.auth=Q,this.rolSubject=new le.X(""),this.rolSubject$=this.rolSubject.asObservable(),this.firestore=(0,ae.ad)()}setRolSubject(Q){this.rolSubject.next(Q)}register(Q,ie){var Me=this;return(0,m.Z)(function*(){return yield(0,Z.Xb)(Me.auth,Q,ie)})()}login(Q,ie){return this.auth.setPersistence(he.a$).then(()=>(this.infoUsuario=(0,Z.e5)(this.auth,Q,ie),this.infoUsuario))}getCurrentUser(Q){return new Promise((ie,Me)=>{const qe=Q.onAuthStateChanged(Ye=>{qe(),ie(Ye)},Me)})}update(){const Q=(0,ae.JU)(this.firestore,`users/${this.auth.currentUser.uid}`);return(0,ae.pl)(Q,{fechaUltimoLogin:(new Date).toISOString()},{merge:!0})}recuperar(Q){return(0,Z.LS)(this.auth,Q)}verificarCorreo(Q){(0,Z.w$)(Q)}cerrarSesion(){return this.auth.signOut()}loginConGoogle(){return this.auth.setPersistence(he.a$).then(()=>(0,Z.rh)(this.auth,new he.hJ))}firebaseError(Q){switch(Q){case"auth/email-already-in-use":return"El usuario ya ex\xedste";case"auth/weak-password":return"Contrase\xf1a muy debil";case"auth/wrong-password":return"La contrase\xf1a es Incorrecta";case"auth/user-not-found":return"El usuario no ex\xedste";default:return"Error desconocido"}}static#e=this.\u0275fac=function(ie){return new(ie||fe)(de.LFG(Z.gx))};static#t=this.\u0275prov=de.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},2818:(jt,He,B)=>{var m=B(6593),Z=B(4017),he=B(5861),ae=B(4946),le=B(8429);let de=(()=>{class ve{constructor(Ue){this.afAuth=Ue}getLoggin(){return new Promise(Ue=>{(0,le.Aj)(this.afAuth,ne=>{Ue(null!=ne||null!=ne)})})}static#e=this.\u0275fac=function(ne){return new(ne||ve)(ae.LFG(le.gx))};static#t=this.\u0275prov=ae.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),Ie=(()=>{class ve{constructor(Ue,ne){this.authService=Ue,this.router=ne}canActivate(){var Ue=this;return(0,he.Z)(function*(){try{const ne=yield Ue.authService.getLoggin();return ne||Ue.router.navigate(["auth"]),ne}catch(ne){return console.error(ne),!1}})()}static#e=this.\u0275fac=function(ne){return new(ne||ve)(ae.LFG(de),ae.LFG(Z.F0))};static#t=this.\u0275prov=ae.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),fe=(()=>{class ve{constructor(Ue,ne){this.authService=Ue,this.router=ne}canActivate(){var Ue=this;return(0,he.Z)(function*(){try{const ne=yield Ue.authService.getLoggin();return!ne||(Ue.router.navigate(["home"]),ne)}catch(ne){return console.error(ne),!1}})()}static#e=this.\u0275fac=function(ne){return new(ne||ve)(ae.LFG(de),ae.LFG(Z.F0))};static#t=this.\u0275prov=ae.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),Le=(()=>{class ve{constructor(Ue){this.router=Ue,this.muni=["Acevedo","Aipe","Algeciras","Altamira","Baraya","Campoalegre","Colombia","El\xedas","El Agrado","Garz\xf3n","Gigante","Guadalupe","Hobo","\xcdquira","Isnos","La Argentina","La Plata","N\xe1taga","Neiva","Oporapa","Paicol","Palermo","Palestina","Pital","Pitalito","Rivera","Saladoblanco","Santa Mar\xeda","San Agust\xedn","Suaza","Tarqui","Tello","Teruel","Tesalia","Timan\xe1","Villavieja","Yaguar\xe1"]}canActivate(Ue){const ne=Ue.paramMap.get("id");return!!this.muni.includes(ne)||(this.router.navigate(["/municipios/Garz\xf3n"]),!1)}static#e=this.\u0275fac=function(ne){return new(ne||ve)(ae.LFG(Z.F0))};static#t=this.\u0275prov=ae.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();var Q=B(3828);const Me=[{path:"home",canActivate:[Ie],loadChildren:()=>Promise.all([B.e(552),B.e(433),B.e(592),B.e(312)]).then(B.bind(B,312)).then(ve=>ve.HomeModule)},{path:"dashboard-admin",canActivate:[Ie,(()=>{class ve{constructor(Ue){this.router=Ue}canActivate(){var Ue=this;return(0,he.Z)(function*(){try{const ne=(0,le.v0)();if(console.log(ne.currentUser),!ne.currentUser)return Ue.router.navigate(["/login"]),!1;const Ot=(0,Q.ad)(),en=(0,Q.JU)(Ot,"users",ne.currentUser.uid),Rn=yield(0,Q.QT)(en);if(Rn.exists()&&Rn.data()?.rol){const wr=Rn.data().rol;if("admin"===wr||"superadmin"===wr)return!0}return Ue.router.navigate(["/home"]),!1}catch(ne){return console.error("Error while fetching user data:",ne),Ue.router.navigate(["/error"]),!1}})()}static#e=this.\u0275fac=function(ne){return new(ne||ve)(ae.LFG(Z.F0))};static#t=this.\u0275prov=ae.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})()],loadChildren:()=>Promise.all([B.e(552),B.e(95),B.e(472),B.e(875)]).then(B.bind(B,875)).then(ve=>ve.DashboardAdminModule)},{path:"municipios/:id",canActivate:[Ie,Le],loadChildren:()=>Promise.all([B.e(552),B.e(433),B.e(472),B.e(592),B.e(148)]).then(B.bind(B,9148)).then(ve=>ve.MunicipiosModule)},{path:"prestadores/:municipio/:prestador",canActivate:[Ie],loadChildren:()=>Promise.all([B.e(552),B.e(433),B.e(802)]).then(B.bind(B,2802)).then(ve=>ve.PrestadoresModule)},{path:"auth",canActivate:[fe],loadChildren:()=>Promise.all([B.e(552),B.e(95),B.e(133)]).then(B.bind(B,1133)).then(ve=>ve.AuthModule)},{path:"**",redirectTo:"home",pathMatch:"full"}];let qe=(()=>{class ve{static#e=this.\u0275fac=function(ne){return new(ne||ve)};static#t=this.\u0275mod=ae.oAB({type:ve});static#n=this.\u0275inj=ae.cJS({imports:[Z.Bz.forRoot(Me,{preloadingStrategy:Z.wm}),Z.Bz]})}return ve})();var Ye=B(7731),dt=B(3934),ht=B(6814);function pt(ve,it){if(1&ve){const Ue=ae.EpF();ae.TgZ(0,"button",2),ae.NdJ("click",function(){ae.CHM(Ue);const nt=ae.oxw();return ae.KtG(nt.toTop())}),ae.O4$(),ae.TgZ(1,"svg",3),ae._UZ(2,"path",4),ae.qZA()()}}let ft=(()=>{class ve{constructor(Ue,ne,nt){this.modal=Ue,this.router=ne,this.userService=nt,this.firestore=(0,Q.ad)(),this.auth=(0,le.v0)(),this.mostrarBoton=!1,this.title="Pa'lHuila",this.hasExecuted=!1,this.updateFechaUltimoLoginBeforeUnload=()=>{this.updateFechaUltimoLogin()}}ngOnInit(){this.router.events.subscribe(Ue=>{Ue instanceof Z.m2&&window.scrollTo(0,0)}),window.addEventListener("beforeunload",this.updateFechaUltimoLoginBeforeUnload)}ngAfterViewChecked(){var Ue=this;this.hasExecuted||(this.hasExecuted=!0,this.userService.getCurrentUser(this.auth).then(function(){var ne=(0,he.Z)(function*(nt){if(nt){const Ot=(0,Q.JU)(Ue.firestore,`users/${nt.uid}`),en=yield(0,Q.QT)(Ot);Ue.userService.setRolSubject(en.data().rol),Ot&&(0,Q.pl)(Ot,{fechaUltimoLogin:(new Date).toISOString()},{merge:!0})}});return function(nt){return ne.apply(this,arguments)}}()))}ngOnDestroy(){window.removeEventListener("beforeunload",this.updateFechaUltimoLoginBeforeUnload),console.log("Hi")}onScroll(Ue){const ne=window.scrollY;this.mostrarBoton=ne>500}updateFechaUltimoLogin(){this.userService.getCurrentUser(this.auth).then(Ue=>{if(Ue){const ne=(0,Q.JU)(this.firestore,`users/${Ue.uid}`);ne&&(0,Q.pl)(ne,{fechaUltimoLogin:(new Date).toISOString()},{merge:!0})}})}toTop(){window.scrollTo({top:0,left:0,behavior:"smooth"})}onKeyDown(Ue){const ne=Ue.target;!ne.classList.contains("no-close")&&"svg"!==ne.tagName&&"li"!==ne.tagName&&"path"!==ne.tagName&&"span"!==ne.tagName&&"ul"!==ne.tagName&&"Escape"===Ue.key&&(this.modal.setProfileHeader(!1),this.modal.setTurnMuni(!1),this.modal.setTurnSliderP(!0))}handleKeydown(Ue){const ne=Ue.target;!ne.classList.contains("no-close")&&"svg"!==ne.tagName&&"li"!==ne.tagName&&"path"!==ne.tagName&&"span"!==ne.tagName&&"ul"!==ne.tagName&&"button"!==ne.tagName&&(this.modal.setProfileHeader(!1),this.modal.setTurnMuni(!1))}static#e=this.\u0275fac=function(ne){return new(ne||ve)(ae.Y36(Ye.H),ae.Y36(Z.F0),ae.Y36(dt.K))};static#t=this.\u0275cmp=ae.Xpm({type:ve,selectors:[["app-root"]],hostBindings:function(ne,nt){1&ne&&ae.NdJ("keydown",function(en){return nt.onKeyDown(en)},!1,ae.evT)("scroll",function(en){return nt.onScroll(en)},!1,ae.Jf7)},decls:3,vars:1,consts:[[1,".paila",3,"keydown","mousedown"],["class","fixed bottom-[140px] right-0 rounded-tl-2xl rounded-bl-2xl bg-primary-500 opacity-60",3,"click",4,"ngIf"],[1,"fixed","bottom-[140px]","right-0","rounded-tl-2xl","rounded-bl-2xl","bg-primary-500","opacity-60",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","48","viewBox","0 -960 960 960","width","48",1,"fill-white"],["d","m284-324-66-66 262-261 262 260-65 66-197-198-196 199Z"]],template:function(ne,nt){1&ne&&(ae.TgZ(0,"Div",0),ae.NdJ("keydown",function(en){return nt.onKeyDown(en)})("mousedown",function(en){return nt.handleKeydown(en)}),ae._UZ(1,"router-outlet"),ae.YNc(2,pt,3,0,"button",1),ae.qZA()),2&ne&&(ae.xp6(2),ae.Q6J("ngIf",nt.mostrarBoton))},dependencies:[ht.O5,Z.lC]})}return ve})();var Jt=B(8726);const qt_firebase={apiKey:"AIzaSyCNtspEd7b-OB0G4rgueYrNjlDsLoBRHLs",authDomain:"centurhuila-b9e47.firebaseapp.com",databaseURL:"https://centurhuila-b9e47.firebaseio.com",projectId:"centurhuila-b9e47",storageBucket:"centurhuila-b9e47.appspot.com",messagingSenderId:"51926987535",appId:"1:51926987535:web:15d603eaee884a7801c47a",measurementId:"G-WLKL8STB8G"};var Oe=B(9493);let Ze=(()=>{class ve{static#e=this.\u0275fac=function(ne){return new(ne||ve)};static#t=this.\u0275mod=ae.oAB({type:ve,bootstrap:[ft]});static#n=this.\u0275inj=ae.cJS({imports:[m.b2,qe,Z.Bz,(0,Jt.hX)(()=>(0,Jt.ZF)(qt_firebase)),(0,le.AR)(()=>(0,le.v0)()),(0,Q.Cm)(()=>(0,Q.ad)()),(0,Oe.Vq)(()=>(0,Oe.cF)())]})}return ve})();m.q6().bootstrapModule(Ze).catch(ve=>console.error(ve))},5619:(jt,He,B)=>{B.d(He,{X:()=>Z});var m=B(8645);class Z extends m.x{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const le=super._subscribe(ae);return!le.closed&&ae.next(this._value),le}getValue(){const{hasError:ae,thrownError:le,_value:de}=this;if(ae)throw le;return this._throwIfClosed(),de}next(ae){super.next(this._value=ae)}}},5592:(jt,He,B)=>{B.d(He,{y:()=>fe});var m=B(305),Z=B(7394),he=B(4850),ae=B(8407),le=B(2653),de=B(4674),Ie=B(1441);let fe=(()=>{class Me{constructor(Ye){Ye&&(this._subscribe=Ye)}lift(Ye){const dt=new Me;return dt.source=this,dt.operator=Ye,dt}subscribe(Ye,dt,ht){const pt=function ie(Me){return Me&&Me instanceof m.Lv||function Q(Me){return Me&&(0,de.m)(Me.next)&&(0,de.m)(Me.error)&&(0,de.m)(Me.complete)}(Me)&&(0,Z.Nn)(Me)}(Ye)?Ye:new m.Hp(Ye,dt,ht);return(0,Ie.x)(()=>{const{operator:ft,source:Jt}=this;pt.add(ft?ft.call(pt,Jt):Jt?this._subscribe(pt):this._trySubscribe(pt))}),pt}_trySubscribe(Ye){try{return this._subscribe(Ye)}catch(dt){Ye.error(dt)}}forEach(Ye,dt){return new(dt=Le(dt))((ht,pt)=>{const ft=new m.Hp({next:Jt=>{try{Ye(Jt)}catch(qt){pt(qt),ft.unsubscribe()}},error:pt,complete:ht});this.subscribe(ft)})}_subscribe(Ye){var dt;return null===(dt=this.source)||void 0===dt?void 0:dt.subscribe(Ye)}[he.L](){return this}pipe(...Ye){return(0,ae.U)(Ye)(this)}toPromise(Ye){return new(Ye=Le(Ye))((dt,ht)=>{let pt;this.subscribe(ft=>pt=ft,ft=>ht(ft),()=>dt(pt))})}}return Me.create=qe=>new Me(qe),Me})();function Le(Me){var qe;return null!==(qe=Me??le.config.Promise)&&void 0!==qe?qe:Promise}},8645:(jt,He,B)=>{B.d(He,{x:()=>Ie});var m=B(5592),Z=B(7394);const ae=(0,B(2306).d)(Le=>function(){Le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=B(9039),de=B(1441);let Ie=(()=>{class Le extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const Me=new fe(this,this);return Me.operator=ie,Me}_throwIfClosed(){if(this.closed)throw new ae}next(ie){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(ie)}})}error(ie){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:Me}=this;for(;Me.length;)Me.shift().error(ie)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:Me,isStopped:qe,observers:Ye}=this;return Me||qe?Z.Lc:(this.currentObservers=null,Ye.push(ie),new Z.w0(()=>{this.currentObservers=null,(0,le.P)(Ye,ie)}))}_checkFinalizedStatuses(ie){const{hasError:Me,thrownError:qe,isStopped:Ye}=this;Me?ie.error(qe):Ye&&ie.complete()}asObservable(){const ie=new m.y;return ie.source=this,ie}}return Le.create=(Q,ie)=>new fe(Q,ie),Le})();class fe extends Ie{constructor(Q,ie){super(),this.destination=Q,this.source=ie}next(Q){var ie,Me;null===(Me=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===Me||Me.call(ie,Q)}error(Q){var ie,Me;null===(Me=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===Me||Me.call(ie,Q)}complete(){var Q,ie;null===(ie=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===ie||ie.call(Q)}_subscribe(Q){var ie,Me;return null!==(Me=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(Q))&&void 0!==Me?Me:Z.Lc}}},305:(jt,He,B)=>{B.d(He,{Hp:()=>ht,Lv:()=>Me});var m=B(4674),Z=B(7394),he=B(2653),ae=B(3894),le=B(2420);const de=Le("C",void 0,void 0);function Le(Oe,Ze,ve){return{kind:Oe,value:Ze,error:ve}}var Q=B(7599),ie=B(1441);class Me extends Z.w0{constructor(Ze){super(),this.isStopped=!1,Ze?(this.destination=Ze,(0,Z.Nn)(Ze)&&Ze.add(this)):this.destination=qt}static create(Ze,ve,it){return new ht(Ze,ve,it)}next(Ze){this.isStopped?Jt(function fe(Oe){return Le("N",Oe,void 0)}(Ze),this):this._next(Ze)}error(Ze){this.isStopped?Jt(function Ie(Oe){return Le("E",void 0,Oe)}(Ze),this):(this.isStopped=!0,this._error(Ze))}complete(){this.isStopped?Jt(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ze){this.destination.next(Ze)}_error(Ze){try{this.destination.error(Ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Ye(Oe,Ze){return qe.call(Oe,Ze)}class dt{constructor(Ze){this.partialObserver=Ze}next(Ze){const{partialObserver:ve}=this;if(ve.next)try{ve.next(Ze)}catch(it){pt(it)}}error(Ze){const{partialObserver:ve}=this;if(ve.error)try{ve.error(Ze)}catch(it){pt(it)}else pt(Ze)}complete(){const{partialObserver:Ze}=this;if(Ze.complete)try{Ze.complete()}catch(ve){pt(ve)}}}class ht extends Me{constructor(Ze,ve,it){let Ue;if(super(),(0,m.m)(Ze)||!Ze)Ue={next:Ze??void 0,error:ve??void 0,complete:it??void 0};else{let ne;this&&he.config.useDeprecatedNextContext?(ne=Object.create(Ze),ne.unsubscribe=()=>this.unsubscribe(),Ue={next:Ze.next&&Ye(Ze.next,ne),error:Ze.error&&Ye(Ze.error,ne),complete:Ze.complete&&Ye(Ze.complete,ne)}):Ue=Ze}this.destination=new dt(Ue)}}function pt(Oe){he.config.useDeprecatedSynchronousErrorHandling?(0,ie.O)(Oe):(0,ae.h)(Oe)}function Jt(Oe,Ze){const{onStoppedNotification:ve}=he.config;ve&&Q.z.setTimeout(()=>ve(Oe,Ze))}const qt={closed:!0,next:le.Z,error:function ft(Oe){throw Oe},complete:le.Z}},7394:(jt,He,B)=>{B.d(He,{Lc:()=>de,w0:()=>le,Nn:()=>Ie});var m=B(4674);const he=(0,B(2306).d)(Le=>function(ie){Le(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((Me,qe)=>`${qe+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var ae=B(9039);class le{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const Ye of ie)Ye.remove(this);else ie.remove(this);const{initialTeardown:Me}=this;if((0,m.m)(Me))try{Me()}catch(Ye){Q=Ye instanceof he?Ye.errors:[Ye]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Ye of qe)try{fe(Ye)}catch(dt){Q=Q??[],dt instanceof he?Q=[...Q,...dt.errors]:Q.push(dt)}}if(Q)throw new he(Q)}}add(Q){var ie;if(Q&&Q!==this)if(this.closed)fe(Q);else{if(Q instanceof le){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(Q)}}_hasParent(Q){const{_parentage:ie}=this;return ie===Q||Array.isArray(ie)&&ie.includes(Q)}_addParent(Q){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(Q),ie):ie?[ie,Q]:Q}_removeParent(Q){const{_parentage:ie}=this;ie===Q?this._parentage=null:Array.isArray(ie)&&(0,ae.P)(ie,Q)}remove(Q){const{_finalizers:ie}=this;ie&&(0,ae.P)(ie,Q),Q instanceof le&&Q._removeParent(this)}}le.EMPTY=(()=>{const Le=new le;return Le.closed=!0,Le})();const de=le.EMPTY;function Ie(Le){return Le instanceof le||Le&&"closed"in Le&&(0,m.m)(Le.remove)&&(0,m.m)(Le.add)&&(0,m.m)(Le.unsubscribe)}function fe(Le){(0,m.m)(Le)?Le():Le.unsubscribe()}},2653:(jt,He,B)=>{B.d(He,{config:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(jt,He,B)=>{B.d(He,{a:()=>Q});var m=B(5592),Z=B(7453),he=B(2459),ae=B(2737),le=B(7400),de=B(4564),Ie=B(2714),fe=B(8251),Le=B(7103);function Q(...qe){const Ye=(0,de.yG)(qe),dt=(0,de.jO)(qe),{args:ht,keys:pt}=(0,Z.D)(qe);if(0===ht.length)return(0,he.D)([],Ye);const ft=new m.y(function ie(qe,Ye,dt=ae.y){return ht=>{Me(Ye,()=>{const{length:pt}=qe,ft=new Array(pt);let Jt=pt,qt=pt;for(let Oe=0;Oe<pt;Oe++)Me(Ye,()=>{const Ze=(0,he.D)(qe[Oe],Ye);let ve=!1;Ze.subscribe((0,fe.x)(ht,it=>{ft[Oe]=it,ve||(ve=!0,qt--),qt||ht.next(dt(ft.slice()))},()=>{--Jt||ht.complete()}))},ht)},ht)}}(ht,Ye,pt?Jt=>(0,Ie.n)(pt,Jt):ae.y));return dt?ft.pipe((0,le.Z)(dt)):ft}function Me(qe,Ye,dt){qe?(0,Le.f)(dt,qe,Ye):Ye()}},5211:(jt,He,B)=>{B.d(He,{z:()=>le});var m=B(7537),he=B(4564),ae=B(2459);function le(...de){return function Z(){return(0,m.J)(1)}()((0,ae.D)(de,(0,he.yG)(de)))}},6232:(jt,He,B)=>{B.d(He,{E:()=>Z});const Z=new(B(5592).y)(le=>le.complete())},2459:(jt,He,B)=>{B.d(He,{D:()=>Ze});var m=B(4829),Z=B(3093),he=B(5137),de=B(5592),fe=B(4971),Le=B(4674),Q=B(7103);function Me(ve,it){if(!ve)throw new Error("Iterable cannot be null");return new de.y(Ue=>{(0,Q.f)(Ue,it,()=>{const ne=ve[Symbol.asyncIterator]();(0,Q.f)(Ue,it,()=>{ne.next().then(nt=>{nt.done?Ue.complete():Ue.next(nt.value)})},0,!0)})})}var qe=B(8382),Ye=B(4026),dt=B(4266),ht=B(3664),pt=B(5726),ft=B(9853),Jt=B(541);function Ze(ve,it){return it?function Oe(ve,it){if(null!=ve){if((0,qe.c)(ve))return function ae(ve,it){return(0,m.Xf)(ve).pipe((0,he.R)(it),(0,Z.Q)(it))}(ve,it);if((0,dt.z)(ve))return function Ie(ve,it){return new de.y(Ue=>{let ne=0;return it.schedule(function(){ne===ve.length?Ue.complete():(Ue.next(ve[ne++]),Ue.closed||this.schedule())})})}(ve,it);if((0,Ye.t)(ve))return function le(ve,it){return(0,m.Xf)(ve).pipe((0,he.R)(it),(0,Z.Q)(it))}(ve,it);if((0,pt.D)(ve))return Me(ve,it);if((0,ht.T)(ve))return function ie(ve,it){return new de.y(Ue=>{let ne;return(0,Q.f)(Ue,it,()=>{ne=ve[fe.h](),(0,Q.f)(Ue,it,()=>{let nt,Ot;try{({value:nt,done:Ot}=ne.next())}catch(en){return void Ue.error(en)}Ot?Ue.complete():Ue.next(nt)},0,!0)}),()=>(0,Le.m)(ne?.return)&&ne.return()})}(ve,it);if((0,Jt.L)(ve))return function qt(ve,it){return Me((0,Jt.Q)(ve),it)}(ve,it)}throw(0,ft.z)(ve)}(ve,it):(0,m.Xf)(ve)}},4829:(jt,He,B)=>{B.d(He,{Xf:()=>qe});var m=B(7582),Z=B(4266),he=B(4026),ae=B(5592),le=B(8382),de=B(5726),Ie=B(9853),fe=B(3664),Le=B(541),Q=B(4674),ie=B(3894),Me=B(4850);function qe(Oe){if(Oe instanceof ae.y)return Oe;if(null!=Oe){if((0,le.c)(Oe))return function Ye(Oe){return new ae.y(Ze=>{const ve=Oe[Me.L]();if((0,Q.m)(ve.subscribe))return ve.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,Z.z)(Oe))return function dt(Oe){return new ae.y(Ze=>{for(let ve=0;ve<Oe.length&&!Ze.closed;ve++)Ze.next(Oe[ve]);Ze.complete()})}(Oe);if((0,he.t)(Oe))return function ht(Oe){return new ae.y(Ze=>{Oe.then(ve=>{Ze.closed||(Ze.next(ve),Ze.complete())},ve=>Ze.error(ve)).then(null,ie.h)})}(Oe);if((0,de.D)(Oe))return ft(Oe);if((0,fe.T)(Oe))return function pt(Oe){return new ae.y(Ze=>{for(const ve of Oe)if(Ze.next(ve),Ze.closed)return;Ze.complete()})}(Oe);if((0,Le.L)(Oe))return function Jt(Oe){return ft((0,Le.Q)(Oe))}(Oe)}throw(0,Ie.z)(Oe)}function ft(Oe){return new ae.y(Ze=>{(function qt(Oe,Ze){var ve,it,Ue,ne;return(0,m.mG)(this,void 0,void 0,function*(){try{for(ve=(0,m.KL)(Oe);!(it=yield ve.next()).done;)if(Ze.next(it.value),Ze.closed)return}catch(nt){Ue={error:nt}}finally{try{it&&!it.done&&(ne=ve.return)&&(yield ne.call(ve))}finally{if(Ue)throw Ue.error}}Ze.complete()})})(Oe,Ze).catch(ve=>Ze.error(ve))})}},2096:(jt,He,B)=>{B.d(He,{of:()=>he});var m=B(4564),Z=B(2459);function he(...ae){const le=(0,m.yG)(ae);return(0,Z.D)(ae,le)}},8251:(jt,He,B)=>{B.d(He,{x:()=>Z});var m=B(305);function Z(ae,le,de,Ie,fe){return new he(ae,le,de,Ie,fe)}class he extends m.Lv{constructor(le,de,Ie,fe,Le,Q){super(le),this.onFinalize=Le,this.shouldUnsubscribe=Q,this._next=de?function(ie){try{de(ie)}catch(Me){le.error(Me)}}:super._next,this._error=fe?function(ie){try{fe(ie)}catch(Me){le.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(ie){le.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},2181:(jt,He,B)=>{B.d(He,{h:()=>he});var m=B(9360),Z=B(8251);function he(ae,le){return(0,m.e)((de,Ie)=>{let fe=0;de.subscribe((0,Z.x)(Ie,Le=>ae.call(le,Le,fe++)&&Ie.next(Le)))})}},7398:(jt,He,B)=>{B.d(He,{U:()=>he});var m=B(9360),Z=B(8251);function he(ae,le){return(0,m.e)((de,Ie)=>{let fe=0;de.subscribe((0,Z.x)(Ie,Le=>{Ie.next(ae.call(le,Le,fe++))}))})}},7537:(jt,He,B)=>{B.d(He,{J:()=>he});var m=B(1631),Z=B(2737);function he(ae=1/0){return(0,m.z)(Z.y,ae)}},1631:(jt,He,B)=>{B.d(He,{z:()=>fe});var m=B(7398),Z=B(4829),he=B(9360),ae=B(7103),le=B(8251),Ie=B(4674);function fe(Le,Q,ie=1/0){return(0,Ie.m)(Q)?fe((Me,qe)=>(0,m.U)((Ye,dt)=>Q(Me,Ye,qe,dt))((0,Z.Xf)(Le(Me,qe))),ie):("number"==typeof Q&&(ie=Q),(0,he.e)((Me,qe)=>function de(Le,Q,ie,Me,qe,Ye,dt,ht){const pt=[];let ft=0,Jt=0,qt=!1;const Oe=()=>{qt&&!pt.length&&!ft&&Q.complete()},Ze=it=>ft<Me?ve(it):pt.push(it),ve=it=>{Ye&&Q.next(it),ft++;let Ue=!1;(0,Z.Xf)(ie(it,Jt++)).subscribe((0,le.x)(Q,ne=>{qe?.(ne),Ye?Ze(ne):Q.next(ne)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(ft--;pt.length&&ft<Me;){const ne=pt.shift();dt?(0,ae.f)(Q,dt,()=>ve(ne)):ve(ne)}Oe()}catch(ne){Q.error(ne)}}))};return Le.subscribe((0,le.x)(Q,Ze,()=>{qt=!0,Oe()})),()=>{ht?.()}}(Me,qe,Le,ie)))}},3093:(jt,He,B)=>{B.d(He,{Q:()=>ae});var m=B(7103),Z=B(9360),he=B(8251);function ae(le,de=0){return(0,Z.e)((Ie,fe)=>{Ie.subscribe((0,he.x)(fe,Le=>(0,m.f)(fe,le,()=>fe.next(Le),de),()=>(0,m.f)(fe,le,()=>fe.complete(),de),Le=>(0,m.f)(fe,le,()=>fe.error(Le),de)))})}},7921:(jt,He,B)=>{B.d(He,{O:()=>ae});var m=B(5211),Z=B(4564),he=B(9360);function ae(...le){const de=(0,Z.yG)(le);return(0,he.e)((Ie,fe)=>{(de?(0,m.z)(le,Ie,de):(0,m.z)(le,Ie)).subscribe(fe)})}},5137:(jt,He,B)=>{B.d(He,{R:()=>Z});var m=B(9360);function Z(he,ae=0){return(0,m.e)((le,de)=>{de.add(he.schedule(()=>le.subscribe(de),ae))})}},4664:(jt,He,B)=>{B.d(He,{w:()=>ae});var m=B(4829),Z=B(9360),he=B(8251);function ae(le,de){return(0,Z.e)((Ie,fe)=>{let Le=null,Q=0,ie=!1;const Me=()=>ie&&!Le&&fe.complete();Ie.subscribe((0,he.x)(fe,qe=>{Le?.unsubscribe();let Ye=0;const dt=Q++;(0,m.Xf)(le(qe,dt)).subscribe(Le=(0,he.x)(fe,ht=>fe.next(de?de(qe,ht,dt,Ye++):ht),()=>{Le=null,Me()}))},()=>{ie=!0,Me()}))})}},8180:(jt,He,B)=>{B.d(He,{q:()=>ae});var m=B(6232),Z=B(9360),he=B(8251);function ae(le){return le<=0?()=>m.E:(0,Z.e)((de,Ie)=>{let fe=0;de.subscribe((0,he.x)(Ie,Le=>{++fe<=le&&(Ie.next(Le),le<=fe&&Ie.complete())}))})}},9773:(jt,He,B)=>{B.d(He,{R:()=>le});var m=B(9360),Z=B(8251),he=B(4829),ae=B(2420);function le(de){return(0,m.e)((Ie,fe)=>{(0,he.Xf)(de).subscribe((0,Z.x)(fe,()=>fe.complete(),ae.Z)),!fe.closed&&Ie.subscribe(fe)})}},9397:(jt,He,B)=>{B.d(He,{b:()=>le});var m=B(4674),Z=B(9360),he=B(8251),ae=B(2737);function le(de,Ie,fe){const Le=(0,m.m)(de)||Ie||fe?{next:de,error:Ie,complete:fe}:de;return Le?(0,Z.e)((Q,ie)=>{var Me;null===(Me=Le.subscribe)||void 0===Me||Me.call(Le);let qe=!0;Q.subscribe((0,he.x)(ie,Ye=>{var dt;null===(dt=Le.next)||void 0===dt||dt.call(Le,Ye),ie.next(Ye)},()=>{var Ye;qe=!1,null===(Ye=Le.complete)||void 0===Ye||Ye.call(Le),ie.complete()},Ye=>{var dt;qe=!1,null===(dt=Le.error)||void 0===dt||dt.call(Le,Ye),ie.error(Ye)},()=>{var Ye,dt;qe&&(null===(Ye=Le.unsubscribe)||void 0===Ye||Ye.call(Le)),null===(dt=Le.finalize)||void 0===dt||dt.call(Le)}))}):ae.y}},1954:(jt,He,B)=>{B.d(He,{o:()=>le});var m=B(7394);class Z extends m.w0{constructor(Ie,fe){super()}schedule(Ie,fe=0){return this}}const he={setInterval(de,Ie,...fe){const{delegate:Le}=he;return Le?.setInterval?Le.setInterval(de,Ie,...fe):setInterval(de,Ie,...fe)},clearInterval(de){const{delegate:Ie}=he;return(Ie?.clearInterval||clearInterval)(de)},delegate:void 0};var ae=B(9039);class le extends Z{constructor(Ie,fe){super(Ie,fe),this.scheduler=Ie,this.work=fe,this.pending=!1}schedule(Ie,fe=0){var Le;if(this.closed)return this;this.state=Ie;const Q=this.id,ie=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(ie,Q,fe)),this.pending=!0,this.delay=fe,this.id=null!==(Le=this.id)&&void 0!==Le?Le:this.requestAsyncId(ie,this.id,fe),this}requestAsyncId(Ie,fe,Le=0){return he.setInterval(Ie.flush.bind(Ie,this),Le)}recycleAsyncId(Ie,fe,Le=0){if(null!=Le&&this.delay===Le&&!1===this.pending)return fe;null!=fe&&he.clearInterval(fe)}execute(Ie,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Le=this._execute(Ie,fe);if(Le)return Le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,fe){let Q,Le=!1;try{this.work(Ie)}catch(ie){Le=!0,Q=ie||new Error("Scheduled action threw falsy error")}if(Le)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:fe}=this,{actions:Le}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(Le,this),null!=Ie&&(this.id=this.recycleAsyncId(fe,Ie,null)),this.delay=null,super.unsubscribe()}}}},9931:(jt,He,B)=>{B.d(He,{v:()=>he});const m={now:()=>(m.delegate||Date).now(),delegate:void 0};class Z{constructor(le,de=Z.now){this.schedulerActionCtor=le,this.now=de}schedule(le,de=0,Ie){return new this.schedulerActionCtor(this,le).schedule(Ie,de)}}Z.now=m.now;class he extends Z{constructor(le,de=Z.now){super(le,de),this.actions=[],this._active=!1}flush(le){const{actions:de}=this;if(this._active)return void de.push(le);let Ie;this._active=!0;do{if(Ie=le.execute(le.state,le.delay))break}while(le=de.shift());if(this._active=!1,Ie){for(;le=de.shift();)le.unsubscribe();throw Ie}}}},6321:(jt,He,B)=>{B.d(He,{z:()=>he});var m=B(1954);const he=new(B(9931).v)(m.o)},7599:(jt,He,B)=>{B.d(He,{z:()=>m});const m={setTimeout(Z,he,...ae){const{delegate:le}=m;return le?.setTimeout?le.setTimeout(Z,he,...ae):setTimeout(Z,he,...ae)},clearTimeout(Z){const{delegate:he}=m;return(he?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},4971:(jt,He,B)=>{B.d(He,{h:()=>Z});const Z=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(jt,He,B)=>{B.d(He,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(jt,He,B)=>{B.d(He,{_6:()=>de,jO:()=>ae,yG:()=>le});var m=B(4674);function he(Ie){return Ie[Ie.length-1]}function ae(Ie){return(0,m.m)(he(Ie))?Ie.pop():void 0}function le(Ie){return function Z(Ie){return Ie&&(0,m.m)(Ie.schedule)}(he(Ie))?Ie.pop():void 0}function de(Ie,fe){return"number"==typeof he(Ie)?Ie.pop():fe}},7453:(jt,He,B)=>{B.d(He,{D:()=>le});const{isArray:m}=Array,{getPrototypeOf:Z,prototype:he,keys:ae}=Object;function le(Ie){if(1===Ie.length){const fe=Ie[0];if(m(fe))return{args:fe,keys:null};if(function de(Ie){return Ie&&"object"==typeof Ie&&Z(Ie)===he}(fe)){const Le=ae(fe);return{args:Le.map(Q=>fe[Q]),keys:Le}}}return{args:Ie,keys:null}}},9039:(jt,He,B)=>{function m(Z,he){if(Z){const ae=Z.indexOf(he);0<=ae&&Z.splice(ae,1)}}B.d(He,{P:()=>m})},2306:(jt,He,B)=>{function m(Z){const ae=Z(le=>{Error.call(le),le.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}B.d(He,{d:()=>m})},2714:(jt,He,B)=>{function m(Z,he){return Z.reduce((ae,le,de)=>(ae[le]=he[de],ae),{})}B.d(He,{n:()=>m})},1441:(jt,He,B)=>{B.d(He,{O:()=>ae,x:()=>he});var m=B(2653);let Z=null;function he(le){if(m.config.useDeprecatedSynchronousErrorHandling){const de=!Z;if(de&&(Z={errorThrown:!1,error:null}),le(),de){const{errorThrown:Ie,error:fe}=Z;if(Z=null,Ie)throw fe}}else le()}function ae(le){m.config.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=le)}},7103:(jt,He,B)=>{function m(Z,he,ae,le=0,de=!1){const Ie=he.schedule(function(){ae(),de?Z.add(this.schedule(null,le)):this.unsubscribe()},le);if(Z.add(Ie),!de)return Ie}B.d(He,{f:()=>m})},2737:(jt,He,B)=>{function m(Z){return Z}B.d(He,{y:()=>m})},4266:(jt,He,B)=>{B.d(He,{z:()=>m});const m=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},5726:(jt,He,B)=>{B.d(He,{D:()=>Z});var m=B(4674);function Z(he){return Symbol.asyncIterator&&(0,m.m)(he?.[Symbol.asyncIterator])}},4674:(jt,He,B)=>{function m(Z){return"function"==typeof Z}B.d(He,{m:()=>m})},8382:(jt,He,B)=>{B.d(He,{c:()=>he});var m=B(4850),Z=B(4674);function he(ae){return(0,Z.m)(ae[m.L])}},3664:(jt,He,B)=>{B.d(He,{T:()=>he});var m=B(4971),Z=B(4674);function he(ae){return(0,Z.m)(ae?.[m.h])}},4026:(jt,He,B)=>{B.d(He,{t:()=>Z});var m=B(4674);function Z(he){return(0,m.m)(he?.then)}},541:(jt,He,B)=>{B.d(He,{L:()=>ae,Q:()=>he});var m=B(7582),Z=B(4674);function he(le){return(0,m.FC)(this,arguments,function*(){const Ie=le.getReader();try{for(;;){const{value:fe,done:Le}=yield(0,m.qq)(Ie.read());if(Le)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(fe)}}finally{Ie.releaseLock()}})}function ae(le){return(0,Z.m)(le?.getReader)}},9360:(jt,He,B)=>{B.d(He,{A:()=>Z,e:()=>he});var m=B(4674);function Z(ae){return(0,m.m)(ae?.lift)}function he(ae){return le=>{if(Z(le))return le.lift(function(de){try{return ae(de,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(jt,He,B)=>{B.d(He,{Z:()=>ae});var m=B(7398);const{isArray:Z}=Array;function ae(le){return(0,m.U)(de=>function he(le,de){return Z(de)?le(...de):le(de)}(le,de))}},2420:(jt,He,B)=>{function m(){}B.d(He,{Z:()=>m})},8407:(jt,He,B)=>{B.d(He,{U:()=>he,z:()=>Z});var m=B(2737);function Z(...ae){return he(ae)}function he(ae){return 0===ae.length?m.y:1===ae.length?ae[0]:function(de){return ae.reduce((Ie,fe)=>fe(Ie),de)}}},3894:(jt,He,B)=>{B.d(He,{h:()=>he});var m=B(2653),Z=B(7599);function he(ae){Z.z.setTimeout(()=>{const{onUnhandledError:le}=m.config;if(!le)throw ae;le(ae)})}},9853:(jt,He,B)=>{function m(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(He,{z:()=>m})},6814:(jt,He,B)=>{B.d(He,{Do:()=>ht,EM:()=>mi,HT:()=>ae,JF:()=>$s,JJ:()=>Wi,K0:()=>de,Mx:()=>Pi,NF:()=>Et,O5:()=>ki,PM:()=>hn,S$:()=>qe,V_:()=>fe,Ye:()=>pt,Zd:()=>fs,b0:()=>dt,bD:()=>gs,ez:()=>ao,mk:()=>ls,q:()=>he,sg:()=>Ts,w_:()=>le});var m=B(4946);let Z=null;function he(){return Z}function ae(w){Z||(Z=w)}class le{}const de=new m.OlP("DocumentToken");let Ie=(()=>{class w{historyGo(M){throw new Error("Not implemented")}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=m.Yz7({token:w,factory:function(){return(0,m.f3M)(Le)},providedIn:"platform"})}return w})();const fe=new m.OlP("Location Initialized");let Le=(()=>{class w extends Ie{constructor(){super(),this._doc=(0,m.f3M)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return he().getBaseHref(this._doc)}onPopState(M){const O=he().getGlobalEventTarget(this._doc,"window");return O.addEventListener("popstate",M,!1),()=>O.removeEventListener("popstate",M)}onHashChange(M){const O=he().getGlobalEventTarget(this._doc,"window");return O.addEventListener("hashchange",M,!1),()=>O.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,O,X){this._history.pushState(M,O,X)}replaceState(M,O,X){this._history.replaceState(M,O,X)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=m.Yz7({token:w,factory:function(){return new w},providedIn:"platform"})}return w})();function Q(w,V){if(0==w.length)return V;if(0==V.length)return w;let M=0;return w.endsWith("/")&&M++,V.startsWith("/")&&M++,2==M?w+V.substring(1):1==M?w+V:w+"/"+V}function ie(w){const V=w.match(/#|\?|$/),M=V&&V.index||w.length;return w.slice(0,M-("/"===w[M-1]?1:0))+w.slice(M)}function Me(w){return w&&"?"!==w[0]?"?"+w:w}let qe=(()=>{class w{historyGo(M){throw new Error("Not implemented")}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=m.Yz7({token:w,factory:function(){return(0,m.f3M)(dt)},providedIn:"root"})}return w})();const Ye=new m.OlP("appBaseHref");let dt=(()=>{class w extends qe{constructor(M,O){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=O??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return Q(this._baseHref,M)}path(M=!1){const O=this._platformLocation.pathname+Me(this._platformLocation.search),X=this._platformLocation.hash;return X&&M?`${O}${X}`:O}pushState(M,O,X,Re){const We=this.prepareExternalUrl(X+Me(Re));this._platformLocation.pushState(M,O,We)}replaceState(M,O,X,Re){const We=this.prepareExternalUrl(X+Me(Re));this._platformLocation.replaceState(M,O,We)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static#e=this.\u0275fac=function(O){return new(O||w)(m.LFG(Ie),m.LFG(Ye,8))};static#t=this.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),ht=(()=>{class w extends qe{constructor(M,O){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=O&&(this._baseHref=O)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let O=this._platformLocation.hash;return null==O&&(O="#"),O.length>0?O.substring(1):O}prepareExternalUrl(M){const O=Q(this._baseHref,M);return O.length>0?"#"+O:O}pushState(M,O,X,Re){let We=this.prepareExternalUrl(X+Me(Re));0==We.length&&(We=this._platformLocation.pathname),this._platformLocation.pushState(M,O,We)}replaceState(M,O,X,Re){let We=this.prepareExternalUrl(X+Me(Re));0==We.length&&(We=this._platformLocation.pathname),this._platformLocation.replaceState(M,O,We)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static#e=this.\u0275fac=function(O){return new(O||w)(m.LFG(Ie),m.LFG(Ye,8))};static#t=this.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac})}return w})(),pt=(()=>{class w{constructor(M){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const O=this._locationStrategy.getBaseHref();this._basePath=function Oe(w){if(new RegExp("^(https?:)?//").test(w)){const[,M]=w.split(/\/\/[^\/]+/);return M}return w}(ie(qt(O))),this._locationStrategy.onPopState(X=>{this._subject.emit({url:this.path(!0),pop:!0,state:X.state,type:X.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,O=""){return this.path()==this.normalize(M+Me(O))}normalize(M){return w.stripTrailingSlash(function Jt(w,V){if(!w||!V.startsWith(w))return V;const M=V.substring(w.length);return""===M||["/",";","?","#"].includes(M[0])?M:V}(this._basePath,qt(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,O="",X=null){this._locationStrategy.pushState(X,"",M,O),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Me(O)),X)}replaceState(M,O="",X=null){this._locationStrategy.replaceState(X,"",M,O),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Me(O)),X)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(O=>{this._notifyUrlChangeListeners(O.url,O.state)})),()=>{const O=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(O,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",O){this._urlChangeListeners.forEach(X=>X(M,O))}subscribe(M,O,X){return this._subject.subscribe({next:M,error:O,complete:X})}static#e=this.normalizeQueryParams=Me;static#t=this.joinWithSlash=Q;static#n=this.stripTrailingSlash=ie;static#r=this.\u0275fac=function(O){return new(O||w)(m.LFG(qe))};static#i=this.\u0275prov=m.Yz7({token:w,factory:function(){return function ft(){return new pt((0,m.LFG)(qe))}()},providedIn:"root"})}return w})();function qt(w){return w.replace(/\/index.html$/,"")}var ve=function(w){return w[w.Decimal=0]="Decimal",w[w.Percent=1]="Percent",w[w.Currency=2]="Currency",w[w.Scientific=3]="Scientific",w}(ve||{}),Ot=function(w){return w[w.Decimal=0]="Decimal",w[w.Group=1]="Group",w[w.List=2]="List",w[w.PercentSign=3]="PercentSign",w[w.PlusSign=4]="PlusSign",w[w.MinusSign=5]="MinusSign",w[w.Exponential=6]="Exponential",w[w.SuperscriptingExponent=7]="SuperscriptingExponent",w[w.PerMille=8]="PerMille",w[w.Infinity=9]="Infinity",w[w.NaN=10]="NaN",w[w.TimeSeparator=11]="TimeSeparator",w[w.CurrencyDecimal=12]="CurrencyDecimal",w[w.CurrencyGroup=13]="CurrencyGroup",w}(Ot||{});function je(w,V){const M=(0,m.cg1)(w),O=M[m.wAp.NumberSymbols][V];if(typeof O>"u"){if(V===Ot.CurrencyDecimal)return M[m.wAp.NumberSymbols][Ot.Decimal];if(V===Ot.CurrencyGroup)return M[m.wAp.NumberSymbols][Ot.Group]}return O}const G=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function mt(w){const V=parseInt(w);if(isNaN(V))throw new Error("Invalid integer literal when parsing "+w);return V}function Pi(w,V){V=encodeURIComponent(V);for(const M of w.split(";")){const O=M.indexOf("="),[X,Re]=-1==O?[M,""]:[M.slice(0,O),M.slice(O+1)];if(X.trim()===V)return decodeURIComponent(Re)}return null}const Mi=/\s+/,_r=[];let ls=(()=>{class w{constructor(M,O,X,Re){this._iterableDiffers=M,this._keyValueDiffers=O,this._ngEl=X,this._renderer=Re,this.initialClasses=_r,this.stateMap=new Map}set klass(M){this.initialClasses=null!=M?M.trim().split(Mi):_r}set ngClass(M){this.rawClass="string"==typeof M?M.trim().split(Mi):M}ngDoCheck(){for(const O of this.initialClasses)this._updateState(O,!0);const M=this.rawClass;if(Array.isArray(M)||M instanceof Set)for(const O of M)this._updateState(O,!0);else if(null!=M)for(const O of Object.keys(M))this._updateState(O,!!M[O]);this._applyStateDiff()}_updateState(M,O){const X=this.stateMap.get(M);void 0!==X?(X.enabled!==O&&(X.changed=!0,X.enabled=O),X.touched=!0):this.stateMap.set(M,{enabled:O,changed:!0,touched:!0})}_applyStateDiff(){for(const M of this.stateMap){const O=M[0],X=M[1];X.changed?(this._toggleClass(O,X.enabled),X.changed=!1):X.touched||(X.enabled&&this._toggleClass(O,!1),this.stateMap.delete(O)),X.touched=!1}}_toggleClass(M,O){(M=M.trim()).length>0&&M.split(Mi).forEach(X=>{O?this._renderer.addClass(this._ngEl.nativeElement,X):this._renderer.removeClass(this._ngEl.nativeElement,X)})}static#e=this.\u0275fac=function(O){return new(O||w)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))};static#t=this.\u0275dir=m.lG2({type:w,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return w})();class jn{constructor(V,M,O,X){this.$implicit=V,this.ngForOf=M,this.index=O,this.count=X}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ts=(()=>{class w{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,O,X){this._viewContainer=M,this._template=O,this._differs=X,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const O=this._viewContainer;M.forEachOperation((X,Re,We)=>{if(null==X.previousIndex)O.createEmbeddedView(this._template,new jn(X.item,this._ngForOf,-1,-1),null===We?void 0:We);else if(null==We)O.remove(null===Re?void 0:Re);else if(null!==Re){const Pt=O.get(Re);O.move(Pt,We),Un(Pt,X)}});for(let X=0,Re=O.length;X<Re;X++){const Pt=O.get(X).context;Pt.index=X,Pt.count=Re,Pt.ngForOf=this._ngForOf}M.forEachIdentityChange(X=>{Un(O.get(X.currentIndex),X)})}static ngTemplateContextGuard(M,O){return!0}static#e=this.\u0275fac=function(O){return new(O||w)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))};static#t=this.\u0275dir=m.lG2({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return w})();function Un(w,V){w.context.$implicit=V.item}let ki=(()=>{class w{constructor(M,O){this._viewContainer=M,this._context=new xr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=O}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){ds("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){ds("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,O){return!0}static#e=this.\u0275fac=function(O){return new(O||w)(m.Y36(m.s_b),m.Y36(m.Rgc))};static#t=this.\u0275dir=m.lG2({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return w})();class xr{constructor(){this.$implicit=null,this.ngIf=null}}function ds(w,V){if(V&&!V.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,m.AaK)(V)}'.`)}let Wi=(()=>{class w{constructor(M){this._locale=M}transform(M,O,X){if(!function ci(w){return!(null==w||""===w||w!=w)}(M))return null;X=X||this._locale;try{return function Be(w,V,M){return function ui(w,V,M,O,X,Re,We=!1){let Pt="",Cr=!1;if(isFinite(w)){let sr=function $e(w){let O,X,Re,We,Pt,V=Math.abs(w)+"",M=0;for((X=V.indexOf("."))>-1&&(V=V.replace(".","")),(Re=V.search(/e/i))>0?(X<0&&(X=Re),X+=+V.slice(Re+1),V=V.substring(0,Re)):X<0&&(X=V.length),Re=0;"0"===V.charAt(Re);Re++);if(Re===(Pt=V.length))O=[0],X=1;else{for(Pt--;"0"===V.charAt(Pt);)Pt--;for(X-=Re,O=[],We=0;Re<=Pt;Re++,We++)O[We]=Number(V.charAt(Re))}return X>22&&(O=O.splice(0,21),M=X-1,X=1),{digits:O,exponent:M,integerLen:X}}(w);We&&(sr=function ye(w){if(0===w.digits[0])return w;const V=w.digits.length-w.integerLen;return w.exponent?w.exponent+=2:(0===V?w.digits.push(0,0):1===V&&w.digits.push(0),w.integerLen+=2),w}(sr));let lr=V.minInt,Zt=V.minFrac,Ir=V.maxFrac;if(Re){const hi=Re.match(G);if(null===hi)throw new Error(`${Re} is not a valid digit info`);const rs=hi[1],Nt=hi[3],Bt=hi[5];null!=rs&&(lr=mt(rs)),null!=Nt&&(Zt=mt(Nt)),null!=Bt?Ir=mt(Bt):null!=Nt&&Zt>Ir&&(Ir=Zt)}!function ut(w,V,M){if(V>M)throw new Error(`The minimum number of digits after fraction (${V}) is higher than the maximum (${M}).`);let O=w.digits,X=O.length-w.integerLen;const Re=Math.min(Math.max(V,X),M);let We=Re+w.integerLen,Pt=O[We];if(We>0){O.splice(Math.max(w.integerLen,We));for(let Zt=We;Zt<O.length;Zt++)O[Zt]=0}else{X=Math.max(0,X),w.integerLen=1,O.length=Math.max(1,We=Re+1),O[0]=0;for(let Zt=1;Zt<We;Zt++)O[Zt]=0}if(Pt>=5)if(We-1<0){for(let Zt=0;Zt>We;Zt--)O.unshift(0),w.integerLen++;O.unshift(1),w.integerLen++}else O[We-1]++;for(;X<Math.max(0,Re);X++)O.push(0);let Cr=0!==Re;const sr=V+w.integerLen,lr=O.reduceRight(function(Zt,Ir,Nn,ii){return ii[Nn]=(Ir+=Zt)<10?Ir:Ir-10,Cr&&(0===ii[Nn]&&Nn>=sr?ii.pop():Cr=!1),Ir>=10?1:0},0);lr&&(O.unshift(lr),w.integerLen++)}(sr,Zt,Ir);let Nn=sr.digits,ii=sr.integerLen;const Co=sr.exponent;let st=[];for(Cr=Nn.every(hi=>!hi);ii<lr;ii++)Nn.unshift(0);for(;ii<0;ii++)Nn.unshift(0);ii>0?st=Nn.splice(ii,Nn.length):(st=Nn,Nn=[0]);const Sr=[];for(Nn.length>=V.lgSize&&Sr.unshift(Nn.splice(-V.lgSize,Nn.length).join(""));Nn.length>V.gSize;)Sr.unshift(Nn.splice(-V.gSize,Nn.length).join(""));Nn.length&&Sr.unshift(Nn.join("")),Pt=Sr.join(je(M,O)),st.length&&(Pt+=je(M,X)+st.join("")),Co&&(Pt+=je(M,Ot.Exponential)+"+"+Co)}else Pt=je(M,Ot.Infinity);return Pt=w<0&&!Cr?V.negPre+Pt+V.negSuf:V.posPre+Pt+V.posSuf,Pt}(w,function re(w,V="-"){const M={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},O=w.split(";"),X=O[0],Re=O[1],We=-1!==X.indexOf(".")?X.split("."):[X.substring(0,X.lastIndexOf("0")+1),X.substring(X.lastIndexOf("0")+1)],Pt=We[0],Cr=We[1]||"";M.posPre=Pt.substring(0,Pt.indexOf("#"));for(let lr=0;lr<Cr.length;lr++){const Zt=Cr.charAt(lr);"0"===Zt?M.minFrac=M.maxFrac=lr+1:"#"===Zt?M.maxFrac=lr+1:M.posSuf+=Zt}const sr=Pt.split(",");if(M.gSize=sr[1]?sr[1].length:0,M.lgSize=sr[2]||sr[1]?(sr[2]||sr[1]).length:0,Re){const lr=X.length-M.posPre.length-M.posSuf.length,Zt=Re.indexOf("#");M.negPre=Re.substring(0,Zt).replace(/'/g,""),M.negSuf=Re.slice(Zt+lr).replace(/'/g,"")}else M.negPre=V+M.posPre,M.negSuf=M.posSuf;return M}(function at(w,V){return(0,m.cg1)(w)[m.wAp.NumberFormats][V]}(V,ve.Decimal),je(V,Ot.MinusSign)),V,Ot.Group,Ot.Decimal,M)}(function Cs(w){if("string"==typeof w&&!isNaN(Number(w)-parseFloat(w)))return Number(w);if("number"!=typeof w)throw new Error(`${w} is not a number`);return w}(M),X,O)}catch(Re){throw function pi(w,V){return new m.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(O){return new(O||w)(m.Y36(m.soG,16))};static#t=this.\u0275pipe=m.Yjl({name:"number",type:w,pure:!0,standalone:!0})}return w})();let ao=(()=>{class w{static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275mod=m.oAB({type:w});static#n=this.\u0275inj=m.cJS({})}return w})();const gs="browser",wo="server";function Et(w){return w===gs}function hn(w){return w===wo}let mi=(()=>{class w{static#e=this.\u0275prov=(0,m.Yz7)({token:w,providedIn:"root",factory:()=>new js((0,m.LFG)(de),window)})}return w})();class js{constructor(V,M){this.document=V,this.window=M,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(V){this.supportsScrolling()&&this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){if(!this.supportsScrolling())return;const M=function Rr(w,V){const M=w.getElementById(V)||w.getElementsByName(V)[0];if(M)return M;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const O=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let X=O.currentNode;for(;X;){const Re=X.shadowRoot;if(Re){const We=Re.getElementById(V)||Re.querySelector(`[name="${V}"]`);if(We)return We}X=O.nextNode()}}return null}(this.document,V);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(V){this.supportsScrolling()&&(this.window.history.scrollRestoration=V)}scrollToElement(V){const M=V.getBoundingClientRect(),O=M.left+this.window.pageXOffset,X=M.top+this.window.pageYOffset,Re=this.offset();this.window.scrollTo(O-Re[0],X-Re[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class $s{}const yi=w=>w.src,Dr=new m.OlP("ImageLoader",{providedIn:"root",factory:()=>yi}),ri=new m.OlP("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let zr=(()=>{class w{constructor(){this.preloadedImages=(0,m.f3M)(ri),this.document=(0,m.f3M)(de)}createPreloadLinkTag(M,O,X,Re){if(this.preloadedImages.has(O))return;this.preloadedImages.add(O);const We=M.createElement("link");M.setAttribute(We,"as","image"),M.setAttribute(We,"href",O),M.setAttribute(We,"rel","preload"),M.setAttribute(We,"fetchpriority","high"),Re&&M.setAttribute(We,"imageSizes",Re),X&&M.setAttribute(We,"imageSrcset",X),M.appendChild(this.document.head,We)}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Ri=/^((\s*\d+w\s*(,|$)){1,})$/,br=[1,2],Qo={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},co=new m.OlP("ImageConfig",{providedIn:"root",factory:()=>Qo});let fs=(()=>{class w{constructor(){this.imageLoader=(0,m.f3M)(Dr),this.config=function bi(w){let V={};return w.breakpoints&&(V.breakpoints=w.breakpoints.sort((M,O)=>M-O)),Object.assign({},Qo,w,V)}((0,m.f3M)(co)),this.renderer=(0,m.f3M)(m.Qsj),this.imgElement=(0,m.f3M)(m.SBq).nativeElement,this.injector=(0,m.f3M)(m.zs3),this.isServer=hn((0,m.f3M)(m.Lbi)),this.preloadLinkCreator=(0,m.f3M)(zr),this.lcpObserver=null,this._renderedSrc=null,this.priority=!1,this.disableOptimizedSrcset=!1,this.fill=!1}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const M=this.updateSrcAndSrcset();this.sizes&&this.setHostAttribute("sizes",this.sizes),this.isServer&&this.priority&&this.preloadLinkCreator.createPreloadLinkTag(this.renderer,this.getRewrittenSrc(),M,this.sizes)}ngOnChanges(M){if(M.ngSrc&&!M.ngSrc.isFirstChange()){const O=this._renderedSrc;this.updateSrcAndSrcset(!0);const X=this._renderedSrc;null!==this.lcpObserver&&O&&X&&O!==X&&this.injector.get(m.R0b).runOutsideAngular(()=>{this.lcpObserver?.updateImage(O,X)})}}callImageLoader(M){let O=M;return this.loaderParams&&(O.loaderParams=this.loaderParams),this.imageLoader(O)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const M=Ri.test(this.ngSrcset);return this.ngSrcset.split(",").filter(X=>""!==X).map(X=>{X=X.trim();const Re=M?parseFloat(X):parseFloat(X)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:Re})} ${X}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:M}=this.config;let O=M;return"100vw"===this.sizes?.trim()&&(O=M.filter(Re=>Re>=640)),O.map(Re=>`${this.callImageLoader({src:this.ngSrc,width:Re})} ${Re}w`).join(", ")}updateSrcAndSrcset(M=!1){M&&(this._renderedSrc=null);const O=this.getRewrittenSrc();let X;return this.setHostAttribute("src",O),this.ngSrcset?X=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(X=this.getAutomaticSrcset()),X&&this.setHostAttribute("srcset",X),X}getFixedSrcset(){return br.map(O=>`${this.callImageLoader({src:this.ngSrc,width:this.width*O})} ${O}x`).join(", ")}shouldGenerateAutomaticSrcset(){return!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==yi&&!(this.width>1920||this.height>1080)}ngOnDestroy(){}setHostAttribute(M,O){this.renderer.setAttribute(this.imgElement,M,O)}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275dir=m.lG2({type:w,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(O,X){2&O&&m.Udp("position",X.fill?"absolute":null)("width",X.fill?"100%":null)("height",X.fill?"100%":null)("inset",X.fill?"0px":null)},inputs:{ngSrc:["ngSrc","ngSrc",eu],ngSrcset:"ngSrcset",sizes:"sizes",width:["width","width",m.Cb_],height:["height","height",m.Cb_],loading:"loading",priority:["priority","priority",m.VuI],loaderParams:"loaderParams",disableOptimizedSrcset:["disableOptimizedSrcset","disableOptimizedSrcset",m.VuI],fill:["fill","fill",m.VuI],src:"src",srcset:"srcset"},standalone:!0,features:[m.Xq5,m.TTD]})}return w})();function eu(w){return"string"==typeof w?w:(0,m.z3N)(w)}},4946:(jt,He,B)=>{B.d(He,{QbO:()=>Dv,tb:()=>l0,AFp:()=>Gm,ip1:()=>JE,hGG:()=>VC,z2F:()=>Uf,Ojb:()=>No,sBO:()=>TC,Sil:()=>zb,EJc:()=>jb,Xts:()=>Xc,SBq:()=>Hd,lqb:()=>Na,qLn:()=>Bu,vpe:()=>vu,XFs:()=>gt,OlP:()=>tn,zs3:()=>Ya,ZZ4:()=>m0,aQg:()=>y0,soG:()=>Yy,YKP:()=>eE,h0i:()=>ch,PXZ:()=>mC,R0b:()=>Fs,FiY:()=>mo,Lbi:()=>Vd,g9A:()=>Bd,Qsj:()=>Np,FYo:()=>Zm,JOm:()=>_d,q3G:()=>Qc,tp0:()=>Za,Rgc:()=>Qg,dDg:()=>hC,eoX:()=>aw,q4F:()=>uf,GfV:()=>af,s_b:()=>Ky,ifc:()=>Mr,VuI:()=>QC,MMx:()=>nE,Lck:()=>ST,eFA:()=>dw,Gpc:()=>ne,f3M:()=>mt,$WT:()=>Cs,Cb_:()=>XC,_c5:()=>BC,qFp:()=>eS,rg0:()=>st,c2e:()=>ew,zSh:()=>Kh,HDt:()=>tw,wAp:()=>Pf,vHH:()=>It,lri:()=>sw,rWj:()=>ow,JZr:()=>wr,EiD:()=>Bh,mCW:()=>Pd,qzn:()=>Yc,JVY:()=>Lh,pB0:()=>Rm,eBb:()=>hc,L6k:()=>xm,LAX:()=>Nl,cg1:()=>L_,kuF:()=>gr,kL8:()=>bI,dqk:()=>ln,Z0I:()=>Qn,eJc:()=>J_,QGY:()=>u,F4k:()=>l,RDi:()=>sp,AaK:()=>ve,z3N:()=>zi,qOj:()=>cl,Xq5:()=>Jd,TTD:()=>wa,_Bn:()=>JI,jDz:()=>rE,xp6:()=>vf,uIk:()=>Py,Tol:()=>Q0,ekj:()=>N_,Suo:()=>NE,Xpm:()=>bs,lG2:()=>Js,Yz7:()=>In,cJS:()=>on,oAB:()=>Vs,Yjl:()=>Wi,Y36:()=>Gl,_UZ:()=>Uy,BQk:()=>Vg,ynx:()=>Bg,qZA:()=>Ug,TgZ:()=>Rf,EpF:()=>o,n5z:()=>ue,LFG:()=>$e,$8M:()=>Dt,$Z:()=>Kd,NdJ:()=>f,CRH:()=>OE,kcU:()=>uu,O4$:()=>fl,oxw:()=>Ne,ALo:()=>yE,xi3:()=>vE,Q6J:()=>Lg,s9C:()=>Vt,MGl:()=>Kn,VKq:()=>lE,WLB:()=>dE,iGM:()=>xE,MAs:()=>C_,KtG:()=>jo,evT:()=>ff,Jf7:()=>oy,CHM:()=>na,LSH:()=>kd,P3R:()=>$h,Jzz:()=>fI,Udp:()=>R_,YNc:()=>I_,_uU:()=>iI,Oqu:()=>P_,hij:()=>jy,AsE:()=>k_,Gf:()=>RE});var m=B(8645),Z=B(7394),he=B(5592),ae=B(7537),le=B(4829),de=B(6232),Ie=B(4564),fe=B(2459),Q=B(5619),ie=B(2096),Me=B(305),qe=B(9360);function Ye(t={}){const{connector:r=(()=>new m.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let g,v,C,N=0,$=!1,ee=!1;const ge=()=>{v?.unsubscribe(),v=void 0},Se=()=>{ge(),g=C=void 0,$=ee=!1},Je=()=>{const lt=g;Se(),lt?.unsubscribe()};return(0,qe.e)((lt,kt)=>{N++,!ee&&!$&&ge();const sn=C=C??r();kt.add(()=>{N--,0===N&&!ee&&!$&&(v=dt(Je,c))}),sn.subscribe(kt),!g&&N>0&&(g=new Me.Hp({next:ot=>sn.next(ot),error:ot=>{ee=!0,ge(),v=dt(Se,s,ot),sn.error(ot)},complete:()=>{$=!0,ge(),v=dt(Se,a),sn.complete()}}),(0,le.Xf)(lt).subscribe(g))})(d)}}function dt(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new Me.Hp({next:()=>{a.unsubscribe(),t()}});return(0,le.Xf)(r(...s)).subscribe(a)}var ht=B(4664),pt=B(2737),ft=B(8251);function qt(t,r){return t===r}function Oe(t){for(let r in t)if(t[r]===Oe)return r;throw Error("Could not find renamed property on target object.")}function Ze(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function ve(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ve).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function it(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ue=Oe({__forward_ref__:Oe});function ne(t){return t.__forward_ref__=ne,t.toString=function(){return ve(this())},t}function nt(t){return Ot(t)?t():t}function Ot(t){return"function"==typeof t&&t.hasOwnProperty(Ue)&&t.__forward_ref__===ne}function en(t){return t&&!!t.\u0275providers}const wr="https://g.co/ng/security#xss";class It extends Error{constructor(r,s){super(gr(r,s)),this.code=r}}function gr(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}function bt(t){return"string"==typeof t?t:null==t?"":String(t)}function be(t,r){throw new It(-201,!1)}function Cn(t,r){null==t&&function Gt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function In(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function on(t){return{providers:t.providers||[],imports:t.imports||[]}}function Yt(t){return Ar(t,On)||Ar(t,Sn)}function Qn(t){return null!==Yt(t)}function Ar(t,r){return t.hasOwnProperty(r)?t[r]:null}function Xn(t){return t&&(t.hasOwnProperty(dn)||t.hasOwnProperty(Ii))?t[dn]:null}const On=Oe({\u0275prov:Oe}),dn=Oe({\u0275inj:Oe}),Sn=Oe({ngInjectableDef:Oe}),Ii=Oe({ngInjectorDef:Oe});var gt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(gt||{});let Yr;function Pn(t){const r=Yr;return Yr=t,r}function En(t,r,s){const a=Yt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&gt.Optional?null:void 0!==r?r:void be(ve(t))}const ln=globalThis;class tn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=In({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qt={},Kt="__NG_DI_FLAG__",Vn="ngTempTokenPath",Mn=/\n/gm,cs="__source";let Fr;function re(t){const r=Fr;return Fr=t,r}function ye(t,r=gt.Default){if(void 0===Fr)throw new It(-203,!1);return null===Fr?En(t,void 0,r):Fr.get(t,r&gt.Optional?null:void 0,r)}function $e(t,r=gt.Default){return(function Wn(){return Yr}()||ye)(nt(t),r)}function mt(t,r=gt.Default){return $e(t,$t(r))}function $t(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ur(t){const r=[];for(let s=0;s<t.length;s++){const a=nt(t[s]);if(Array.isArray(a)){if(0===a.length)throw new It(900,!1);let c,d=gt.Default;for(let g=0;g<a.length;g++){const v=a[g],C=Xr(v);"number"==typeof C?-1===C?c=v.token:d|=C:c=v}r.push($e(c,d))}else r.push($e(a))}return r}function tr(t,r){return t[Kt]=r,t.prototype[Kt]=r,t}function Xr(t){return t[Kt]}function _r(t){return{toString:t}.toString()}var ls=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ls||{}),Mr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Mr||{});const Jr={},jn=[],Ts=Oe({\u0275cmp:Oe}),Un=Oe({\u0275dir:Oe}),io=Oe({\u0275pipe:Oe}),ki=Oe({\u0275mod:Oe}),xr=Oe({\u0275fac:Oe}),ds=Oe({__NG_ELEMENT_ID__:Oe}),me=Oe({__NG_ENV_ID__:Oe});function pe(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function De(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],v=s[a++];t.setAttribute(r,g,v,d)}else{const d=c,g=s[++a];ct(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function Xe(t){return 3===t||4===t||6===t}function ct(t){return 64===t.charCodeAt(0)}function Wt(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||kn(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function kn(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const v=t[d++];if("number"==typeof v){if(v===r){g=-1;break}if(v>r){g=d-1;break}}}for(;d<t.length;){const v=t[d];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const $n="ng-template";function Ln(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==pe(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Ys(t){return 4===t.type&&t.value!==$n}function pi(t,r,s){return r===(4!==t.type||s?t.value:$n)}function xi(t,r,s){let a=4;const c=t.attrs||[],d=function Li(t){for(let r=0;r<t.length;r++)if(Xe(t[r]))return r;return t.length}(c);let g=!1;for(let v=0;v<r.length;v++){const C=r[v];if("number"!=typeof C){if(!g)if(4&a){if(a=2|1&a,""!==C&&!pi(t,C,s)||""===C&&1===r.length){if(cr(a))return!1;g=!0}}else{const N=8&a?C:r[++v];if(8&a&&null!==t.attrs){if(!Ln(t.attrs,N,s)){if(cr(a))return!1;g=!0}continue}const ee=Po(8&a?"class":C,c,Ys(t),s);if(-1===ee){if(cr(a))return!1;g=!0;continue}if(""!==N){let ge;ge=ee>d?"":c[ee+1].toLowerCase();const Se=8&a?ge:null;if(Se&&-1!==pe(Se,N,0)||2&a&&N!==ge){if(cr(a))return!1;g=!0}}}}else{if(!g&&!cr(a)&&!cr(C))return!1;if(g&&cr(C))continue;g=!1,a=C|1&a}}return cr(a)||g}function cr(t){return 0==(1&t)}function Po(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let v=r[++c];for(;"string"==typeof v;)v=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function Qs(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function so(t,r,s=!1){for(let a=0;a<r.length;a++)if(xi(t,r[a],s))return!0;return!1}function ca(t,r){return t?":not("+r.trim()+")":r}function Xs(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const v=t[++s];c+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!cr(g)&&(r+=ca(d,c),c=""),a=g,d=d||!cr(a);s++}return""!==c&&(r+=ca(d,c)),r}function bs(t){return _r(()=>{const r=Yo(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ls.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Mr.Emulated,styles:t.styles||jn,_:null,schemas:t.schemas||null,tView:null,id:""};ao(s);const a=t.dependencies;return s.directiveDefs=gs(a,!1),s.pipeDefs=gs(a,!0),s.id=function Ss(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function Bs(t){return Fn(t)||ei(t)}function Eo(t){return null!==t}function Vs(t){return _r(()=>({type:t.type,bootstrap:t.bootstrap||jn,declarations:t.declarations||jn,imports:t.imports||jn,exports:t.exports||jn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function gi(t,r){if(null==t)return Jr;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function Js(t){return _r(()=>{const r=Yo(t);return ao(r),r})}function Wi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Fn(t){return t[Ts]||null}function ei(t){return t[Un]||null}function ci(t){return t[io]||null}function Cs(t){const r=Fn(t)||ei(t)||ci(t);return null!==r&&r.standalone}function qi(t,r){const s=t[ki]||null;if(!s&&!0===r)throw new Error(`Type ${ve(t)} does not have '\u0275mod' property.`);return s}function Yo(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Jr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||jn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gi(t.inputs,r),outputs:gi(t.outputs)}}function ao(t){t.features?.forEach(r=>r(t))}function gs(t,r){if(!t)return null;const s=r?ci:Bs;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(Eo)}const pr=0,Et=1,hn=2,$r=3,Fi=4,ms=5,mi=6,js=7,Rr=8,Ki=9,$s=10,an=11,As=12,Lo=13,uo=14,ti=15,ys=16,yi=17,Dr=18,vs=19,Zi=20,Yi=21,vi=22,Do=23,Tr=24,Hn=25,Ui=1,Fo=2,Bi=7,_s=9,li=11;function ni(t){return Array.isArray(t)&&"object"==typeof t[Ui]}function Ti(t){return Array.isArray(t)&&!0===t[Ui]}function F(t){return 0!=(4&t.flags)}function L(t){return t.componentOffset>-1}function J(t){return 1==(1&t.flags)}function oe(t){return!!t.template}function Te(t){return 0!=(512&t[hn])}function co(t,r){return t.hasOwnProperty(xr)?t[xr]:null}let qr=null,mr=!1;function ts(t){const r=qr;return qr=t,r}const Ea={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Xo(t){if(!Gs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Is(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Jo(t){t.dirty=!0,function To(t){if(void 0===t.liveConsumerNode)return;const r=mr;mr=!0;try{for(const s of t.liveConsumerNode)s.dirty||Jo(s)}finally{mr=r}}(t),t.consumerMarkedDirty?.(t)}function Fa(t){return t&&(t.nextProducerIndex=0),ts(t)}function xs(t,r){if(ts(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Gs(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)lo(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Is(t){Ws(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(Xo(s),a!==s.version))return!0}return!1}function Ci(t){if(Ws(t),Gs(t))for(let r=0;r<t.producerNode.length;r++)lo(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function lo(t,r){if(function Ua(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ws(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)lo(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Ws(c),c.producerIndexOfThis[a]=r}}function Gs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ws(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let X=null;function st(t){const r=ts(null);try{return t()}finally{ts(r)}}const hi=()=>{},rs=(()=>({...Ea,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:hi}))();class Bt{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function wa(){return Mt}function Mt(t){return t.type.prototype.ngOnChanges&&(t.setInput=tt),Fe}function Fe(){const t=tu(this),r=t?.current;if(r){const s=t.previous;if(s===Jr)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function tt(t,r,s,a){const c=this.declaredInputs[s],d=tu(t)||function Ba(t,r){return t[Si]=r}(t,{previous:Jr,current:null}),g=d.current||(d.current={}),v=d.previous,C=v[c];g[c]=new Bt(C&&C.currentValue,r,v===Jr),t[a]=r}wa.ngInherit=!0;const Si="__ngSimpleChanges__";function tu(t){return t[Si]||null}const to=function(t,r,s){},Iu="svg";function Kr(t){for(;Array.isArray(t);)t=t[pr];return t}function ru(t,r){return Kr(r[t])}function yr(t,r){return Kr(r[t.index])}function is(t,r){return t.data[r]}function da(t,r){return t[r]}function rr(t,r){const s=r[t];return ni(s)?s:s[pr]}function Bo(t,r){return null==r?null:t[r]}function Bn(t){t[yi]=0}function Ct(t){1024&t[hn]||(t[hn]|=1024,Ta(t,1))}function So(t){1024&t[hn]&&(t[hn]&=-1025,Ta(t,-1))}function Ta(t,r){let s=t[$r];if(null===s)return;s[ms]+=r;let a=s;for(s=s[$r];null!==s&&(1===r&&1===a[ms]||-1===r&&0===a[ms]);)s[ms]+=r,a=s,s=s[$r]}const pn={lFrame:Rc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function iu(){return pn.bindingsEnabled}function et(){return pn.lFrame.lView}function Jn(){return pn.lFrame.tView}function na(t){return pn.lFrame.contextLView=t,t[Rr]}function jo(t){return pn.lFrame.contextLView=null,t}function ji(){let t=$o();for(;null!==t&&64===t.type;)t=t.parent;return t}function $o(){return pn.lFrame.currentTNode}function ho(t,r){const s=pn.lFrame;s.currentTNode=t,s.isParent=r}function au(){return pn.lFrame.isParent}function _(){pn.lFrame.isParent=!1}function R(){const t=pn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function ke(){return pn.lFrame.bindingIndex++}function Ce(t){const r=pn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function Br(t,r){const s=pn.lFrame;s.bindingIndex=s.bindingRootIndex=t,Ns(r)}function Ns(t){pn.lFrame.currentDirectiveIndex=t}function $a(){return pn.lFrame.currentQueryIndex}function Ho(t){pn.lFrame.currentQueryIndex=t}function Ha(t){const r=t[Et];return 2===r.type?r.declTNode:1===r.type?t[mi]:null}function Mo(t,r,s){if(s&gt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&gt.Host||(c=Ha(d),null===c||(d=d[uo],10&c.type))););if(null===c)return!1;r=c,t=d}const a=pn.lFrame=zo();return a.currentTNode=r,a.lView=t,!0}function Du(t){const r=zo(),s=t[Et];pn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function zo(){const t=pn.lFrame,r=null===t?null:t.child;return null===r?Rc(t):r}function Rc(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Nc(){const t=pn.lFrame;return pn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const za=Nc;function Tu(){const t=Nc();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $i(){return pn.lFrame.selectedIndex}function bu(t){pn.lFrame.selectedIndex=t}function si(){const t=pn.lFrame;return is(t.tView,t.selectedIndex)}function fl(){pn.lFrame.currentNamespace=Iu}function uu(){!function ps(){pn.lFrame.currentNamespace=null}()}let Sa=!0;function Zu(){return Sa}function or(t){Sa=t}function Ni(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:N,ngOnDestroy:$}=d;g&&(t.contentHooks??=[]).push(-s,g),v&&((t.contentHooks??=[]).push(s,v),(t.contentCheckHooks??=[]).push(s,v)),C&&(t.viewHooks??=[]).push(-s,C),N&&((t.viewHooks??=[]).push(s,N),(t.viewCheckHooks??=[]).push(s,N)),null!=$&&(t.destroyHooks??=[]).push(s,$)}}function oi(t,r,s){qs(t,r,3,s)}function Yu(t,r,s,a){(3&t[hn])===s&&qs(t,r,s,a)}function fa(t,r){let s=t[hn];(3&s)===r&&(s&=8191,s+=1,t[hn]=s)}function qs(t,r,s,a){const d=a??-1,g=r.length-1;let v=0;for(let C=void 0!==a?65535&t[yi]:0;C<g;C++)if("number"==typeof r[C+1]){if(v=r[C],null!=a&&v>=a)break}else r[C]<0&&(t[yi]+=65536),(v<d||-1==d)&&(ld(t,s,r,C),t[yi]=(4294901760&t[yi])+C+2),C++}function Oc(t,r){to(4,t,r);const s=ts(null);try{r.call(t)}finally{ts(s),to(5,t,r)}}function ld(t,r,s,a){const c=s[a]<0,d=s[a+1],v=t[c?-s[a]:s[a]];c?t[hn]>>13<t[yi]>>16&&(3&t[hn])===r&&(t[hn]+=8192,Oc(v,d)):Oc(v,d)}const ai=-1;class Qu{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function fo(t){return t!==ai}function sa(t){return 32767&t}function Os(t,r){let s=function oa(t){return t>>16}(t),a=r;for(;s>0;)a=a[uo],s--;return a}let pa=!0;function no(t){const r=pa;return pa=t,r}const ga=255,cu=5;let Ma=0;const Ks={};function Wa(t,r){const s=Lc(t,r);if(-1!==s)return s;const a=r[Et];a.firstCreatePass&&(t.injectorIndex=r.length,lu(a.data,t),lu(r,null),lu(a.blueprint,null));const c=xo(t,r),d=t.injectorIndex;if(fo(c)){const g=sa(c),v=Os(c,r),C=v[Et].data;for(let N=0;N<8;N++)r[d+N]=v[g+N]|C[g+N]}return r[d+8]=c,d}function lu(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Lc(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function xo(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=St(c),null===a)return ai;if(s++,c=c[uo],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return ai}function ma(t,r,s){!function gl(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(ds)&&(a=s[ds]),null==a&&(a=s[ds]=Ma++);const c=a&ga;r.data[t+(c>>cu)]|=1<<c}(t,r,s)}function Au(t,r,s){if(s&gt.Optional||void 0!==t)return t;be()}function xa(t,r,s,a){if(s&gt.Optional&&void 0===a&&(a=null),!(s&(gt.Self|gt.Host))){const c=t[Ki],d=Pn(void 0);try{return c?c.get(r,a,s&gt.Optional):En(r,a,s&gt.Optional)}finally{Pn(d)}}return Au(a,0,s)}function Fc(t,r,s,a=gt.Default,c){if(null!==t){if(2048&r[hn]&&!(a&gt.Self)){const g=function Ge(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[hn]&&!(512&g[hn]);){const v=ya(d,g,s,a|gt.Self,Ks);if(v!==Ks)return v;let C=d.parent;if(!C){const N=g[Zi];if(N){const $=N.get(s,Ks,a);if($!==Ks)return $}C=St(g),g=g[uo]}d=C}return c}(t,r,s,a,Ks);if(g!==Ks)return g}const d=ya(t,r,s,a,Ks);if(d!==Ks)return d}return xa(r,s,a,c)}function ya(t,r,s,a,c){const d=function Ra(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ds)?t[ds]:void 0;return"number"==typeof r?r>=0?r&ga:Y:r}(s);if("function"==typeof d){if(!Mo(r,t,a))return a&gt.Host?Au(c,0,a):xa(r,s,a,c);try{let g;if(g=d(a),null!=g||a&gt.Optional)return g;be()}finally{za()}}else if("number"==typeof d){let g=null,v=Lc(t,r),C=ai,N=a&gt.Host?r[ti][mi]:null;for((-1===v||a&gt.SkipSelf)&&(C=-1===v?xo(t,r):r[v+8],C!==ai&&Mu(a,!1)?(g=r[Et],v=sa(C),r=Os(C,r)):v=-1);-1!==v;){const $=r[Et];if(Uc(d,v,$.data)){const ee=Ps(v,r,s,g,a,N);if(ee!==Ks)return ee}C=r[v+8],C!==ai&&Mu(a,r[Et].data[v+8]===N)&&Uc(d,v,r)?(g=$,v=sa(C),r=Os(C,r)):v=-1}}return c}function Ps(t,r,s,a,c,d){const g=r[Et],v=g.data[t+8],$=ec(v,g,s,null==a?L(v)&&pa:a!=g&&0!=(3&v.type),c&gt.Host&&d===v);return null!==$?Nr(r,g,$,v):Ks}function ec(t,r,s,a,c){const d=t.providerIndexes,g=r.data,v=1048575&d,C=t.directiveStart,$=d>>20,ge=c?v+$:t.directiveEnd;for(let Se=a?v:v+$;Se<ge;Se++){const Je=g[Se];if(Se<C&&s===Je||Se>=C&&Je.type===s)return Se}if(c){const Se=g[C];if(Se&&oe(Se)&&Se.type===s)return C}return null}function Nr(t,r,s,a){let c=t[s];const d=r.data;if(function Aa(t){return t instanceof Qu}(c)){const g=c;g.resolving&&function Ae(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new It(-200,`Circular dependency in DI detected for ${t}${s}`)}(function un(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():bt(t)}(d[s]));const v=no(g.canSeeViewProviders);g.resolving=!0;const N=g.injectImpl?Pn(g.injectImpl):null;Mo(t,a,gt.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Cu(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=Mt(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==N&&Pn(N),no(v),g.resolving=!1,za()}}return c}function Uc(t,r,s){return!!(s[r+(t>>cu)]&1<<t)}function Mu(t,r){return!(t&gt.Self||t&gt.Host&&r)}class P{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Fc(this._tNode,this._lView,r,$t(a),s)}}function Y(){return new P(ji(),et())}function ue(t){return _r(()=>{const r=t.prototype.constructor,s=r[xr]||we(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[xr]||we(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function we(t){return Ot(t)?()=>{const r=we(nt(t));return r&&r()}:co(t)}function St(t){const r=t[Et],s=r.type;return 2===s?r.declTNode:1===s?t[mi]:null}function Dt(t){return function ml(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(Xe(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(ji(),t)}const yn="__parameters__";function Go(t,r,s){return _r(()=>{const a=function ss(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return v.annotation=g,v;function v(C,N,$){const ee=C.hasOwnProperty(yn)?C[yn]:Object.defineProperty(C,yn,{value:[]})[yn];for(;ee.length<=$;)ee.push(null);return(ee[$]=ee[$]||[]).push(g),C}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function aa(t,r){t.forEach(s=>Array.isArray(s)?aa(s,r):r(s))}function hd(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function rc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function q(t,r,s){let a=Ve(t,r);return a>=0?t[1|a]=s:(a=~a,function D(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function _e(t,r){const s=Ve(t,r);if(s>=0)return t[1|s]}function Ve(t,r){return function Rt(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const mo=tr(Go("Optional"),8),Za=tr(Go("SkipSelf"),4);function Er(t){return 128==(128&t.flags)}var _d=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(_d||{});const Hf=/^>|^->|<!--|-->|--!>|<!-$/g,Eh=/(<|>)/g,um="\u200b$1\u200b";const wh=new Map;let lm=0;const Wf="__ngContext__";function yo(t,r){ni(r)?(t[Wf]=r[vs],function Id(t){wh.set(t[vs],t)}(r)):t[Wf]=r}let bh;function Hc(t,r){return bh(t,r)}function zc(t){const r=t[$r];return Ti(r)?r[$r]:r}function Zf(t){return Qf(t[As])}function Yf(t){return Qf(t[Fi])}function Qf(t){for(;null!==t&&!Ti(t);)t=t[Fi];return t}function Sl(t,r,s,a,c){if(null!=a){let d,g=!1;Ti(a)?d=a:ni(a)&&(g=!0,a=a[pr]);const v=Kr(a);0===t&&null!==s?null==c?wm(r,s,v):cc(r,s,v,c||null,!0):1===t&&null!==s?cc(r,s,v,c||null,!0):2===t?function Wc(t,r,s){const a=gu(t,r);a&&function xh(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,v,g):3===t&&r.destroyNode(v),null!=d&&function dv(t,r,s,a,c){const d=s[Bi];d!==Kr(s)&&Sl(r,t,a,d,c);for(let v=li;v<s.length;v++){const C=s[v];Sd(C[Et],C,t,r,a,d)}}(r,t,d,s,c)}}function Dd(t,r){return t.createComment(function cm(t){return t.replace(Hf,r=>r.replace(Eh,um))}(r))}function Sh(t,r,s){return t.createElement(r,s)}function Im(t,r){const s=t[_s],a=s.indexOf(r);So(r),s.splice(a,1)}function Ah(t,r){if(t.length<=li)return;const s=li+r,a=t[s];if(a){const c=a[ys];null!==c&&c!==t&&Im(c,a),r>0&&(t[s-1][Fi]=a[Fi]);const d=rc(t,li+r);!function ym(t,r){Sd(t,r,r[an],2,null,null),r[pr]=null,r[mi]=null}(a[Et],a);const g=d[Dr];null!==g&&g.detachView(d[Et]),a[$r]=null,a[Fi]=null,a[hn]&=-129}return a}function fu(t,r){if(!(256&r[hn])){const s=r[an];r[Do]&&Ci(r[Do]),r[Tr]&&Ci(r[Tr]),s.destroyNode&&Sd(t,r,s,3,null,null),function uv(t){let r=t[As];if(!r)return uc(t[Et],t);for(;r;){let s=null;if(ni(r))s=r[As];else{const a=r[li];a&&(s=a)}if(!s){for(;r&&!r[Fi]&&r!==t;)ni(r)&&uc(r[Et],r),r=r[$r];null===r&&(r=t),ni(r)&&uc(r[Et],r),s=r&&r[Fi]}r=s}}(r)}}function uc(t,r){if(!(256&r[hn])){r[hn]&=-129,r[hn]|=256,function lv(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Qu)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const v=c[d[g]],C=d[g+1];to(4,v,C);try{C.call(v)}finally{to(5,v,C)}}else{to(4,c,d);try{d.call(c)}finally{to(5,c,d)}}}}}(t,r),function Em(t,r){const s=t.cleanup,a=r[js];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[js]=null);const c=r[Yi];if(null!==c){r[Yi]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[Et].type&&r[an].destroy();const s=r[ys];if(null!==s&&Ti(r[$r])){s!==r[$r]&&Im(s,r);const a=r[Dr];null!==a&&a.detachView(t)}!function Ed(t){wh.delete(t[vs])}(r)}}function Mh(t,r,s){return function pu(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[pr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Mr.None||d===Mr.Emulated)return null}return yr(a,s)}}(t,r.parent,s)}function cc(t,r,s,a,c){t.insertBefore(r,s,a,c)}function wm(t,r,s){t.appendChild(r,s)}function Jf(t,r,s,a,c){null!==a?cc(t,r,s,a,c):wm(t,r,s)}function gu(t,r){return t.parentNode(r)}let Td,Md,xd,Zc,Rh=function ep(t,r,s){return 40&t.type?yr(t,s):null};function bd(t,r,s,a){const c=Mh(t,a,r),d=r[an],v=function xl(t,r,s){return Rh(t,r,s)}(a.parent||r[mi],a,r);if(null!=c)if(Array.isArray(s))for(let C=0;C<s.length;C++)Jf(d,c,s[C],v,!1);else Jf(d,c,s,v,!1);void 0!==Td&&Td(d,a,r,s,c)}function Cd(t,r){if(null!==r){const s=r.type;if(3&s)return yr(r,t);if(4&s)return Nh(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Cd(t,a);{const c=t[r.index];return Ti(c)?Nh(-1,c):Kr(c)}}if(32&s)return Hc(r,t)()||Kr(t[r.index]);{const a=np(t,r);return null!==a?Array.isArray(a)?a[0]:Cd(zc(t[ti]),a):Cd(t,r.next)}}return null}function np(t,r){return null!==r?t[ti][mi].projection[r.projection]:null}function Nh(t,r){const s=li+t+1;if(s<r.length){const a=r[s],c=a[Et].firstChild;if(null!==c)return Cd(a,c)}return r[Bi]}function Nu(t,r,s,a,c,d,g){for(;null!=s;){const v=a[s.index],C=s.type;if(g&&0===r&&(v&&yo(Kr(v),a),s.flags|=2),32!=(32&s.flags))if(8&C)Nu(t,r,s.child,a,c,d,!1),Sl(r,t,c,v,d);else if(32&C){const N=Hc(s,a);let $;for(;$=N();)Sl(r,t,c,$,d);Sl(r,t,c,v,d)}else 16&C?Tm(t,r,a,s,c,d):Sl(r,t,c,v,d);s=g?s.projectionNext:s.next}}function Sd(t,r,s,a,c,d){Nu(s,a,t.firstChild,r,c,d,!1)}function Tm(t,r,s,a,c,d){const g=s[ti],C=g[mi].projection[a.projection];if(Array.isArray(C))for(let N=0;N<C.length;N++)Sl(r,t,c,C[N],d);else{let N=C;const $=g[$r];Er(a)&&(N.flags|=128),Nu(t,r,N,$,c,d,!0)}}function lc(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Ou(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&De(t,r,a),null!==c&&lc(t,r,c),null!==d&&function Ad(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function qc(t){return function rp(){if(void 0===Md&&(Md=null,ln.trustedTypes))try{Md=ln.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Md}()?.createHTML(t)||t}function sp(t){xd=t}function Sm(t){return function op(){if(void 0===Zc&&(Zc=null,ln.trustedTypes))try{Zc=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zc}()?.createScriptURL(t)||t}class dc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wr})`}}class Nd extends dc{getTypeName(){return"HTML"}}class Ph extends dc{getTypeName(){return"Style"}}class Od extends dc{getTypeName(){return"Script"}}class Am extends dc{getTypeName(){return"URL"}}class Mm extends dc{getTypeName(){return"ResourceURL"}}function zi(t){return t instanceof dc?t.changingThisBreaksApplicationSecurity:t}function Yc(t,r){const s=function kh(t){return t instanceof dc&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${wr})`)}return s===r}function Lh(t){return new Nd(t)}function xm(t){return new Ph(t)}function hc(t){return new Od(t)}function Nl(t){return new Am(t)}function Rm(t){return new Mm(t)}class pv{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(qc(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class Ol{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=qc(r),s}}const pc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pd(t){return(t=String(t)).match(pc)?t:"unsafe:"+t}function Pu(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function Pl(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Om=Pu("area,br,col,hr,img,wbr"),ap=Pu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pm=Pu("rp,rt"),Fh=Pl(Om,Pl(ap,Pu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pl(Pm,Pu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pl(Pm,ap)),cp=Pu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ll=Pl(cp,Pu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),km=Pu("script,style,template");class Lm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Fh.hasOwnProperty(s))return this.sanitizedSomething=!0,!km.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),g=d.name,v=g.toLowerCase();if(!Ll.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let C=d.value;cp[v]&&(C=Pd(C)),this.buf.push(" ",g,'="',Um(C),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Fh.hasOwnProperty(s)&&!Om.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Um(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const mv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fm=/([^\#-~ |!])/g;function Um(t){return t.replace(/&/g,"&amp;").replace(mv,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Fm,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uh;function Bh(t,r){let s=null;try{Uh=Uh||function fc(t){const r=new Ol(t);return function Nm(){try{return!!(new window.DOMParser).parseFromString(qc(""),"text/html")}catch{return!1}}()?new pv(r):r}(t);let a=r?String(r):"";s=Uh.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=s.innerHTML,s=Uh.getInertBodyElement(a)}while(a!==d);return qc((new Lm).sanitizeChildren(Ls(s)||s))}finally{if(s){const a=Ls(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Ls(t){return"content"in t&&function yv(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Qc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Qc||{});function kd(t){const r=gc();return r?r.sanitize(Qc.URL,t)||"":Yc(t,"URL")?zi(t):Pd(bt(t))}function Bm(t){const r=gc();if(r)return Sm(r.sanitize(Qc.RESOURCE_URL,t)||"");if(Yc(t,"ResourceURL"))return Sm(zi(t));throw new It(904,!1)}function $h(t,r,s){return function Vm(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Bm:kd}(r,s)(t)}function gc(){const t=et();return t&&t[$s].sanitizer}const Xc=new tn("ENVIRONMENT_INITIALIZER"),zh=new tn("INJECTOR",-1),lp=new tn("INJECTOR_DEF_TYPES");class dp{get(r,s=Qt){if(s===Qt){const a=new Error(`NullInjectorError: No provider for ${ve(r)}!`);throw a.name="NullInjectorError",a}return s}}function $m(...t){return{\u0275providers:Gh(0,t),\u0275fromNgModule:!0}}function Gh(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return aa(r,g=>{const v=g;Ld(v,d,[],a)&&(c||=[],c.push(v))}),void 0!==c&&Hm(c,d),s}function Hm(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];Wh(c,d=>{r(d,a)})}}function Ld(t,r,s,a){if(!(t=nt(t)))return!1;let c=null,d=Xn(t);const g=!d&&Fn(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const C=t.ngModule;if(d=Xn(C),!d)return!1;c=C}const v=a.has(c);if(g){if(v)return!1;if(a.add(c),g.dependencies){const C="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const N of C)Ld(N,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let N;a.add(c);try{aa(d.imports,$=>{Ld($,r,s,a)&&(N||=[],N.push($))})}finally{}void 0!==N&&Hm(N,r)}if(!v){const N=co(c)||(()=>new c);r({provide:c,useFactory:N,deps:jn},c),r({provide:lp,useValue:c,multi:!0},c),r({provide:Xc,useValue:()=>$e(c),multi:!0},c)}const C=d.providers;if(null!=C&&!v){const N=t;Wh(C,$=>{r($,N)})}}}return c!==t&&void 0!==t.providers}function Wh(t,r){for(let s of t)en(s)&&(s=s.\u0275providers),Array.isArray(s)?Wh(s,r):r(s)}const Ev=Oe({provide:String,useValue:Oe});function mc(t){return null!==t&&"object"==typeof t&&Ev in t}function mu(t){return"function"==typeof t}const Kh=new tn("Set Injector scope."),Fd={},wv={};let Ud;function Zh(){return void 0===Ud&&(Ud=new dp),Ud}class Na{}class el extends Na{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xh(r,g=>this.processProvider(g)),this.records.set(zh,ku(void 0,this)),c.has("environment")&&this.records.set(Na,ku(void 0,this));const d=this.records.get(Kh);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(lp.multi,jn,gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=re(this),a=Pn(void 0);try{return r()}finally{re(s),Pn(a)}}get(r,s=Qt,a=gt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(me))return r[me](this);a=$t(a);const d=re(this),g=Pn(void 0);try{if(!(a&gt.SkipSelf)){let C=this.records.get(r);if(void 0===C){const N=function mp(t){return"function"==typeof t||"object"==typeof t&&t instanceof tn}(r)&&Yt(r);C=N&&this.injectableDefInScope(N)?ku(Yh(r),Fd):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&gt.Self?Zh():this.parent).get(r,s=a&gt.Optional&&s===Qt?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[Vn]=v[Vn]||[]).unshift(ve(r)),d)throw v;return function Pi(t,r,s,a){const c=t[Vn];throw r[cs]&&c.unshift(r[cs]),t.message=function Mi(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=ve(r);if(Array.isArray(r))c=r.map(ve).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let v=r[g];d.push(g+":"+("string"==typeof v?JSON.stringify(v):ve(v)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(Mn,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Vn]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{Pn(g),re(d)}}resolveInjectorInitializers(){const r=re(this),s=Pn(void 0);try{const c=this.get(Xc.multi,jn,gt.Self);for(const d of c)d()}finally{re(r),Pn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(ve(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new It(205,!1)}processProvider(r){let s=mu(r=nt(r))?r:nt(r&&r.provide);const a=function Qh(t){return mc(t)?ku(void 0,t.useValue):ku(Fl(t),Fd)}(r);if(mu(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=ku(void 0,Fd,!0),c.factory=()=>ur(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Fd&&(s.value=wv,s.value=s.factory()),"object"==typeof s.value&&s.value&&function gp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=nt(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Yh(t){const r=Yt(t),s=null!==r?r.factory:co(t);if(null!==s)return s;if(t instanceof tn)throw new It(204,!1);if(t instanceof Function)return function fp(t){const r=t.length;if(r>0)throw function I(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new It(204,!1);const s=function Zr(t){return t&&(t[On]||t[Sn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new It(204,!1)}function Fl(t,r,s){let a;if(mu(t)){const c=nt(t);return co(c)||Yh(c)}if(mc(t))a=()=>nt(t.useValue);else if(function qh(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ur(t.deps||[]));else if(function Jc(t){return!(!t||!t.useExisting)}(t))a=()=>$e(nt(t.useExisting));else{const c=nt(t&&(t.useClass||t.provide));if(!function pp(t){return!!t.deps}(t))return co(c)||Yh(c);a=()=>new c(...ur(t.deps))}return a}function ku(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Xh(t,r){for(const s of t)Array.isArray(s)?Xh(s,r):s&&en(s)?Xh(s.\u0275providers,r):r(s)}const Gm=new tn("AppId",{providedIn:"root",factory:()=>Wm}),Wm="ng",Bd=new tn("Platform Initializer"),Vd=new tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Dv=new tn("AnimationModuleType"),No=new tn("CSP nonce",{providedIn:"root",factory:()=>function Kc(){if(void 0!==xd)return xd;if(typeof document<"u")return document;throw new It(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Dp=(t,r,s)=>null;function yu(t,r,s=!1){return Dp(t,r,s)}class Mp{}class Km{}class Mv{resolveComponentFactory(r){throw function Sv(t){const r=Error(`No component factory found for ${ve(t)}.`);return r.ngComponent=t,r}(r)}}let jl=(()=>{class t{static#e=this.NULL=new Mv}return t})();function xv(){return vc(ji(),et())}function vc(t,r){return new Hd(yr(t,r))}let Hd=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=xv}return t})();function Rp(t){return t instanceof Hd?t.nativeElement:t}class Zm{}let Np=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Ym(){const t=et(),s=rr(ji().index,t);return(ni(s)?s:t)[an]}()}return t})(),Op=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>null})}return t})();class af{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const uf=new af("16.2.11"),_c={};function cf(t,r=null,s=null,a){const c=ey(t,r,s,a);return c.resolveInjectorInitializers(),c}function ey(t,r=null,s=null,a,c=new Set){const d=[s||jn,$m(t)];return a=a||("object"==typeof t?void 0:ve(t)),new el(d,r||Zh(),a||null,c)}let Ya=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Qt;static#t=this.NULL=new dp;static create(s,a){if(Array.isArray(s))return cf({name:""},a,s,"");{const c=s.name??"";return cf({name:c},s.parent,s.providers,c)}}static#n=this.\u0275prov=In({token:t,providedIn:"any",factory:()=>$e(zh)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Lp(t){return t.ngOriginalError}class Bu{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Lp(r);for(;s&&Lp(s);)s=Lp(s);return s||null}}function df(t){return r=>{setTimeout(t,void 0,r)}}const vu=class ry extends m.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const C=r;c=C.next?.bind(C),d=C.error?.bind(C),g=C.complete?.bind(C)}this.__isAsync&&(d=df(d),c&&(c=df(c)),g&&(g=df(g)));const v=super.subscribe({next:c,error:d,complete:g});return r instanceof Z.w0&&r.add(v),v}};function iy(...t){}class Fs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vu(!1),this.onMicrotaskEmpty=new vu(!1),this.onStable=new vu(!1),this.onError=new vu(!1),typeof Zone>"u")throw new It(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Ov(){const t="function"==typeof ln.requestAnimationFrame;let r=ln[t?"requestAnimationFrame":"setTimeout"],s=ln[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Bp(t){const r=()=>{!function Pv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ln,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Vp(t),t.isCheckStableRunning=!0,Gd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Vp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,v)=>{if(function zp(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return s.invokeTask(c,d,g,v);try{return hf(t),s.invokeTask(c,d,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),jp(t)}},onInvoke:(s,a,c,d,g,v,C)=>{try{return hf(t),s.invoke(c,d,g,v,C)}finally{t.shouldCoalesceRunChangeDetection&&r(),jp(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,Vp(t),Gd(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fs.isInAngularZone())throw new It(909,!1)}static assertNotInAngularZone(){if(Fs.isInAngularZone())throw new It(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,Up,iy,iy);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Up={};function Gd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Vp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function hf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jp(t){t._nesting--,Gd(t)}class $p{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vu,this.onMicrotaskEmpty=new vu,this.onStable=new vu,this.onError=new vu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const Hp=new tn("",{providedIn:"root",factory:sy});function sy(){const t=mt(Fs);let r=!0;return function Le(...t){const r=(0,Ie.yG)(t),s=(0,Ie._6)(t,1/0),a=t;return a.length?1===a.length?(0,le.Xf)(a[0]):(0,ae.J)(s)((0,fe.D)(a,r)):de.E}(new he.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),new he.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Fs.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{Fs.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}}).pipe(Ye()))}function oy(t){return t.ownerDocument.defaultView}function ff(t){return t.ownerDocument}function Vu(t){return t instanceof Function?t():t}let Wd=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>new t})}return t})();function qd(t){for(;t;){t[hn]|=64;const r=zc(t);if(Te(t)&&!r)return t;t=r}return null}const pf=new tn("",{providedIn:"root",factory:()=>!1});let zl=null;function Yp(t,r){return t[r]??dy()}function ly(t,r){const s=dy();s.producerNode?.length&&(t[r]=zl,s.lView=t,zl=yf())}const Bv={...Ea,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qd(t.lView)},lView:null};function yf(){return Object.create(Bv)}function dy(){return zl??=yf(),zl}const Gn={};function vf(t){_f(Jn(),et(),$i()+t,!1)}function _f(t,r,s,a){if(!a)if(3==(3&r[hn])){const d=t.preOrderCheckHooks;null!==d&&oi(r,d,s)}else{const d=t.preOrderHooks;null!==d&&Yu(r,d,0,s)}bu(s)}function Gl(t,r=gt.Default){const s=et();return null===s?$e(t,r):Fc(ji(),s,nt(t),r)}function Kd(){throw new Error("invalid")}function Zd(t,r,s,a,c,d,g,v,C,N,$){const ee=r.blueprint.slice();return ee[pr]=c,ee[hn]=140|a,(null!==N||t&&2048&t[hn])&&(ee[hn]|=2048),Bn(ee),ee[$r]=ee[uo]=t,ee[Rr]=s,ee[$s]=g||t&&t[$s],ee[an]=v||t&&t[an],ee[Ki]=C||t&&t[Ki]||null,ee[mi]=d,ee[vs]=function zf(){return lm++}(),ee[vi]=$,ee[Zi]=N,ee[ti]=2==r.type?t[ti]:ee,ee}function al(t,r,s,a,c){let d=t.data[r];if(null===d)d=function wc(t,r,s,a,c){const d=$o(),g=au(),C=t.data[r]=function og(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,v=0;return function Ca(){return null!==pn.skipHydrationRootTNode}()&&(v|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=C),null!==d&&(g?null==d.child&&null!==C.parent&&(d.child=C):null===d.next&&(d.next=C,C.prev=d)),C}(t,r,s,a,c),function xt(){return pn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function ja(){const t=pn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return ho(d,!0),d}function Wl(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Yd(t,r,s,a,c){const d=Yp(r,Do),g=$i(),v=2&a;try{bu(-1),v&&r.length>Hn&&_f(t,r,Hn,!1),to(v?2:0,c);const N=v?d:null,$=Fa(N);try{null!==N&&(N.dirty=!1),s(a,c)}finally{xs(N,$)}}finally{v&&null===r[Do]&&ly(r,Do),bu(g),to(v?3:1,c)}}function Qp(t,r,s){if(F(r)){const a=ts(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,s[g],g)}}finally{ts(a)}}}function Xp(t,r,s){iu()&&(function my(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;L(s)&&function Iy(t,r,s){const a=yr(r,t),c=hy(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const v=Gi(t,Zd(t,c,null,g,a,r,null,t[$s].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=v}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||Wa(s,r),yo(a,r);const g=s.initialInputs;for(let v=c;v<d;v++){const C=t.data[v],N=Nr(r,t,v,s);yo(N,r),null!==g&&Or(0,v-c,N,C,0,g),oe(C)&&(rr(s.index,r)[Rr]=Nr(r,t,v,s))}}(t,r,s,yr(s,r)),64==(64&s.flags)&&yy(t,r,s))}function Jp(t,r,s=yr){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],v=-1===g?s(r,t):t[g];t[c++]=v}}}function hy(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=ql(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function ql(t,r,s,a,c,d,g,v,C,N,$){const ee=Hn+a,ge=ee+c,Se=function eg(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Gn);return s}(ee,ge),Je="function"==typeof N?N():N;return Se[Et]={type:t,blueprint:Se,template:s,queries:null,viewQuery:v,declTNode:r,data:Se.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:Je,incompleteFirstPass:!1,ssrId:$}}let rg=t=>null;function ag(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?Qd(s,r,c,d):a.hasOwnProperty(c)&&Qd(s,r,a[c],d)}return s}function Qd(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function ua(t,r,s,a,c,d,g,v){const C=yr(r,s);let $,N=r.inputs;!v&&null!=N&&($=N[a])?(Ef(t,s,$,a,c),L(r)&&function Kl(t,r){const s=rr(r,t);16&s[hn]||(s[hn]|=64)}(s,r.index)):3&r.type&&(a=function ug(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(C,a,c))}function lg(t,r,s,a){if(iu()){const c=null===a?null:{"":-1},d=function Hv(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(so(r,g.selectors,!1))if(a||(a=[]),oe(g))if(null!==g.findHostDirectiveDefs){const v=[];c=c||new Map,g.findHostDirectiveDefs(g,v,c),a.unshift(...v,g),dg(t,r,v.length)}else a.unshift(g),dg(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,v;null===d?g=v=null:[g,v]=d,null!==g&&py(t,r,s,g,c,v),c&&function vy(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new It(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=Wt(s.mergedAttrs,s.attrs)}function py(t,r,s,a,c,d){for(let N=0;N<a.length;N++)ma(Wa(s,r),t,a[N].type);!function hg(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let N=0;N<a.length;N++){const $=a[N];$.providersResolver&&$.providersResolver($)}let g=!1,v=!1,C=Wl(t,r,a.length,null);for(let N=0;N<a.length;N++){const $=a[N];s.mergedAttrs=Wt(s.mergedAttrs,$.hostAttrs),zv(t,s,r,C,$),_y(C,$,c),null!==$.contentQueries&&(s.flags|=4),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(s.flags|=64);const ee=$.type.prototype;!g&&(ee.ngOnChanges||ee.ngOnInit||ee.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!v&&(ee.ngOnChanges||ee.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),v=!0),C++}!function fy(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,v=[];let C=null,N=null;for(let $=r.directiveStart;$<c;$++){const ee=d[$],ge=s?s.get(ee):null,Je=ge?ge.outputs:null;C=ag(ee.inputs,$,C,ge?ge.inputs:null),N=ag(ee.outputs,$,N,Je);const lt=null===C||null===g||Ys(r)?null:Ey(C,$,g);v.push(lt)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=8),C.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=v,r.inputs=C,r.outputs=N}(t,s,d)}function yy(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function er(){return pn.lFrame.currentDirectiveIndex}();try{bu(d);for(let v=a;v<c;v++){const C=t.data[v],N=r[v];Ns(v),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&$v(C,N)}}finally{bu(-1),Ns(g)}}function $v(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function dg(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function _y(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;oe(r)&&(s[""]=t)}}function zv(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=co(c.type)),g=new Qu(d,oe(c),Gl);t.blueprint[a]=g,s[a]=g,function gy(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~r.index;(function jv(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=v&&g.push(v),g.push(s,a,d)}}(t,r,a,Wl(t,s,c.hostVars,Gn),c)}function Qa(t,r,s,a,c,d){const g=yr(t,r);!function Zl(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const v=null==g?bt(d):g(d,a||"",c);t.setAttribute(r,c,v,s)}}(r[an],g,d,t.value,s,a,c)}function Or(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let v=0;v<g.length;)fg(a,s,g[v++],g[v++],g[v++])}function fg(t,r,s,a,c){const d=ts(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{ts(d)}}function Ey(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let v=0;v<g.length;v+=2)if(g[v]===r){a.push(d,g[v+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Yl(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function wy(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];Ho(s[a]),g.contentQueries(2,r[d],d)}}}function Gi(t,r){return t[As]?t[Lo][Fi]=r:t[As]=r,t[Lo]=r,r}function Zs(t,r,s){Ho(0);const a=ts(null);try{r(t,s)}finally{ts(a)}}function Dy(t){return t[js]||(t[js]=[])}function Gv(t){return t.cleanup||(t.cleanup=[])}function Wv(t,r){const s=t[Ki],a=s?s.get(Bu,null):null;a&&a.handleError(r)}function Ef(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],v=s[d++];fg(t.data[g],r[g],a,v,c)}}function $u(t,r,s){const a=ru(r,t);!function Al(t,r,s){t.setValue(r,s)}(t[an],a,s)}function gg(t,r){const s=rr(r,t),a=s[Et];!function qv(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[pr];null!==c&&null===s[vi]&&(s[vi]=yu(c,s[Ki])),Ty(a,s,s[Rr])}function Ty(t,r,s){Du(r);try{const a=t.viewQuery;null!==a&&Zs(1,a,s);const c=t.template;null!==c&&Yd(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wy(t,r),t.staticViewQueries&&Zs(2,t.viewQuery,s);const d=t.components;null!==d&&function Oi(t,r){for(let s=0;s<r.length;s++)gg(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[hn]&=-5,Tu()}}let Kv=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function Sr(t,r,s){const a=Object.create(rs);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>Jo(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Is(a))return;a.hasRun=!0;const g=Fa(a);try{a.cleanupFn(),a.cleanupFn=hi,a.fn(c)}finally{xs(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,N=>{this.all.has(N)&&this.queue.set(N,d)},c);let v;this.all.add(g),g.notify();const C=()=>{g.cleanup(),v?.(),this.all.delete(g),this.queue.delete(g)};return v=a?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>new t})}return t})();function as(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const v=r[g];"number"==typeof v?d=v:1==d?c=it(c,v):2==d&&(a=it(a,v+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function Ql(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(Kr(d)),Ti(d)&&Yv(d,a);const g=s.type;if(8&g)Ql(t,r,s.child,a);else if(32&g){const v=Hc(s,r);let C;for(;C=v();)a.push(C)}else if(16&g){const v=np(r,s);if(Array.isArray(v))a.push(...v);else{const C=zc(r[ti]);Ql(C[Et],C,v,a,!0)}}s=c?s.projectionNext:s.next}return a}function Yv(t,r){for(let s=li;s<t.length;s++){const a=t[s],c=a[Et].firstChild;null!==c&&Ql(a[Et],a,c,r)}t[Bi]!==t[pr]&&r.push(t[Bi])}function mg(t,r,s,a=!0){const c=r[$s],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{Xv(t,r,t.template,s)}catch(C){throw a&&Wv(r,C),C}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function Xv(t,r,s,a){const c=r[hn];if(256!=(256&c)){r[$s].effectManager?.flush(),Du(r);try{Bn(r),function te(t){return pn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Yd(t,r,s,2,a);const g=3==(3&c);if(g){const N=t.preOrderCheckHooks;null!==N&&oi(r,N,null)}else{const N=t.preOrderHooks;null!==N&&Yu(r,N,0,null),fa(r,0)}if(function O0(t){for(let r=Zf(t);null!==r;r=Yf(r)){if(!r[Fo])continue;const s=r[_s];for(let a=0;a<s.length;a++){Ct(s[a])}}}(r),Jv(r,2),null!==t.contentQueries&&wy(t,r),g){const N=t.contentCheckHooks;null!==N&&oi(r,N)}else{const N=t.contentHooks;null!==N&&Yu(r,N,1),fa(r,1)}!function Vv(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=Yp(r,Tr);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)bu(~d);else{const g=d,v=s[++c],C=s[++c];Br(v,g),a.dirty=!1;const N=Fa(a);try{C(2,r[g])}finally{xs(a,N)}}}}finally{null===r[Tr]&&ly(r,Tr),bu(-1)}}(t,r);const v=t.components;null!==v&&t_(r,v,0);const C=t.viewQuery;if(null!==C&&Zs(2,C,a),g){const N=t.viewCheckHooks;null!==N&&oi(r,N)}else{const N=t.viewHooks;null!==N&&Yu(r,N,2),fa(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[hn]&=-73,So(r)}finally{Tu()}}}function Jv(t,r){for(let s=Zf(t);null!==s;s=Yf(s))for(let a=li;a<s.length;a++)e_(s[a],r)}function P0(t,r,s){e_(rr(r,t),s)}function e_(t,r){if(!function Da(t){return 128==(128&t[hn])}(t))return;const s=t[Et],a=t[hn];if(80&a&&0===r||1024&a||2===r)Xv(s,t,s.template,t[Rr]);else if(t[ms]>0){Jv(t,1);const c=s.components;null!==c&&t_(t,c,1)}}function t_(t,r,s){for(let a=0;a<r.length;a++)P0(t,r[a],s)}class Xl{get rootNodes(){const r=this._lView,s=r[Et];return Ql(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rr]}set context(r){this._lView[Rr]=r}get destroyed(){return 256==(256&this._lView[hn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[$r];if(Ti(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Ah(r,a),rc(s,a))}this._attachedToViewContainer=!1}fu(this._lView[Et],this._lView)}onDestroy(r){!function Vo(t,r){if(256==(256&t[hn]))throw new It(911,!1);null===t[Yi]&&(t[Yi]=[]),t[Yi].push(r)}(this._lView,r)}markForCheck(){qd(this._cdRefInjectingView||this._lView)}detach(){this._lView[hn]&=-129}reattach(){this._lView[hn]|=128}detectChanges(){mg(this._lView[Et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new It(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vm(t,r){Sd(t,r,r[an],2,null,null)}(this._lView[Et],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new It(902,!1);this._appRef=r}}class Xd extends Xl{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;mg(r[Et],r,r[Rr],!1)}checkNoChanges(){}get context(){return null}}class by extends jl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Fn(r);return new ul(s,this.ngModule)}}function Dc(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class k0{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=$t(a);const c=this.injector.get(r,_c,a);return c!==_c||s===_c?c:this.parentInjector.get(r,s,a)}}class ul extends Km{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=Dc(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return Dc(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function ko(t){return t.map(Xs).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof Na?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new k0(r,d):r,v=g.get(Zm,null);if(null===v)throw new It(407,!1);const ee={rendererFactory:v,sanitizer:g.get(Op,null),effectManager:g.get(Kv,null),afterRenderEventManager:g.get(Wd,null)},ge=v.createRenderer(null,this.componentDef),Se=this.componentDef.selectors[0][0]||"div",Je=a?function tg(t,r,s,a){const d=a.get(pf,!1)||s===Mr.ShadowDom,g=t.selectRootElement(r,d);return function ng(t){rg(t)}(g),g}(ge,a,this.componentDef.encapsulation,g):Sh(ge,Se,function Jl(t){const r=t.toLowerCase();return"svg"===r?Iu:"math"===r?"math":null}(Se)),sn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ot=null;null!==Je&&(ot=yu(Je,g,!0));const Zn=ql(0,null,null,1,0,null,null,null,null,null,null),vr=Zd(null,Zn,null,sn,null,null,ee,ge,g,null,ot);let wi,La;Du(vr);try{const dl=this.componentDef;let Bf,_0=null;dl.findHostDirectiveDefs?(Bf=[],_0=new Map,dl.findHostDirectiveDefs(dl,Bf,_0),Bf.push(dl)):Bf=[dl];const tS=function n_(t,r){const s=t[Et],a=Hn;return t[a]=r,al(s,a,2,"#host",null)}(vr,Je),nS=function r_(t,r,s,a,c,d,g){const v=c[Et];!function Cy(t,r,s,a){for(const c of t)r.mergedAttrs=Wt(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(as(r,r.mergedAttrs,!0),null!==s&&Ou(a,s,r))}(a,t,r,g);let C=null;null!==r&&(C=yu(r,c[Ki]));const N=d.rendererFactory.createRenderer(r,s);let $=16;s.signals?$=4096:s.onPush&&($=64);const ee=Zd(c,hy(s),null,$,c[t.index],t,d,N,null,null,C);return v.firstCreatePass&&dg(v,t,a.length-1),Gi(c,ee),c[t.index]=ee}(tS,Je,dl,Bf,vr,ee,ge);La=is(Zn,Hn),Je&&function wf(t,r,s,a){if(a)De(t,s,["ng-version",uf.full]);else{const{attrs:c,classes:d}=function Io(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!cr(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&De(t,s,c),d&&d.length>0&&lc(t,s,d.join(" "))}}(ge,dl,Je,a),void 0!==s&&function i_(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(La,this.ngContentSelectors,s),wi=function Sy(t,r,s,a,c,d){const g=ji(),v=c[Et],C=yr(g,c);py(v,c,g,s,null,a);for(let $=0;$<s.length;$++)yo(Nr(c,v,g.directiveStart+$,g),c);yy(v,c,g),C&&yo(C,c);const N=Nr(c,v,g.directiveStart+g.componentOffset,g);if(t[Rr]=c[Rr]=N,null!==d)for(const $ of d)$(N,r);return Qp(v,g,t),N}(nS,dl,Bf,_0,vr,[ed]),Ty(Zn,vr,null)}finally{Tu()}return new yg(this.componentType,wi,vc(La,vr),vr,La)}}class yg extends Mp{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Xd(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;Ef(d[Et],d,c,r,s),this.previousInputValues.set(r,s),qd(rr(this._tNode.index,d))}}get injector(){return new P(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ed(){const t=ji();Ni(et()[Et],t)}function cl(t){let r=function Df(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(oe(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new It(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=td(t.inputs),g.inputTransforms=td(t.inputTransforms),g.declaredInputs=td(t.declaredInputs),g.outputs=td(t.outputs);const v=c.hostBindings;v&&a_(t,v);const C=c.viewQuery,N=c.contentQueries;if(C&&s_(t,C),N&&o_(t,N),Ze(t.inputs,c.inputs),Ze(t.declaredInputs,c.declaredInputs),Ze(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),Ze(g.inputTransforms,c.inputTransforms)),oe(c)&&c.data.animation){const $=t.data;$.animation=($.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const v=d[g];v&&v.ngInherit&&v(t),v===cl&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Ay(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Wt(c.hostAttrs,s=Wt(s,c.hostAttrs))}}(a)}function td(t){return t===Jr?{}:t===jn?[]:t}function s_(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function o_(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function a_(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Jd(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function eh(t){return!!nd(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function nd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Oa(t,r,s){return t[r]=s}function Oo(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Xa(t,r,s,a){const c=Oo(t,r,s);return Oo(t,r+1,a)||c}function Py(t,r,s,a){const c=et();return Oo(c,ke(),r)&&(Jn(),Qa(si(),c,t,r,s,a)),Py}function Tc(t,r,s,a){return Oo(t,ke(),s)?r+bt(s)+a:Gn}function id(t,r,s,a,c,d){const v=Xa(t,function j(){return pn.lFrame.bindingIndex}(),s,c);return Ce(2),v?r+bt(s)+a+bt(c)+d:Gn}function I_(t,r,s,a,c,d,g,v){const C=et(),N=Jn(),$=t+Hn,ee=N.firstCreatePass?function V0(t,r,s,a,c,d,g,v,C){const N=r.consts,$=al(r,t,4,g||null,Bo(N,v));lg(r,s,$,Bo(N,C)),Ni(r,$);const ee=$.tView=ql(2,$,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,N,null);return null!==r.queries&&(r.queries.template(r,$),ee.queries=r.queries.embeddedTView($)),$}($,N,C,r,s,a,c,d,g):N.data[$];ho(ee,!1);const ge=E_(N,C,ee,t);Zu()&&bd(N,C,ge,ee),yo(ge,C),Gi(C,C[$]=Yl(ge,C,ge,ee)),J(ee)&&Xp(N,C,ee),null!=g&&Jp(C,ee,v)}let E_=function w_(t,r,s,a){return or(!0),r[an].createComment("")};function C_(t){return da(function b(){return pn.lFrame.contextLView}(),Hn+t)}function Lg(t,r,s){const a=et();return Oo(a,ke(),r)&&ua(Jn(),si(),a,t,r,a[an],s,!1),Lg}function Fg(t,r,s,a,c){const g=c?"class":"style";Ef(t,s,r.inputs[g],g,a)}function Rf(t,r,s,a){const c=et(),d=Jn(),g=Hn+t,v=c[an],C=d.firstCreatePass?function xf(t,r,s,a,c,d){const g=r.consts,C=al(r,t,2,a,Bo(g,c));return lg(r,s,C,Bo(g,d)),null!==C.attrs&&as(C,C.attrs,!1),null!==C.mergedAttrs&&as(C,C.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,C),C}(g,d,c,r,s,a):d.data[g],N=S_(d,c,C,v,r,t);c[g]=N;const $=J(C);return ho(C,!0),Ou(v,N,C),32!=(32&C.flags)&&Zu()&&bd(d,c,N,C),0===function ba(){return pn.lFrame.elementDepthCount}()&&yo(N,c),function Ku(){pn.lFrame.elementDepthCount++}(),$&&(Xp(d,c,C),Qp(d,C,c)),null!==a&&Jp(c,C),Rf}function Ug(){let t=ji();au()?_():(t=t.parent,ho(t,!1));const r=t;(function xc(t){return pn.skipHydrationRootTNode===t})(r)&&function ou(){pn.skipHydrationRootTNode=null}(),function Rs(){pn.lFrame.elementDepthCount--}();const s=Jn();return s.firstCreatePass&&(Ni(s,t),F(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Su(t){return 0!=(8&t.flags)}(r)&&Fg(s,r,et(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Xu(t){return 0!=(16&t.flags)}(r)&&Fg(s,r,et(),r.stylesWithoutHost,!1),Ug}function Uy(t,r,s,a){return Rf(t,r,s,a),Ug(),Uy}let S_=(t,r,s,a,c,d)=>(or(!0),Sh(a,c,function ha(){return pn.lFrame.currentNamespace}()));function Bg(t,r,s){const a=et(),c=Jn(),d=t+Hn,g=c.firstCreatePass?function H0(t,r,s,a,c){const d=r.consts,g=Bo(d,a),v=al(r,t,8,"ng-container",g);return null!==g&&as(v,g,!0),lg(r,s,v,Bo(d,c)),null!==r.queries&&r.queries.elementStart(r,v),v}(d,c,a,r,s):c.data[d];ho(g,!0);const v=i(c,a,g,t);return a[d]=v,Zu()&&bd(c,a,v,g),yo(v,a),J(g)&&(Xp(c,a,g),Qp(c,g,a)),null!=s&&Jp(a,g),Bg}function Vg(){let t=ji();const r=Jn();return au()?_():(t=t.parent,ho(t,!1)),r.firstCreatePass&&(Ni(r,t),F(t)&&r.queries.elementEnd(t)),Vg}let i=(t,r,s,a)=>(or(!0),Dd(r[an],""));function o(){return et()}function u(t){return!!t&&"function"==typeof t.then}function l(t){return!!t&&"function"==typeof t.subscribe}function f(t,r,s,a){const c=et(),d=Jn(),g=ji();return function k(t,r,s,a,c,d,g){const v=J(a),N=t.firstCreatePass&&Gv(t),$=r[Rr],ee=Dy(r);let ge=!0;if(3&a.type||g){const lt=yr(a,r),kt=g?g(lt):lt,sn=ee.length,ot=g?vr=>g(Kr(vr[a.index])):a.index;let Zn=null;if(!g&&v&&(Zn=function x(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const v=r[js],C=c[d+2];return v.length>C?v[C]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==Zn)(Zn.__ngLastListenerFn__||Zn).__ngNextListenerFn__=d,Zn.__ngLastListenerFn__=d,ge=!1;else{d=se(a,r,$,d,!1);const vr=s.listen(kt,c,d);ee.push(d,vr),N&&N.push(c,ot,sn,sn+1)}}else d=se(a,r,$,d,!1);const Se=a.outputs;let Je;if(ge&&null!==Se&&(Je=Se[c])){const lt=Je.length;if(lt)for(let kt=0;kt<lt;kt+=2){const wi=r[Je[kt]][Je[kt+1]].subscribe(d),La=ee.length;ee.push(d,wi),N&&N.push(c,a.index,La,-(La+1))}}}(d,c,c[an],g,t,r,a),f}function K(t,r,s,a){try{return to(6,r,s),!1!==s(a)}catch(c){return Wv(t,c),!1}finally{to(7,r,s)}}function se(t,r,s,a,c){return function d(g){if(g===Function)return a;qd(t.componentOffset>-1?rr(t.index,r):r);let C=K(r,s,a,g),N=d.__ngNextListenerFn__;for(;N;)C=K(r,s,N,g)&&C,N=N.__ngNextListenerFn__;return c&&!1===C&&g.preventDefault(),C}}function Ne(t=1){return function hl(t){return(pn.lFrame.contextLView=function ra(t,r){for(;t>0;)r=r[uo],t--;return r}(t,pn.lFrame.contextLView))[Rr]}(t)}function Vt(t,r,s){return Kn(t,"",r,"",s),Vt}function Kn(t,r,s,a,c){const d=et(),g=Tc(d,r,s,a);return g!==Gn&&ua(Jn(),si(),d,t,g,d[an],c,!1),Kn}function By(t,r){return t<<17|r<<2}function ud(t){return t>>17&32767}function A_(t){return 2|t}function ah(t){return(131068&t)>>2}function M_(t,r){return-131069&t|r<<2}function x_(t){return 1|t}function z0(t,r,s,a,c){const d=t[s+1],g=null===r;let v=a?ud(d):ah(d),C=!1;for(;0!==v&&(!1===C||g);){const $=t[v+1];Gw(t[v],r)&&(C=!0,t[v+1]=a?x_($):A_($)),v=a?ud($):ah($)}C&&(t[s+1]=a?A_(d):x_(d))}function Gw(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ve(t,r)>=0}const _o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function G0(t){return t.substring(_o.key,_o.keyEnd)}function Ww(t){return t.substring(_o.value,_o.valueEnd)}function W0(t,r){const s=_o.textEnd;return s===r?-1:(r=_o.keyEnd=function Zw(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,_o.key=r,s),Nf(t,r,s))}function q0(t,r){const s=_o.textEnd;let a=_o.key=Nf(t,r,s);return s===a?-1:(a=_o.keyEnd=function Yw(t,r,s){let a;for(;r<s&&(45===(a=t.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(t,a,s),a=Z0(t,a,s),a=_o.value=Nf(t,a,s),a=_o.valueEnd=function Qw(t,r,s){let a=-1,c=-1,d=-1,g=r,v=g;for(;g<s;){const C=t.charCodeAt(g++);if(59===C)return v;34===C||39===C?v=g=Y0(t,C,g,s):r===g-4&&85===d&&82===c&&76===a&&40===C?v=g=Y0(t,41,g,s):C>32&&(v=g),d=c,c=a,a=-33&C}return v}(t,a,s),Z0(t,a,s))}function K0(t){_o.key=0,_o.keyEnd=0,_o.value=0,_o.valueEnd=0,_o.textEnd=t.length}function Nf(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function Z0(t,r,s,a){return(r=Nf(t,r,s))<s&&r++,r}function Y0(t,r,s,a){let c=-1,d=s;for(;d<a;){const g=t.charCodeAt(d++);if(g==r&&92!==c)return d;c=92==g&&92===c?0:g}throw new Error}function R_(t,r,s){return Gu(t,r,s,!1),R_}function N_(t,r){return Gu(t,r,null,!0),N_}function Xw(t,r){for(let s=function Kw(t){return K0(t),q0(t,Nf(t,0,_o.textEnd))}(r);s>=0;s=q0(r,s))eI(t,G0(r),Ww(r))}function Q0(t){Wu(iD,Ac,t,!0)}function Ac(t,r){for(let s=function qw(t){return K0(t),W0(t,Nf(t,0,_o.textEnd))}(r);s>=0;s=W0(r,s))q(t,G0(r),!0)}function Gu(t,r,s,a){const c=et(),d=Jn(),g=Ce(2);d.firstUpdatePass&&J0(d,t,g,a),r!==Gn&&Oo(c,g,r)&&tI(d,d.data[$i()],c,c[an],t,c[g+1]=function oD(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=ve(zi(t)))),t}(r,s),a,g)}function Wu(t,r,s,a){const c=Jn(),d=Ce(2);c.firstUpdatePass&&J0(c,null,d,a);const g=et();if(s!==Gn&&Oo(g,d,s)){const v=c.data[$i()];if(rI(v,a)&&!X0(c,d)){let C=a?v.classesWithoutHost:v.stylesWithoutHost;null!==C&&(s=it(C,s||"")),Fg(c,v,g,s,a)}else!function sD(t,r,s,a,c,d,g,v){c===Gn&&(c=jn);let C=0,N=0,$=0<c.length?c[0]:null,ee=0<d.length?d[0]:null;for(;null!==$||null!==ee;){const ge=C<c.length?c[C+1]:void 0,Se=N<d.length?d[N+1]:void 0;let lt,Je=null;$===ee?(C+=2,N+=2,ge!==Se&&(Je=ee,lt=Se)):null===ee||null!==$&&$<ee?(C+=2,Je=$):(N+=2,Je=ee,lt=Se),null!==Je&&tI(t,r,s,a,Je,lt,g,v),$=C<c.length?c[C]:null,ee=N<d.length?d[N]:null}}(c,v,g,g[an],g[d+1],g[d+1]=function rD(t,r,s){if(null==s||""===s)return jn;const a=[],c=zi(s);if(Array.isArray(c))for(let d=0;d<c.length;d++)t(a,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&t(a,d,c[d]);else"string"==typeof c&&r(a,c);return a}(t,r,s),a,d)}}function X0(t,r){return r>=t.expandoStartIndex}function J0(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[$i()],g=X0(t,s);rI(d,a)&&null===r&&!g&&(r=!1),r=function Jw(t,r,s,a){const c=function Ao(t){const r=pn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=Hg(s=O_(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=O_(c,t,r,s,a),null===d){let C=function eD(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==ah(a))return t[ud(a)]}(t,r,a);void 0!==C&&Array.isArray(C)&&(C=O_(null,t,r,C[1],a),C=Hg(C,r.attrs,a),function tD(t,r,s,a){t[ud(s?r.classBindings:r.styleBindings)]=a}(t,r,a,C))}else d=function nD(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=Hg(a,t[d].hostAttrs,s);return Hg(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function Hw(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,v=ud(g),C=ah(g);t[a]=s;let $,N=!1;if(Array.isArray(s)?($=s[1],(null===$||Ve(s,$)>0)&&(N=!0)):$=s,c)if(0!==C){const ge=ud(t[v+1]);t[a+1]=By(ge,v),0!==ge&&(t[ge+1]=M_(t[ge+1],a)),t[v+1]=function jw(t,r){return 131071&t|r<<17}(t[v+1],a)}else t[a+1]=By(v,0),0!==v&&(t[v+1]=M_(t[v+1],a)),v=a;else t[a+1]=By(C,0),0===v?v=a:t[C+1]=M_(t[C+1],a),C=a;N&&(t[a+1]=A_(t[a+1])),z0(t,$,a,!0),z0(t,$,a,!1),function zw(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&Ve(d,r)>=0&&(s[a+1]=x_(s[a+1]))}(r,$,t,a,d),g=By(v,C),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}function O_(t,r,s,a,c){let d=null;const g=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<g&&(d=r[v],a=Hg(a,d.hostAttrs,c),d!==t);)v++;return null!==t&&(s.directiveStylingLast=v),a}function Hg(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),q(t,g,!!s||r[++d]))}return void 0===t?null:t}function eI(t,r,s){q(t,r,zi(s))}function iD(t,r,s){const a=String(r);""!==a&&!a.includes(" ")&&q(t,a,s)}function tI(t,r,s,a,c,d,g,v){if(!(3&r.type))return;const C=t.data,N=C[v+1],$=function $w(t){return 1==(1&t)}(N)?nI(C,r,s,c,ah(N),g):void 0;Vy($)||(Vy(d)||function Vw(t){return 2==(2&t)}(N)&&(d=nI(C,null,s,c,v,g)),function hv(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:_d.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=_d.Important),t.setStyle(s,a,c,d))}}(a,g,ru($i(),s),c,d))}function nI(t,r,s,a,c,d){const g=null===r;let v;for(;c>0;){const C=t[c],N=Array.isArray(C),$=N?C[1]:C,ee=null===$;let ge=s[c+1];ge===Gn&&(ge=ee?jn:void 0);let Se=ee?_e(ge,a):$===a?ge:void 0;if(N&&!Vy(Se)&&(Se=_e(C,a)),Vy(Se)&&(v=Se,g))return v;const Je=t[c+1];c=g?ud(Je):ah(Je)}if(null!==r){let C=d?r.residualClasses:r.residualStyles;null!=C&&(v=_e(C,a))}return v}function Vy(t){return void 0!==t}function rI(t,r){return 0!=(t.flags&(r?8:16))}function iI(t,r=""){const s=et(),a=Jn(),c=t+Hn,d=a.firstCreatePass?al(a,c,1,r,null):a.data[c],g=sI(a,s,d,r,t);s[c]=g,Zu()&&bd(a,s,g,d),ho(d,!1)}let sI=(t,r,s,a,c)=>(or(!0),function Ch(t,r){return t.createText(r)}(r[an],a));function P_(t){return jy("",t,""),P_}function jy(t,r,s){const a=et(),c=Tc(a,t,r,s);return c!==Gn&&$u(a,$i(),c),jy}function k_(t,r,s,a,c){const d=et(),g=id(d,t,r,s,a,c);return g!==Gn&&$u(d,$i(),g),k_}function fI(t,r,s){!function Sc(t){Wu(eI,Xw,t,!1)}(Tc(et(),t,r,s))}const uh=void 0;var SD=["en",[["a","p"],["AM","PM"],uh],[["AM","PM"],uh,uh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",uh,"{1} 'at' {0}",uh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CD(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Of={};function L_(t){const r=function AD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=CI(r);if(s)return s;const a=r.split("-")[0];if(s=CI(a),s)return s;if("en"===a)return SD;throw new It(701,!1)}function bI(t){return L_(t)[Pf.PluralCase]}function CI(t){return t in Of||(Of[t]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[t]),Of[t]}var Pf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Pf||{});const kf="en-US";let SI=kf;function B_(t,r,s,a,c){if(t=nt(t),Array.isArray(t))for(let d=0;d<t.length;d++)B_(t[d],r,s,a,c);else{const d=Jn(),g=et(),v=ji();let C=mu(t)?t:nt(t.provide);const N=Fl(t),$=1048575&v.providerIndexes,ee=v.directiveStart,ge=v.providerIndexes>>20;if(mu(t)||!t.multi){const Se=new Qu(N,c,Gl),Je=j_(C,r,c?$:$+ge,ee);-1===Je?(ma(Wa(v,g),d,C),V_(d,t,r.length),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(Se),g.push(Se)):(s[Je]=Se,g[Je]=Se)}else{const Se=j_(C,r,$+ge,ee),Je=j_(C,r,$,$+ge),kt=Je>=0&&s[Je];if(c&&!kt||!c&&!(Se>=0&&s[Se])){ma(Wa(v,g),d,C);const sn=function CT(t,r,s,a,c){const d=new Qu(t,s,Gl);return d.multi=[],d.index=r,d.componentProviders=0,XI(d,c,a&&!s),d}(c?bT:TT,s.length,c,a,N);!c&&kt&&(s[Je].providerFactory=sn),V_(d,t,r.length,0),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(sn),g.push(sn)}else V_(d,t,Se>-1?Se:Je,XI(s[c?Je:Se],N,!c&&a));!c&&a&&kt&&s[Je].componentProviders++}}}function V_(t,r,s,a){const c=mu(r),d=function zm(t){return!!t.useClass}(r);if(c||d){const C=(d?nt(r.useClass):r).prototype.ngOnDestroy;if(C){const N=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const $=N.indexOf(s);-1===$?N.push(s,[a,C]):N[$+1].push(a,C)}else N.push(s,C)}}}function XI(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function j_(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function TT(t,r,s,a){return $_(this.multi,[])}function bT(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=Nr(s,s[Et],this.providerFactory.index,a);d=v.slice(0,g),$_(c,d);for(let C=g;C<v.length;C++)d.push(v[C])}else d=[],$_(c,d);return d}function $_(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function JI(t,r=[]){return s=>{s.providersResolver=(a,c)=>function DT(t,r,s){const a=Jn();if(a.firstCreatePass){const c=oe(t);B_(s,a.data,a.blueprint,c,!0),B_(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class ch{}class eE{}function ST(t,r){return new H_(t,r??null,[])}class H_ extends ch{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new by(this);const c=qi(r);this._bootstrapComponents=Vu(c.bootstrap),this._r3Injector=ey(r,s,[{provide:ch,useValue:this},{provide:jl,useValue:this.componentFactoryResolver},...a],ve(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class z_ extends eE{constructor(r){super(),this.moduleType=r}create(r){return new H_(this.moduleType,r,[])}}class tE extends ch{constructor(r){super(),this.componentFactoryResolver=new by(this),this.instance=null;const s=new el([...r.providers,{provide:ch,useValue:this},{provide:jl,useValue:this.componentFactoryResolver}],r.parent||Zh(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function nE(t,r,s=null){return new tE({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let MT=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=Gh(0,s.type),c=a.length>0?nE([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=In({token:t,providedIn:"environment",factory:()=>new t($e(Na))})}return t})();function rE(t){t.getStandaloneInjector=r=>r.get(MT).getOrCreateStandaloneInjector(t)}function lE(t,r,s,a){return function hE(t,r,s,a,c,d){const g=r+s;return Oo(t,g,c)?Oa(t,g+1,d?a.call(d,c):a(c)):Zg(t,g+1)}(et(),R(),t,r,s,a)}function dE(t,r,s,a,c){return fE(et(),R(),t,r,s,a,c)}function Zg(t,r){const s=t[r];return s===Gn?void 0:s}function fE(t,r,s,a,c,d,g){const v=r+s;return Xa(t,v,c,d)?Oa(t,v+2,g?a.call(g,c,d):a(c,d)):Zg(t,v+2)}function yE(t,r){const s=Jn();let a;const c=t+Hn;s.firstCreatePass?(a=function WT(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=co(a.type)),v=Pn(Gl);try{const C=no(!1),N=d();return no(C),function b_(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,et(),c,N),N}finally{Pn(v)}}function vE(t,r,s,a){const c=t+Hn,d=et(),g=da(d,c);return function Yg(t,r){return t[Et].data[r].pure}(d,c)?fE(d,R(),r,g.transform,s,a,g):g.transform(s,a)}function QT(){return this._results[Symbol.iterator]()}class W_{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new vu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=W_.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=QT)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function Wo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function qa(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function JT(t,r,s,a=!0){const c=r[Et];if(function _m(t,r,s,a){const c=li+a,d=s.length;a>0&&(s[c-1][Fi]=r),a<d-li?(r[Fi]=s[c],hd(s,li+a,r)):(s.push(r),r[Fi]=null),r[$r]=s;const g=r[ys];null!==g&&s!==g&&function cv(t,r){const s=t[_s];r[ti]!==r[$r][$r][ti]&&(t[Fo]=!0),null===s?t[_s]=[r]:s.push(r)}(g,r);const v=r[Dr];null!==v&&v.insertView(t),r[hn]|=128}(c,r,t,s),a){const d=Nh(s,t),g=r[an],v=gu(g,t[Bi]);null!==v&&function Xf(t,r,s,a,c,d){a[pr]=c,a[mi]=r,Sd(t,a,s,1,c,d)}(c,t[mi],g,r,v,d)}}let Qg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=nb}return t})();const eb=Qg,tb=class extends eb{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function XT(t,r,s,a){const c=r.tView,v=Zd(t,c,s,4096&t[hn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[ys]=t[r.index];const N=t[Dr];return null!==N&&(v[Dr]=N.createEmbeddedView(c)),Ty(c,v,s),v}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Xl(c)}};function nb(){return Wy(ji(),et())}function Wy(t,r){return 4&t.type?new tb(r,t,vc(t,r)):null}let Ky=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ub}return t})();function ub(){return bE(ji(),et())}const cb=Ky,DE=class extends cb{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return vc(this._hostTNode,this._hostLView)}get injector(){return new P(this._hostTNode,this._hostLView)}get parentInjector(){const r=xo(this._hostTNode,this._hostLView);if(fo(r)){const s=Os(r,this._hostLView),a=sa(r);return new P(s[Et].data[a+8],s)}return new P(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=TE(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-li}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const v=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(v,c,false),v}createComponent(r,s,a,c,d){const g=r&&!function nc(t){return"function"==typeof t}(r);let v;if(g)v=s;else{const lt=s||{};v=lt.index,a=lt.injector,c=lt.projectableNodes,d=lt.environmentInjector||lt.ngModuleRef}const C=g?r:new ul(Fn(r)),N=a||this.parentInjector;if(!d&&null==C.ngModule){const kt=(g?N:this.parentInjector).get(Na,null);kt&&(d=kt)}Fn(C.componentType??{});const Se=C.create(N,c,null,d);return this.insertImpl(Se.hostView,v,false),Se}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function cn(t){return Ti(t[$r])}(c)){const C=this.indexOf(r);if(-1!==C)this.detach(C);else{const N=c[$r],$=new DE(N,N[mi],N[$r]);$.detach($.indexOf(r))}}const g=this._adjustIndex(s),v=this._lContainer;return JT(v,c,g,!a),r.attachToViewContainerRef(),hd(q_(v),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=TE(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Ah(this._lContainer,s);a&&(rc(q_(this._lContainer),s),fu(a[Et],a))}detach(r){const s=this._adjustIndex(r,-1),a=Ah(this._lContainer,s);return a&&null!=rc(q_(this._lContainer),s)?new Xl(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function TE(t){return t[8]}function q_(t){return t[8]||(t[8]=[])}function bE(t,r){let s;const a=r[t.index];return Ti(a)?s=a:(s=Yl(a,r,null,t),r[t.index]=s,Gi(r,s)),CE(s,r,t,a),new DE(s,t,r)}let CE=function SE(t,r,s,a){if(t[Bi])return;let c;c=8&s.type?Kr(a):function lb(t,r){const s=t[an],a=s.createComment(""),c=yr(r,t);return cc(s,gu(s,c),a,function Gc(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[Bi]=c};class K_{constructor(r){this.queryList=r,this.matches=null}clone(){return new K_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Z_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new Z_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==LE(r,s).matches&&this.queries[s].setDirty()}}class AE{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Y_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new Y_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Q_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Q_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,fb(s,d)),this.matchTNodeWithReadOption(r,s,ec(s,r,d,!1,!1))}else a===Qg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,ec(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Hd||c===Ky||c===Qg&&4&s.type)this.addMatch(s.index,-2);else{const d=ec(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function fb(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function gb(t,r,s,a){return-1===s?function pb(t,r){return 11&t.type?vc(t,r):4&t.type?Wy(t,r):null}(r,t):-2===s?function mb(t,r,s){return s===Hd?vc(r,t):s===Qg?Wy(r,t):s===Ky?bE(r,t):void 0}(t,r,a):Nr(t,t[Et],s,r)}function ME(t,r,s,a){const c=r[Dr].queries[a];if(null===c.matches){const d=t.data,g=s.matches,v=[];for(let C=0;C<g.length;C+=2){const N=g[C];v.push(N<0?null:gb(r,d[N],g[C+1],s.metadata.read))}c.matches=v}return c.matches}function X_(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=ME(t,r,c,s);for(let v=0;v<d.length;v+=2){const C=d[v];if(C>0)a.push(g[v/2]);else{const N=d[v+1],$=r[-C];for(let ee=li;ee<$.length;ee++){const ge=$[ee];ge[ys]===ge[$r]&&X_(ge[Et],ge,N,a)}if(null!==$[_s]){const ee=$[_s];for(let ge=0;ge<ee.length;ge++){const Se=ee[ge];X_(Se[Et],Se,N,a)}}}}}return a}function xE(t){const r=et(),s=Jn(),a=$a();Ho(a+1);const c=LE(s,a);if(t.dirty&&function Xt(t){return 4==(4&t[hn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?X_(s,r,a,[]):ME(s,r,c,a);t.reset(d,Rp),t.notifyOnChanges()}return!0}return!1}function RE(t,r,s){const a=Jn();a.firstCreatePass&&(kE(a,new AE(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),PE(a,et(),r)}function NE(t,r,s,a){const c=Jn();if(c.firstCreatePass){const d=ji();kE(c,new AE(r,s,a),d.index),function vb(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}PE(c,et(),s)}function OE(){return function yb(t,r){return t[Dr].queries[r].queryList}(et(),$a())}function PE(t,r,s){const a=new W_(4==(4&s));(function If(t,r,s,a){const c=Dy(r);c.push(s),t.firstCreatePass&&Gv(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[Dr]&&(r[Dr]=new Z_),r[Dr].queries.push(new K_(a))}function kE(t,r,s){null===t.queries&&(t.queries=new Y_),t.queries.track(new Q_(r,s))}function LE(t,r){return t.queries.getByIndex(r)}function J_(t){return!!qi(t)}const JE=new tn("Application Initializer");let s0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=mt(JE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(u(d))s.push(d);else if(l(d)){const g=new Promise((v,C)=>{d.subscribe({complete:v,error:C})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ew=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Yy=new tn("LocaleId",{providedIn:"root",factory:()=>mt(Yy,gt.Optional|gt.SkipSelf)||function Vb(){return typeof $localize<"u"&&$localize.locale||kf}()}),jb=new tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let tw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Q.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Hb{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let zb=(()=>{class t{compileModuleSync(s){return new z_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Vu(qi(s).declarations).reduce((g,v)=>{const C=Fn(v);return C&&g.push(new ul(C)),g},[]);return new Hb(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const sw=new tn(""),ow=new tn("");let u0,hC=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,u0||(function fC(t){u0=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)($e(Fs),$e(aw),$e(ow))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),aw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return u0?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),cd=null;const uw=new tn("AllowMultipleToken"),c0=new tn("PlatformDestroyListeners"),l0=new tn("appBootstrapListener");class mC{constructor(r,s){this.name=r,this.token=s}}function dw(t,r,s=[]){const a=`Platform: ${r}`,c=new tn(a);return(d=[])=>{let g=d0();if(!g||g.injector.get(uw,!1)){const v=[...s,...d,{provide:c,useValue:!0}];t?t(v):function yC(t){if(cd&&!cd.get(uw,!1))throw new It(400,!1);(function cw(){!function We(t){X=t}(()=>{throw new It(600,!1)})})(),cd=t;const r=t.get(fw);(function lw(t){t.get(Bd,null)?.forEach(s=>s())})(t)}(function hw(t=[],r){return Ya.create({name:r,providers:[{provide:Kh,useValue:"platform"},{provide:c0,useValue:new Set([()=>cd=null])},...t]})}(v,a))}return function _C(t){const r=d0();if(!r)throw new It(401,!1);return r}()}}function d0(){return cd?.get(fw)??null}let fw=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function IC(t="zone.js",r){return"noop"===t?new $p:"zone.js"===t?new Fs(r):t}(a?.ngZone,function pw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function AT(t,r,s){return new H_(t,r,s)}(s.moduleType,this.injector,function _w(t){return[{provide:Fs,useFactory:t},{provide:Xc,multi:!0,useFactory:()=>{const r=mt(wC,{optional:!0});return()=>r.initialize()}},{provide:vw,useFactory:EC},{provide:Hp,useFactory:sy}]}(()=>c)),g=d.injector.get(Bu,null);return c.runOutsideAngular(()=>{const v=c.onError.subscribe({next:C=>{g.handleError(C)}});d.onDestroy(()=>{Xy(this._modules,d),v.unsubscribe()})}),function gw(t,r,s){try{const a=s();return u(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const v=d.injector.get(s0);return v.runInitializers(),v.donePromise.then(()=>(function AI(t){Cn(t,"Expected localeId to be defined"),"string"==typeof t&&(SI=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(Yy,kf)||kf),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=mw({},a);return function pC(t,r,s){const a=new z_(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(Uf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new It(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new It(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(c0,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)($e(Ya))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function mw(t,r){return Array.isArray(r)?r.reduce(mw,t):{...t,...r}}let Uf=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=mt(vw),this.zoneIsStable=mt(Hp),this.componentTypes=[],this.components=[],this.isStable=mt(tw).hasPendingTasks.pipe((0,ht.w)(s=>s?(0,ie.of)(!1):this.zoneIsStable),function Jt(t,r=pt.y){return t=t??qt,(0,qe.e)((s,a)=>{let c,d=!0;s.subscribe((0,ft.x)(a,g=>{const v=r(g);(d||!t(c,v))&&(d=!1,c=v,a.next(g))}))})}(),Ye()),this._injector=mt(Na)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Km;if(!this._injector.get(s0).done)throw!c&&Cs(s),new It(405,!1);let g;g=c?s:this._injector.get(jl).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const v=function gC(t){return t.isBoundToModule}(g)?void 0:this._injector.get(ch),N=g.create(Ya.NULL,[],a||g.selector,v),$=N.location.nativeElement,ee=N.injector.get(sw,null);return ee?.registerApplication($),N.onDestroy(()=>{this.detachView(N.hostView),Xy(this.components,N),ee?.unregisterApplication($)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new It(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Xy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(l0,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Xy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new It(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Xy(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const vw=new tn("",{providedIn:"root",factory:()=>mt(Bu).handleError.bind(void 0)});function EC(){const t=mt(Fs),r=mt(Bu);return s=>t.runOutsideAngular(()=>r.handleError(s))}let wC=(()=>{class t{constructor(){this.zone=mt(Fs),this.applicationRef=mt(Uf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let TC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=bC}return t})();function bC(t){return function CC(t,r,s){if(L(t)&&!s){const a=rr(t.index,r);return new Xl(a,a)}return 47&t.type?new Xl(r[ti],r):null}(ji(),et(),16==(16&t))}class Dw{constructor(){}supports(r){return eh(r)}create(r){return new NC(r)}}const RC=(t,r)=>r;class NC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||RC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<bw(a,c,d)?s:a,v=bw(g,c,d),C=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const N=v-c,$=C-c;if(N!=$){for(let ge=0;ge<N;ge++){const Se=ge<d.length?d[ge]:d[ge]=0,Je=Se+ge;$<=Je&&Je<N&&(d[ge]=Se+1)}d[g.previousIndex]=$-N}}v!==C&&r(g,v,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!eh(r))throw new It(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)d=r[v],g=this._trackByFn(v,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,v)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,v),a=!0),s=s._next}else c=0,function u_(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,v=>{g=this._trackByFn(c,v),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,v,g,c)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new OC(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Tw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class OC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Tw{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new PC,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bw(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class Cw{constructor(){}supports(r){return r instanceof Map||nd(r)}create(){return new kC}}class kC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||nd(r)))throw new It(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new LC(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class LC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Sw(){return new m0([new Dw])}let m0=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:Sw});constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Sw()),deps:[[t,new Za,new mo]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new It(901,!1)}}return t})();function Aw(){return new y0([new Cw])}let y0=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:Aw});constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Aw()),deps:[[t,new Za,new mo]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new It(901,!1)}}return t})();const BC=dw(null,"core",[]);let VC=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)($e(Uf))};static#t=this.\u0275mod=Vs({type:t});static#n=this.\u0275inj=on({})}return t})();function QC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function XC(t,r=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?r:Number(t)}function eS(t){const r=Fn(t);if(!r)return null;const s=new ul(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},6593:(jt,He,B)=>{B.d(He,{Dx:()=>Vr,H7:()=>Pn,b2:()=>Yn,q6:()=>Tt});var m=B(4946),Z=B(6814);class he extends Z.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends he{static makeCurrent(){(0,Z.HT)(new ae)}onAndCancel(W,z,G){return W.addEventListener(z,G),()=>{W.removeEventListener(z,G)}}dispatchEvent(W,z){W.dispatchEvent(z)}remove(W){W.parentNode&&W.parentNode.removeChild(W)}createElement(W,z){return(z=z||this.getDefaultDocument()).createElement(W)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(W){return W.nodeType===Node.ELEMENT_NODE}isShadowRoot(W){return W instanceof DocumentFragment}getGlobalEventTarget(W,z){return"window"===z?window:"document"===z?W:"body"===z?W.body:null}getBaseHref(W){const z=function de(){return le=le||document.querySelector("base"),le?le.getAttribute("href"):null}();return null==z?null:function fe(H){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",H);const W=Ie.pathname;return"/"===W.charAt(0)?W:`/${W}`}(z)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(W){return(0,Z.Mx)(document.cookie,W)}}let Ie,le=null,Q=(()=>{class H{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(G){return new(G||H)};static#t=this.\u0275prov=m.Yz7({token:H,factory:H.\u0275fac})}return H})();const ie=new m.OlP("EventManagerPlugins");let Me=(()=>{class H{constructor(z,G){this._zone=G,this._eventNameToPlugin=new Map,z.forEach(Ee=>{Ee.manager=this}),this._plugins=z.slice().reverse()}addEventListener(z,G,Ee){return this._findPluginFor(G).addEventListener(z,G,Ee)}getZone(){return this._zone}_findPluginFor(z){let G=this._eventNameToPlugin.get(z);if(G)return G;if(G=this._plugins.find(rt=>rt.supports(z)),!G)throw new m.vHH(5101,!1);return this._eventNameToPlugin.set(z,G),G}static#e=this.\u0275fac=function(G){return new(G||H)(m.LFG(ie),m.LFG(m.R0b))};static#t=this.\u0275prov=m.Yz7({token:H,factory:H.\u0275fac})}return H})();class qe{constructor(W){this._doc=W}}const Ye="ng-app-id";let dt=(()=>{class H{constructor(z,G,Ee,rt={}){this.doc=z,this.appId=G,this.nonce=Ee,this.platformId=rt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,Z.PM)(rt),this.resetHostNodes()}addStyles(z){for(const G of z)1===this.changeUsageCount(G,1)&&this.onStyleAdded(G)}removeStyles(z){for(const G of z)this.changeUsageCount(G,-1)<=0&&this.onStyleRemoved(G)}ngOnDestroy(){const z=this.styleNodesInDOM;z&&(z.forEach(G=>G.remove()),z.clear());for(const G of this.getAllStyles())this.onStyleRemoved(G);this.resetHostNodes()}addHost(z){this.hostNodes.add(z);for(const G of this.getAllStyles())this.addStyleToHost(z,G)}removeHost(z){this.hostNodes.delete(z)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(z){for(const G of this.hostNodes)this.addStyleToHost(G,z)}onStyleRemoved(z){const G=this.styleRef;G.get(z)?.elements?.forEach(Ee=>Ee.remove()),G.delete(z)}collectServerRenderedStyles(){const z=this.doc.head?.querySelectorAll(`style[${Ye}="${this.appId}"]`);if(z?.length){const G=new Map;return z.forEach(Ee=>{null!=Ee.textContent&&G.set(Ee.textContent,Ee)}),G}return null}changeUsageCount(z,G){const Ee=this.styleRef;if(Ee.has(z)){const rt=Ee.get(z);return rt.usage+=G,rt.usage}return Ee.set(z,{usage:G,elements:[]}),G}getStyleElement(z,G){const Ee=this.styleNodesInDOM,rt=Ee?.get(G);if(rt?.parentNode===z)return Ee.delete(G),rt.removeAttribute(Ye),rt;{const yt=this.doc.createElement("style");return this.nonce&&yt.setAttribute("nonce",this.nonce),yt.textContent=G,this.platformIsServer&&yt.setAttribute(Ye,this.appId),yt}}addStyleToHost(z,G){const Ee=this.getStyleElement(z,G);z.appendChild(Ee);const rt=this.styleRef,yt=rt.get(G)?.elements;yt?yt.push(Ee):rt.set(G,{elements:[Ee],usage:1})}resetHostNodes(){const z=this.hostNodes;z.clear(),z.add(this.doc.head)}static#e=this.\u0275fac=function(G){return new(G||H)(m.LFG(Z.K0),m.LFG(m.AFp),m.LFG(m.Ojb,8),m.LFG(m.Lbi))};static#t=this.\u0275prov=m.Yz7({token:H,factory:H.\u0275fac})}return H})();const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pt=/%COMP%/g,Ze=new m.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ue(H,W){return W.map(z=>z.replace(pt,H))}let ne=(()=>{class H{constructor(z,G,Ee,rt,yt,Qt,Kt,Vn=null){this.eventManager=z,this.sharedStylesHost=G,this.appId=Ee,this.removeStylesOnCompDestroy=rt,this.doc=yt,this.platformId=Qt,this.ngZone=Kt,this.nonce=Vn,this.rendererByCompId=new Map,this.platformIsServer=(0,Z.PM)(Qt),this.defaultRenderer=new nt(z,yt,Kt,this.platformIsServer)}createRenderer(z,G){if(!z||!G)return this.defaultRenderer;this.platformIsServer&&G.encapsulation===m.ifc.ShadowDom&&(G={...G,encapsulation:m.ifc.Emulated});const Ee=this.getOrCreateRenderer(z,G);return Ee instanceof gr?Ee.applyToHost(z):Ee instanceof It&&Ee.applyStyles(),Ee}getOrCreateRenderer(z,G){const Ee=this.rendererByCompId;let rt=Ee.get(G.id);if(!rt){const yt=this.doc,Qt=this.ngZone,Kt=this.eventManager,Vn=this.sharedStylesHost,nn=this.removeStylesOnCompDestroy,Mn=this.platformIsServer;switch(G.encapsulation){case m.ifc.Emulated:rt=new gr(Kt,Vn,G,this.appId,nn,yt,Qt,Mn);break;case m.ifc.ShadowDom:return new wr(Kt,Vn,z,G,yt,Qt,this.nonce,Mn);default:rt=new It(Kt,Vn,G,nn,yt,Qt,Mn)}Ee.set(G.id,rt)}return rt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(G){return new(G||H)(m.LFG(Me),m.LFG(dt),m.LFG(m.AFp),m.LFG(Ze),m.LFG(Z.K0),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(m.Ojb))};static#t=this.\u0275prov=m.Yz7({token:H,factory:H.\u0275fac})}return H})();class nt{constructor(W,z,G,Ee){this.eventManager=W,this.doc=z,this.ngZone=G,this.platformIsServer=Ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(W,z){return z?this.doc.createElementNS(ht[z]||z,W):this.doc.createElement(W)}createComment(W){return this.doc.createComment(W)}createText(W){return this.doc.createTextNode(W)}appendChild(W,z){(Rn(W)?W.content:W).appendChild(z)}insertBefore(W,z,G){W&&(Rn(W)?W.content:W).insertBefore(z,G)}removeChild(W,z){W&&W.removeChild(z)}selectRootElement(W,z){let G="string"==typeof W?this.doc.querySelector(W):W;if(!G)throw new m.vHH(-5104,!1);return z||(G.textContent=""),G}parentNode(W){return W.parentNode}nextSibling(W){return W.nextSibling}setAttribute(W,z,G,Ee){if(Ee){z=Ee+":"+z;const rt=ht[Ee];rt?W.setAttributeNS(rt,z,G):W.setAttribute(z,G)}else W.setAttribute(z,G)}removeAttribute(W,z,G){if(G){const Ee=ht[G];Ee?W.removeAttributeNS(Ee,z):W.removeAttribute(`${G}:${z}`)}else W.removeAttribute(z)}addClass(W,z){W.classList.add(z)}removeClass(W,z){W.classList.remove(z)}setStyle(W,z,G,Ee){Ee&(m.JOm.DashCase|m.JOm.Important)?W.style.setProperty(z,G,Ee&m.JOm.Important?"important":""):W.style[z]=G}removeStyle(W,z,G){G&m.JOm.DashCase?W.style.removeProperty(z):W.style[z]=""}setProperty(W,z,G){W[z]=G}setValue(W,z){W.nodeValue=z}listen(W,z,G){if("string"==typeof W&&!(W=(0,Z.q)().getGlobalEventTarget(this.doc,W)))throw new Error(`Unsupported event target ${W} for event ${z}`);return this.eventManager.addEventListener(W,z,this.decoratePreventDefault(G))}decoratePreventDefault(W){return z=>{if("__ngUnwrap__"===z)return W;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>W(z)):W(z))&&z.preventDefault()}}}function Rn(H){return"TEMPLATE"===H.tagName&&void 0!==H.content}class wr extends nt{constructor(W,z,G,Ee,rt,yt,Qt,Kt){super(W,rt,yt,Kt),this.sharedStylesHost=z,this.hostEl=G,this.shadowRoot=G.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Vn=Ue(Ee.id,Ee.styles);for(const nn of Vn){const Mn=document.createElement("style");Qt&&Mn.setAttribute("nonce",Qt),Mn.textContent=nn,this.shadowRoot.appendChild(Mn)}}nodeOrShadowRoot(W){return W===this.hostEl?this.shadowRoot:W}appendChild(W,z){return super.appendChild(this.nodeOrShadowRoot(W),z)}insertBefore(W,z,G){return super.insertBefore(this.nodeOrShadowRoot(W),z,G)}removeChild(W,z){return super.removeChild(this.nodeOrShadowRoot(W),z)}parentNode(W){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(W)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class It extends nt{constructor(W,z,G,Ee,rt,yt,Qt,Kt){super(W,rt,yt,Qt),this.sharedStylesHost=z,this.removeStylesOnCompDestroy=Ee,this.styles=Kt?Ue(Kt,G.styles):G.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gr extends It{constructor(W,z,G,Ee,rt,yt,Qt,Kt){const Vn=Ee+"-"+G.id;super(W,z,G,rt,yt,Qt,Kt,Vn),this.contentAttr=function ve(H){return"_ngcontent-%COMP%".replace(pt,H)}(Vn),this.hostAttr=function it(H){return"_nghost-%COMP%".replace(pt,H)}(Vn)}applyToHost(W){this.applyStyles(),this.setAttribute(W,this.hostAttr,"")}createElement(W,z){const G=super.createElement(W,z);return super.setAttribute(G,this.contentAttr,""),G}}let bt=(()=>{class H extends qe{constructor(z){super(z)}supports(z){return!0}addEventListener(z,G,Ee){return z.addEventListener(G,Ee,!1),()=>this.removeEventListener(z,G,Ee)}removeEventListener(z,G,Ee){return z.removeEventListener(G,Ee)}static#e=this.\u0275fac=function(G){return new(G||H)(m.LFG(Z.K0))};static#t=this.\u0275prov=m.Yz7({token:H,factory:H.\u0275fac})}return H})();const un=["alt","control","meta","shift"],Ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xe={alt:H=>H.altKey,control:H=>H.ctrlKey,meta:H=>H.metaKey,shift:H=>H.shiftKey};let ze=(()=>{class H extends qe{constructor(z){super(z)}supports(z){return null!=H.parseEventName(z)}addEventListener(z,G,Ee){const rt=H.parseEventName(G),yt=H.eventCallback(rt.fullKey,Ee,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,Z.q)().onAndCancel(z,rt.domEventName,yt))}static parseEventName(z){const G=z.toLowerCase().split("."),Ee=G.shift();if(0===G.length||"keydown"!==Ee&&"keyup"!==Ee)return null;const rt=H._normalizeKey(G.pop());let yt="",Qt=G.indexOf("code");if(Qt>-1&&(G.splice(Qt,1),yt="code."),un.forEach(Vn=>{const nn=G.indexOf(Vn);nn>-1&&(G.splice(nn,1),yt+=Vn+".")}),yt+=rt,0!=G.length||0===rt.length)return null;const Kt={};return Kt.domEventName=Ee,Kt.fullKey=yt,Kt}static matchEventFullKeyCode(z,G){let Ee=Ae[z.key]||z.key,rt="";return G.indexOf("code.")>-1&&(Ee=z.code,rt="code."),!(null==Ee||!Ee)&&(Ee=Ee.toLowerCase()," "===Ee?Ee="space":"."===Ee&&(Ee="dot"),un.forEach(yt=>{yt!==Ee&&(0,xe[yt])(z)&&(rt+=yt+".")}),rt+=Ee,rt===G)}static eventCallback(z,G,Ee){return rt=>{H.matchEventFullKeyCode(rt,z)&&Ee.runGuarded(()=>G(rt))}}static _normalizeKey(z){return"esc"===z?"escape":z}static#e=this.\u0275fac=function(G){return new(G||H)(m.LFG(Z.K0))};static#t=this.\u0275prov=m.Yz7({token:H,factory:H.\u0275fac})}return H})();const Tt=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:Z.bD},{provide:m.g9A,useValue:function _n(){ae.makeCurrent()},multi:!0},{provide:Z.K0,useFactory:function zt(){return(0,m.RDi)(document),document},deps:[]}]),bn=new m.OlP(""),ar=[{provide:m.rWj,useClass:class Le{addToWindow(W){m.dqk.getAngularTestability=(G,Ee=!0)=>{const rt=W.findTestabilityInTree(G,Ee);if(null==rt)throw new m.vHH(5103,!1);return rt},m.dqk.getAllAngularTestabilities=()=>W.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>W.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(G=>{const Ee=m.dqk.getAllAngularTestabilities();let rt=Ee.length,yt=!1;const Qt=function(Kt){yt=yt||Kt,rt--,0==rt&&G(yt)};Ee.forEach(Kt=>{Kt.whenStable(Qt)})})}findTestabilityInTree(W,z,G){return null==z?null:W.getTestability(z)??(G?(0,Z.q)().isShadowRoot(z)?this.findTestabilityInTree(W,z.host,!0):this.findTestabilityInTree(W,z.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],An=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function Tn(){return new m.qLn},deps:[]},{provide:ie,useClass:bt,multi:!0,deps:[Z.K0,m.R0b,m.Lbi]},{provide:ie,useClass:ze,multi:!0,deps:[Z.K0]},ne,dt,Me,{provide:m.FYo,useExisting:ne},{provide:Z.JF,useClass:Q,deps:[]},[]];let Yn=(()=>{class H{constructor(z){}static withServerTransition(z){return{ngModule:H,providers:[{provide:m.AFp,useValue:z.appId}]}}static#e=this.\u0275fac=function(G){return new(G||H)(m.LFG(bn,12))};static#t=this.\u0275mod=m.oAB({type:H});static#n=this.\u0275inj=m.cJS({providers:[...An,...ar],imports:[Z.ez,m.hGG]})}return H})(),Vr=(()=>{class H{constructor(z){this._doc=z}getTitle(){return this._doc.title}setTitle(z){this._doc.title=z||""}static#e=this.\u0275fac=function(G){return new(G||H)(m.LFG(Z.K0))};static#t=this.\u0275prov=m.Yz7({token:H,factory:function(G){let Ee=null;return Ee=G?new G:function kr(){return new Vr((0,m.LFG)(Z.K0))}(),Ee},providedIn:"root"})}return H})();typeof window<"u"&&window;let Pn=(()=>{class H{static#e=this.\u0275fac=function(G){return new(G||H)};static#t=this.\u0275prov=m.Yz7({token:H,factory:function(G){let Ee=null;return Ee=G?new(G||H):m.LFG(gn),Ee},providedIn:"root"})}return H})(),gn=(()=>{class H extends Pn{constructor(z){super(),this._doc=z}sanitize(z,G){if(null==G)return null;switch(z){case m.q3G.NONE:return G;case m.q3G.HTML:return(0,m.qzn)(G,"HTML")?(0,m.z3N)(G):(0,m.EiD)(this._doc,String(G)).toString();case m.q3G.STYLE:return(0,m.qzn)(G,"Style")?(0,m.z3N)(G):G;case m.q3G.SCRIPT:if((0,m.qzn)(G,"Script"))return(0,m.z3N)(G);throw new m.vHH(5200,!1);case m.q3G.URL:return(0,m.qzn)(G,"URL")?(0,m.z3N)(G):(0,m.mCW)(String(G));case m.q3G.RESOURCE_URL:if((0,m.qzn)(G,"ResourceURL"))return(0,m.z3N)(G);throw new m.vHH(5201,!1);default:throw new m.vHH(5202,!1)}}bypassSecurityTrustHtml(z){return(0,m.JVY)(z)}bypassSecurityTrustStyle(z){return(0,m.L6k)(z)}bypassSecurityTrustScript(z){return(0,m.eBb)(z)}bypassSecurityTrustUrl(z){return(0,m.LAX)(z)}bypassSecurityTrustResourceUrl(z){return(0,m.pB0)(z)}static#e=this.\u0275fac=function(G){return new(G||H)(m.LFG(Z.K0))};static#t=this.\u0275prov=m.Yz7({token:H,factory:function(G){let Ee=null;return Ee=G?new G:function En(H){return new gn(H.get(Z.K0))}(m.LFG(m.zs3)),Ee},providedIn:"root"})}return H})()},4017:(jt,He,B)=>{B.d(He,{gz:()=>gi,m2:()=>me,wm:()=>Iu,F0:()=>tt,rH:()=>Ba,Bz:()=>xc,lC:()=>ao});var m=B(4946),Z=B(5592),he=B(4674),le=B(2459),de=B(2096),Ie=B(5619),fe=B(2572);const Q=(0,B(2306).d)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"});var ie=B(5211),Me=B(4829);function qe(_){return new Z.y(b=>{(0,Me.Xf)(_()).subscribe(b)})}var Ye=B(8407);function dt(_,b){const y=(0,he.m)(_)?_:()=>_,S=R=>R.error(y());return new Z.y(b?R=>b.schedule(S,0,R):S)}var ht=B(6232),pt=B(7394),ft=B(9360),Jt=B(8251);function qt(){return(0,ft.e)((_,b)=>{let y=null;_._refCount++;const S=(0,Jt.x)(b,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(y=null);const R=_._connection,j=y;y=null,R&&(!j||R===j)&&R.unsubscribe(),b.unsubscribe()});_.subscribe(S),S.closed||(y=_.connect())})}class Oe extends Z.y{constructor(b,y){super(),this.source=b,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,ft.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new pt.w0;const y=this.getSubject();b.add(this.source.subscribe((0,Jt.x)(y,void 0,()=>{this._teardown(),y.complete()},S=>{this._teardown(),y.error(S)},()=>this._teardown()))),b.closed&&(this._connection=null,b=pt.w0.EMPTY)}return b}refCount(){return qt()(this)}}var Ze=B(8645),ve=B(6814),it=B(7398),Ue=B(4664),ne=B(8180),nt=B(7921),Ot=B(2181),en=B(1631);function Rn(_){return(0,ft.e)((b,y)=>{let S=!1;b.subscribe((0,Jt.x)(y,R=>{S=!0,y.next(R)},()=>{S||y.next(_),y.complete()}))})}function wr(_=It){return(0,ft.e)((b,y)=>{let S=!1;b.subscribe((0,Jt.x)(y,R=>{S=!0,y.next(R)},()=>S?y.complete():y.error(_())))})}function It(){return new Q}var gr=B(2737);function bt(_,b){const y=arguments.length>=2;return S=>S.pipe(_?(0,Ot.h)((R,j)=>_(R,j,S)):gr.y,(0,ne.q)(1),y?Rn(b):wr(()=>new Q))}function un(_,b){return(0,he.m)(b)?(0,en.z)(_,b,1):(0,en.z)(_,1)}var Ae=B(9397);function xe(_){return(0,ft.e)((b,y)=>{let j,S=null,R=!1;S=b.subscribe((0,Jt.x)(y,void 0,void 0,te=>{j=(0,Me.Xf)(_(te,xe(_)(b))),S?(S.unsubscribe(),S=null,j.subscribe(y)):R=!0})),R&&(S.unsubscribe(),S=null,j.subscribe(y))})}function je(_){return _<=0?()=>ht.E:(0,ft.e)((b,y)=>{let S=[];b.subscribe((0,Jt.x)(y,R=>{S.push(R),_<S.length&&S.shift()},()=>{for(const R of S)y.next(R);y.complete()},void 0,()=>{S=null}))})}function _n(_){return(0,ft.e)((b,y)=>{try{b.subscribe(y)}finally{y.add(_)}})}var Tn=B(9773),zt=B(7537),Dn=B(6593);const Tt="primary",bn=Symbol("RouteTitle");class ar{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y[0]:y}return null}getAll(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function An(_){return new ar(_)}function Yn(_,b,y){const S=y.path.split("/");if(S.length>_.length||"full"===y.pathMatch&&(b.hasChildren()||S.length<_.length))return null;const R={};for(let j=0;j<S.length;j++){const te=S[j],ke=_[j];if(te.startsWith(":"))R[te.substring(1)]=ke;else if(te!==ke.path)return null}return{consumed:_.slice(0,S.length),posParams:R}}function Cn(_,b){const y=_?Object.keys(_):void 0,S=b?Object.keys(b):void 0;if(!y||!S||y.length!=S.length)return!1;let R;for(let j=0;j<y.length;j++)if(R=y[j],!Gt(_[R],b[R]))return!1;return!0}function Gt(_,b){if(Array.isArray(_)&&Array.isArray(b)){if(_.length!==b.length)return!1;const y=[..._].sort(),S=[...b].sort();return y.every((R,j)=>S[j]===R)}return _===b}function kr(_){return _.length>0?_[_.length-1]:null}function Vr(_){return function ae(_){return!!_&&(_ instanceof Z.y||(0,he.m)(_.lift)&&(0,he.m)(_.subscribe))}(_)?_:(0,m.QGY)(_)?(0,le.D)(Promise.resolve(_)):(0,de.of)(_)}const fi={exact:function Yt(_,b,y){if(!gt(_.segments,b.segments)||!Xn(_.segments,b.segments,y)||_.numberOfChildren!==b.numberOfChildren)return!1;for(const S in b.children)if(!_.children[S]||!Yt(_.children[S],b.children[S],y))return!1;return!0},subset:Ar},In={exact:function on(_,b){return Cn(_,b)},subset:function Qn(_,b){return Object.keys(b).length<=Object.keys(_).length&&Object.keys(b).every(y=>Gt(_[y],b[y]))},ignored:()=>!0};function fr(_,b,y){return fi[y.paths](_.root,b.root,y.matrixParams)&&In[y.queryParams](_.queryParams,b.queryParams)&&!("exact"===y.fragment&&_.fragment!==b.fragment)}function Ar(_,b,y){return Zr(_,b,b.segments,y)}function Zr(_,b,y,S){if(_.segments.length>y.length){const R=_.segments.slice(0,y.length);return!(!gt(R,y)||b.hasChildren()||!Xn(R,y,S))}if(_.segments.length===y.length){if(!gt(_.segments,y)||!Xn(_.segments,y,S))return!1;for(const R in b.children)if(!_.children[R]||!Ar(_.children[R],b.children[R],S))return!1;return!0}{const R=y.slice(0,_.segments.length),j=y.slice(_.segments.length);return!!(gt(_.segments,R)&&Xn(_.segments,R,S)&&_.children[Tt])&&Zr(_.children[Tt],b,j,S)}}function Xn(_,b,y){return b.every((S,R)=>In[y](_[R].parameters,S.parameters))}class On{constructor(b=new dn([],{}),y={},S=null){this.root=b,this.queryParams=y,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=An(this.queryParams)),this._queryParamMap}toString(){return En.serialize(this)}}class dn{constructor(b,y){this.segments=b,this.children=y,this.parent=null,Object.values(y).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gn(this)}}class Sn{constructor(b,y){this.path=b,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=An(this.parameters)),this._parameterMap}toString(){return ce(this)}}function gt(_,b){return _.length===b.length&&_.every((y,S)=>y.path===b[S].path)}let Wn=(()=>{class _{static#e=this.\u0275fac=function(S){return new(S||_)};static#t=this.\u0275prov=m.Yz7({token:_,factory:function(){return new Pn},providedIn:"root"})}return _})();class Pn{parse(b){const y=new nn(b);return new On(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(b){const y=`/${ln(b.root,!0)}`,S=function W(_){const b=Object.keys(_).map(y=>{const S=_[y];return Array.isArray(S)?S.map(R=>`${Qr(y)}=${Qr(R)}`).join("&"):`${Qr(y)}=${Qr(S)}`}).filter(y=>!!y);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${y}${S}${"string"==typeof b.fragment?`#${function tn(_){return encodeURI(_)}(b.fragment)}`:""}`}}const En=new Pn;function gn(_){return _.segments.map(b=>ce(b)).join("/")}function ln(_,b){if(!_.hasChildren())return gn(_);if(b){const y=_.children[Tt]?ln(_.children[Tt],!1):"",S=[];return Object.entries(_.children).forEach(([R,j])=>{R!==Tt&&S.push(`${R}:${ln(j,!1)}`)}),S.length>0?`${y}(${S.join("//")})`:y}{const y=function Yr(_,b){let y=[];return Object.entries(_.children).forEach(([S,R])=>{S===Tt&&(y=y.concat(b(R,S)))}),Object.entries(_.children).forEach(([S,R])=>{S!==Tt&&(y=y.concat(b(R,S)))}),y}(_,(S,R)=>R===Tt?[ln(_.children[Tt],!1)]:[`${R}:${ln(S,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Tt]?`${gn(_)}/${y[0]}`:`${gn(_)}/(${y.join("//")})`}}function Lr(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qr(_){return Lr(_).replace(/%3B/gi,";")}function us(_){return Lr(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qn(_){return decodeURIComponent(_)}function jr(_){return qn(_.replace(/\+/g,"%20"))}function ce(_){return`${us(_.path)}${function H(_){return Object.keys(_).map(b=>`;${us(b)}=${us(_[b])}`).join("")}(_.parameters)}`}const z=/^[^\/()?;#]+/;function G(_){const b=_.match(z);return b?b[0]:""}const Ee=/^[^\/()?;=#]+/,yt=/^[^=?&#]+/,Kt=/^[^&#]+/;class nn{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(b.length>0||Object.keys(y).length>0)&&(S[Tt]=new dn(b,y)),S}parseSegment(){const b=G(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(b),new Sn(qn(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const y=function rt(_){const b=_.match(Ee);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let S="";if(this.consumeOptional("=")){const R=G(this.remaining);R&&(S=R,this.capture(S))}b[qn(y)]=qn(S)}parseQueryParam(b){const y=function Qt(_){const b=_.match(yt);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let S="";if(this.consumeOptional("=")){const te=function Vn(_){const b=_.match(Kt);return b?b[0]:""}(this.remaining);te&&(S=te,this.capture(S))}const R=jr(y),j=jr(S);if(b.hasOwnProperty(R)){let te=b[R];Array.isArray(te)||(te=[te],b[R]=te),te.push(j)}else b[R]=j}parseParens(b){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=G(this.remaining),R=this.remaining[S.length];if("/"!==R&&")"!==R&&";"!==R)throw new m.vHH(4010,!1);let j;S.indexOf(":")>-1?(j=S.slice(0,S.indexOf(":")),this.capture(j),this.capture(":")):b&&(j=Tt);const te=this.parseChildren();y[j]=1===Object.keys(te).length?te[Tt]:new dn([],te),this.consumeOptional("//")}return y}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new m.vHH(4011,!1)}}function Mn(_){return _.segments.length>0?new dn([],{[Tt]:_}):_}function ui(_){const b={};for(const S of Object.keys(_.children)){const j=ui(_.children[S]);if(S===Tt&&0===j.segments.length&&j.hasChildren())for(const[te,ke]of Object.entries(j.children))b[te]=ke;else(j.segments.length>0||j.hasChildren())&&(b[S]=j)}return function cs(_){if(1===_.numberOfChildren&&_.children[Tt]){const b=_.children[Tt];return new dn(_.segments.concat(b.segments),b.children)}return _}(new dn(_.segments,b))}function Fr(_){return _ instanceof On}function re(_){let b;const R=Mn(function y(j){const te={};for(const Ce of j.children){const xt=y(Ce);te[Ce.outlet]=xt}const ke=new dn(j.url,te);return j===_&&(b=ke),ke}(_.root));return b??R}function ye(_,b,y,S){let R=_;for(;R.parent;)R=R.parent;if(0===b.length)return mt(R,R,R,y,S);const j=function tr(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new ur(!0,0,_);let b=0,y=!1;const S=_.reduce((R,j,te)=>{if("object"==typeof j&&null!=j){if(j.outlets){const ke={};return Object.entries(j.outlets).forEach(([Ce,xt])=>{ke[Ce]="string"==typeof xt?xt.split("/"):xt}),[...R,{outlets:ke}]}if(j.segmentPath)return[...R,j.segmentPath]}return"string"!=typeof j?[...R,j]:0===te?(j.split("/").forEach((ke,Ce)=>{0==Ce&&"."===ke||(0==Ce&&""===ke?y=!0:".."===ke?b++:""!=ke&&R.push(ke))}),R):[...R,j]},[]);return new ur(y,b,S)}(b);if(j.toRoot())return mt(R,R,new dn([],{}),y,S);const te=function Pi(_,b,y){if(_.isAbsolute)return new Xr(b,!0,0);if(!y)return new Xr(b,!1,NaN);if(null===y.parent)return new Xr(y,!0,0);const S=$e(_.commands[0])?0:1;return function Mi(_,b,y){let S=_,R=b,j=y;for(;j>R;){if(j-=R,S=S.parent,!S)throw new m.vHH(4005,!1);R=S.segments.length}return new Xr(S,!1,R-j)}(y,y.segments.length-1+S,_.numberOfDoubleDots)}(j,R,_),ke=te.processChildren?Mr(te.segmentGroup,te.index,j.commands):ls(te.segmentGroup,te.index,j.commands);return mt(R,te.segmentGroup,ke,y,S)}function $e(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function ut(_){return"object"==typeof _&&null!=_&&_.outlets}function mt(_,b,y,S,R){let te,j={};S&&Object.entries(S).forEach(([Ce,xt])=>{j[Ce]=Array.isArray(xt)?xt.map(wn=>`${wn}`):`${xt}`}),te=_===b?y:$t(_,b,y);const ke=Mn(ui(te));return new On(ke,j,R)}function $t(_,b,y){const S={};return Object.entries(_.children).forEach(([R,j])=>{S[R]=j===b?y:$t(j,b,y)}),new dn(_.segments,S)}class ur{constructor(b,y,S){if(this.isAbsolute=b,this.numberOfDoubleDots=y,this.commands=S,b&&S.length>0&&$e(S[0]))throw new m.vHH(4003,!1);const R=S.find(ut);if(R&&R!==kr(S))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xr{constructor(b,y,S){this.segmentGroup=b,this.processChildren=y,this.index=S}}function ls(_,b,y){if(_||(_=new dn([],{})),0===_.segments.length&&_.hasChildren())return Mr(_,b,y);const S=function Jr(_,b,y){let S=0,R=b;const j={match:!1,pathIndex:0,commandIndex:0};for(;R<_.segments.length;){if(S>=y.length)return j;const te=_.segments[R],ke=y[S];if(ut(ke))break;const Ce=`${ke}`,xt=S<y.length-1?y[S+1]:null;if(R>0&&void 0===Ce)break;if(Ce&&xt&&"object"==typeof xt&&void 0===xt.outlets){if(!io(Ce,xt,te))return j;S+=2}else{if(!io(Ce,{},te))return j;S++}R++}return{match:!0,pathIndex:R,commandIndex:S}}(_,b,y),R=y.slice(S.commandIndex);if(S.match&&S.pathIndex<_.segments.length){const j=new dn(_.segments.slice(0,S.pathIndex),{});return j.children[Tt]=new dn(_.segments.slice(S.pathIndex),_.children),Mr(j,0,R)}return S.match&&0===R.length?new dn(_.segments,{}):S.match&&!_.hasChildren()?jn(_,b,y):S.match?Mr(_,0,R):jn(_,b,y)}function Mr(_,b,y){if(0===y.length)return new dn(_.segments,{});{const S=function _r(_){return ut(_[0])?_[0].outlets:{[Tt]:_}}(y),R={};if(Object.keys(S).some(j=>j!==Tt)&&_.children[Tt]&&1===_.numberOfChildren&&0===_.children[Tt].segments.length){const j=Mr(_.children[Tt],b,y);return new dn(_.segments,j.children)}return Object.entries(S).forEach(([j,te])=>{"string"==typeof te&&(te=[te]),null!==te&&(R[j]=ls(_.children[j],b,te))}),Object.entries(_.children).forEach(([j,te])=>{void 0===S[j]&&(R[j]=te)}),new dn(_.segments,R)}}function jn(_,b,y){const S=_.segments.slice(0,b);let R=0;for(;R<y.length;){const j=y[R];if(ut(j)){const Ce=Ts(j.outlets);return new dn(S,Ce)}if(0===R&&$e(y[0])){S.push(new Sn(_.segments[b].path,Un(y[0]))),R++;continue}const te=ut(j)?j.outlets[Tt]:`${j}`,ke=R<y.length-1?y[R+1]:null;te&&ke&&$e(ke)?(S.push(new Sn(te,Un(ke))),R+=2):(S.push(new Sn(te,{})),R++)}return new dn(S,{})}function Ts(_){const b={};return Object.entries(_).forEach(([y,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(b[y]=jn(new dn([],{}),0,S))}),b}function Un(_){const b={};return Object.entries(_).forEach(([y,S])=>b[y]=`${S}`),b}function io(_,b,y){return _==y.path&&Cn(b,y.parameters)}const ki="imperative";class xr{constructor(b,y){this.id=b,this.url=y}}class ds extends xr{constructor(b,y,S="imperative",R=null){super(b,y),this.type=0,this.navigationTrigger=S,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class me extends xr{constructor(b,y,S){super(b,y),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pe extends xr{constructor(b,y,S,R){super(b,y),this.reason=S,this.code=R,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class De extends xr{constructor(b,y,S,R){super(b,y),this.reason=S,this.code=R,this.type=16}}class Xe extends xr{constructor(b,y,S,R){super(b,y),this.error=S,this.target=R,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ct extends xr{constructor(b,y,S,R){super(b,y),this.urlAfterRedirects=S,this.state=R,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wt extends xr{constructor(b,y,S,R){super(b,y),this.urlAfterRedirects=S,this.state=R,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kn extends xr{constructor(b,y,S,R,j){super(b,y),this.urlAfterRedirects=S,this.state=R,this.shouldActivate=j,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $n extends xr{constructor(b,y,S,R){super(b,y),this.urlAfterRedirects=S,this.state=R,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ln extends xr{constructor(b,y,S,R){super(b,y),this.urlAfterRedirects=S,this.state=R,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ys{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pi{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xi{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cr{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Po{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class so{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oo{constructor(b,y,S){this.routerEvent=b,this.position=y,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Li{}class Qs{constructor(b){this.url=b}}class ca{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xs,this.attachRef=null}}let Xs=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(y,S){const R=this.getOrCreateContext(y);R.outlet=S,this.contexts.set(y,R)}onChildOutletDestroyed(y){const S=this.getContext(y);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let S=this.getContext(y);return S||(S=new ca,this.contexts.set(y,S)),S}getContext(y){return this.contexts.get(y)||null}static#e=this.\u0275fac=function(S){return new(S||_)};static#t=this.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();class ko{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const y=this.pathFromRoot(b);return y.length>1?y[y.length-2]:null}children(b){const y=Io(b,this._root);return y?y.children.map(S=>S.value):[]}firstChild(b){const y=Io(b,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(b){const y=bs(b,this._root);return y.length<2?[]:y[y.length-2].children.map(R=>R.value).filter(R=>R!==b)}pathFromRoot(b){return bs(b,this._root).map(y=>y.value)}}function Io(_,b){if(_===b.value)return b;for(const y of b.children){const S=Io(_,y);if(S)return S}return null}function bs(_,b){if(_===b.value)return[b];for(const y of b.children){const S=bs(_,y);if(S.length)return S.unshift(b),S}return[]}class Hr{constructor(b,y){this.value=b,this.children=y}toString(){return`TreeNode(${this.value})`}}function Bs(_){const b={};return _&&_.children.forEach(y=>b[y.value.outlet]=y),b}class Eo extends ko{constructor(b,y){super(b),this.snapshot=y,ci(this,b)}toString(){return this.snapshot.toString()}}function Vs(_,b){const y=function nr(_,b){const te=new Fn([],{},{},"",{},Tt,b,null,{});return new ei("",new Hr(te,[]))}(0,b),S=new Ie.X([new Sn("",{})]),R=new Ie.X({}),j=new Ie.X({}),te=new Ie.X({}),ke=new Ie.X(""),Ce=new gi(S,R,te,ke,j,Tt,b,y.root);return Ce.snapshot=y.root,new Eo(new Hr(Ce,[]),y)}class gi{constructor(b,y,S,R,j,te,ke,Ce){this.urlSubject=b,this.paramsSubject=y,this.queryParamsSubject=S,this.fragmentSubject=R,this.dataSubject=j,this.outlet=te,this.component=ke,this._futureSnapshot=Ce,this.title=this.dataSubject?.pipe((0,it.U)(xt=>xt[bn]))??(0,de.of)(void 0),this.url=b,this.params=y,this.queryParams=S,this.fragment=R,this.data=j}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(b=>An(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(b=>An(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Js(_,b="emptyOnly"){const y=_.pathFromRoot;let S=0;if("always"!==b)for(S=y.length-1;S>=1;){const R=y[S],j=y[S-1];if(R.routeConfig&&""===R.routeConfig.path)S--;else{if(j.component)break;S--}}return function Wi(_){return _.reduce((b,y)=>({params:{...b.params,...y.params},data:{...b.data,...y.data},resolve:{...y.data,...b.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(S))}class Fn{get title(){return this.data?.[bn]}constructor(b,y,S,R,j,te,ke,Ce,xt){this.url=b,this.params=y,this.queryParams=S,this.fragment=R,this.data=j,this.outlet=te,this.component=ke,this.routeConfig=Ce,this._resolve=xt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=An(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=An(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ei extends ko{constructor(b,y){super(y),this.url=b,ci(this,y)}toString(){return Cs(this._root)}}function ci(_,b){b.value._routerState=_,b.children.forEach(y=>ci(_,y))}function Cs(_){const b=_.children.length>0?` { ${_.children.map(Cs).join(", ")} } `:"";return`${_.value}${b}`}function qi(_){if(_.snapshot){const b=_.snapshot,y=_._futureSnapshot;_.snapshot=y,Cn(b.queryParams,y.queryParams)||_.queryParamsSubject.next(y.queryParams),b.fragment!==y.fragment&&_.fragmentSubject.next(y.fragment),Cn(b.params,y.params)||_.paramsSubject.next(y.params),function ir(_,b){if(_.length!==b.length)return!1;for(let y=0;y<_.length;++y)if(!Cn(_[y],b[y]))return!1;return!0}(b.url,y.url)||_.urlSubject.next(y.url),Cn(b.data,y.data)||_.dataSubject.next(y.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function Yo(_,b){const y=Cn(_.params,b.params)&&function Ii(_,b){return gt(_,b)&&_.every((y,S)=>Cn(y.parameters,b[S].parameters))}(_.url,b.url);return y&&!(!_.parent!=!b.parent)&&(!_.parent||Yo(_.parent,b.parent))}let ao=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=Tt,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.parentContexts=(0,m.f3M)(Xs),this.location=(0,m.f3M)(m.s_b),this.changeDetector=(0,m.f3M)(m.sBO),this.environmentInjector=(0,m.f3M)(m.lqb),this.inputBinder=(0,m.f3M)(wo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:S,previousValue:R}=y.name;if(S)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,S){this.activated=y,this._activatedRoute=S,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,S){if(this.isActivated)throw new m.vHH(4013,!1);this._activatedRoute=y;const R=this.location,te=y.snapshot.component,ke=this.parentContexts.getOrCreateContext(this.name).children,Ce=new gs(y,ke,R.injector);this.activated=R.createComponent(te,{index:R.length,injector:Ce,environmentInjector:S??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(S){return new(S||_)};static#t=this.\u0275dir=m.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.TTD]})}return _})();class gs{constructor(b,y,S){this.route=b,this.childContexts=y,this.parent=S}get(b,y){return b===gi?this.route:b===Xs?this.childContexts:this.parent.get(b,y)}}const wo=new m.OlP("");let Ss=(()=>{class _{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:S}=y,R=(0,fe.a)([S.queryParams,S.params,S.data]).pipe((0,Ue.w)(([j,te,ke],Ce)=>(ke={...j,...te,...ke},0===Ce?(0,de.of)(ke):Promise.resolve(ke)))).subscribe(j=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(y);const te=(0,m.qFp)(S.component);if(te)for(const{templateName:ke}of te.inputs)y.activatedComponentRef.setInput(ke,j[ke]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,R)}static#e=this.\u0275fac=function(S){return new(S||_)};static#t=this.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac})}return _})();function Et(_,b,y){if(y&&_.shouldReuseRoute(b.value,y.value.snapshot)){const S=y.value;S._futureSnapshot=b.value;const R=function hn(_,b,y){return b.children.map(S=>{for(const R of y.children)if(_.shouldReuseRoute(S.value,R.value.snapshot))return Et(_,S,R);return Et(_,S)})}(_,b,y);return new Hr(S,R)}{if(_.shouldAttach(b.value)){const j=_.retrieve(b.value);if(null!==j){const te=j.route;return te.value._futureSnapshot=b.value,te.children=b.children.map(ke=>Et(_,ke)),te}}const S=function $r(_){return new gi(new Ie.X(_.url),new Ie.X(_.params),new Ie.X(_.queryParams),new Ie.X(_.fragment),new Ie.X(_.data),_.outlet,_.component,_)}(b.value),R=b.children.map(j=>Et(_,j));return new Hr(S,R)}}const Fi="ngNavigationCancelingError";function ms(_,b){const{redirectTo:y,navigationBehaviorOptions:S}=Fr(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,R=mi(!1,0,b);return R.url=y,R.navigationBehaviorOptions=S,R}function mi(_,b,y){const S=new Error("NavigationCancelingError: "+(_||""));return S[Fi]=!0,S.cancellationCode=b,y&&(S.url=y),S}function Rr(_){return _&&_[Fi]}let Ki=(()=>{class _{static#e=this.\u0275fac=function(S){return new(S||_)};static#t=this.\u0275cmp=m.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(S,R){1&S&&m._UZ(0,"router-outlet")},dependencies:[ao],encapsulation:2})}return _})();function vs(_){const b=_.children&&_.children.map(vs),y=b?{..._,children:b}:{..._};return!y.component&&!y.loadComponent&&(b||y.loadChildren)&&y.outlet&&y.outlet!==Tt&&(y.component=Ki),y}function Zi(_){return _.outlet||Tt}function vi(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let b=_.parent;b;b=b.parent){const y=b.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Hn{constructor(b,y,S,R,j){this.routeReuseStrategy=b,this.futureState=y,this.currState=S,this.forwardEvent=R,this.inputBindingEnabled=j}activate(b){const y=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,S,b),qi(this.futureState.root),this.activateChildRoutes(y,S,b)}deactivateChildRoutes(b,y,S){const R=Bs(y);b.children.forEach(j=>{const te=j.value.outlet;this.deactivateRoutes(j,R[te],S),delete R[te]}),Object.values(R).forEach(j=>{this.deactivateRouteAndItsChildren(j,S)})}deactivateRoutes(b,y,S){const R=b.value,j=y?y.value:null;if(R===j)if(R.component){const te=S.getContext(R.outlet);te&&this.deactivateChildRoutes(b,y,te.children)}else this.deactivateChildRoutes(b,y,S);else j&&this.deactivateRouteAndItsChildren(y,S)}deactivateRouteAndItsChildren(b,y){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,y):this.deactivateRouteAndOutlet(b,y)}detachAndStoreRouteSubtree(b,y){const S=y.getContext(b.value.outlet),R=S&&b.value.component?S.children:y,j=Bs(b);for(const te of Object.keys(j))this.deactivateRouteAndItsChildren(j[te],R);if(S&&S.outlet){const te=S.outlet.detach(),ke=S.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:te,route:b,contexts:ke})}}deactivateRouteAndOutlet(b,y){const S=y.getContext(b.value.outlet),R=S&&b.value.component?S.children:y,j=Bs(b);for(const te of Object.keys(j))this.deactivateRouteAndItsChildren(j[te],R);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(b,y,S){const R=Bs(y);b.children.forEach(j=>{this.activateRoutes(j,R[j.value.outlet],S),this.forwardEvent(new so(j.value.snapshot))}),b.children.length&&this.forwardEvent(new cr(b.value.snapshot))}activateRoutes(b,y,S){const R=b.value,j=y?y.value:null;if(qi(R),R===j)if(R.component){const te=S.getOrCreateContext(R.outlet);this.activateChildRoutes(b,y,te.children)}else this.activateChildRoutes(b,y,S);else if(R.component){const te=S.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const ke=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),te.children.onOutletReAttached(ke.contexts),te.attachRef=ke.componentRef,te.route=ke.route.value,te.outlet&&te.outlet.attach(ke.componentRef,ke.route.value),qi(ke.route.value),this.activateChildRoutes(b,null,te.children)}else{const ke=vi(R.snapshot);te.attachRef=null,te.route=R,te.injector=ke,te.outlet&&te.outlet.activateWith(R,te.injector),this.activateChildRoutes(b,null,te.children)}}else this.activateChildRoutes(b,null,S)}}class la{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class Ui{constructor(b,y){this.component=b,this.route=y}}function Fo(_,b,y){const S=_._root;return _s(S,b?b._root:null,y,[S.value])}function Qi(_,b){const y=Symbol(),S=b.get(_,y);return S===y?"function"!=typeof _||(0,m.Z0I)(_)?b.get(_):_:S}function _s(_,b,y,S,R={canDeactivateChecks:[],canActivateChecks:[]}){const j=Bs(b);return _.children.forEach(te=>{(function Hs(_,b,y,S,R={canDeactivateChecks:[],canActivateChecks:[]}){const j=_.value,te=b?b.value:null,ke=y?y.getContext(_.value.outlet):null;if(te&&j.routeConfig===te.routeConfig){const Ce=function li(_,b,y){if("function"==typeof y)return y(_,b);switch(y){case"pathParamsChange":return!gt(_.url,b.url);case"pathParamsOrQueryParamsChange":return!gt(_.url,b.url)||!Cn(_.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yo(_,b)||!Cn(_.queryParams,b.queryParams);default:return!Yo(_,b)}}(te,j,j.routeConfig.runGuardsAndResolvers);Ce?R.canActivateChecks.push(new la(S)):(j.data=te.data,j._resolvedData=te._resolvedData),_s(_,b,j.component?ke?ke.children:null:y,S,R),Ce&&ke&&ke.outlet&&ke.outlet.isActivated&&R.canDeactivateChecks.push(new Ui(ke.outlet.component,te))}else te&&Di(b,ke,R),R.canActivateChecks.push(new la(S)),_s(_,null,j.component?ke?ke.children:null:y,S,R)})(te,j[te.value.outlet],y,S.concat([te.value]),R),delete j[te.value.outlet]}),Object.entries(j).forEach(([te,ke])=>Di(ke,y.getContext(te),R)),R}function Di(_,b,y){const S=Bs(_),R=_.value;Object.entries(S).forEach(([j,te])=>{Di(te,R.component?b?b.children.getContext(j):null:b,y)}),y.canDeactivateChecks.push(new Ui(R.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,R))}function ni(_){return"function"==typeof _}function Ft(_){return _ instanceof Q||"EmptyError"===_?.name}const At=Symbol("INITIAL_VALUE");function fn(){return(0,Ue.w)(_=>(0,fe.a)(_.map(b=>b.pipe((0,ne.q)(1),(0,nt.O)(At)))).pipe((0,it.U)(b=>{for(const y of b)if(!0!==y){if(y===At)return At;if(!1===y||y instanceof On)return y}return!0}),(0,Ot.h)(b=>b!==At),(0,ne.q)(1)))}function br(_){return(0,Ye.z)((0,Ae.b)(b=>{if(Fr(b))throw ms(0,b)}),(0,it.U)(b=>!0===b))}class Ji{constructor(b){this.segmentGroup=b||null}}class hs{constructor(b){this.urlTree=b}}function Vi(_){return dt(new Ji(_))}function Ms(_){return dt(new hs(_))}class co{constructor(b,y){this.urlSerializer=b,this.urlTree=y}noMatchError(b){return new m.vHH(4002,!1)}lineralizeSegments(b,y){let S=[],R=y.root;for(;;){if(S=S.concat(R.segments),0===R.numberOfChildren)return(0,de.of)(S);if(R.numberOfChildren>1||!R.children[Tt])return dt(new m.vHH(4e3,!1));R=R.children[Tt]}}applyRedirectCommands(b,y,S){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),b,S)}applyRedirectCreateUrlTree(b,y,S,R){const j=this.createSegmentGroup(b,y.root,S,R);return new On(j,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(b,y){const S={};return Object.entries(b).forEach(([R,j])=>{if("string"==typeof j&&j.startsWith(":")){const ke=j.substring(1);S[R]=y[ke]}else S[R]=j}),S}createSegmentGroup(b,y,S,R){const j=this.createSegments(b,y.segments,S,R);let te={};return Object.entries(y.children).forEach(([ke,Ce])=>{te[ke]=this.createSegmentGroup(b,Ce,S,R)}),new dn(j,te)}createSegments(b,y,S,R){return y.map(j=>j.path.startsWith(":")?this.findPosParam(b,j,R):this.findOrReturn(j,S))}findPosParam(b,y,S){const R=S[y.path.substring(1)];if(!R)throw new m.vHH(4001,!1);return R}findOrReturn(b,y){let S=0;for(const R of y){if(R.path===b.path)return y.splice(S),R;S++}return b}}const fs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bi(_,b,y,S,R){const j=zs(_,b,y);return j.matched?(S=function $s(_,b){return _.providers&&!_._injector&&(_._injector=(0,m.MMx)(_.providers,b,`Route: ${_.path}`)),_._injector??b}(b,S),function _i(_,b,y,S){const R=b.canMatch;if(!R||0===R.length)return(0,de.of)(!0);const j=R.map(te=>{const ke=Qi(te,_);return Vr(function Te(_){return _&&ni(_.canMatch)}(ke)?ke.canMatch(b,y):_.runInContext(()=>ke(b,y)))});return(0,de.of)(j).pipe(fn(),br())}(S,b,y).pipe((0,it.U)(te=>!0===te?j:{...fs}))):(0,de.of)(j)}function zs(_,b,y){if(""===b.path)return"full"===b.pathMatch&&(_.hasChildren()||y.length>0)?{...fs}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const R=(b.matcher||Yn)(y,_,b);if(!R)return{...fs};const j={};Object.entries(R.posParams??{}).forEach(([ke,Ce])=>{j[ke]=Ce.path});const te=R.consumed.length>0?{...j,...R.consumed[R.consumed.length-1].parameters}:j;return{matched:!0,consumedSegments:R.consumed,remainingSegments:y.slice(R.consumed.length),parameters:te,positionalParamSegments:R.posParams??{}}}function qr(_,b,y,S){return y.length>0&&function Ea(_,b,y){return y.some(S=>Xo(_,b,S)&&Zi(S)!==Tt)}(_,y,S)?{segmentGroup:new dn(b,ts(S,new dn(y,_.children))),slicedSegments:[]}:0===y.length&&function ns(_,b,y){return y.some(S=>Xo(_,b,S))}(_,y,S)?{segmentGroup:new dn(_.segments,mr(_,0,y,S,_.children)),slicedSegments:y}:{segmentGroup:new dn(_.segments,_.children),slicedSegments:y}}function mr(_,b,y,S,R){const j={};for(const te of S)if(Xo(_,y,te)&&!R[Zi(te)]){const ke=new dn([],{});j[Zi(te)]=ke}return{...R,...j}}function ts(_,b){const y={};y[Tt]=b;for(const S of _)if(""===S.path&&Zi(S)!==Tt){const R=new dn([],{});y[Zi(S)]=R}return y}function Xo(_,b,y){return(!(_.hasChildren()||b.length>0)||"full"!==y.pathMatch)&&""===y.path}class Fa{constructor(b,y,S,R,j,te,ke){this.injector=b,this.configLoader=y,this.rootComponentType=S,this.config=R,this.urlTree=j,this.paramsInheritanceStrategy=te,this.urlSerializer=ke,this.allowRedirects=!0,this.applyRedirects=new co(this.urlSerializer,this.urlTree)}noMatchError(b){return new m.vHH(4002,!1)}recognize(){const b=qr(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,Tt).pipe(xe(y=>{if(y instanceof hs)return this.allowRedirects=!1,this.urlTree=y.urlTree,this.match(y.urlTree);throw y instanceof Ji?this.noMatchError(y):y}),(0,it.U)(y=>{const S=new Fn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Tt,this.rootComponentType,null,{}),R=new Hr(S,y),j=new ei("",R),te=function Be(_,b,y=null,S=null){return ye(re(_),b,y,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return te.queryParams=this.urlTree.queryParams,j.url=this.urlSerializer.serialize(te),this.inheritParamsAndData(j._root),{state:j,tree:te}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b.root,Tt).pipe(xe(S=>{throw S instanceof Ji?this.noMatchError(S):S}))}inheritParamsAndData(b){const y=b.value,S=Js(y,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),b.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(b,y,S,R){return 0===S.segments.length&&S.hasChildren()?this.processChildren(b,y,S):this.processSegment(b,y,S,S.segments,R,!0)}processChildren(b,y,S){const R=[];for(const j of Object.keys(S.children))"primary"===j?R.unshift(j):R.push(j);return(0,le.D)(R).pipe(un(j=>{const te=S.children[j],ke=function Yi(_,b){const y=_.filter(S=>Zi(S)===b);return y.push(..._.filter(S=>Zi(S)!==b)),y}(y,j);return this.processSegmentGroup(b,ke,te,j)}),function be(_,b){return(0,ft.e)(function ze(_,b,y,S,R){return(j,te)=>{let ke=y,Ce=b,xt=0;j.subscribe((0,Jt.x)(te,wn=>{const Br=xt++;Ce=ke?_(Ce,wn,Br):(ke=!0,wn),S&&te.next(Ce)},R&&(()=>{ke&&te.next(Ce),te.complete()})))}}(_,b,arguments.length>=2,!0))}((j,te)=>(j.push(...te),j)),Rn(null),function at(_,b){const y=arguments.length>=2;return S=>S.pipe(_?(0,Ot.h)((R,j)=>_(R,j,S)):gr.y,je(1),y?Rn(b):wr(()=>new Q))}(),(0,en.z)(j=>{if(null===j)return Vi(S);const te=Ci(j);return function xs(_){_.sort((b,y)=>b.value.outlet===Tt?-1:y.value.outlet===Tt?1:b.value.outlet.localeCompare(y.value.outlet))}(te),(0,de.of)(te)}))}processSegment(b,y,S,R,j,te){return(0,le.D)(y).pipe(un(ke=>this.processSegmentAgainstRoute(ke._injector??b,y,ke,S,R,j,te).pipe(xe(Ce=>{if(Ce instanceof Ji)return(0,de.of)(null);throw Ce}))),bt(ke=>!!ke),xe(ke=>{if(Ft(ke))return function eo(_,b,y){return 0===b.length&&!_.children[y]}(S,R,j)?(0,de.of)([]):Vi(S);throw ke}))}processSegmentAgainstRoute(b,y,S,R,j,te,ke){return function To(_,b,y,S){return!!(Zi(_)===S||S!==Tt&&Xo(b,y,_))&&("**"===_.path||zs(b,_,y).matched)}(S,R,j,te)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(b,R,S,j,te,ke):ke&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,R,y,S,j,te):Vi(R):Vi(R)}expandSegmentAgainstRouteUsingRedirect(b,y,S,R,j,te){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,S,R,te):this.expandRegularSegmentAgainstRouteUsingRedirect(b,y,S,R,j,te)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,y,S,R){const j=this.applyRedirects.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Ms(j):this.applyRedirects.lineralizeSegments(S,j).pipe((0,en.z)(te=>{const ke=new dn(te,{});return this.processSegment(b,y,ke,te,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,y,S,R,j,te){const{matched:ke,consumedSegments:Ce,remainingSegments:xt,positionalParamSegments:wn}=zs(y,R,j);if(!ke)return Vi(y);const Br=this.applyRedirects.applyRedirectCommands(Ce,R.redirectTo,wn);return R.redirectTo.startsWith("/")?Ms(Br):this.applyRedirects.lineralizeSegments(R,Br).pipe((0,en.z)(er=>this.processSegment(b,S,y,er.concat(xt),te,!1)))}matchSegmentAgainstRoute(b,y,S,R,j,te){let ke;if("**"===S.path){const Ce=R.length>0?kr(R).parameters:{},xt=new Fn(R,Ce,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lo(S),Zi(S),S.component??S._loadedComponent??null,S,Gs(S));ke=(0,de.of)({snapshot:xt,consumedSegments:[],remainingSegments:[]}),y.children={}}else ke=bi(y,S,R,b).pipe((0,it.U)(({matched:Ce,consumedSegments:xt,remainingSegments:wn,parameters:Br})=>Ce?{snapshot:new Fn(xt,Br,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lo(S),Zi(S),S.component??S._loadedComponent??null,S,Gs(S)),consumedSegments:xt,remainingSegments:wn}:null));return ke.pipe((0,Ue.w)(Ce=>null===Ce?Vi(y):this.getChildConfig(b=S._injector??b,S,R).pipe((0,Ue.w)(({routes:xt})=>{const wn=S._loadedInjector??b,{snapshot:Br,consumedSegments:er,remainingSegments:Ns}=Ce,{segmentGroup:Ao,slicedSegments:$a}=qr(y,er,Ns,xt);if(0===$a.length&&Ao.hasChildren())return this.processChildren(wn,xt,Ao).pipe((0,it.U)(Ha=>null===Ha?null:[new Hr(Br,Ha)]));if(0===xt.length&&0===$a.length)return(0,de.of)([new Hr(Br,[])]);const Ho=Zi(S)===j;return this.processSegment(wn,xt,Ao,$a,Ho?Tt:j,!0).pipe((0,it.U)(Ha=>[new Hr(Br,Ha)]))}))))}getChildConfig(b,y,S){return y.children?(0,de.of)({routes:y.children,injector:b}):y.loadChildren?void 0!==y._loadedRoutes?(0,de.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function di(_,b,y,S){const R=b.canLoad;if(void 0===R||0===R.length)return(0,de.of)(!0);const j=R.map(te=>{const ke=Qi(te,_);return Vr(function F(_){return _&&ni(_.canLoad)}(ke)?ke.canLoad(b,y):_.runInContext(()=>ke(b,y)))});return(0,de.of)(j).pipe(fn(),br())}(b,y,S).pipe((0,en.z)(R=>R?this.configLoader.loadChildren(b,y).pipe((0,Ae.b)(j=>{y._loadedRoutes=j.routes,y._loadedInjector=j.injector})):function Qo(_){return dt(mi(!1,3))}())):(0,de.of)({routes:[],injector:b})}}function Is(_){const b=_.value.routeConfig;return b&&""===b.path}function Ci(_){const b=[],y=new Set;for(const S of _){if(!Is(S)){b.push(S);continue}const R=b.find(j=>S.value.routeConfig===j.value.routeConfig);void 0!==R?(R.children.push(...S.children),y.add(R)):b.push(S)}for(const S of y){const R=Ci(S.children);b.push(new Hr(S.value,R))}return b.filter(S=>!y.has(S))}function lo(_){return _.data||{}}function Gs(_){return _.resolve||{}}function M(_){return"string"==typeof _.title||null===_.title}function O(_){return(0,Ue.w)(b=>{const y=_(b);return y?(0,le.D)(y).pipe((0,it.U)(()=>b)):(0,de.of)(b)})}const X=new m.OlP("ROUTES");let Re=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.f3M)(m.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,de.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const S=Vr(y.loadComponent()).pipe((0,it.U)(Cr),(0,Ae.b)(j=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=j}),_n(()=>{this.componentLoaders.delete(y)})),R=new Oe(S,()=>new Ze.x).pipe(qt());return this.componentLoaders.set(y,R),R}loadChildren(y,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,de.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const j=function We(_,b,y,S){return Vr(_.loadChildren()).pipe((0,it.U)(Cr),(0,en.z)(R=>R instanceof m.YKP||Array.isArray(R)?(0,de.of)(R):(0,le.D)(b.compileModuleAsync(R))),(0,it.U)(R=>{S&&S(_);let j,te,ke=!1;return Array.isArray(R)?(te=R,!0):(j=R.create(y).injector,te=j.get(X,[],{optional:!0,self:!0}).flat()),{routes:te.map(vs),injector:j}}))}(S,this.compiler,y,this.onLoadEndListener).pipe(_n(()=>{this.childrenLoaders.delete(S)})),te=new Oe(j,()=>new Ze.x).pipe(qt());return this.childrenLoaders.set(S,te),te}static#e=this.\u0275fac=function(S){return new(S||_)};static#t=this.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function Cr(_){return function Pt(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let sr=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ze.x,this.transitionAbortSubject=new Ze.x,this.configLoader=(0,m.f3M)(Re),this.environmentInjector=(0,m.f3M)(m.lqb),this.urlSerializer=(0,m.f3M)(Wn),this.rootContexts=(0,m.f3M)(Xs),this.inputBindingEnabled=null!==(0,m.f3M)(wo,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,de.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new pi(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new Ys(R))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:S})}setupNavigations(y,S,R){return this.transitions=new Ie.X({id:0,currentUrlTree:S,currentRawUrl:S,currentBrowserUrl:S,extractedUrl:y.urlHandlingStrategy.extract(S),urlAfterRedirects:y.urlHandlingStrategy.extract(S),rawUrl:S,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ki,restoredState:null,currentSnapshot:R.snapshot,targetSnapshot:null,currentRouterState:R,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ot.h)(j=>0!==j.id),(0,it.U)(j=>({...j,extractedUrl:y.urlHandlingStrategy.extract(j.rawUrl)})),(0,Ue.w)(j=>{this.currentTransition=j;let te=!1,ke=!1;return(0,de.of)(j).pipe((0,Ae.b)(Ce=>{this.currentNavigation={id:Ce.id,initialUrl:Ce.rawUrl,extractedUrl:Ce.extractedUrl,trigger:Ce.source,extras:Ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ue.w)(Ce=>{const xt=Ce.currentBrowserUrl.toString(),wn=!y.navigated||Ce.extractedUrl.toString()!==xt||xt!==Ce.currentUrlTree.toString();if(!wn&&"reload"!==(Ce.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const er="";return this.events.next(new De(Ce.id,this.urlSerializer.serialize(Ce.rawUrl),er,0)),Ce.resolve(null),ht.E}if(y.urlHandlingStrategy.shouldProcessUrl(Ce.rawUrl))return(0,de.of)(Ce).pipe((0,Ue.w)(er=>{const Ns=this.transitions?.getValue();return this.events.next(new ds(er.id,this.urlSerializer.serialize(er.extractedUrl),er.source,er.restoredState)),Ns!==this.transitions?.getValue()?ht.E:Promise.resolve(er)}),function Ws(_,b,y,S,R,j){return(0,en.z)(te=>function Jo(_,b,y,S,R,j,te="emptyOnly"){return new Fa(_,b,y,S,R,te,j).recognize()}(_,b,y,S,te.extractedUrl,R,j).pipe((0,it.U)(({state:ke,tree:Ce})=>({...te,targetSnapshot:ke,urlAfterRedirects:Ce}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,Ae.b)(er=>{j.targetSnapshot=er.targetSnapshot,j.urlAfterRedirects=er.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:er.urlAfterRedirects};const Ns=new ct(er.id,this.urlSerializer.serialize(er.extractedUrl),this.urlSerializer.serialize(er.urlAfterRedirects),er.targetSnapshot);this.events.next(Ns)}));if(wn&&y.urlHandlingStrategy.shouldProcessUrl(Ce.currentRawUrl)){const{id:er,extractedUrl:Ns,source:Ao,restoredState:$a,extras:Ho}=Ce,Ha=new ds(er,this.urlSerializer.serialize(Ns),Ao,$a);this.events.next(Ha);const Mo=Vs(0,this.rootComponentType).snapshot;return this.currentTransition=j={...Ce,targetSnapshot:Mo,urlAfterRedirects:Ns,extras:{...Ho,skipLocationChange:!1,replaceUrl:!1}},(0,de.of)(j)}{const er="";return this.events.next(new De(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),er,1)),Ce.resolve(null),ht.E}}),(0,Ae.b)(Ce=>{const xt=new Wt(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot);this.events.next(xt)}),(0,it.U)(Ce=>(this.currentTransition=j={...Ce,guards:Fo(Ce.targetSnapshot,Ce.currentSnapshot,this.rootContexts)},j)),function xn(_,b){return(0,en.z)(y=>{const{targetSnapshot:S,currentSnapshot:R,guards:{canActivateChecks:j,canDeactivateChecks:te}}=y;return 0===te.length&&0===j.length?(0,de.of)({...y,guardsResult:!0}):function Ur(_,b,y,S){return(0,le.D)(_).pipe((0,en.z)(R=>function Xi(_,b,y,S,R){const j=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,de.of)(!0);const te=j.map(ke=>{const Ce=vi(b)??R,xt=Qi(ke,Ce);return Vr(function oe(_){return _&&ni(_.canDeactivate)}(xt)?xt.canDeactivate(_,b,y,S):Ce.runInContext(()=>xt(_,b,y,S))).pipe(bt())});return(0,de.of)(te).pipe(fn())}(R.component,R.route,y,b,S)),bt(R=>!0!==R,!0))}(te,S,R,_).pipe((0,en.z)(ke=>ke&&function Ti(_){return"boolean"==typeof _}(ke)?function ri(_,b,y,S){return(0,le.D)(b).pipe(un(R=>(0,ie.z)(function Gr(_,b){return null!==_&&b&&b(new xi(_)),(0,de.of)(!0)}(R.route.parent,S),function zr(_,b){return null!==_&&b&&b(new Po(_)),(0,de.of)(!0)}(R.route,S),function Wr(_,b,y){const S=b[b.length-1],j=b.slice(0,b.length-1).reverse().map(te=>function Bi(_){const b=_.routeConfig?_.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:_,guards:b}:null}(te)).filter(te=>null!==te).map(te=>qe(()=>{const ke=te.guards.map(Ce=>{const xt=vi(te.node)??y,wn=Qi(Ce,xt);return Vr(function J(_){return _&&ni(_.canActivateChild)}(wn)?wn.canActivateChild(S,_):xt.runInContext(()=>wn(S,_))).pipe(bt())});return(0,de.of)(ke).pipe(fn())}));return(0,de.of)(j).pipe(fn())}(_,R.path,y),function Ri(_,b,y){const S=b.routeConfig?b.routeConfig.canActivate:null;if(!S||0===S.length)return(0,de.of)(!0);const R=S.map(j=>qe(()=>{const te=vi(b)??y,ke=Qi(j,te);return Vr(function L(_){return _&&ni(_.canActivate)}(ke)?ke.canActivate(b,_):te.runInContext(()=>ke(b,_))).pipe(bt())}));return(0,de.of)(R).pipe(fn())}(_,R.route,y))),bt(R=>!0!==R,!0))}(S,j,_,b):(0,de.of)(ke)),(0,it.U)(ke=>({...y,guardsResult:ke})))})}(this.environmentInjector,Ce=>this.events.next(Ce)),(0,Ae.b)(Ce=>{if(j.guardsResult=Ce.guardsResult,Fr(Ce.guardsResult))throw ms(0,Ce.guardsResult);const xt=new kn(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot,!!Ce.guardsResult);this.events.next(xt)}),(0,Ot.h)(Ce=>!!Ce.guardsResult||(this.cancelNavigationTransition(Ce,"",3),!1)),O(Ce=>{if(Ce.guards.canActivateChecks.length)return(0,de.of)(Ce).pipe((0,Ae.b)(xt=>{const wn=new $n(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(wn)}),(0,Ue.w)(xt=>{let wn=!1;return(0,de.of)(xt).pipe(function Ua(_,b){return(0,en.z)(y=>{const{targetSnapshot:S,guards:{canActivateChecks:R}}=y;if(!R.length)return(0,de.of)(y);let j=0;return(0,le.D)(R).pipe(un(te=>function bo(_,b,y,S){const R=_.routeConfig,j=_._resolve;return void 0!==R?.title&&!M(R)&&(j[bn]=R.title),function eu(_,b,y,S){const R=function w(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===R.length)return(0,de.of)({});const j={};return(0,le.D)(R).pipe((0,en.z)(te=>function V(_,b,y,S){const R=vi(b)??S,j=Qi(_,R);return Vr(j.resolve?j.resolve(b,y):R.runInContext(()=>j(b,y)))}(_[te],b,y,S).pipe(bt(),(0,Ae.b)(ke=>{j[te]=ke}))),je(1),function Lt(_){return(0,it.U)(()=>_)}(j),xe(te=>Ft(te)?ht.E:dt(te)))}(j,_,b,S).pipe((0,it.U)(te=>(_._resolvedData=te,_.data=Js(_,y).resolve,R&&M(R)&&(_.data[bn]=R.title),null)))}(te.route,S,_,b)),(0,Ae.b)(()=>j++),je(1),(0,en.z)(te=>j===R.length?(0,de.of)(y):ht.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,Ae.b)({next:()=>wn=!0,complete:()=>{wn||this.cancelNavigationTransition(xt,"",2)}}))}),(0,Ae.b)(xt=>{const wn=new Ln(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(wn)}))}),O(Ce=>{const xt=wn=>{const Br=[];wn.routeConfig?.loadComponent&&!wn.routeConfig._loadedComponent&&Br.push(this.configLoader.loadComponent(wn.routeConfig).pipe((0,Ae.b)(er=>{wn.component=er}),(0,it.U)(()=>{})));for(const er of wn.children)Br.push(...xt(er));return Br};return(0,fe.a)(xt(Ce.targetSnapshot.root)).pipe(Rn(),(0,ne.q)(1))}),O(()=>this.afterPreactivation()),(0,it.U)(Ce=>{const xt=function pr(_,b,y){const S=Et(_,b._root,y?y._root:void 0);return new Eo(S,b)}(y.routeReuseStrategy,Ce.targetSnapshot,Ce.currentRouterState);return this.currentTransition=j={...Ce,targetRouterState:xt},j}),(0,Ae.b)(()=>{this.events.next(new Li)}),((_,b,y,S)=>(0,it.U)(R=>(new Hn(b,R.targetRouterState,R.currentRouterState,y,S).activate(_),R)))(this.rootContexts,y.routeReuseStrategy,Ce=>this.events.next(Ce),this.inputBindingEnabled),(0,ne.q)(1),(0,Ae.b)({next:Ce=>{te=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new me(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects))),y.titleStrategy?.updateTitle(Ce.targetRouterState.snapshot),Ce.resolve(!0)},complete:()=>{te=!0}}),(0,Tn.R)(this.transitionAbortSubject.pipe((0,Ae.b)(Ce=>{throw Ce}))),_n(()=>{te||ke||this.cancelNavigationTransition(j,"",1),this.currentNavigation?.id===j.id&&(this.currentNavigation=null)}),xe(Ce=>{if(ke=!0,Rr(Ce))this.events.next(new pe(j.id,this.urlSerializer.serialize(j.extractedUrl),Ce.message,Ce.cancellationCode)),function js(_){return Rr(_)&&Fr(_.url)}(Ce)?this.events.next(new Qs(Ce.url)):j.resolve(!1);else{this.events.next(new Xe(j.id,this.urlSerializer.serialize(j.extractedUrl),Ce,j.targetSnapshot??void 0));try{j.resolve(y.errorHandler(Ce))}catch(xt){j.reject(xt)}}return ht.E}))}))}cancelNavigationTransition(y,S,R){const j=new pe(y.id,this.urlSerializer.serialize(y.extractedUrl),S,R);this.events.next(j),y.resolve(!1)}static#e=this.\u0275fac=function(S){return new(S||_)};static#t=this.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function lr(_){return _!==ki}let Zt=(()=>{class _{buildTitle(y){let S,R=y.root;for(;void 0!==R;)S=this.getResolvedTitleForRoute(R)??S,R=R.children.find(j=>j.outlet===Tt);return S}getResolvedTitleForRoute(y){return y.data[bn]}static#e=this.\u0275fac=function(S){return new(S||_)};static#t=this.\u0275prov=m.Yz7({token:_,factory:function(){return(0,m.f3M)(Ir)},providedIn:"root"})}return _})(),Ir=(()=>{class _ extends Zt{constructor(y){super(),this.title=y}updateTitle(y){const S=this.buildTitle(y);void 0!==S&&this.title.setTitle(S)}static#e=this.\u0275fac=function(S){return new(S||_)(m.LFG(Dn.Dx))};static#t=this.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),Nn=(()=>{class _{static#e=this.\u0275fac=function(S){return new(S||_)};static#t=this.\u0275prov=m.Yz7({token:_,factory:function(){return(0,m.f3M)(Co)},providedIn:"root"})}return _})();class ii{shouldDetach(b){return!1}store(b,y){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,y){return b.routeConfig===y.routeConfig}}let Co=(()=>{class _ extends ii{static#e=this.\u0275fac=function(){let y;return function(R){return(y||(y=m.n5z(_)))(R||_)}}();static#t=this.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const st=new m.OlP("",{providedIn:"root",factory:()=>({})});let Sr=(()=>{class _{static#e=this.\u0275fac=function(S){return new(S||_)};static#t=this.\u0275prov=m.Yz7({token:_,factory:function(){return(0,m.f3M)(hi)},providedIn:"root"})}return _})(),hi=(()=>{class _{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,S){return y}static#e=this.\u0275fac=function(S){return new(S||_)};static#t=this.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();var rs=function(_){return _[_.COMPLETE=0]="COMPLETE",_[_.FAILED=1]="FAILED",_[_.REDIRECTING=2]="REDIRECTING",_}(rs||{});function Nt(_,b){_.events.pipe((0,Ot.h)(y=>y instanceof me||y instanceof pe||y instanceof Xe||y instanceof De),(0,it.U)(y=>y instanceof me||y instanceof De?rs.COMPLETE:y instanceof pe&&(0===y.code||1===y.code)?rs.REDIRECTING:rs.FAILED),(0,Ot.h)(y=>y!==rs.REDIRECTING),(0,ne.q)(1)).subscribe(()=>{b()})}function Bt(_){throw _}function wa(_,b,y){return b.parse("/")}const Mt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tt=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,m.f3M)(m.c2e),this.isNgZoneEnabled=!1,this._events=new Ze.x,this.options=(0,m.f3M)(st,{optional:!0})||{},this.pendingTasks=(0,m.f3M)(m.HDt),this.errorHandler=this.options.errorHandler||Bt,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wa,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.f3M)(Sr),this.routeReuseStrategy=(0,m.f3M)(Nn),this.titleStrategy=(0,m.f3M)(Zt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,m.f3M)(X,{optional:!0})?.flat()??[],this.navigationTransitions=(0,m.f3M)(sr),this.urlSerializer=(0,m.f3M)(Wn),this.location=(0,m.f3M)(ve.Ye),this.componentInputBindingEnabled=!!(0,m.f3M)(wo,{optional:!0}),this.eventsSubscription=new pt.w0,this.isNgZoneEnabled=(0,m.f3M)(m.R0b)instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new On,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vs(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(S=>{try{const{currentTransition:R}=this.navigationTransitions;if(null===R)return void(tu(S)&&this._events.next(S));if(S instanceof ds)lr(R.source)&&(this.browserUrlTree=R.extractedUrl);else if(S instanceof De)this.rawUrlTree=R.rawUrl;else if(S instanceof ct){if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(j,R)}this.browserUrlTree=R.urlAfterRedirects}}else if(S instanceof Li)this.currentUrlTree=R.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,R),this.browserUrlTree=R.urlAfterRedirects);else if(S instanceof pe)0!==S.code&&1!==S.code&&(this.navigated=!0),(3===S.code||2===S.code)&&this.restoreHistory(R);else if(S instanceof Qs){const j=this.urlHandlingStrategy.merge(S.url,R.currentRawUrl),te={skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lr(R.source)};this.scheduleNavigation(j,ki,null,te,{resolve:R.resolve,reject:R.reject,promise:R.promise})}S instanceof Xe&&this.restoreHistory(R,!0),S instanceof me&&(this.navigated=!0),tu(S)&&this._events.next(S)}catch(R){this.navigationTransitions.transitionAbortSubject.next(R)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ki,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const S="popstate"===y.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,S,y.state)},0)}))}navigateToSyncWithBrowser(y,S,R){const j={replaceUrl:!0},te=R?.navigationId?R:null;if(R){const Ce={...R};delete Ce.navigationId,delete Ce.\u0275routerPageId,0!==Object.keys(Ce).length&&(j.state=Ce)}const ke=this.parseUrl(y);this.scheduleNavigation(ke,S,te,j)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(vs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,S={}){const{relativeTo:R,queryParams:j,fragment:te,queryParamsHandling:ke,preserveFragment:Ce}=S,xt=Ce?this.currentUrlTree.fragment:te;let Br,wn=null;switch(ke){case"merge":wn={...this.currentUrlTree.queryParams,...j};break;case"preserve":wn=this.currentUrlTree.queryParams;break;default:wn=j||null}null!==wn&&(wn=this.removeEmptyProps(wn));try{Br=re(R?R.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||!y[0].startsWith("/"))&&(y=[]),Br=this.currentUrlTree.root}return ye(Br,y,wn,xt??null)}navigateByUrl(y,S={skipLocationChange:!1}){const R=Fr(y)?y:this.parseUrl(y),j=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(j,ki,null,S)}navigate(y,S={skipLocationChange:!1}){return function Si(_){for(let b=0;b<_.length;b++)if(null==_[b])throw new m.vHH(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,S),S)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let S;try{S=this.urlSerializer.parse(y)}catch(R){S=this.malformedUriErrorHandler(R,this.urlSerializer,y)}return S}isActive(y,S){let R;if(R=!0===S?{...Mt}:!1===S?{...Fe}:S,Fr(y))return fr(this.currentUrlTree,y,R);const j=this.parseUrl(y);return fr(this.currentUrlTree,j,R)}removeEmptyProps(y){return Object.keys(y).reduce((S,R)=>{const j=y[R];return null!=j&&(S[R]=j),S},{})}scheduleNavigation(y,S,R,j,te){if(this.disposed)return Promise.resolve(!1);let ke,Ce,xt;te?(ke=te.resolve,Ce=te.reject,xt=te.promise):xt=new Promise((Br,er)=>{ke=Br,Ce=er});const wn=this.pendingTasks.add();return Nt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(wn))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:y,extras:j,resolve:ke,reject:Ce,promise:xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xt.catch(Br=>Promise.reject(Br))}setBrowserUrl(y,S){const R=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(R)||S.extras.replaceUrl){const te={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(R,"",te)}else{const j={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId+1)};this.location.go(R,"",j)}}restoreHistory(y,S=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-this.browserPageId;0!==j?this.location.historyGo(j):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===j&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,S){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:S}:{navigationId:y}}static#e=this.\u0275fac=function(S){return new(S||_)};static#t=this.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function tu(_){return!(_ instanceof Li||_ instanceof Qs)}let Ba=(()=>{class _{constructor(y,S,R,j,te,ke){this.router=y,this.route=S,this.tabIndexAttribute=R,this.renderer=j,this.el=te,this.locationStrategy=ke,this.href=null,this.commands=null,this.onChanges=new Ze.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ce=te.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ce||"area"===Ce,this.isAnchorElement?this.subscription=y.events.subscribe(xt=>{xt instanceof me&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,S,R,j,te){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||S||R||j||te||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,m.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,S){const R=this.renderer,j=this.el.nativeElement;null!==S?R.setAttribute(j,y,S):R.removeAttribute(j,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(S){return new(S||_)(m.Y36(tt),m.Y36(gi),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(ve.S$))};static#t=this.\u0275dir=m.lG2({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,R){1&S&&m.NdJ("click",function(te){return R.onClick(te.button,te.ctrlKey,te.shiftKey,te.altKey,te.metaKey)}),2&S&&m.uIk("target",R.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",m.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",m.VuI],replaceUrl:["replaceUrl","replaceUrl",m.VuI],routerLink:"routerLink"},standalone:!0,features:[m.Xq5,m.TTD]})}return _})();class to{}let Iu=(()=>{class _{preload(y,S){return S().pipe(xe(()=>(0,de.of)(null)))}static#e=this.\u0275fac=function(S){return new(S||_)};static#t=this.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),Kr=(()=>{class _{constructor(y,S,R,j,te){this.router=y,this.injector=R,this.preloadingStrategy=j,this.loader=te}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ot.h)(y=>y instanceof me),un(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,S){const R=[];for(const j of S){j.providers&&!j._injector&&(j._injector=(0,m.MMx)(j.providers,y,`Route: ${j.path}`));const te=j._injector??y,ke=j._loadedInjector??te;(j.loadChildren&&!j._loadedRoutes&&void 0===j.canLoad||j.loadComponent&&!j._loadedComponent)&&R.push(this.preloadConfig(te,j)),(j.children||j._loadedRoutes)&&R.push(this.processRoutes(ke,j.children??j._loadedRoutes))}return(0,le.D)(R).pipe((0,zt.J)())}preloadConfig(y,S){return this.preloadingStrategy.preload(S,()=>{let R;R=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(y,S):(0,de.of)(null);const j=R.pipe((0,en.z)(te=>null===te?(0,de.of)(void 0):(S._loadedRoutes=te.routes,S._loadedInjector=te.injector,this.processRoutes(te.injector??y,te.routes))));if(S.loadComponent&&!S._loadedComponent){const te=this.loader.loadComponent(S);return(0,le.D)([j,te]).pipe((0,zt.J)())}return j})}static#e=this.\u0275fac=function(S){return new(S||_)(m.LFG(tt),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(to),m.LFG(Re))};static#t=this.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Uo=new m.OlP("");let ru=(()=>{class _{constructor(y,S,R,j,te={}){this.urlSerializer=y,this.transitions=S,this.viewportScroller=R,this.zone=j,this.options=te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},te.scrollPositionRestoration=te.scrollPositionRestoration||"disabled",te.anchorScrolling=te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof ds?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof me?(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment)):y instanceof De&&0===y.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof oo&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new oo(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(S){m.$Z()};static#t=this.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac})}return _})();function is(_,b){return{\u0275kind:_,\u0275providers:b}}function cn(){const _=(0,m.f3M)(m.zs3);return b=>{const y=_.get(m.z2F);if(b!==y.components[0])return;const S=_.get(tt),R=_.get(Bo);1===_.get(Bn)&&S.initialNavigation(),_.get(Vo,null,m.XFs.Optional)?.setUpPreloading(),_.get(Uo,null,m.XFs.Optional)?.init(),S.resetRootComponentType(y.componentTypes[0]),R.closed||(R.next(),R.complete(),R.unsubscribe())}}const Bo=new m.OlP("",{factory:()=>new Ze.x}),Bn=new m.OlP("",{providedIn:"root",factory:()=>1}),Vo=new m.OlP("");function Eu(_){return is(0,[{provide:Vo,useExisting:Kr},{provide:to,useExisting:_}])}const Rs=new m.OlP("ROUTER_FORROOT_GUARD"),iu=[ve.Ye,{provide:Wn,useClass:Pn},tt,Xs,{provide:gi,useFactory:function mn(_){return _.routerState.root},deps:[tt]},Re,[]];function Ca(){return new m.PXZ("Router",tt)}let xc=(()=>{class _{constructor(y){}static forRoot(y,S){return{ngModule:_,providers:[iu,[],{provide:X,multi:!0,useValue:y},{provide:Rs,useFactory:ou,deps:[[tt,new m.FiY,new m.tp0]]},{provide:st,useValue:S||{}},S?.useHash?{provide:ve.S$,useClass:ve.Do}:{provide:ve.S$,useClass:ve.b0},{provide:Uo,useFactory:()=>{const _=(0,m.f3M)(ve.EM),b=(0,m.f3M)(m.R0b),y=(0,m.f3M)(st),S=(0,m.f3M)(sr),R=(0,m.f3M)(Wn);return y.scrollOffset&&_.setOffset(y.scrollOffset),new ru(R,S,_,b,y)}},S?.preloadingStrategy?Eu(S.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:Ca},S?.initialNavigation?et(S):[],S?.bindToComponentInputs?is(8,[Ss,{provide:wo,useExisting:Ss}]).\u0275providers:[],[{provide:Jn,useFactory:cn},{provide:m.tb,multi:!0,useExisting:Jn}]]}}static forChild(y){return{ngModule:_,providers:[{provide:X,multi:!0,useValue:y}]}}static#e=this.\u0275fac=function(S){return new(S||_)(m.LFG(Rs,8))};static#t=this.\u0275mod=m.oAB({type:_});static#n=this.\u0275inj=m.cJS({})}return _})();function ou(_){return"guarded"}function et(_){return["disabled"===_.initialNavigation?is(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const b=(0,m.f3M)(tt);return()=>{b.setUpLocationChangeListener()}}},{provide:Bn,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?is(2,[{provide:Bn,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:b=>{const y=b.get(ve.V_,Promise.resolve());return()=>y.then(()=>new Promise(S=>{const R=b.get(tt),j=b.get(Bo);Nt(R,()=>{S(!0)}),b.get(sr).afterPreactivation=()=>(S(!0),j.closed?(0,de.of)(void 0):j),R.initialNavigation()}))}}]).\u0275providers:[]]}const Jn=new m.OlP("")},534:(jt,He,B)=>{B.d(He,{Jn:()=>Wn,qX:()=>On,Xd:()=>Xn,Mq:()=>En,C6:()=>gn,ZF:()=>Pn,KN:()=>Qr});var m=B(5861),Z=B(4537),he=B(7879),ae=B(9058);const le=(Be,re)=>re.some(ye=>Be instanceof ye);let de,Ie;const Q=new WeakMap,ie=new WeakMap,Me=new WeakMap,qe=new WeakMap,Ye=new WeakMap;let pt={get(Be,re,ye){if(Be instanceof IDBTransaction){if("done"===re)return ie.get(Be);if("objectStoreNames"===re)return Be.objectStoreNames||Me.get(Be);if("store"===re)return ye.objectStoreNames[1]?void 0:ye.objectStore(ye.objectStoreNames[0])}return Oe(Be[re])},set:(Be,re,ye)=>(Be[re]=ye,!0),has:(Be,re)=>Be instanceof IDBTransaction&&("done"===re||"store"===re)||re in Be};function qt(Be){return"function"==typeof Be?function Jt(Be){return Be!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Le(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Be)?function(...re){return Be.apply(Ze(this),re),Oe(Q.get(this))}:function(...re){return Oe(Be.apply(Ze(this),re))}:function(re,...ye){const $e=Be.call(Ze(this),re,...ye);return Me.set($e,re.sort?re.sort():[re]),Oe($e)}}(Be):(Be instanceof IDBTransaction&&function ht(Be){if(ie.has(Be))return;const re=new Promise((ye,$e)=>{const ut=()=>{Be.removeEventListener("complete",mt),Be.removeEventListener("error",$t),Be.removeEventListener("abort",$t)},mt=()=>{ye(),ut()},$t=()=>{$e(Be.error||new DOMException("AbortError","AbortError")),ut()};Be.addEventListener("complete",mt),Be.addEventListener("error",$t),Be.addEventListener("abort",$t)});ie.set(Be,re)}(Be),le(Be,function fe(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Be,pt):Be)}function Oe(Be){if(Be instanceof IDBRequest)return function dt(Be){const re=new Promise((ye,$e)=>{const ut=()=>{Be.removeEventListener("success",mt),Be.removeEventListener("error",$t)},mt=()=>{ye(Oe(Be.result)),ut()},$t=()=>{$e(Be.error),ut()};Be.addEventListener("success",mt),Be.addEventListener("error",$t)});return re.then(ye=>{ye instanceof IDBCursor&&Q.set(ye,Be)}).catch(()=>{}),Ye.set(re,Be),re}(Be);if(qe.has(Be))return qe.get(Be);const re=qt(Be);return re!==Be&&(qe.set(Be,re),Ye.set(re,Be)),re}const Ze=Be=>Ye.get(Be),Ue=["get","getKey","getAll","getAllKeys","count"],ne=["put","add","delete","clear"],nt=new Map;function Ot(Be,re){if(!(Be instanceof IDBDatabase)||re in Be||"string"!=typeof re)return;if(nt.get(re))return nt.get(re);const ye=re.replace(/FromIndex$/,""),$e=re!==ye,ut=ne.includes(ye);if(!(ye in($e?IDBIndex:IDBObjectStore).prototype)||!ut&&!Ue.includes(ye))return;const mt=function(){var $t=(0,m.Z)(function*(ur,...tr){const Xr=this.transaction(ur,ut?"readwrite":"readonly");let Pi=Xr.store;return $e&&(Pi=Pi.index(tr.shift())),(yield Promise.all([Pi[ye](...tr),ut&&Xr.done]))[0]});return function(tr){return $t.apply(this,arguments)}}();return nt.set(re,mt),mt}!function ft(Be){pt=Be(pt)}(Be=>({...Be,get:(re,ye,$e)=>Ot(re,ye)||Be.get(re,ye,$e),has:(re,ye)=>!!Ot(re,ye)||Be.has(re,ye)}));class en{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(ye=>{if(function Rn(Be){const re=Be.getComponent();return"VERSION"===re?.type}(ye)){const $e=ye.getImmediate();return`${$e.library}/${$e.version}`}return null}).filter(ye=>ye).join(" ")}}const wr="@firebase/app",gr=new he.Yd("@firebase/app"),fr="[DEFAULT]",on={[wr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yt=new Map,Qn=new Map;function Ar(Be,re){try{Be.container.addComponent(re)}catch(ye){gr.debug(`Component ${re.name} failed to register with FirebaseApp ${Be.name}`,ye)}}function Xn(Be){const re=Be.name;if(Qn.has(re))return gr.debug(`There were multiple attempts to register component ${re}.`),!1;Qn.set(re,Be);for(const ye of Yt.values())Ar(ye,Be);return!0}function On(Be,re){const ye=Be.container.getProvider("heartbeat").getImmediate({optional:!0});return ye&&ye.triggerHeartbeat(),Be.container.getProvider(re)}const gt=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yr{constructor(re,ye,$e){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},ye),this._name=ye.name,this._automaticDataCollectionEnabled=ye.automaticDataCollectionEnabled,this._container=$e,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}}const Wn="9.23.0";function Pn(Be,re={}){let ye=Be;"object"!=typeof re&&(re={name:re});const $e=Object.assign({name:fr,automaticDataCollectionEnabled:!1},re),ut=$e.name;if("string"!=typeof ut||!ut)throw gt.create("bad-app-name",{appName:String(ut)});if(ye||(ye=(0,ae.aH)()),!ye)throw gt.create("no-options");const mt=Yt.get(ut);if(mt){if((0,ae.vZ)(ye,mt.options)&&(0,ae.vZ)($e,mt.config))return mt;throw gt.create("duplicate-app",{appName:ut})}const $t=new Z.H0(ut);for(const tr of Qn.values())$t.addComponent(tr);const ur=new Yr(ye,$e,$t);return Yt.set(ut,ur),ur}function En(Be=fr){const re=Yt.get(Be);if(!re&&Be===fr&&(0,ae.aH)())return Pn();if(!re)throw gt.create("no-app",{appName:Be});return re}function gn(){return Array.from(Yt.values())}function Qr(Be,re,ye){var $e;let ut=null!==($e=on[Be])&&void 0!==$e?$e:Be;ye&&(ut+=`-${ye}`);const mt=ut.match(/\s|\//),$t=re.match(/\s|\//);if(mt||$t){const ur=[`Unable to register library "${ut}" with version "${re}":`];return mt&&ur.push(`library name "${ut}" contains illegal characters (whitespace or "/")`),mt&&$t&&ur.push("and"),$t&&ur.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void gr.warn(ur.join(" "))}Xn(new Z.wA(`${ut}-version`,()=>({library:ut,version:re}),"VERSION"))}const qn="firebase-heartbeat-database",jr=1,ce="firebase-heartbeat-store";let H=null;function W(){return H||(H=function ve(Be,re,{blocked:ye,upgrade:$e,blocking:ut,terminated:mt}={}){const $t=indexedDB.open(Be,re),ur=Oe($t);return $e&&$t.addEventListener("upgradeneeded",tr=>{$e(Oe($t.result),tr.oldVersion,tr.newVersion,Oe($t.transaction),tr)}),ye&&$t.addEventListener("blocked",tr=>ye(tr.oldVersion,tr.newVersion,tr)),ur.then(tr=>{mt&&tr.addEventListener("close",()=>mt()),ut&&tr.addEventListener("versionchange",Xr=>ut(Xr.oldVersion,Xr.newVersion,Xr))}).catch(()=>{}),ur}(qn,jr,{upgrade:(Be,re)=>{0===re&&Be.createObjectStore(ce)}}).catch(Be=>{throw gt.create("idb-open",{originalErrorMessage:Be.message})})),H}function G(){return(G=(0,m.Z)(function*(Be){try{return yield(yield W()).transaction(ce).objectStore(ce).get(yt(Be))}catch(re){if(re instanceof ae.ZR)gr.warn(re.message);else{const ye=gt.create("idb-get",{originalErrorMessage:re?.message});gr.warn(ye.message)}}})).apply(this,arguments)}function Ee(Be,re){return rt.apply(this,arguments)}function rt(){return(rt=(0,m.Z)(function*(Be,re){try{const $e=(yield W()).transaction(ce,"readwrite");yield $e.objectStore(ce).put(re,yt(Be)),yield $e.done}catch(ye){if(ye instanceof ae.ZR)gr.warn(ye.message);else{const $e=gt.create("idb-set",{originalErrorMessage:ye?.message});gr.warn($e.message)}}})).apply(this,arguments)}function yt(Be){return`${Be.name}!${Be.options.appId}`}class Vn{constructor(re){this.container=re,this._heartbeatsCache=null;const ye=this.container.getProvider("app").getImmediate();this._storage=new ui(ye),this._heartbeatsCachePromise=this._storage.read().then($e=>(this._heartbeatsCache=$e,$e))}triggerHeartbeat(){var re=this;return(0,m.Z)(function*(){const $e=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ut=nn();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==ut&&!re._heartbeatsCache.heartbeats.some(mt=>mt.date===ut))return re._heartbeatsCache.heartbeats.push({date:ut,agent:$e}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(mt=>{const $t=new Date(mt.date).valueOf();return Date.now()-$t<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,m.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const ye=nn(),{heartbeatsToSend:$e,unsentEntries:ut}=function Mn(Be,re=1024){const ye=[];let $e=Be.slice();for(const ut of Be){const mt=ye.find($t=>$t.agent===ut.agent);if(mt){if(mt.dates.push(ut.date),cs(ye)>re){mt.dates.pop();break}}else if(ye.push({agent:ut.agent,dates:[ut.date]}),cs(ye)>re){ye.pop();break}$e=$e.slice(1)}return{heartbeatsToSend:ye,unsentEntries:$e}}(re._heartbeatsCache.heartbeats),mt=(0,ae.L)(JSON.stringify({version:2,heartbeats:$e}));return re._heartbeatsCache.lastSentHeartbeatDate=ye,ut.length>0?(re._heartbeatsCache.heartbeats=ut,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),mt})()}}function nn(){return(new Date).toISOString().substring(0,10)}class ui{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,m.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function z(Be){return G.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var ye=this;return(0,m.Z)(function*(){var $e;if(yield ye._canUseIndexedDBPromise){const mt=yield ye.read();return Ee(ye.app,{lastSentHeartbeatDate:null!==($e=re.lastSentHeartbeatDate)&&void 0!==$e?$e:mt.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var ye=this;return(0,m.Z)(function*(){var $e;if(yield ye._canUseIndexedDBPromise){const mt=yield ye.read();return Ee(ye.app,{lastSentHeartbeatDate:null!==($e=re.lastSentHeartbeatDate)&&void 0!==$e?$e:mt.lastSentHeartbeatDate,heartbeats:[...mt.heartbeats,...re.heartbeats]})}})()}}function cs(Be){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Be})).length}!function Fr(Be){Xn(new Z.wA("platform-logger",re=>new en(re),"PRIVATE")),Xn(new Z.wA("heartbeat",re=>new Vn(re),"PRIVATE")),Qr(wr,"0.9.13",Be),Qr(wr,"0.9.13","esm2017"),Qr("fire-js","")}("")},4537:(jt,He,B)=>{B.d(He,{H0:()=>fe,wA:()=>he});var m=B(5861),Z=B(9058);class he{constructor(Q,ie,Me){this.name=Q,this.instanceFactory=ie,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const ae="[DEFAULT]";class le{constructor(Q,ie){this.name=Q,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const ie=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(ie)){const Me=new Z.BH;if(this.instancesDeferred.set(ie,Me),this.isInitialized(ie)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:ie});qe&&Me.resolve(qe)}catch{}}return this.instancesDeferred.get(ie).promise}getImmediate(Q){var ie;const Me=this.normalizeInstanceIdentifier(Q?.identifier),qe=null!==(ie=Q?.optional)&&void 0!==ie&&ie;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Ye){if(qe)return null;throw Ye}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function Ie(Le){return"EAGER"===Le.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[ie,Me]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(ie);try{const Ye=this.getOrInitializeService({instanceIdentifier:qe});Me.resolve(Ye)}catch{}}}}clearInstance(Q=ae){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,m.Z)(function*(){const ie=Array.from(Q.instances.values());yield Promise.all([...ie.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...ie.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=ae){return this.instances.has(Q)}getOptions(Q=ae){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:ie={}}=Q,Me=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:Me,options:ie});for(const[Ye,dt]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Ye)&&dt.resolve(qe);return qe}onInit(Q,ie){var Me;const qe=this.normalizeInstanceIdentifier(ie),Ye=null!==(Me=this.onInitCallbacks.get(qe))&&void 0!==Me?Me:new Set;Ye.add(Q),this.onInitCallbacks.set(qe,Ye);const dt=this.instances.get(qe);return dt&&Q(dt,qe),()=>{Ye.delete(Q)}}invokeOnInitCallbacks(Q,ie){const Me=this.onInitCallbacks.get(ie);if(Me)for(const qe of Me)try{qe(Q,ie)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:ie={}}){let Me=this.instances.get(Q);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Le=Q,Le===ae?void 0:Le),options:ie}),this.instances.set(Q,Me),this.instancesOptions.set(Q,ie),this.invokeOnInitCallbacks(Me,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,Me)}catch{}var Le;return Me||null}normalizeInstanceIdentifier(Q=ae){return this.component?this.component.multipleInstances?Q:ae:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const ie=this.getProvider(Q.name);if(ie.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);ie.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const ie=new le(Q,this);return this.providers.set(Q,ie),ie}getProviders(){return Array.from(this.providers.values())}}},7879:(jt,He,B)=>{B.d(He,{Yd:()=>Ie,in:()=>Z});const m=[];var Z=function(Q){return Q[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",Q}(Z||{});const he={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},ae=Z.INFO,le={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},de=(Q,ie,...Me)=>{if(ie<Q.logLevel)return;const qe=(new Date).toISOString(),Ye=le[ie];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[Ye](`[${qe}]  ${Q.name}:`,...Me)};class Ie{constructor(ie){this.name=ie,this._logLevel=ae,this._logHandler=de,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in Z))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?he[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...ie),this._logHandler(this,Z.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...ie),this._logHandler(this,Z.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...ie),this._logHandler(this,Z.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...ie),this._logHandler(this,Z.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...ie),this._logHandler(this,Z.ERROR,...ie)}}},3182:(jt,He,B)=>{B.d(He,{C6:()=>m.C6,KN:()=>m.KN,Mq:()=>m.Mq,ZF:()=>m.ZF});var m=B(534);(0,m.KN)("firebase","9.23.0","app")},2644:(jt,He,B)=>{B.d(He,{hJ:()=>Ki,a$:()=>qu,Xb:()=>hs,v0:()=>rc,Aj:()=>Pt,w$:()=>Ea,LS:()=>ri,e5:()=>Ms,rh:()=>ra,ck:()=>Fa});var m=B(5861),Z=B(9058),he=B(534),ae=B(7582),le=B(7879),de=B(4537);const dt=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ht=new Z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ft=new le.Yd("@firebase/auth");function qt(I,...h){ft.logLevel<=le.in.ERROR&&ft.error(`Auth (${he.Jn}): ${I}`,...h)}function Oe(I,...h){throw Ue(I,...h)}function Ze(I,...h){return Ue(I,...h)}function ve(I,h,p){const D=Object.assign(Object.assign({},dt()),{[h]:p});return new Z.LL("auth","Firebase",D).create(h,{appName:I.name})}function Ue(I,...h){if("string"!=typeof I){const p=h[0],D=[...h.slice(1)];return D[0]&&(D[0].appName=I.name),I._errorFactory.create(p,...D)}return ht.create(I,...h)}function ne(I,h,...p){if(!I)throw Ue(h,...p)}function nt(I){const h="INTERNAL ASSERTION FAILED: "+I;throw qt(h),new Error(h)}function Ot(I,h){I||nt(h)}function en(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function wr(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class bt{constructor(h,p){this.shortDelay=h,this.longDelay=p,Ot(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,Z.uI)()||(0,Z.b$)()}get(){return function It(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Rn(){return"http:"===wr()||"https:"===wr()}()||(0,Z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function un(I,h){Ot(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Ae{static initialize(h,p,D){this.fetchImpl=h,p&&(this.headersImpl=p),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ze=new bt(3e4,6e4);function be(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function je(I,h,p,D){return at.apply(this,arguments)}function at(){return(at=(0,m.Z)(function*(I,h,p,D,U={}){return Lt(I,U,(0,m.Z)(function*(){let q={},_e={};D&&("GET"===h?_e=D:q={body:JSON.stringify(D)});const Ve=(0,Z.xO)(Object.assign({key:I.config.apiKey},_e)).slice(1),wt=yield I._getAdditionalHeaders();return wt["Content-Type"]="application/json",I.languageCode&&(wt["X-Firebase-Locale"]=I.languageCode),Ae.fetch()(Dn(I,I.config.apiHost,p,Ve),Object.assign({method:h,headers:wt,referrerPolicy:"no-referrer"},q))}))})).apply(this,arguments)}function Lt(I,h,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,m.Z)(function*(I,h,p){I._canInitEmulator=!1;const D=Object.assign(Object.assign({},xe),h);try{const U=new Tt(I),q=yield Promise.race([p(),U.promise]);U.clearNetworkTimeout();const _e=yield q.json();if("needConfirmation"in _e)throw bn(I,"account-exists-with-different-credential",_e);if(q.ok&&!("errorMessage"in _e))return _e;{const Ve=q.ok?_e.errorMessage:_e.error.message,[wt,Rt]=Ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wt)throw bn(I,"credential-already-in-use",_e);if("EMAIL_EXISTS"===wt)throw bn(I,"email-already-in-use",_e);if("USER_DISABLED"===wt)throw bn(I,"user-disabled",_e);const rn=D[wt]||wt.toLowerCase().replace(/[_\s]+/g,"-");if(Rt)throw ve(I,rn,Rt);Oe(I,rn)}}catch(U){if(U instanceof Z.ZR)throw U;Oe(I,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function Tn(I,h,p,D){return zt.apply(this,arguments)}function zt(){return(zt=(0,m.Z)(function*(I,h,p,D,U={}){const q=yield je(I,h,p,D,U);return"mfaPendingCredential"in q&&Oe(I,"multi-factor-auth-required",{_serverResponse:q}),q})).apply(this,arguments)}function Dn(I,h,p,D){const U=`${h}${p}?${D}`;return I.config.emulator?un(I.config,U):`${I.config.apiScheme}://${U}`}class Tt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,D)=>{this.timer=setTimeout(()=>D(Ze(this.auth,"network-request-failed")),ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bn(I,h,p){const D={appName:I.name};p.email&&(D.email=p.email),p.phoneNumber&&(D.phoneNumber=p.phoneNumber);const U=Ze(I,h,D);return U.customData._tokenResponse=p,U}function An(){return(An=(0,m.Z)(function*(I,h){return je(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Gt(){return(Gt=(0,m.Z)(function*(I,h){return je(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function kr(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function In(){return(In=(0,m.Z)(function*(I,h=!1){const p=(0,Z.m9)(I),D=yield p.getIdToken(h),U=on(D);ne(U&&U.exp&&U.auth_time&&U.iat,p.auth,"internal-error");const q="object"==typeof U.firebase?U.firebase:void 0,_e=q?.sign_in_provider;return{claims:U,token:D,authTime:kr(fr(U.auth_time)),issuedAtTime:kr(fr(U.iat)),expirationTime:kr(fr(U.exp)),signInProvider:_e||null,signInSecondFactor:q?.sign_in_second_factor||null}})).apply(this,arguments)}function fr(I){return 1e3*Number(I)}function on(I){const[h,p,D]=I.split(".");if(void 0===h||void 0===p||void 0===D)return qt("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,Z.tV)(p);return U?JSON.parse(U):(qt("Failed to decode base64 JWT payload"),null)}catch(U){return qt("Caught error parsing JWT payload as JSON",U?.toString()),null}}function Qn(I,h){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,m.Z)(function*(I,h,p=!1){if(p)return h;try{return yield h}catch(D){throw D instanceof Z.ZR&&function Zr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(D)&&I.auth.currentUser===I&&(yield I.auth.signOut()),D}})).apply(this,arguments)}class Xn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const U=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const D=this.getInterval(h);this.timerId=setTimeout((0,m.Z)(function*(){yield p.iteration()}),D)}iteration(){var h=this;return(0,m.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class On{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=kr(this.lastLoginAt),this.creationTime=kr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dn(I){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,m.Z)(function*(I){var h;const p=I.auth,D=yield I.getIdToken(),U=yield Qn(I,function Cn(I,h){return Gt.apply(this,arguments)}(p,{idToken:D}));ne(U?.users.length,p,"internal-error");const q=U.users[0];I._notifyReloadListener(q);const _e=null!==(h=q.providerUserInfo)&&void 0!==h&&h.length?function Wn(I){return I.map(h=>{var{providerId:p}=h,D=(0,ae._T)(h,["providerId"]);return{providerId:p,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(q.providerUserInfo):[],Ve=function Yr(I,h){return[...I.filter(D=>!h.some(U=>U.providerId===D.providerId)),...h]}(I.providerData,_e),rn=!!I.isAnonymous&&!(I.email&&q.passwordHash||Ve?.length),dr={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:Ve,metadata:new On(q.createdAt,q.lastLoginAt),isAnonymous:rn};Object.assign(I,dr)}),Sn.apply(this,arguments)}function gt(){return(gt=(0,m.Z)(function*(I){const h=(0,Z.m9)(I);yield dn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function En(){return(En=(0,m.Z)(function*(I,h){const p=yield Lt(I,{},(0,m.Z)(function*(){const D=(0,Z.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:U,apiKey:q}=I.config,_e=Dn(I,U,"/v1/token",`key=${q}`),Ve=yield I._getAdditionalHeaders();return Ve["Content-Type"]="application/x-www-form-urlencoded",Ae.fetch()(_e,{method:"POST",headers:Ve,body:D})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class gn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ne(h.idToken,"internal-error"),ne(typeof h.idToken<"u","internal-error"),ne(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Yt(I){const h=on(I);return ne(h,"internal-error"),ne(typeof h.exp<"u","internal-error"),ne(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var D=this;return(0,m.Z)(function*(){return ne(!D.accessToken||D.refreshToken,h,"user-token-expired"),p||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(h,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var D=this;return(0,m.Z)(function*(){const{accessToken:U,refreshToken:q,expiresIn:_e}=yield function Pn(I,h){return En.apply(this,arguments)}(h,p);D.updateTokensAndExpiration(U,q,Number(_e))})()}updateTokensAndExpiration(h,p,D){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(h,p){const{refreshToken:D,accessToken:U,expirationTime:q}=p,_e=new gn;return D&&(ne("string"==typeof D,"internal-error",{appName:h}),_e.refreshToken=D),U&&(ne("string"==typeof U,"internal-error",{appName:h}),_e.accessToken=U),q&&(ne("number"==typeof q,"internal-error",{appName:h}),_e.expirationTime=q),_e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new gn,this.toJSON())}_performRefresh(){return nt("not implemented")}}function ln(I,h){ne("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class Lr{constructor(h){var{uid:p,auth:D,stsTokenManager:U}=h,q=(0,ae._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=D,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=q.displayName||null,this.email=q.email||null,this.emailVerified=q.emailVerified||!1,this.phoneNumber=q.phoneNumber||null,this.photoURL=q.photoURL||null,this.isAnonymous=q.isAnonymous||!1,this.tenantId=q.tenantId||null,this.providerData=q.providerData?[...q.providerData]:[],this.metadata=new On(q.createdAt||void 0,q.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,m.Z)(function*(){const D=yield Qn(p,p.stsTokenManager.getToken(p.auth,h));return ne(D,p.auth,"internal-error"),p.accessToken!==D&&(p.accessToken=D,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),D})()}getIdTokenResult(h){return function fi(I){return In.apply(this,arguments)}(this,h)}reload(){return function Ii(I){return gt.apply(this,arguments)}(this)}_assign(h){this!==h&&(ne(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new Lr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var D=this;return(0,m.Z)(function*(){let U=!1;h.idToken&&h.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(h),U=!0),p&&(yield dn(D)),yield D.auth._persistUserIfCurrent(D),U&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var h=this;return(0,m.Z)(function*(){const p=yield h.getIdToken();return yield Qn(h,function ar(I,h){return An.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var D,U,q,_e,Ve,wt,Rt,rn;const dr=null!==(D=p.displayName)&&void 0!==D?D:void 0,Ro=null!==(U=p.email)&&void 0!==U?U:void 0,ro=null!==(q=p.phoneNumber)&&void 0!==q?q:void 0,vl=null!==(_e=p.photoURL)&&void 0!==_e?_e:void 0,go=null!==(Ve=p.tenantId)&&void 0!==Ve?Ve:void 0,ic=null!==(wt=p._redirectEventId)&&void 0!==wt?wt:void 0,Ka=null!==(Rt=p.createdAt)&&void 0!==Rt?Rt:void 0,fd=null!==(rn=p.lastLoginAt)&&void 0!==rn?rn:void 0,{uid:mo,emailVerified:pd,isAnonymous:Za,providerData:gd,stsTokenManager:md}=p;ne(mo&&md,h,"internal-error");const zn=gn.fromJSON(this.name,md);ne("string"==typeof mo,h,"internal-error"),ln(dr,h.name),ln(Ro,h.name),ne("boolean"==typeof pd,h,"internal-error"),ne("boolean"==typeof Za,h,"internal-error"),ln(ro,h.name),ln(vl,h.name),ln(go,h.name),ln(ic,h.name),ln(Ka,h.name),ln(fd,h.name);const sc=new Lr({uid:mo,auth:h,email:Ro,emailVerified:pd,displayName:dr,isAnonymous:Za,photoURL:vl,phoneNumber:ro,tenantId:go,stsTokenManager:zn,createdAt:Ka,lastLoginAt:fd});return gd&&Array.isArray(gd)&&(sc.providerData=gd.map(_l=>Object.assign({},_l))),ic&&(sc._redirectEventId=ic),sc}static _fromIdTokenResponse(h,p,D=!1){return(0,m.Z)(function*(){const U=new gn;U.updateFromServerResponse(p);const q=new Lr({uid:p.localId,auth:h,stsTokenManager:U,isAnonymous:D});return yield dn(q),q})()}}const Qr=new Map;function tn(I){Ot(I instanceof Function,"Expected a class definition");let h=Qr.get(I);return h?(Ot(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,Qr.set(I,h),h)}const qn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(p,D){var U=this;return(0,m.Z)(function*(){U.storage[p]=D})()}_get(p){var D=this;return(0,m.Z)(function*(){const U=D.storage[p];return void 0===U?null:U})()}_remove(p){var D=this;return(0,m.Z)(function*(){delete D.storage[p]})()}_addListener(p,D){}_removeListener(p,D){}}return I.type="NONE",I})();function jr(I,h,p){return`firebase:${I}:${h}:${p}`}class ce{constructor(h,p,D){this.persistence=h,this.auth=p,this.userKey=D;const{config:U,name:q}=this.auth;this.fullUserKey=jr(this.userKey,U.apiKey,q),this.fullPersistenceKey=jr("persistence",U.apiKey,q),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,m.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Lr._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,m.Z)(function*(){if(p.persistence===h)return;const D=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,D?p.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,D="authUser"){return(0,m.Z)(function*(){if(!p.length)return new ce(tn(qn),h,D);const U=(yield Promise.all(p.map(function(){var Rt=(0,m.Z)(function*(rn){if(yield rn._isAvailable())return rn});return function(rn){return Rt.apply(this,arguments)}}()))).filter(Rt=>Rt);let q=U[0]||tn(qn);const _e=jr(D,h.config.apiKey,h.name);let Ve=null;for(const Rt of p)try{const rn=yield Rt._get(_e);if(rn){const dr=Lr._fromJSON(h,rn);Rt!==q&&(Ve=dr),q=Rt;break}}catch{}const wt=U.filter(Rt=>Rt._shouldAllowMigration);return q._shouldAllowMigration&&wt.length?(q=wt[0],Ve&&(yield q._set(_e,Ve.toJSON())),yield Promise.all(p.map(function(){var Rt=(0,m.Z)(function*(rn){if(rn!==q)try{yield rn._remove(_e)}catch{}});return function(rn){return Rt.apply(this,arguments)}}())),new ce(q,h,D)):new ce(q,h,D)})()}}function H(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ee(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(W(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(yt(h))return"Blackberry";if(Qt(h))return"Webos";if(z(h))return"Safari";if((h.includes("chrome/")||G(h))&&!h.includes("edge/"))return"Chrome";if(rt(h))return"Android";{const D=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function W(I=(0,Z.z$)()){return/firefox\//i.test(I)}function z(I=(0,Z.z$)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function G(I=(0,Z.z$)()){return/crios\//i.test(I)}function Ee(I=(0,Z.z$)()){return/iemobile/i.test(I)}function rt(I=(0,Z.z$)()){return/android/i.test(I)}function yt(I=(0,Z.z$)()){return/blackberry/i.test(I)}function Qt(I=(0,Z.z$)()){return/webos/i.test(I)}function Kt(I=(0,Z.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function ui(I=(0,Z.z$)()){return Kt(I)||rt(I)||Qt(I)||yt(I)||/windows phone/i.test(I)||Ee(I)}function Fr(I,h=[]){let p;switch(I){case"Browser":p=H((0,Z.z$)());break;case"Worker":p=`${H((0,Z.z$)())}-${I}`;break;default:p=I}const D=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${he.Jn}/${D}`}function ye(I,h){return $e.apply(this,arguments)}function $e(){return($e=(0,m.Z)(function*(I,h){return je(I,"GET","/v2/recaptchaConfig",be(I,h))})).apply(this,arguments)}function mt(I){return void 0!==I&&void 0!==I.enterprise}class $t{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function tr(I){return new Promise((h,p)=>{const D=document.createElement("script");D.setAttribute("src",I),D.onload=h,D.onerror=U=>{const q=Ze("internal-error");q.customData=U,p(q)},D.type="text/javascript",D.charset="UTF-8",function ur(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(D)})}function Xr(I){return`__${I}${Math.floor(1e6*Math.random())}`}class ls{constructor(h){this.type="recaptcha-enterprise",this.auth=Un(h)}verify(h="verify",p=!1){var D=this;return(0,m.Z)(function*(){function q(){return q=(0,m.Z)(function*(Ve){if(!p){if(null==Ve.tenantId&&null!=Ve._agentRecaptchaConfig)return Ve._agentRecaptchaConfig.siteKey;if(null!=Ve.tenantId&&void 0!==Ve._tenantRecaptchaConfigs[Ve.tenantId])return Ve._tenantRecaptchaConfigs[Ve.tenantId].siteKey}return new Promise(function(){var wt=(0,m.Z)(function*(Rt,rn){ye(Ve,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(dr=>{if(void 0!==dr.recaptchaKey){const Ro=new $t(dr);return null==Ve.tenantId?Ve._agentRecaptchaConfig=Ro:Ve._tenantRecaptchaConfigs[Ve.tenantId]=Ro,Rt(Ro.siteKey)}rn(new Error("recaptcha Enterprise site key undefined"))}).catch(dr=>{rn(dr)})});return function(Rt,rn){return wt.apply(this,arguments)}}())}),q.apply(this,arguments)}function _e(Ve,wt,Rt){const rn=window.grecaptcha;mt(rn)?rn.enterprise.ready(()=>{rn.enterprise.execute(Ve,{action:h}).then(dr=>{wt(dr)}).catch(()=>{wt("NO_RECAPTCHA")})}):Rt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ve,wt)=>{(function U(Ve){return q.apply(this,arguments)})(D.auth).then(Rt=>{if(!p&&mt(window.grecaptcha))_e(Rt,Ve,wt);else{if(typeof window>"u")return void wt(new Error("RecaptchaVerifier is only supported in browser"));tr("https://www.google.com/recaptcha/enterprise.js?render="+Rt).then(()=>{_e(Rt,Ve,wt)}).catch(rn=>{wt(rn)})}}).catch(Rt=>{wt(Rt)})})})()}}function Mr(I,h,p){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,m.Z)(function*(I,h,p,D=!1){const U=new ls(I);let q;try{q=yield U.verify(p)}catch{q=yield U.verify(p,!0)}const _e=Object.assign({},h);return Object.assign(_e,D?{captchaResp:q}:{captchaResponse:q}),Object.assign(_e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_e})).apply(this,arguments)}class jn{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const D=q=>new Promise((_e,Ve)=>{try{_e(h(q))}catch(wt){Ve(wt)}});D.onAbort=p,this.queue.push(D);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,m.Z)(function*(){if(p.auth.currentUser===h)return;const D=[];try{for(const U of p.queue)yield U(h),U.onAbort&&D.push(U.onAbort)}catch(U){D.reverse();for(const q of D)try{q()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}class Ts{constructor(h,p,D,U){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=D,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new io(this),this.idTokenSubscription=new io(this),this.beforeStateQueue=new jn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ht,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(h,p){var D=this;return p&&(this._popupRedirectResolver=tn(p)),this._initializationPromise=this.queue((0,m.Z)(function*(){var U,q;if(!D._deleted&&(D.persistenceManager=yield ce.create(D,h),!D._deleted)){if(null!==(U=D._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(p),D.lastNotifiedUid=(null===(q=D.currentUser)||void 0===q?void 0:q.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,m.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,m.Z)(function*(){var D;const U=yield p.assertedPersistence.getCurrentUser();let q=U,_e=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Ve=null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId,wt=q?._redirectEventId,Rt=yield p.tryRedirectSignIn(h);(!Ve||Ve===wt)&&Rt?.user&&(q=Rt.user,_e=!0)}if(!q)return p.directlySetCurrentUser(null);if(!q._redirectEventId){if(_e)try{yield p.beforeStateQueue.runMiddleware(q)}catch(Ve){q=U,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Ve))}return q?p.reloadAndSetCurrentUserOrClear(q):p.directlySetCurrentUser(null)}return ne(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===q._redirectEventId?p.directlySetCurrentUser(q):p.reloadAndSetCurrentUserOrClear(q)})()}tryRedirectSignIn(h){var p=this;return(0,m.Z)(function*(){let D=null;try{D=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,m.Z)(function*(){try{yield dn(h)}catch(D){if("auth/network-request-failed"!==D?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function gr(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,m.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,m.Z)(function*(){const D=h?(0,Z.m9)(h):null;return D&&ne(D.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(D&&D._clone(p))})()}_updateCurrentUser(h,p=!1){var D=this;return(0,m.Z)(function*(){if(!D._deleted)return h&&ne(D.tenantId===h.tenantId,D,"tenant-id-mismatch"),p||(yield D.beforeStateQueue.runMiddleware(h)),D.queue((0,m.Z)(function*(){yield D.directlySetCurrentUser(h),D.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,m.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,m.Z)(function*(){yield p.assertedPersistence.setPersistence(tn(h))}))}initializeRecaptchaConfig(){var h=this;return(0,m.Z)(function*(){const p=yield ye(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),D=new $t(p);null==h.tenantId?h._agentRecaptchaConfig=D:h._tenantRecaptchaConfigs[h.tenantId]=D,D.emailPasswordEnabled&&new ls(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Z.LL("auth","Firebase",h())}onAuthStateChanged(h,p,D){return this.registerStateListener(this.authStateSubscription,h,p,D)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,D){return this.registerStateListener(this.idTokenSubscription,h,p,D)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var D=this;return(0,m.Z)(function*(){const U=yield D.getOrInitRedirectPersistenceManager(p);return null===h?U.removeCurrentUser():U.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,m.Z)(function*(){if(!p.redirectPersistenceManager){const D=h&&tn(h)||p._popupRedirectResolver;ne(D,p,"argument-error"),p.redirectPersistenceManager=yield ce.create(p,[tn(D._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,m.Z)(function*(){var D,U;return p._isInitialized&&(yield p.queue((0,m.Z)(function*(){}))),(null===(D=p._currentUser)||void 0===D?void 0:D._redirectEventId)===h?p._currentUser:(null===(U=p.redirectUser)||void 0===U?void 0:U._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,m.Z)(function*(){if(h===p.currentUser)return p.queue((0,m.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,D,U){if(this._deleted)return()=>{};const q="function"==typeof p?p:p.next.bind(p),_e=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(_e,this,"internal-error"),_e.then(()=>q(this.currentUser)),"function"==typeof p?h.addObserver(p,D,U):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,m.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Fr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,m.Z)(function*(){var p;const D={"X-Client-Version":h.clientVersion};h.app.options.appId&&(D["X-Firebase-gmpid"]=h.app.options.appId);const U=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();U&&(D["X-Firebase-Client"]=U);const q=yield h._getAppCheckToken();return q&&(D["X-Firebase-AppCheck"]=q),D})()}_getAppCheckToken(){var h=this;return(0,m.Z)(function*(){var p;const D=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return D?.error&&function Jt(I,...h){ft.logLevel<=le.in.WARN&&ft.warn(`Auth (${he.Jn}): ${I}`,...h)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function Un(I){return(0,Z.m9)(I)}class io{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Z.ne)(p=>this.observer=p)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function me(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function De(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class ct{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return nt("not implemented")}_getIdTokenResponse(h){return nt("not implemented")}_linkToIdToken(h,p){return nt("not implemented")}_getReauthenticationResolver(h){return nt("not implemented")}}function $n(I,h){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,m.Z)(function*(I,h){return je(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function xi(I,h){return cr.apply(this,arguments)}function cr(){return(cr=(0,m.Z)(function*(I,h){return Tn(I,"POST","/v1/accounts:signInWithPassword",be(I,h))})).apply(this,arguments)}function Po(I,h){return so.apply(this,arguments)}function so(){return(so=(0,m.Z)(function*(I,h){return je(I,"POST","/v1/accounts:sendOobCode",be(I,h))})).apply(this,arguments)}function Li(){return(Li=(0,m.Z)(function*(I,h){return Po(I,h)})).apply(this,arguments)}function Qs(I,h){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,m.Z)(function*(I,h){return Po(I,h)})).apply(this,arguments)}function Hr(){return(Hr=(0,m.Z)(function*(I,h){return Tn(I,"POST","/v1/accounts:signInWithEmailLink",be(I,h))})).apply(this,arguments)}function Eo(){return(Eo=(0,m.Z)(function*(I,h){return Tn(I,"POST","/v1/accounts:signInWithEmailLink",be(I,h))})).apply(this,arguments)}class Vs extends ct{constructor(h,p,D,U=null){super("password",D),this._email=h,this._password=p,this._tenantId=U}static _fromEmailAndPassword(h,p){return new Vs(h,p,"password")}static _fromEmailAndCode(h,p,D=null){return new Vs(h,p,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,m.Z)(function*(){var D;switch(p.signInMethod){case"password":const U={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=h._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const q=yield Mr(h,U,"signInWithPassword");return xi(h,q)}return xi(h,U).catch(function(){var q=(0,m.Z)(function*(_e){if("auth/missing-recaptcha-token"===_e.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ve=yield Mr(h,U,"signInWithPassword");return xi(h,Ve)}return Promise.reject(_e)});return function(_e){return q.apply(this,arguments)}}());case"emailLink":return function bs(I,h){return Hr.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Oe(h,"internal-error")}})()}_linkToIdToken(h,p){var D=this;return(0,m.Z)(function*(){switch(D.signInMethod){case"password":return $n(h,{idToken:p,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Bs(I,h){return Eo.apply(this,arguments)}(h,{idToken:p,email:D._email,oobCode:D._password});default:Oe(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function nr(I,h){return gi.apply(this,arguments)}function gi(){return(gi=(0,m.Z)(function*(I,h){return Tn(I,"POST","/v1/accounts:signInWithIdp",be(I,h))})).apply(this,arguments)}class Wi extends ct{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Wi(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Oe("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:D,signInMethod:U}=p,q=(0,ae._T)(p,["providerId","signInMethod"]);if(!D||!U)return null;const _e=new Wi(D,U);return _e.idToken=q.idToken||void 0,_e.accessToken=q.accessToken||void 0,_e.secret=q.secret,_e.nonce=q.nonce,_e.pendingToken=q.pendingToken||null,_e}_getIdTokenResponse(h){return nr(h,this.buildRequest())}_linkToIdToken(h,p){const D=this.buildRequest();return D.idToken=p,nr(h,D)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,nr(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,Z.xO)(p)}return h}}class hn{constructor(h){var p,D,U,q,_e,Ve;const wt=(0,Z.zd)((0,Z.pd)(h)),Rt=null!==(p=wt.apiKey)&&void 0!==p?p:null,rn=null!==(D=wt.oobCode)&&void 0!==D?D:null,dr=function pr(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=wt.mode)&&void 0!==U?U:null);ne(Rt&&rn&&dr,"argument-error"),this.apiKey=Rt,this.operation=dr,this.code=rn,this.continueUrl=null!==(q=wt.continueUrl)&&void 0!==q?q:null,this.languageCode=null!==(_e=wt.languageCode)&&void 0!==_e?_e:null,this.tenantId=null!==(Ve=wt.tenantId)&&void 0!==Ve?Ve:null}static parseLink(h){const p=function Et(I){const h=(0,Z.zd)((0,Z.pd)(I)).link,p=h?(0,Z.zd)((0,Z.pd)(h)).deep_link_id:null,D=(0,Z.zd)((0,Z.pd)(I)).deep_link_id;return(D?(0,Z.zd)((0,Z.pd)(D)).link:null)||D||p||h||I}(h);try{return new hn(p)}catch{return null}}}let Fi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,D){return Vs._fromEmailAndPassword(p,D)}static credentialWithLink(p,D){const U=hn.parseLink(D);return ne(U,"argument-error"),Vs._fromEmailAndCode(p,U.code,U.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class ms{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class mi extends ms{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}let Ki=(()=>{class I extends mi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,D){return Wi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:D})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:D,oauthAccessToken:U}=p;if(!D&&!U)return null;try{return I.credential(D,U)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})();function ys(I,h){return yi.apply(this,arguments)}function yi(){return(yi=(0,m.Z)(function*(I,h){return Tn(I,"POST","/v1/accounts:signUp",be(I,h))})).apply(this,arguments)}class Dr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,D,U=!1){return(0,m.Z)(function*(){const q=yield Lr._fromIdTokenResponse(h,D,U),_e=vs(D);return new Dr({user:q,providerId:_e,_tokenResponse:D,operationType:p})})()}static _forOperation(h,p,D){return(0,m.Z)(function*(){yield h._updateTokensIfNecessary(D,!0);const U=vs(D);return new Dr({user:h,providerId:U,_tokenResponse:D,operationType:p})})()}}function vs(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class vi extends Z.ZR{constructor(h,p,D,U){var q;super(p.code,p.message),this.operationType=D,this.user=U,Object.setPrototypeOf(this,vi.prototype),this.customData={appName:h.name,tenantId:null!==(q=h.tenantId)&&void 0!==q?q:void 0,_serverResponse:p.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(h,p,D,U){return new vi(h,p,D,U)}}function Do(I,h,p,D){return("reauthenticate"===h?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(q=>{throw"auth/multi-factor-auth-required"===q.code?vi._fromErrorAndOperation(I,q,h,D):q})}function Fo(){return(Fo=(0,m.Z)(function*(I,h,p=!1){const D=yield Qn(I,h._linkToIdToken(I.auth,yield I.getIdToken()),p);return Dr._forOperation(I,"link",D)})).apply(this,arguments)}function Hs(){return(Hs=(0,m.Z)(function*(I,h,p=!1){const{auth:D}=I,U="reauthenticate";try{const q=yield Qn(I,Do(D,U,h,I),p);ne(q.idToken,D,"internal-error");const _e=on(q.idToken);ne(_e,D,"internal-error");const{sub:Ve}=_e;return ne(I.uid===Ve,D,"user-mismatch"),Dr._forOperation(I,U,q)}catch(q){throw"auth/user-not-found"===q?.code&&Oe(D,"user-mismatch"),q}})).apply(this,arguments)}function li(I,h){return Di.apply(this,arguments)}function Di(){return(Di=(0,m.Z)(function*(I,h,p=!1){const D="signIn",U=yield Do(I,D,h),q=yield Dr._fromIdTokenResponse(I,D,U);return p||(yield I._updateCurrentUser(q.user)),q})).apply(this,arguments)}function Ti(){return(Ti=(0,m.Z)(function*(I,h){return li(Un(I),h)})).apply(this,arguments)}function Ur(I,h,p){var D;ne((null===(D=p.url)||void 0===D?void 0:D.length)>0,I,"invalid-continue-uri"),ne(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ne(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(ne(p.android.packageName.length>0,I,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function ri(I,h,p){return zr.apply(this,arguments)}function zr(){return zr=(0,m.Z)(function*(I,h,p){var D;const U=Un(I),q={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=U._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const _e=yield Mr(U,q,"getOobCode",!0);p&&Ur(U,_e,p),yield Qs(U,_e)}else p&&Ur(U,q,p),yield Qs(U,q).catch(function(){var _e=(0,m.Z)(function*(Ve){if("auth/missing-recaptcha-token"!==Ve.code)return Promise.reject(Ve);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const wt=yield Mr(U,q,"getOobCode",!0);p&&Ur(U,wt,p),yield Qs(U,wt)}});return function(Ve){return _e.apply(this,arguments)}}())}),zr.apply(this,arguments)}function hs(I,h,p){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,m.Z)(function*(I,h,p){var D;const U=Un(I),q={returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"};let _e;if(null!==(D=U._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const Rt=yield Mr(U,q,"signUpPassword");_e=ys(U,Rt)}else _e=ys(U,q).catch(function(){var Rt=(0,m.Z)(function*(rn){if("auth/missing-recaptcha-token"===rn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const dr=yield Mr(U,q,"signUpPassword");return ys(U,dr)}return Promise.reject(rn)});return function(rn){return Rt.apply(this,arguments)}}());const Ve=yield _e.catch(Rt=>Promise.reject(Rt)),wt=yield Dr._fromIdTokenResponse(U,"signIn",Ve);return yield U._updateCurrentUser(wt.user),wt}),Vi.apply(this,arguments)}function Ms(I,h,p){return function ni(I,h){return Ti.apply(this,arguments)}((0,Z.m9)(I),Fi.credential(h,p))}function Ea(I,h){return ns.apply(this,arguments)}function ns(){return ns=(0,m.Z)(function*(I,h){const p=(0,Z.m9)(I),U={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};h&&Ur(p.auth,U,h);const{email:q}=yield function oo(I,h){return Li.apply(this,arguments)}(p.auth,U);q!==I.email&&(yield I.reload())}),ns.apply(this,arguments)}function Jo(){return(Jo=(0,m.Z)(function*(I,h){return je(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Fa(I,h){return xs.apply(this,arguments)}function xs(){return xs=(0,m.Z)(function*(I,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const D=(0,Z.m9)(I),q={idToken:yield D.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},_e=yield Qn(D,function eo(I,h){return Jo.apply(this,arguments)}(D.auth,q));D.displayName=_e.displayName||null,D.photoURL=_e.photoUrl||null;const Ve=D.providerData.find(({providerId:wt})=>"password"===wt);Ve&&(Ve.displayName=D.displayName,Ve.photoURL=D.photoURL),yield D._updateTokensIfNecessary(_e)}),xs.apply(this,arguments)}function Pt(I,h,p,D){return(0,Z.m9)(I).onAuthStateChanged(h,p,D)}const Fe="__sak";class tt{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Fe,"1"),this.storage.removeItem(Fe),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const qu=(()=>{class I extends tt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,D)=>this.onStorageEvent(p,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Si(){const I=(0,Z.z$)();return z(I)||Kt(I)}()&&function cs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ui(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const D of Object.keys(this.listeners)){const U=this.storage.getItem(D),q=this.localCache[D];U!==q&&p(D,q,U)}}onStorageEvent(p,D=!1){if(!p.key)return void this.forAllChangedKeys((Ve,wt,Rt)=>{this.notifyListeners(Ve,Rt)});const U=p.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ve=this.storage.getItem(U);if(p.newValue!==Ve)null!==p.newValue?this.storage.setItem(U,p.newValue):this.storage.removeItem(U);else if(this.localCache[U]===p.newValue&&!D)return}const q=()=>{const Ve=this.storage.getItem(U);!D&&this.localCache[U]===Ve||this.notifyListeners(U,Ve)},_e=this.storage.getItem(U);!function Mn(){return(0,Z.w1)()&&10===document.documentMode}()||_e===p.newValue||p.newValue===p.oldValue?q():setTimeout(q,10)}notifyListeners(p,D){this.localCache[p]=D;const U=this.listeners[p];if(U)for(const q of Array.from(U))q(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,D,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:D,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,D){var U=()=>super._set,q=this;return(0,m.Z)(function*(){yield U().call(q,p,D),q.localCache[p]=JSON.stringify(D)})()}_get(p){var D=()=>super._get,U=this;return(0,m.Z)(function*(){const q=yield D().call(U,p);return U.localCache[p]=JSON.stringify(q),q})()}_remove(p){var D=()=>super._remove,U=this;return(0,m.Z)(function*(){yield D().call(U,p),delete U.localCache[p]})()}}return I.type="LOCAL",I})(),Iu=(()=>{class I extends tt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,D){}_removeListener(p,D){}}return I.type="SESSION",I})();let Kr=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const D=this.receivers.find(q=>q.isListeningto(p));if(D)return D;const U=new I(p);return this.receivers.push(U),U}isListeningto(p){return this.eventTarget===p}handleEvent(p){var D=this;return(0,m.Z)(function*(){const U=p,{eventId:q,eventType:_e,data:Ve}=U.data,wt=D.handlersMap[_e];if(!wt?.size)return;U.ports[0].postMessage({status:"ack",eventId:q,eventType:_e});const Rt=Array.from(wt).map(function(){var dr=(0,m.Z)(function*(Ro){return Ro(U.origin,Ve)});return function(Ro){return dr.apply(this,arguments)}}()),rn=yield function Mc(I){return Promise.all(I.map(function(){var h=(0,m.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(D){return{fulfilled:!1,reason:D}}});return function(p){return h.apply(this,arguments)}}()))}(Rt);U.ports[0].postMessage({status:"done",eventId:q,eventType:_e,response:rn})})()}_subscribe(p,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(D)}_unsubscribe(p,D){this.handlersMap[p]&&D&&this.handlersMap[p].delete(D),(!D||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Uo(I="",h=10){let p="";for(let D=0;D<h;D++)p+=Math.floor(10*Math.random());return I+p}class ru{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,D=50){var U=this;return(0,m.Z)(function*(){const q=typeof MessageChannel<"u"?new MessageChannel:null;if(!q)throw new Error("connection_unavailable");let _e,Ve;return new Promise((wt,Rt)=>{const rn=Uo("",20);q.port1.start();const dr=setTimeout(()=>{Rt(new Error("unsupported_event"))},D);Ve={messageChannel:q,onMessage(Ro){const ro=Ro;if(ro.data.eventId===rn)switch(ro.data.status){case"ack":clearTimeout(dr),_e=setTimeout(()=>{Rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(_e),wt(ro.data.response);break;default:clearTimeout(dr),clearTimeout(_e),Rt(new Error("invalid_response"))}}},U.handlers.add(Ve),q.port1.addEventListener("message",Ve.onMessage),U.target.postMessage({eventType:h,eventId:rn,data:p},[q.port2])}).finally(()=>{Ve&&U.removeMessageHandler(Ve)})})()}}function yr(){return window}function is(){return typeof yr().WorkerGlobalScope<"u"&&"function"==typeof yr().importScripts}function rr(){return(rr=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cn="firebaseLocalStorageDb",Bn="firebaseLocalStorage",Ct="fbase_key";class So{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ta(I,h){return I.transaction([Bn],h?"readwrite":"readonly").objectStore(Bn)}function Eu(){const I=indexedDB.open(cn,1);return new Promise((h,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const D=I.result;try{D.createObjectStore(Bn,{keyPath:Ct})}catch(U){p(U)}}),I.addEventListener("success",(0,m.Z)(function*(){const D=I.result;D.objectStoreNames.contains(Bn)?h(D):(D.close(),yield function Vo(){const I=indexedDB.deleteDatabase(cn);return new So(I).toPromise()}(),h(yield Eu()))}))})}function pn(I,h,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,m.Z)(function*(I,h,p){const D=Ta(I,!0).put({[Ct]:h,value:p});return new So(D).toPromise()})).apply(this,arguments)}function ba(){return(ba=(0,m.Z)(function*(I,h){const p=Ta(I,!1).get(h),D=yield new So(p).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Ku(I,h){const p=Ta(I,!0).delete(h);return new So(p).toPromise()}const xc=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,m.Z)(function*(){return p.db||(p.db=yield Eu()),p.db})()}_withRetries(p){var D=this;return(0,m.Z)(function*(){let U=0;for(;;)try{const q=yield D._openDb();return yield p(q)}catch(q){if(U++>3)throw q;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,m.Z)(function*(){return is()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,m.Z)(function*(){p.receiver=Kr._getInstance(function Da(){return is()?self:null}()),p.receiver._subscribe("keyChanged",function(){var D=(0,m.Z)(function*(U,q){return{keyProcessed:(yield p._poll()).includes(q.key)}});return function(U,q){return D.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var D=(0,m.Z)(function*(U,q){return["keyChanged"]});return function(U,q){return D.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,m.Z)(function*(){var D,U;if(p.activeServiceWorker=yield function da(){return rr.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new ru(p.activeServiceWorker);const q=yield p.sender._send("ping",{},800);q&&null!==(D=q[0])&&void 0!==D&&D.fulfilled&&null!==(U=q[0])&&void 0!==U&&U.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var D=this;return(0,m.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Xt(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:p},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Eu();return yield pn(p,Fe,"1"),yield Ku(p,Fe),!0}catch{}return!1})()}_withPendingWrite(p){var D=this;return(0,m.Z)(function*(){D.pendingWrites++;try{yield p()}finally{D.pendingWrites--}})()}_set(p,D){var U=this;return(0,m.Z)(function*(){return U._withPendingWrite((0,m.Z)(function*(){return yield U._withRetries(q=>pn(q,p,D)),U.localCache[p]=D,U.notifyServiceWorker(p)}))})()}_get(p){var D=this;return(0,m.Z)(function*(){const U=yield D._withRetries(q=>function wu(I,h){return ba.apply(this,arguments)}(q,p));return D.localCache[p]=U,U})()}_remove(p){var D=this;return(0,m.Z)(function*(){return D._withPendingWrite((0,m.Z)(function*(){return yield D._withRetries(U=>Ku(U,p)),delete D.localCache[p],D.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,m.Z)(function*(){const D=yield p._withRetries(_e=>{const Ve=Ta(_e,!1).getAll();return new So(Ve).toPromise()});if(!D)return[];if(0!==p.pendingWrites)return[];const U=[],q=new Set;for(const{fbase_key:_e,value:Ve}of D)q.add(_e),JSON.stringify(p.localCache[_e])!==JSON.stringify(Ve)&&(p.notifyListeners(_e,Ve),U.push(_e));for(const _e of Object.keys(p.localCache))p.localCache[_e]&&!q.has(_e)&&(p.notifyListeners(_e,null),U.push(_e));return U})()}notifyListeners(p,D){this.localCache[p]=D;const U=this.listeners[p];if(U)for(const q of Array.from(U))q(D)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function Mo(I,h){return h?tn(h):(ne(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}Xr("rcb"),new bt(3e4,6e4);class Du extends ct{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return nr(h,this._buildIdpRequest())}_linkToIdToken(h,p){return nr(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return nr(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function zo(I){return li(I.auth,new Du(I),I.bypassAuthState)}function Rc(I){const{auth:h,user:p}=I;return ne(p,h,"internal-error"),function _s(I,h){return Hs.apply(this,arguments)}(p,new Du(I),I.bypassAuthState)}function Nc(I){return za.apply(this,arguments)}function za(){return(za=(0,m.Z)(function*(I){const{auth:h,user:p}=I;return ne(p,h,"internal-error"),function Ui(I,h){return Fo.apply(this,arguments)}(p,new Du(I),I.bypassAuthState)})).apply(this,arguments)}class Tu{constructor(h,p,D,U,q=!1){this.auth=h,this.resolver=D,this.user=U,this.bypassAuthState=q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,m.Z)(function*(D,U){h.pendingPromise={resolve:D,reject:U};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(q){h.reject(q)}});return function(D,U){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,m.Z)(function*(){const{urlResponse:D,sessionId:U,postBody:q,tenantId:_e,error:Ve,type:wt}=h;if(Ve)return void p.reject(Ve);const Rt={auth:p.auth,requestUri:D,sessionId:U,tenantId:_e||void 0,postBody:q||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(wt)(Rt))}catch(rn){p.reject(rn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return zo;case"linkViaPopup":case"linkViaRedirect":return Nc;case"reauthViaPopup":case"reauthViaRedirect":return Rc;default:Oe(this.auth,"internal-error")}}resolve(h){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hl=new bt(2e3,1e4);function ra(I,h,p){return $i.apply(this,arguments)}function $i(){return($i=(0,m.Z)(function*(I,h,p){const D=Un(I);!function it(I,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Oe(I,"argument-error"),ve(I,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(I,h,ms);const U=Mo(D,p);return new uu(D,"signInViaPopup",h,U).executeNotNull()})).apply(this,arguments)}let uu=(()=>{class I extends Tu{constructor(p,D,U,q,_e){super(p,D,q,_e),this.provider=U,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var p=this;return(0,m.Z)(function*(){const D=yield p.execute();return ne(D,p.auth,"internal-error"),D})()}onExecution(){var p=this;return(0,m.Z)(function*(){Ot(1===p.filter.length,"Popup operations only handle one event");const D=Uo();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],D),p.authWindow.associatedEvent=D,p.resolver._originValidation(p.auth).catch(U=>{p.reject(U)}),p.resolver._isIframeWebStorageSupported(p.auth,U=>{U||p.reject(Ze(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const p=()=>{var D,U;this.pollId=null!==(U=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==U&&U.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,hl.get())};p()}}return I.currentPopupAction=null,I})();const ps="pendingRedirect",ha=new Map;class Sa extends Tu{constructor(h,p,D=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,D),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,m.Z)(function*(){let D=ha.get(p.auth._key());if(!D){try{const q=(yield function Zu(I,h){return or.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;D=()=>Promise.resolve(q)}catch(U){D=()=>Promise.reject(U)}ha.set(p.auth._key(),D)}return p.bypassAuthState||ha.set(p.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,D=this;return(0,m.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(D,h);if("unknown"!==h.type){if(h.eventId){const U=yield D.auth._redirectUserForId(h.eventId);if(U)return D.user=U,p().call(D,h);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function or(){return(or=(0,m.Z)(function*(I,h){const p=function qs(I){return jr(ps,I.config.apiKey,I.name)}(h),D=function fa(I){return tn(I._redirectPersistence)}(I);if(!(yield D._isAvailable()))return!1;const U="true"===(yield D._get(p));return yield D._remove(p),U})).apply(this,arguments)}function Yu(I,h){ha.set(I._key(),h)}function Ga(I,h){return fo.apply(this,arguments)}function fo(){return(fo=(0,m.Z)(function*(I,h,p=!1){const D=Un(I),U=Mo(D,h),_e=yield new Sa(D,U,p).execute();return _e&&!p&&(delete _e.user._redirectEventId,yield D._persistUserIfCurrent(_e.user),yield D._setRedirectUser(null,h)),_e})).apply(this,arguments)}class pa{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(h,D)&&(p=!0,this.sendToConsumer(h,D),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ga(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ju(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var D;if(h.error&&!Ju(h)){const U=(null===(D=h.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";p.onError(Ze(this.auth,U))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const D=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&D}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(no(h))}saveEventToCache(h){this.cachedEventUids.add(no(h)),this.lastProcessedEventTime=Date.now()}}function no(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function Ju({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===h?.code}function Ma(){return(Ma=(0,m.Z)(function*(I,h={}){return je(I,"GET","/v1/projects",h)})).apply(this,arguments)}const Ks=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gl=/^https?/;function lu(){return lu=(0,m.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield function cu(I){return Ma.apply(this,arguments)}(I);for(const p of h)try{if(Lc(p))return}catch{}Oe(I,"unauthorized-domain")}),lu.apply(this,arguments)}function Lc(I){const h=en(),{protocol:p,hostname:D}=new URL(h);if(I.startsWith("chrome-extension://")){const _e=new URL(I);return""===_e.hostname&&""===D?"chrome-extension:"===p&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&_e.hostname===D}if(!gl.test(p))return!1;if(Ks.test(I))return D===I;const U=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(D)}const xo=new bt(3e4,6e4);function ma(){const I=yr().___jsl;if(I?.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let Au=null;const Fc=new bt(5e3,15e3),ya="__/auth/iframe",Ps="emulator/auth/iframe",ec={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ra(I){const h=I.config;ne(h.authDomain,I,"auth-domain-config-required");const p=h.emulator?un(h,Ps):`https://${I.config.authDomain}/${ya}`,D={apiKey:h.apiKey,appName:I.name,v:he.Jn},U=Nr.get(I.config.apiHost);U&&(D.eid=U);const q=I._getFrameworks();return q.length&&(D.fw=q.join(",")),`${p}?${(0,Z.xO)(D).slice(1)}`}function Mu(){return Mu=(0,m.Z)(function*(I){const h=yield function xa(I){return Au=Au||function ml(I){return new Promise((h,p)=>{var D,U,q;function _e(){ma(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{ma(),p(Ze(I,"network-request-failed"))},timeout:xo.get()})}if(null!==(U=null===(D=yr().gapi)||void 0===D?void 0:D.iframes)&&void 0!==U&&U.Iframe)h(gapi.iframes.getContext());else{if(null===(q=yr().gapi)||void 0===q||!q.load){const Ve=Xr("iframefcb");return yr()[Ve]=()=>{gapi.load?_e():p(Ze(I,"network-request-failed"))},tr(`https://apis.google.com/js/api.js?onload=${Ve}`).catch(wt=>p(wt))}_e()}}).catch(h=>{throw Au=null,h})}(I),Au}(I),p=yr().gapi;return ne(p,I,"internal-error"),h.open({where:document.body,url:Ra(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ec,dontclear:!0},D=>new Promise(function(){var U=(0,m.Z)(function*(q,_e){yield D.restyle({setHideOnLeave:!1});const Ve=Ze(I,"network-request-failed"),wt=yr().setTimeout(()=>{_e(Ve)},Fc.get());function Rt(){yr().clearTimeout(wt),q(D)}D.ping(Rt).then(Rt,()=>{_e(Ve)})});return function(q,_e){return U.apply(this,arguments)}}()))}),Mu.apply(this,arguments)}const E={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class we{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Dt="__/auth/handler",Ht="emulator/auth/handler",yn=encodeURIComponent("fac");function vn(I,h,p,D,U,q){return ks.apply(this,arguments)}function ks(){return(ks=(0,m.Z)(function*(I,h,p,D,U,q){ne(I.config.authDomain,I,"auth-domain-config-required"),ne(I.config.apiKey,I,"invalid-api-key");const _e={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:D,v:he.Jn,eventId:U};if(h instanceof ms){h.setDefaultLanguage(I.languageCode),_e.providerId=h.providerId||"",(0,Z.xb)(h.getCustomParameters())||(_e.customParameters=JSON.stringify(h.getCustomParameters()));for(const[rn,dr]of Object.entries(q||{}))_e[rn]=dr}if(h instanceof mi){const rn=h.getScopes().filter(dr=>""!==dr);rn.length>0&&(_e.scopes=rn.join(","))}I.tenantId&&(_e.tid=I.tenantId);const Ve=_e;for(const rn of Object.keys(Ve))void 0===Ve[rn]&&delete Ve[rn];const wt=yield I._getAppCheckToken(),Rt=wt?`#${yn}=${encodeURIComponent(wt)}`:"";return`${function ss({config:I}){return I.emulator?un(I,Ht):`https://${I.authDomain}/${Dt}`}(I)}?${(0,Z.xO)(Ve).slice(1)}${Rt}`})).apply(this,arguments)}const Go="webStorageSupport",du=class yl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Iu,this._completeRedirectFn=Ga,this._overrideRedirectResult=Yu}_openPopup(h,p,D,U){var q=this;return(0,m.Z)(function*(){var _e;Ot(null===(_e=q.eventManagers[h._key()])||void 0===_e?void 0:_e.manager,"_initialize() not called before _openPopup()");const Ve=yield vn(h,p,D,en(),U);return function Ge(I,h,p,D=500,U=600){const q=Math.max((window.screen.availHeight-U)/2,0).toString(),_e=Math.max((window.screen.availWidth-D)/2,0).toString();let Ve="";const wt=Object.assign(Object.assign({},E),{width:D.toString(),height:U.toString(),top:q,left:_e}),Rt=(0,Z.z$)().toLowerCase();p&&(Ve=G(Rt)?"_blank":p),W(Rt)&&(h=h||"http://localhost",wt.scrollbars="yes");const rn=Object.entries(wt).reduce((Ro,[ro,vl])=>`${Ro}${ro}=${vl},`,"");if(function nn(I=(0,Z.z$)()){var h;return Kt(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Rt)&&"_self"!==Ve)return function St(I,h){const p=document.createElement("a");p.href=I,p.target=h;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(D)}(h||"",Ve),new we(null);const dr=window.open(h||"",Ve,rn);ne(dr,I,"popup-blocked");try{dr.focus()}catch{}return new we(dr)}(h,Ve,Uo())})()}_openRedirect(h,p,D,U){var q=this;return(0,m.Z)(function*(){return yield q._originValidation(h),function mn(I){yr().location.href=I}(yield vn(h,p,D,en(),U)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:U,promise:q}=this.eventManagers[p];return U?Promise.resolve(U):(Ot(q,"If manager is not set, promise should be"),q)}const D=this.initAndGetManager(h);return this.eventManagers[p]={promise:D},D.catch(()=>{delete this.eventManagers[p]}),D}initAndGetManager(h){var p=this;return(0,m.Z)(function*(){const D=yield function Uc(I){return Mu.apply(this,arguments)}(h),U=new pa(h);return D.register("authEvent",q=>(ne(q?.authEvent,h,"invalid-auth-event"),{status:U.onEvent(q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:U},p.iframes[h._key()]=D,U})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Go,{type:Go},U=>{var q;const _e=null===(q=U?.[0])||void 0===q?void 0:q[Go];void 0!==_e&&p(!!_e),Oe(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Wa(I){return lu.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return ui()||z()||Kt()}};var tc="@firebase/auth";class Hi{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,m.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(D=>{h(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wo=(0,Z.Pz)("authIdTokenMaxAge")||300;let aa=null;const hd=I=>function(){var h=(0,m.Z)(function*(p){const D=p&&(yield p.getIdTokenResult()),U=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(U&&U>Wo)return;const q=D?.token;aa!==q&&(aa=q,yield fetch(I,{method:q?"POST":"DELETE",headers:q?{Authorization:`Bearer ${q}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function rc(I=(0,he.Mq)()){const h=(0,he.qX)(I,"auth");if(h.isInitialized())return h.getImmediate();const p=function ki(I,h){const p=(0,he.qX)(I,"auth");if(p.isInitialized()){const U=p.getImmediate(),q=p.getOptions();if((0,Z.vZ)(q,h??{}))return U;Oe(U,"already-initialized")}return p.initialize({options:h})}(I,{popupRedirectResolver:du,persistence:[xc,qu,Iu]}),D=(0,Z.Pz)("authTokenSyncURL");if(D){const q=hd(D);(function We(I,h,p){(0,Z.m9)(I).beforeAuthStateChanged(h,p)})(p,q,()=>q(p.currentUser)),function Re(I,h,p,D){(0,Z.m9)(I).onIdTokenChanged(h,p,D)}(p,_e=>q(_e))}const U=(0,Z.q4)("auth");return U&&function ds(I,h,p){const D=Un(I);ne(D._canInitEmulator,D,"emulator-config-failed"),ne(/^https?:\/\//.test(h),D,"invalid-emulator-scheme");const U=!!p?.disableWarnings,q=me(h),{host:_e,port:Ve}=function pe(I){const h=me(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!p)return{host:"",port:null};const D=p[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(D);if(U){const q=U[1];return{host:q,port:De(D.substr(q.length+1))}}{const[q,_e]=D.split(":");return{host:q,port:De(_e)}}}(h);D.config.emulator={url:`${q}//${_e}${null===Ve?"":`:${Ve}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:_e,port:Ve,protocol:q.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function Xe(){function I(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(p,`http://${U}`),p}!function nc(I){(0,he.Xd)(new de.wA("auth",(h,{options:p})=>{const D=h.getProvider("app").getImmediate(),U=h.getProvider("heartbeat"),q=h.getProvider("app-check-internal"),{apiKey:_e,authDomain:Ve}=D.options;ne(_e&&!_e.includes(":"),"invalid-api-key",{appName:D.name});const wt={apiKey:_e,authDomain:Ve,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fr(I)},Rt=new Ts(D,U,q,wt);return function xr(I,h){const p=h?.persistence||[],D=(Array.isArray(p)?p:[p]).map(tn);h?.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(D,h?.popupRedirectResolver)}(Rt,p),Rt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,D)=>{h.getProvider("auth-internal").initialize()})),(0,he.Xd)(new de.wA("auth-internal",h=>{const p=Un(h.getProvider("auth").getImmediate());return new Hi(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.KN)(tc,"0.23.2",function fh(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,he.KN)(tc,"0.23.2","esm2017")}("Browser")},5861:(jt,He,B)=>{function m(he,ae,le,de,Ie,fe,Le){try{var Q=he[fe](Le),ie=Q.value}catch(Me){return void le(Me)}Q.done?ae(ie):Promise.resolve(ie).then(de,Ie)}function Z(he){return function(){var ae=this,le=arguments;return new Promise(function(de,Ie){var fe=he.apply(ae,le);function Le(ie){m(fe,de,Ie,Le,Q,"next",ie)}function Q(ie){m(fe,de,Ie,Le,Q,"throw",ie)}Le(void 0)})}}B.d(He,{Z:()=>Z})},7582:(jt,He,B)=>{function ae(Ae,xe){var ze={};for(var be in Ae)Object.prototype.hasOwnProperty.call(Ae,be)&&xe.indexOf(be)<0&&(ze[be]=Ae[be]);if(null!=Ae&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(be=Object.getOwnPropertySymbols(Ae);je<be.length;je++)xe.indexOf(be[je])<0&&Object.prototype.propertyIsEnumerable.call(Ae,be[je])&&(ze[be[je]]=Ae[be[je]])}return ze}function Me(Ae,xe,ze,be){return new(ze||(ze=Promise))(function(at,Lt){function _n(Dn){try{zt(be.next(Dn))}catch(Tt){Lt(Tt)}}function Tn(Dn){try{zt(be.throw(Dn))}catch(Tt){Lt(Tt)}}function zt(Dn){Dn.done?at(Dn.value):function je(at){return at instanceof ze?at:new ze(function(Lt){Lt(at)})}(Dn.value).then(_n,Tn)}zt((be=be.apply(Ae,xe||[])).next())})}function Oe(Ae){return this instanceof Oe?(this.v=Ae,this):new Oe(Ae)}function Ze(Ae,xe,ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,be=ze.apply(Ae,xe||[]),at=[];return je={},Lt("next"),Lt("throw"),Lt("return"),je[Symbol.asyncIterator]=function(){return this},je;function Lt(bn){be[bn]&&(je[bn]=function(ar){return new Promise(function(An,Yn){at.push([bn,ar,An,Yn])>1||_n(bn,ar)})})}function _n(bn,ar){try{!function Tn(bn){bn.value instanceof Oe?Promise.resolve(bn.value.v).then(zt,Dn):Tt(at[0][2],bn)}(be[bn](ar))}catch(An){Tt(at[0][3],An)}}function zt(bn){_n("next",bn)}function Dn(bn){_n("throw",bn)}function Tt(bn,ar){bn(ar),at.shift(),at.length&&_n(at[0][0],at[0][1])}}function it(Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,xe=Ae[Symbol.asyncIterator];return xe?xe.call(Ae):(Ae=function ht(Ae){var xe="function"==typeof Symbol&&Symbol.iterator,ze=xe&&Ae[xe],be=0;if(ze)return ze.call(Ae);if(Ae&&"number"==typeof Ae.length)return{next:function(){return Ae&&be>=Ae.length&&(Ae=void 0),{value:Ae&&Ae[be++],done:!Ae}}};throw new TypeError(xe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ae),ze={},be("next"),be("throw"),be("return"),ze[Symbol.asyncIterator]=function(){return this},ze);function be(at){ze[at]=Ae[at]&&function(Lt){return new Promise(function(_n,Tn){!function je(at,Lt,_n,Tn){Promise.resolve(Tn).then(function(zt){at({value:zt,done:_n})},Lt)}(_n,Tn,(Lt=Ae[at](Lt)).done,Lt.value)})}}}B.d(He,{FC:()=>Ze,KL:()=>it,_T:()=>ae,mG:()=>Me,qq:()=>Oe}),"function"==typeof SuppressedError&&SuppressedError}},jt=>{jt(jt.s=2818)}]);