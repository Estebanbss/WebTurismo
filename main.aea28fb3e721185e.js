"use strict";(self.webpackChunkpal_huila=self.webpackChunkpal_huila||[]).push([[179],{3968:(St,ke,L)=>{L.d(ke,{H:()=>pe});var m=L(5619),W=L(4946);let pe=(()=>{class ne{constructor(){this.valueSource=new m.X(""),this.currentValue=this.valueSource.asObservable(),this.modalsuichpstSubject=new m.X(!1),this.modalsuich$=this.modalsuichpstSubject.asObservable(),this.modaldataSubject=new m.X(!1),this.modaldata$=this.modaldataSubject.asObservable(),this.warningSubject=new m.X(!1),this.warning$=this.warningSubject.asObservable(),this.warningAllSubject=new m.X(!1),this.warningAll$=this.warningAllSubject.asObservable(),this.modalsuichmuniSubject=new m.X(!1),this.modalsuichmuni$=this.modalsuichmuniSubject.asObservable(),this.modalsuichatracSubject=new m.X(!1),this.modalsuichatrac$=this.modalsuichatracSubject.asObservable(),this.modalsuichrutasSubject=new m.X(!1),this.modalsuichrutas$=this.modalsuichrutasSubject.asObservable(),this.modalsuichtodoSubject=new m.X(!1),this.modalsuichtodo$=this.modalsuichtodoSubject.asObservable(),this.modalPFHeaderSubject=new m.X(!1),this.modalPFHeader$=this.modalPFHeaderSubject.asObservable(),this.modalTurnMuniSubject=new m.X(!1),this.modalTurnMuni$=this.modalTurnMuniSubject.asObservable(),this.modalTurnSliderPSubject=new m.X(!1),this.modalTurnSliderP$=this.modalTurnSliderPSubject.asObservable()}setTurnSliderP(re){this.modalTurnSliderPSubject.next(re)}setWarningAll(re){this.warningAllSubject.next(re)}setModalSuichPst(re){this.modalsuichpstSubject.next(re)}setWarning(re){this.warningSubject.next(re)}setModalSuichMuni(re){this.modalsuichmuniSubject.next(re)}setValue(re){this.valueSource.next(re)}setModalSuichAtrac(re){this.modalsuichatracSubject.next(re)}setModalSuichRutas(re){this.modalsuichrutasSubject.next(re)}setModalSuichTodo(re){this.modalsuichtodoSubject.next(re)}setData(re){this.modaldataSubject.next(re)}setProfileHeader(re){this.modalPFHeaderSubject.next(re)}setTurnMuni(re){this.modalTurnMuniSubject.next(re)}static#e=this.\u0275fac=function(fe){return new(fe||ne)};static#t=this.\u0275prov=W.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})()},8395:(St,ke,L)=>{L.d(ke,{K:()=>fe});var m=L(5861),W=L(2637),pe=L(3446),ne=L(3960),se=L(5619),re=L(4946);let fe=(()=>{class ie{constructor(q){this.auth=q,this.rolSubject=new se.X(""),this.rolSubject$=this.rolSubject.asObservable(),this.firestore=(0,ne.ad)()}setRolSubject(q){this.rolSubject.next(q)}register(q,ee){var ve=this;return(0,m.Z)(function*(){return yield(0,W.Xb)(ve.auth,q,ee)})()}login(q,ee){return this.auth.setPersistence(pe.a$).then(()=>(this.infoUsuario=(0,W.e5)(this.auth,q,ee),this.infoUsuario))}getCurrentUser(q){return new Promise((ee,ve)=>{const Ke=q.onAuthStateChanged(Be=>{Ke(),ee(Be)},ve)})}update(){const q=(0,ne.JU)(this.firestore,`users/${this.auth.currentUser.uid}`);return(0,ne.pl)(q,{fechaUltimoLogin:(new Date).toISOString()},{merge:!0})}recuperar(q){return(0,W.LS)(this.auth,q)}verificarCorreo(q){(0,W.w$)(q)}cerrarSesion(){return this.auth.signOut()}loginConGoogle(){return this.auth.setPersistence(pe.a$).then(()=>(0,W.rh)(this.auth,new pe.hJ))}firebaseError(q){switch(q){case"auth/email-already-in-use":return"El usuario ya ex\xedste";case"auth/weak-password":return"Contrase\xf1a muy debil";case"auth/invalid-email":return"Correo inv\xe1lido";case"auth/wrong-password":return"La contrase\xf1a es Incorrecta";case"auth/user-not-found":return"El usuario no ex\xedste";default:return"Error desconocido"}}static#e=this.\u0275fac=function(ee){return new(ee||ie)(re.LFG(W.gx))};static#t=this.\u0275prov=re.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})()},6398:(St,ke,L)=>{var m=L(6593),W=L(4017),pe=L(5861),ne=L(4946),se=L(2637);let re=(()=>{class Se{constructor(we){this.afAuth=we}getLoggin(){var we=this;return new Promise(function(){var Ne=(0,pe.Z)(function*(Ct){(0,se.Aj)(we.afAuth,function(){var tn=(0,pe.Z)(function*(Qt){if(Qt){const nt=yield Qt.emailVerified;Ct(!!nt)}else Ct(!1)});return function(Qt){return tn.apply(this,arguments)}}())});return function(Ct){return Ne.apply(this,arguments)}}())}static#e=this.\u0275fac=function(Ne){return new(Ne||Se)(ne.LFG(se.gx))};static#t=this.\u0275prov=ne.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})(),fe=(()=>{class Se{constructor(we,Ne){this.authService=we,this.router=Ne}canActivate(){var we=this;return(0,pe.Z)(function*(){try{const Ne=yield we.authService.getLoggin();return Ne||we.router.navigate(["auth"]),Ne}catch(Ne){return console.error(Ne),!1}})()}static#e=this.\u0275fac=function(Ne){return new(Ne||Se)(ne.LFG(re),ne.LFG(W.F0))};static#t=this.\u0275prov=ne.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})(),ie=(()=>{class Se{constructor(we,Ne){this.authService=we,this.router=Ne}canActivate(){var we=this;return(0,pe.Z)(function*(){try{const Ne=yield we.authService.getLoggin();return!Ne||(we.router.navigate(["home"]),Ne)}catch(Ne){return console.error(Ne),!1}})()}static#e=this.\u0275fac=function(Ne){return new(Ne||Se)(ne.LFG(re),ne.LFG(W.F0))};static#t=this.\u0275prov=ne.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})(),xe=(()=>{class Se{constructor(we){this.router=we,this.muni=["Acevedo","Aipe","Algeciras","Altamira","Baraya","Campoalegre","Colombia","El\xedas","El Agrado","Garz\xf3n","Gigante","Guadalupe","Hobo","\xcdquira","Isnos","La Argentina","La Plata","N\xe1taga","Neiva","Oporapa","Paicol","Palermo","Palestina","Pital","Pitalito","Rivera","Saladoblanco","Santa Mar\xeda","San Agust\xedn","Suaza","Tarqui","Tello","Teruel","Tesalia","Timan\xe1","Villavieja","Yaguar\xe1"]}canActivate(we){const Ne=we.paramMap.get("id");return!!this.muni.includes(Ne)||(this.router.navigate(["/municipios/Garz\xf3n"]),!1)}static#e=this.\u0275fac=function(Ne){return new(Ne||Se)(ne.LFG(W.F0))};static#t=this.\u0275prov=ne.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})();var q=L(3960);const Be=[{path:"home",canActivate:[fe],loadChildren:()=>Promise.all([L.e(191),L.e(433),L.e(592),L.e(817)]).then(L.bind(L,7817)).then(Se=>Se.HomeModule)},{path:"dashboard-admin",canActivate:[fe,(()=>{class Se{constructor(we){this.router=we}canActivate(){var we=this;return(0,pe.Z)(function*(){try{const Ne=(0,se.v0)();if(!Ne.currentUser)return we.router.navigate(["/login"]),!1;const Ct=(0,q.ad)(),tn=(0,q.JU)(Ct,"users",Ne.currentUser.uid),Qt=yield(0,q.QT)(tn);if(Qt.exists()&&Qt.data()?.rol){const nt=Qt.data().rol;if("admin"===nt||"superadmin"===nt)return!0}return we.router.navigate(["/home"]),!1}catch(Ne){return console.error("Error while fetching user data:",Ne),we.router.navigate(["/error"]),!1}})()}static#e=this.\u0275fac=function(Ne){return new(Ne||Se)(ne.LFG(W.F0))};static#t=this.\u0275prov=ne.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})()],loadChildren:()=>Promise.all([L.e(191),L.e(95),L.e(472),L.e(771)]).then(L.bind(L,1771)).then(Se=>Se.DashboardAdminModule)},{path:"municipios/:id",canActivate:[fe,xe],loadChildren:()=>Promise.all([L.e(191),L.e(433),L.e(472),L.e(592),L.e(302)]).then(L.bind(L,9302)).then(Se=>Se.MunicipiosModule)},{path:"prestadores/:municipio/:prestador",canActivate:[fe,(()=>{class Se{constructor(we,Ne){this.firestore=we,this.router=Ne}canActivate(we,Ne){const Ct=we.paramMap.get("municipio"),tn=we.paramMap.get("prestador"),Qt=(0,q.hJ)(this.firestore,"prestadores"),nt=(0,q.IO)(Qt,(0,q.ar)("name","==",tn));return(0,q.PL)(nt).then(Tt=>(Tt.empty&&(this.router.navigate(["/municipios/"+Ct+"/"+tn]),console.log("No est\xe1")),!Tt.empty)).catch(Tt=>(console.error("No est\xe1",Tt),!1))}static#e=this.\u0275fac=function(Ne){return new(Ne||Se)(ne.LFG(q.gg),ne.LFG(W.F0))};static#t=this.\u0275prov=ne.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})()],loadChildren:()=>Promise.all([L.e(191),L.e(433),L.e(592),L.e(531)]).then(L.bind(L,3531)).then(Se=>Se.PrestadoresModule)},{path:"profile/:id",canActivate:[fe,(()=>{class Se{constructor(we,Ne){this.firestore=we,this.router=Ne}canActivate(we,Ne){const Ct=we.paramMap.get("id"),tn=(0,q.hJ)(this.firestore,"users"),Qt=(0,q.IO)(tn,(0,q.ar)("userName","==",Ct));return(0,q.PL)(Qt).then(nt=>(nt.empty&&(this.router.navigate(["/home"]),console.log("No est\xe1")),!nt.empty)).catch(nt=>(console.error("No est\xe1",nt),!1))}static#e=this.\u0275fac=function(Ne){return new(Ne||Se)(ne.LFG(q.gg),ne.LFG(W.F0))};static#t=this.\u0275prov=ne.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})()],loadChildren:()=>Promise.all([L.e(191),L.e(975)]).then(L.bind(L,8975)).then(Se=>Se.PerfilModule)},{path:"auth",canActivate:[ie],loadChildren:()=>Promise.all([L.e(191),L.e(95),L.e(202)]).then(L.bind(L,8202)).then(Se=>Se.AuthModule)},{path:"**",redirectTo:"home",pathMatch:"full"}];let We=(()=>{class Se{static#e=this.\u0275fac=function(Ne){return new(Ne||Se)};static#t=this.\u0275mod=ne.oAB({type:Se});static#n=this.\u0275inj=ne.cJS({imports:[W.Bz.forRoot(Be,{preloadingStrategy:W.wm}),W.Bz]})}return Se})();var ut=L(3968),Rt=L(8395),rt=L(6814);function Yt(Se,de){if(1&Se){const we=ne.EpF();ne.TgZ(0,"button",2),ne.NdJ("click",function(){ne.CHM(we);const Ct=ne.oxw();return ne.KtG(Ct.toTop())}),ne.O4$(),ne.TgZ(1,"svg",3),ne._UZ(2,"path",4),ne.qZA()()}}let kt=(()=>{class Se{constructor(we,Ne,Ct){this.modal=we,this.router=Ne,this.userService=Ct,this.firestore=(0,q.ad)(),this.auth=(0,se.v0)(),this.mostrarBoton=!1,this.title="Pa'lHuila",this.hasExecuted=!1,this.updateFechaUltimoLoginBeforeUnload=()=>{this.updateFechaUltimoLogin()}}ngOnInit(){this.router.events.subscribe(we=>{we instanceof W.m2&&window.scrollTo(0,0)}),window.addEventListener("beforeunload",this.updateFechaUltimoLoginBeforeUnload)}ngAfterViewChecked(){var we=this;this.hasExecuted||(this.userService.getCurrentUser(this.auth).then(function(){var Ne=(0,pe.Z)(function*(Ct){if(Ct){const tn=(0,q.JU)(we.firestore,`users/${Ct.uid}`),Qt=yield(0,q.QT)(tn);we.userService.setRolSubject(Qt.data().rol),tn&&(0,q.pl)(tn,{fechaUltimoLogin:(new Date).toISOString()},{merge:!0})}});return function(Ct){return Ne.apply(this,arguments)}}()),this.hasExecuted=!0)}ngOnDestroy(){window.removeEventListener("beforeunload",this.updateFechaUltimoLoginBeforeUnload),console.log("Hi")}onScroll(we){const Ne=window.scrollY;this.mostrarBoton=Ne>500}updateFechaUltimoLogin(){this.userService.getCurrentUser(this.auth).then(we=>{if(we){const Ne=(0,q.JU)(this.firestore,`users/${we.uid}`);Ne&&(0,q.pl)(Ne,{fechaUltimoLogin:(new Date).toISOString()},{merge:!0})}})}toTop(){window.scrollTo({top:0,left:0,behavior:"smooth"})}onKeyDown(we){const Ne=we.target;!Ne.classList.contains("no-close")&&"svg"!==Ne.tagName&&"li"!==Ne.tagName&&"path"!==Ne.tagName&&"span"!==Ne.tagName&&"ul"!==Ne.tagName&&"Escape"===we.key&&(this.modal.setProfileHeader(!1),this.modal.setTurnMuni(!1),this.modal.setTurnSliderP(!0))}handleKeydown(we){const Ne=we.target;!Ne.classList.contains("no-close")&&"svg"!==Ne.tagName&&"li"!==Ne.tagName&&"path"!==Ne.tagName&&"span"!==Ne.tagName&&"ul"!==Ne.tagName&&"button"!==Ne.tagName&&!Ne.id.includes("buttonProfile")&&!Ne.id.includes("buttonTurn")&&(this.modal.setProfileHeader(!1),this.modal.setTurnMuni(!1)),Ne.id.includes("buttonProfile")&&this.modal.setProfileHeader(!0),Ne.id.includes("buttonTurn")&&this.modal.setTurnMuni(!0)}static#e=this.\u0275fac=function(Ne){return new(Ne||Se)(ne.Y36(ut.H),ne.Y36(W.F0),ne.Y36(Rt.K))};static#t=this.\u0275cmp=ne.Xpm({type:Se,selectors:[["app-root"]],hostBindings:function(Ne,Ct){1&Ne&&ne.NdJ("keydown",function(Qt){return Ct.onKeyDown(Qt)},!1,ne.evT)("scroll",function(Qt){return Ct.onScroll(Qt)},!1,ne.Jf7)},decls:3,vars:1,consts:[[1,".paila",3,"keydown","mousedown"],["class","fixed bottom-[140px] right-0 rounded-tl-2xl rounded-bl-2xl bg-primary-500 opacity-60",3,"click",4,"ngIf"],[1,"fixed","bottom-[140px]","right-0","rounded-tl-2xl","rounded-bl-2xl","bg-primary-500","opacity-60",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","48","viewBox","0 -960 960 960","width","48",1,"fill-white"],["d","m284-324-66-66 262-261 262 260-65 66-197-198-196 199Z"]],template:function(Ne,Ct){1&Ne&&(ne.TgZ(0,"Div",0),ne.NdJ("keydown",function(Qt){return Ct.onKeyDown(Qt)})("mousedown",function(Qt){return Ct.handleKeydown(Qt)}),ne._UZ(1,"router-outlet"),ne.YNc(2,Yt,3,0,"button",1),ne.qZA()),2&Ne&&(ne.xp6(2),ne.Q6J("ngIf",Ct.mostrarBoton))},dependencies:[rt.O5,W.lC]})}return Se})();var Ae=L(721);const Ue_firebase={apiKey:"AIzaSyCNtspEd7b-OB0G4rgueYrNjlDsLoBRHLs",authDomain:"centurhuila-b9e47.firebaseapp.com",databaseURL:"https://centurhuila-b9e47.firebaseio.com",projectId:"centurhuila-b9e47",storageBucket:"centurhuila-b9e47.appspot.com",messagingSenderId:"51926987535",appId:"1:51926987535:web:15d603eaee884a7801c47a",measurementId:"G-WLKL8STB8G"};var Le=L(5017);let He=(()=>{class Se{static#e=this.\u0275fac=function(Ne){return new(Ne||Se)};static#t=this.\u0275mod=ne.oAB({type:Se,bootstrap:[kt]});static#n=this.\u0275inj=ne.cJS({imports:[m.b2,We,W.Bz,(0,Ae.hX)(()=>(0,Ae.ZF)(Ue_firebase)),(0,se.AR)(()=>(0,se.v0)()),(0,q.Cm)(()=>(0,q.ad)()),(0,Le.Vq)(()=>(0,Le.cF)())]})}return Se})();m.q6().bootstrapModule(He).catch(Se=>console.error(Se))},5776:(St,ke,L)=>{L.d(ke,{ET:()=>Iv,hJ:()=>x_,oe:()=>vv,JU:()=>ig,QT:()=>Dg,PL:()=>W_,ad:()=>hf,cf:()=>Ag,Xo:()=>kl,IO:()=>Nc,pl:()=>_v,r7:()=>yv,ar:()=>Uo});var ie,m=L(5861),W=L(534),pe=L(4537),ne=L(7879),se=L(9058),re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe={},xe=xe||{},q=re||self;function ee(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ve(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Be="closure_uid_"+(1e9*Math.random()>>>0),We=0;function ut(i,e,n){return i.call.apply(i.bind,arguments)}function Rt(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function rt(i,e,n){return(rt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ut:Rt).apply(null,arguments)}function Yt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function kt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),w=2;w<arguments.length;w++)f[w-2]=arguments[w];return e.prototype[u].apply(o,f)}}function Ae(){this.s=this.s,this.o=this.o}Ae.prototype.s=!1,Ae.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ke(i){Object.prototype.hasOwnProperty.call(i,Be)&&i[Be]||(i[Be]=++We)}(this)},Ae.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Le=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function He(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Se(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(ee(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function de(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{q.addEventListener("test",()=>{},e),q.removeEventListener("test",()=>{},e)}catch{}return i}();function Ne(i){return/^[\s\xa0]*$/.test(i)}function Ct(){var i=q.navigator;return i&&(i=i.userAgent)?i:""}function tn(i){return-1!=Ct().indexOf(i)}function Qt(i){return Qt[" "](i),i}Qt[" "]=function(){};var Pe,i,Tt=tn("Opera"),Ye=tn("Trident")||tn("MSIE"),ot=tn("Edge"),ce=ot||Ye,_e=tn("Gecko")&&!(-1!=Ct().toLowerCase().indexOf("webkit")&&!tn("Edge"))&&!(tn("Trident")||tn("MSIE"))&&!tn("Edge"),De=-1!=Ct().toLowerCase().indexOf("webkit")&&!tn("Edge");function Ie(){var i=q.document;return i?i.documentMode:void 0}e:{var Xe="",Ft=(i=Ct(),_e?/rv:([^\);]+)(\)|;)/.exec(i):ot?/Edge\/([\d\.]+)/.exec(i):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):De?/WebKit\/(\S+)/.exec(i):Tt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ft&&(Xe=Ft?Ft[1]:""),Ye){var an=Ie();if(null!=an&&an>parseFloat(Xe)){Pe=String(an);break e}}Pe=Xe}var En=q.document&&Ye&&(Ie()||parseInt(Pe,10))||void 0;function It(i,e){if(de.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(_e){e:{try{Qt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Pn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&It.$.h.call(this)}}kt(It,de);var Pn={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var An="closure_listenable_"+(1e6*Math.random()|0),or=0;function bn(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++or,this.fa=this.ia=!1}function Sr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function vn(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function ki(i){const e={};for(const n in i)e[n]=i[n];return e}const Pr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pi(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<Pr.length;l++)n=Pr[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function un(i){this.src=i,this.g={},this.h=0}function Ir(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=Le(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(Sr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Zt(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}un.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=Zt(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new bn(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var jt="closure_lm_"+(1e6*Math.random()|0),Yr={};function Br(i,e,n,o,u){if(o&&o.once)return Sn(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Br(i,e[l],n,o,u);return null}return n=pn(n),i&&i[An]?i.O(e,n,ve(o)?!!o.capture:!!o,u):Jn(i,e,n,!1,o,u)}function Jn(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=ve(u)?!!u.capture:!!u,w=Ei(i);if(w||(i[jt]=w=new un(i)),(n=w.add(e,n,o,f,l)).proxy)return n;if(o=function Er(){const e=it;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)we||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(vs(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Sn(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Sn(i,e[l],n,o,u);return null}return n=pn(n),i&&i[An]?i.P(e,n,ve(o)?!!o.capture:!!o,u):Jn(i,e,n,!0,o,u)}function hn(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)hn(i,e[l],n,o,u);else o=ve(o)?!!o.capture:!!o,n=pn(n),i&&i[An]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Zt(l=i.g[e],n,o,u))&&(Sr(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Ei(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Zt(e,n,o,u)),(n=-1<i?e[i]:null)&&fn(n))}function fn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[An])Ir(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(vs(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Ei(e))?(Ir(n,i),0==n.h&&(n.src=null,e[jt]=null)):Sr(i)}}}function vs(i){return i in Yr?Yr[i]:Yr[i]="on"+i}function it(i,e){if(i.fa)i=!0;else{e=new It(e,this);var n=i.listener,o=i.la||i.src;i.ia&&fn(i),i=n.call(o,e)}return i}function Ei(i){return(i=i[jt])instanceof un?i:null}var Zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function pn(i){return"function"==typeof i?i:(i[Zr]||(i[Zr]=function(e){return i.handleEvent(e)}),i[Zr])}function Jt(){Ae.call(this),this.i=new un(this),this.S=this,this.J=null}function gn(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new de(e,i);else if(e instanceof de)e.target=e.target||i;else{var u=e;pi(e=new de(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=cn(f,o,!0,e)&&u}if(u=cn(f=e.g=i,o,!0,e)&&u,u=cn(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=cn(f=e.g=n[l],o,!1,e)&&u}function cn(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var w=f.listener,b=f.la||f.src;f.ia&&Ir(i.i,f),u=!1!==w.call(b,o)&&u}}return u&&!o.defaultPrevented}kt(Jt,Ae),Jt.prototype[An]=!0,Jt.prototype.removeEventListener=function(i,e,n,o){hn(this,i,e,n,o)},Jt.prototype.N=function(){if(Jt.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Sr(n[o]);delete i.g[e],i.h--}}this.J=null},Jt.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Jt.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Ti=q.JSON.stringify;function mn(){var i=H;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Qr=new class jr{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new qi,i=>i.reset());class qi{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function te(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function j(i){q.setTimeout(()=>{throw i},0)}let z,$=!1,H=new class ar{constructor(){this.h=this.g=null}add(e,n){const o=Qr.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},he=()=>{const i=q.Promise.resolve(void 0);z=()=>{i.then(qe)}};var qe=()=>{for(var i;i=mn();){try{i.h.call(i.g)}catch(n){j(n)}var e=Qr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}$=!1};function lt(i,e){Jt.call(this),this.h=i||1,this.g=e||q,this.j=rt(this.qb,this),this.l=Date.now()}function $t(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function qt(i,e,n){if("function"==typeof i)n&&(i=rt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=rt(i.handleEvent,i)}return 2147483647<Number(e)?-1:q.setTimeout(i,e||0)}function nn(i){i.g=qt(()=>{i.g=null,i.i&&(i.i=!1,nn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}kt(lt,Jt),(ie=lt.prototype).ga=!1,ie.T=null,ie.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gn(this,"tick"),this.ga&&($t(this),this.start()))}},ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ie.N=function(){lt.$.N.call(this),$t(this),delete this.g};class Ut extends Ae{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nn(this)}N(){super.N(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(i){Ae.call(this),this.h=i,this.g={}}kt(On,Ae);var gi=[];function as(i,e,n,o){Array.isArray(n)||(n&&(gi[0]=n.toString()),n=gi);for(var u=0;u<n.length;u++){var l=Br(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Tr(i){vn(i.g,function(e,n){this.g.hasOwnProperty(n)&&fn(e)},i),i.g={}}function Me(){this.g=!0}function dt(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function wt(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return Ti(n)}catch{return e}}(i,n)+(o?" "+o:"")})}On.prototype.N=function(){On.$.N.call(this),Tr(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Me.prototype.Ea=function(){this.g=!1},Me.prototype.info=function(){};var ln={},pr=null;function Wn(){return pr=pr||new Jt}function wi(i){de.call(this,ln.Ta,i)}function ti(i){const e=Wn();gn(e,new wi(e))}function js(i,e){de.call(this,ln.STAT_EVENT,i),this.stat=e}function er(i){const e=Wn();gn(e,new js(e,i))}function Ns(i,e){de.call(this,ln.Ua,i),this.size=e}function Tn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){i()},e)}ln.Ta="serverreachability",kt(wi,de),ln.STAT_EVENT="statevent",kt(js,de),ln.Ua="timingevent",kt(Ns,de);var ni={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Rn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gr(){}function mo(){}gr.prototype.h=null;var Qe,$r={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wr(){de.call(this,"d")}function ht(){de.call(this,"c")}function _t(){}function Pt(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new On(this),this.P=Mr,this.V=new lt(i=ce?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mr}function mr(){this.i=null,this.g="",this.h=!1}kt(wr,de),kt(ht,de),kt(_t,gr),_t.prototype.g=function(){return new XMLHttpRequest},_t.prototype.i=function(){return{}},Qe=new _t;var Mr=45e3,ri={},$s={};function Li(i,e,n){i.L=1,i.v=mi(Hr(e)),i.s=n,i.S=!0,bo(i,null)}function bo(i,e){i.G=Date.now(),ci(i),i.A=Hr(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),tr(n.i,"t",o),i.C=0,n=i.l.J,i.h=new mr,i.g=As(i.l,n?e:null,!i.s),0<i.O&&(i.M=new Ut(rt(i.Pa,i,i.g),i.O)),as(i.U,i.g,"readystatechange",i.nb),e=i.I?ki(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),ti(),function me(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",w=l.split("&"),b=0;b<w.length;b++){var M=w[b].split("=");if(1<M.length){var B=M[0];M=M[1];var Y=B.split("_");f=2<=Y.length&&"type"==Y[1]?f+(B+"=")+M+"&":f+(B+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Hs(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Di(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=pa(i,n),u==$s){4==e&&(i.o=4,er(14),o=!1),dt(i.j,i.m,null,"[Incomplete Response]");break}if(u==ri){i.o=4,er(15),dt(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}dt(i.j,i.m,u,null),Gs(i,u)}Hs(i)&&u!=$s&&u!=ri&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,er(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),oi(e),e.M=!0,er(11))):(dt(i.j,i.m,n,"[Invalid Chunked Response]"),Yi(i),us(i))}function pa(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?$s:(n=Number(e.substring(n,o)),isNaN(n)?ri:(o+=1)+n>e.length?$s:(e=e.slice(o,o+n),i.C=o+n,e))}function ci(i){i.Y=Date.now()+i.P,So(i,i.P)}function So(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Tn(rt(i.lb,i),e)}function zs(i){i.B&&(q.clearTimeout(i.B),i.B=null)}function us(i){0==i.l.H||i.J||bi(i.l,i)}function Yi(i){zs(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,$t(i.V),Tr(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Gs(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||kn(n.i,i)))if(!i.K&&kn(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Ci(n),ct(n)}Fr(n),er(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Tn(rt(n.ib,n),6e3));if(1>=Ts(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else nr(n,11)}else if((i.K||n.g==i)&&Ci(n),!Ne(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let M=u[e];if(n.V=M[0],M=M[1],2==n.H)if("c"==M[0]){n.K=M[1],n.pa=M[2];const B=M[3];null!=B&&(n.ra=B,n.l.info("VER="+n.ra));const Y=M[4];null!=Y&&(n.Ga=Y,n.l.info("SVER="+n.Ga));const oe=M[5];null!=oe&&"number"==typeof oe&&0<oe&&(n.L=o=1.5*oe,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const be=i.g;if(be){const at=be.g?be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(at){var l=o.i;l.g||-1==at.indexOf("spdy")&&-1==at.indexOf("quic")&&-1==at.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Xi(l,l.h),l.h=null))}if(o.F){const gt=be.g?be.g.getResponseHeader("X-HTTP-Session-Id"):null;gt&&(o.Da=gt,Kn(o.I,o.F,gt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=Bi(o,o.J?o.pa:null,o.Y),f.K){qs(o.i,f);var w=f,b=o.L;b&&w.setTimeout(b),w.B&&(zs(w),ci(w)),o.g=f}else Nr(o);0<n.j.length&&bt(n)}else"stop"!=M[0]&&"close"!=M[0]||nr(n,7);else 3==n.H&&("stop"==M[0]||"close"==M[0]?"stop"==M[0]?nr(n,7):Ve(n):"noop"!=M[0]&&n.h&&n.h.Aa(M),n.A=0)}ti()}catch{}}function Js(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ee(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Ro(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ee(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function lu(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ee(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(ie=Pt.prototype).setTimeout=function(i){this.P=i},ie.nb=function(i){i=i.target;const e=this.M;e&&3==es(i)?e.l():this.Pa(i)},ie.Pa=function(i){try{if(i==this.g)e:{const B=es(this.g);var e=this.g.Ia();if(this.g.da(),!(3>B)&&(3!=B||ce||this.g&&(this.h.h||this.g.ja()||xr(this.g)))){this.J||4!=B||7==e||ti(),zs(this);var n=this.g.da();this.ca=n;t:if(Hs(this)){var o=xr(this.g);i="";var u=o.length,l=4==es(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Yi(this),us(this);var f="";break t}this.h.i=new q.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function et(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,B,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var w,b=this.g;if((w=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ne(w)){var M=w;break t}}M=null}if(!(n=M)){this.i=!1,this.o=3,er(12),Yi(this),us(this);break e}dt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gs(this,n)}this.S?(Di(this,B,f),ce&&this.i&&3==B&&(as(this.U,this.V,"tick",this.mb),this.V.start())):(dt(this.j,this.m,f,null),Gs(this,f)),4==B&&Yi(this),this.i&&!this.J&&(4==B?bi(this.l,this):(this.i=!1,ci(this)))}else(function N(i){const e={};i=(i.g&&2<=es(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(Ne(i[o]))continue;var n=te(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function Nt(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,er(12)):(this.o=0,er(13)),Yi(this),us(this)}}}catch{}},ie.mb=function(){if(this.g){var i=es(this.g),e=this.g.ja();this.C<e.length&&(zs(this),Di(this,i,e),this.i&&4!=i&&ci(this))}},ie.cancel=function(){this.J=!0,Yi(this)},ie.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Kt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ti(),er(17)),Yi(this),this.o=2,us(this)):So(this,this.Y-i)};var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fi(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Fi){this.h=i.h,Zi(this,i.j),this.s=i.s,this.g=i.g,no(this,i.m),this.l=i.l;var e=i.i,n=new Es;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ws(this,n),this.o=i.o}else i&&(e=String(i).match(eo))?(this.h=!1,Zi(this,e[1]||"",!0),this.s=Is(e[2]||""),this.g=Is(e[3]||"",!0),no(this,e[4]),this.l=Is(e[5]||"",!0),Ws(this,e[6]||"",!0),this.o=Is(e[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}function Hr(i){return new Fi(i)}function Zi(i,e,n){i.j=n?Is(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function no(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ws(i,e,n){e instanceof Es?(i.i=e,function Xt(i,e){e&&!i.j&&(Qi(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(hs(this,o),tr(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=cs(e,Xr)),i.i=new Es(e,i.h))}function Kn(i,e,n){i.i.set(e,n)}function mi(i){return Kn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Is(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function cs(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Cn),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Cn(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Fi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(cs(e,Rr,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(cs(e,Rr,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(cs(n,"/"==n.charAt(0)?ls:zr,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",cs(n,ds)),i.join("")};var Rr=/[#\/\?@]/g,zr=/[#\?:]/g,ls=/[#\?]/g,Xr=/[#\?@]/g,ds=/#/g;function Es(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Qi(i){i.g||(i.g=new Map,i.h=0,i.i&&function to(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function hs(i,e){Qi(i),e=ft(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function zo(i,e){return Qi(i),e=ft(i,e),i.g.has(e)}function tr(i,e,n){hs(i,e),0<n.length&&(i.i=null,i.g.set(ft(i,e),He(n)),i.h+=n.length)}function ft(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function _i(i){this.l=i||Po,i=q.PerformanceNavigationTiming?0<(i=q.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(q.g&&q.g.Ka&&q.g.Ka()&&q.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ie=Es.prototype).add=function(i,e){Qi(this),this.i=null,i=ft(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},ie.forEach=function(i,e){Qi(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},ie.ta=function(){Qi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},ie.Z=function(i){Qi(this);let e=[];if("string"==typeof i)zo(this,i)&&(e=e.concat(this.g.get(ft(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},ie.set=function(i,e){return Qi(this),this.i=null,zo(this,i=ft(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ie.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var Po=10;function Gr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ts(i){return i.h?1:i.g?i.g.size:0}function kn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Xi(i,e){i.g?i.g.add(e):i.h=e}function qs(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ht(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return He(i.i)}_i.prototype.cancel=function(){if(this.i=Ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Ks=class{stringify(i){return q.JSON.stringify(i,void 0)}parse(i){return q.JSON.parse(i,void 0)}};function Go(){this.g=new Ks}function Vi(i,e,n){const o=n||"";try{Js(i,function(u,l){let f=u;ve(u)&&(f=Ti(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function fs(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Ai(i){this.l=i.ec||null,this.j=i.ob||!1}function yi(i,e){Jt.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=ro,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(Ai,gr),Ai.prototype.g=function(){return new yi(this.l,this.j)},Ai.prototype.i=function(i){return function(){return i}}({}),kt(yi,Jt);var ro=0;function Ui(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function li(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ii(i)}function ii(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ie=yi.prototype).open=function(i,e){if(this.readyState!=ro)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ii(this)},ie.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,li(this)),this.readyState=ro},ie.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof q.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ui(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ie.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?li(this):ii(this),3==this.readyState&&Ui(this)}},ie.Za=function(i){this.g&&(this.response=this.responseText=i,li(this))},ie.Ya=function(i){this.g&&(this.response=i,li(this))},ie.ka=function(){this.g&&li(this)},ie.setRequestHeader=function(i,e){this.v.append(i,e)},ie.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ie.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Mo=q.JSON.parse;function ur(i){Jt.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_n,this.L=this.M=!1}kt(ur,Jt);var _n="",ga=/^https?$/i,si=["POST","PUT"];function ws(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ji(i),Ys(i)}function Ji(i){i.F||(i.F=!0,gn(i,"complete"),gn(i,"error"))}function vi(i){if(i.h&&typeof xe<"u"&&(!i.C[1]||4!=es(i)||2!=i.da()))if(i.v&&4==es(i))qt(i.La,0,i);else if(gn(i,"readystatechange"),4==es(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(eo)[1]||null;!u&&q.self&&q.self.location&&(u=q.self.location.protocol.slice(0,-1)),o=!ga.test(u?u.toLowerCase():"")}n=o}if(n)gn(i,"complete"),gn(i,"success");else{i.m=6;try{var l=2<es(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",Ji(i)}}finally{Ys(i)}}}function Ys(i,e){if(i.g){Wr(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||gn(i,"ready");try{n.onreadystatechange=o}catch{}}}function Wr(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(q.clearTimeout(i.A),i.A=null)}function es(i){return i.g?i.g.readyState:0}function xr(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case _n:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function k(i){let e="";return vn(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Q(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=k(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Kn(i,e,n))}function J(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function le(i){this.Ga=0,this.j=[],this.l=new Me,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=J("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=J("baseRetryDelayMs",5e3,i),this.hb=J("retryDelaySeedMs",1e4,i),this.eb=J("forwardChannelMaxRetries",2,i),this.xa=J("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new _i(i&&i.concurrentRequestLimit),this.Ja=new Go,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ve(i){if(xt(i),3==i.H){var e=i.W++,n=Hr(i.I);if(Kn(n,"SID",i.K),Kn(n,"RID",e),Kn(n,"TYPE","terminate"),Qn(i,n),(e=new Pt(i,i.l,e)).L=2,e.v=mi(Hr(n)),n=!1,q.navigator&&q.navigator.sendBeacon)try{n=q.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&q.Image&&((new Image).src=e.v,n=!0),n||(e.g=As(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ci(e)}Ds(i)}function ct(i){i.g&&(oi(i),i.g.cancel(),i.g=null)}function xt(i){ct(i),i.u&&(q.clearTimeout(i.u),i.u=null),Ci(i),i.i.cancel(),i.m&&("number"==typeof i.m&&q.clearTimeout(i.m),i.m=null)}function bt(i){if(!Gr(i.i)&&!i.m){i.m=!0;var e=i.Na;z||he(),$||(z(),$=!0),H.add(e,i),i.C=0}}function wn(i,e){var n;n=e?e.m:i.W++;const o=Hr(i.I);Kn(o,"SID",i.K),Kn(o,"RID",n),Kn(o,"AID",i.V),Qn(i,o),i.o&&i.s&&Q(o,i.o,i.s),n=new Pt(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=qr(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Xi(i.i,n),Li(n,o,e)}function Qn(i,e){i.na&&vn(i.na,function(n,o){Kn(e,o,n)}),i.h&&Js({},function(n,o){Kn(e,o,n)})}function qr(i,e,n){n=Math.min(i.j.length,n);var o=i.h?rt(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let w=!0;for(let b=0;b<n;b++){let M=u[b].g;const B=u[b].map;if(M-=l,0>M)l=Math.max(0,u[b].g-100),w=!1;else try{Vi(B,f,"req"+M+"_")}catch{o&&o(B)}}if(w){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function Nr(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;z||he(),$||(z(),$=!0),H.add(e,i),i.A=0}}function Fr(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Tn(rt(i.Ma,i),Ar(i,i.A)),i.A++,0))}function oi(i){null!=i.B&&(q.clearTimeout(i.B),i.B=null)}function Or(i){i.g=new Pt(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Hr(i.wa);Kn(e,"RID","rpc"),Kn(e,"SID",i.K),Kn(e,"AID",i.V),Kn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Kn(e,"TO",i.qa),Kn(e,"TYPE","xmlhttp"),Qn(i,e),i.o&&i.s&&Q(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=mi(Hr(e)),n.s=null,n.S=!0,bo(n,i)}function Ci(i){null!=i.v&&(q.clearTimeout(i.v),i.v=null)}function bi(i,e){var n=null;if(i.g==e){Ci(i),oi(i),i.g=null;var o=2}else{if(!kn(i.i,e))return;n=e.F,qs(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;gn(o=Wn(),new Ns(o,n)),bt(i)}else Nr(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function en(i,e){return!(Ts(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Tn(rt(i.Na,i,e),Ar(i,i.C)),i.C++,0)))}(i,e)||2==o&&Fr(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:nr(i,5);break;case 4:nr(i,10);break;case 3:nr(i,6);break;default:nr(i,2)}}function Ar(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function nr(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=rt(i.pb,i);n||(n=new Fi("//www.google.com/images/cleardot.gif"),q.location&&"http"==q.location.protocol||Zi(n,"https"),mi(n)),function Dr(i,e){const n=new Me;if(q.Image){const o=new Image;o.onload=Yt(fs,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Yt(fs,n,o,"TestLoadImage: error",!1,e),o.onabort=Yt(fs,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Yt(fs,n,o,"TestLoadImage: timeout",!1,e),q.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else er(2);i.H=0,i.h&&i.h.za(e),Ds(i),xt(i)}function Ds(i){if(i.H=0,i.ma=[],i.h){const e=Ht(i.i);(0!=e.length||0!=i.j.length)&&(Se(i.ma,e),Se(i.ma,i.j),i.i.i.length=0,He(i.j),i.j.length=0),i.h.ya()}}function Bi(i,e,n){var o=n instanceof Fi?Hr(n):new Fi(n);if(""!=o.g)e&&(o.g=e+"."+o.g),no(o,o.m);else{var u=q.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new Fi(null);o&&Zi(l,o),e&&(l.g=e),u&&no(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&Kn(o,n,e),Kn(o,"VER",i.ra),Qn(i,o),o}function As(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ur(n&&i.Ha&&!i.va?new Ai({ob:!0}):i.va)).Oa(i.J),e}function ji(){}function Os(){if(Ye&&!(10<=Number(En)))throw Error("Environmental error: no available transport.")}function Cs(i,e){Jt.call(this),this.g=new le(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Ne(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ne(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new di(this)}function ma(i){wr.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function _o(){ht.call(this),this.status=1}function di(i){this.g=i}function ts(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ai(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function Ln(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(ie=ur.prototype).Oa=function(i){this.M=i},ie.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qe.g(),this.C=function Ki(i){return i.h||(i.h=i.i())}(this.u?this.u:Qe),this.g.onreadystatechange=rt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void ws(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=q.FormData&&i instanceof q.FormData,!(0<=Le(si,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Wr(this),0<this.B&&((this.L=function Ba(i){return Ye&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rt(this.ua,this)):this.A=qt(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){ws(this,l)}},ie.ua=function(){typeof xe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gn(this,"timeout"),this.abort(8))},ie.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,gn(this,"complete"),gn(this,"abort"),Ys(this))},ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ys(this,!0)),ur.$.N.call(this)},ie.La=function(){this.s||(this.G||this.v||this.l?vi(this):this.kb())},ie.kb=function(){vi(this)},ie.isActive=function(){return!!this.g},ie.da=function(){try{return 2<es(this)?this.g.status:-1}catch{return-1}},ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ie.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Mo(e)}},ie.Ia=function(){return this.m},ie.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ie=le.prototype).ra=8,ie.H=1,ie.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Pt(this,this.l,i);let l=this.s;if(this.U&&(l?(l=ki(l),pi(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qr(this,u,e),Kn(n=Hr(this.I),"RID",i),Kn(n,"CVER",22),this.F&&Kn(n,"X-HTTP-Session-Id",this.F),Qn(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(k(l)))+"&"+e:this.o&&Q(n,this.o,l)),Xi(this.i,u),this.bb&&Kn(n,"TYPE","init"),this.P?(Kn(n,"$req",e),Kn(n,"SID","null"),u.aa=!0,Li(u,n,null)):Li(u,n,e),this.H=2}}else 3==this.H&&(i?wn(this,i):0==this.j.length||Gr(this.i)||wn(this))},ie.Ma=function(){if(this.u=null,Or(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Tn(rt(this.jb,this),i)}},ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,er(10),ct(this),Or(this))},ie.ib=function(){null!=this.v&&(this.v=null,ct(this),Fr(this),er(19))},ie.pb=function(i){i?(this.l.info("Successfully pinged google.com"),er(2)):(this.l.info("Failed to ping google.com"),er(1))},ie.isActive=function(){return!!this.h&&this.h.isActive(this)},(ie=ji.prototype).Ba=function(){},ie.Aa=function(){},ie.za=function(){},ie.ya=function(){},ie.isActive=function(){return!0},ie.Va=function(){},Os.prototype.g=function(i,e){return new Cs(i,e)},kt(Cs,Jt),Cs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;er(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Bi(i,null,i.Y),bt(i)},Cs.prototype.close=function(){Ve(this.g)},Cs.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Ti(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&bt(e)},Cs.prototype.N=function(){this.g.h=null,delete this.j,Ve(this.g),delete this.g,Cs.$.N.call(this)},kt(ma,wr),kt(_o,ht),kt(di,ji),di.prototype.Ba=function(){gn(this.g,"a")},di.prototype.Aa=function(i){gn(this.g,new ma(i))},di.prototype.za=function(i){gn(this.g,new _o)},di.prototype.ya=function(){gn(this.g,"b")},kt(ts,function kc(){this.blockSize=-1}),ts.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ts.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)ai(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){ai(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){ai(this,o),u=0;break}}this.h=u,this.i+=e},ts.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var bs={};function Wo(i){return-128<=i&&128>i?function nt(i,e){var n=bs;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new Ln([0|e],0>e?-1:0)}):new Ln([0|i],0>i?-1:0)}function Ss(i){if(isNaN(i)||!isFinite(i))return yo;if(0>i)return hi(Ss(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=xo;return new Ln(e,0)}var xo=4294967296,yo=Wo(0),du=Wo(1),qo=Wo(16777216);function ks(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function $i(i){return-1==i.h}function hi(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new Ln(n,~i.h).add(du)}function Ko(i,e){return i.add(hi(e))}function vo(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Rs(i,e){this.g=i,this.h=e}function Io(i,e){if(ks(e))throw Error("division by zero");if(ks(i))return new Rs(yo,yo);if($i(i))return e=Io(hi(i),e),new Rs(hi(e.g),hi(e.h));if($i(e))return e=Io(i,hi(e)),new Rs(hi(e.g),e.h);if(30<i.g.length){if($i(i)||$i(e))throw Error("slowDivide_ only works with positive integers.");for(var n=du,o=e;0>=o.X(i);)n=ya(n),o=ya(o);var u=io(n,1),l=io(o,1);for(o=io(o,2),n=io(n,2);!ks(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=io(o,1),n=io(n,1)}return e=Ko(i,u.R(e)),new Rs(u,e)}for(u=yo;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=Ss(n)).R(e);$i(f)||0<f.X(i);)f=(l=Ss(n-=o)).R(e);ks(l)&&(l=du),u=u.add(l),i=Ko(i,f)}return new Rs(u,i)}function ya(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new Ln(n,i.h)}function io(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new Ln(u,i.h)}(ie=Ln.prototype).ea=function(){if($i(this))return-hi(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:xo+o)*e,e*=xo}return i},ie.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(ks(this))return"0";if($i(this))return"-"+hi(this).toString(i);for(var e=Ss(Math.pow(i,6)),n=this,o="";;){var u=Io(n,e).g,l=((0<(n=Ko(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(ks(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},ie.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ie.X=function(i){return $i(i=Ko(this,i))?-1:ks(i)?0:1},ie.abs=function(){return $i(this)?hi(this):this},ie.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new Ln(n,-2147483648&n[n.length-1]?-1:0)},ie.R=function(i){if(ks(this)||ks(i))return yo;if($i(this))return $i(i)?hi(this).R(hi(i)):hi(hi(this).R(i));if($i(i))return hi(this.R(hi(i)));if(0>this.X(qo)&&0>i.X(qo))return Ss(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),w=i.D(u)>>>16,b=65535&i.D(u);n[2*o+2*u]+=f*b,vo(n,2*o+2*u),n[2*o+2*u+1]+=l*b,vo(n,2*o+2*u+1),n[2*o+2*u+1]+=f*w,vo(n,2*o+2*u+1),n[2*o+2*u+2]+=l*w,vo(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new Ln(n,0)},ie.gb=function(i){return Io(this,i).h},ie.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new Ln(n,this.h&i.h)},ie.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new Ln(n,this.h|i.h)},ie.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new Ln(n,this.h^i.h)},Os.prototype.createWebChannel=Os.prototype.g,Cs.prototype.send=Cs.prototype.u,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,ni.NO_ERROR=0,ni.TIMEOUT=8,ni.HTTP_ERROR=6,Rn.COMPLETE="complete",mo.EventType=$r,$r.OPEN="a",$r.CLOSE="b",$r.ERROR="c",$r.MESSAGE="d",Jt.prototype.listen=Jt.prototype.O,ur.prototype.listenOnce=ur.prototype.P,ur.prototype.getLastError=ur.prototype.Sa,ur.prototype.getLastErrorCode=ur.prototype.Ia,ur.prototype.getStatus=ur.prototype.da,ur.prototype.getResponseJson=ur.prototype.Wa,ur.prototype.getResponseText=ur.prototype.ja,ur.prototype.send=ur.prototype.ha,ur.prototype.setWithCredentials=ur.prototype.Oa,ts.prototype.digest=ts.prototype.l,ts.prototype.reset=ts.prototype.reset,ts.prototype.update=ts.prototype.j,Ln.prototype.add=Ln.prototype.add,Ln.prototype.multiply=Ln.prototype.R,Ln.prototype.modulo=Ln.prototype.gb,Ln.prototype.compare=Ln.prototype.X,Ln.prototype.toNumber=Ln.prototype.ea,Ln.prototype.toString=Ln.prototype.toString,Ln.prototype.getBits=Ln.prototype.D,Ln.fromNumber=Ss,Ln.fromString=function _a(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return hi(_a(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ss(Math.pow(e,8)),o=yo,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=Ss(Math.pow(e,l)),o=o.R(l).add(Ss(f))):o=(o=o.R(n)).add(Ss(f))}return o};var hu=fe.createWebChannelTransport=function(){return new Os},T=fe.getStatEventTarget=function(){return Wn()},F=fe.ErrorCode=ni,S=fe.EventType=Rn,x=fe.Event=ln,K=fe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ee=fe.FetchXmlHttpFactory=Ai,Fe=fe.WebChannel=mo,Dt=fe.XhrIo=ur,cr=fe.Md5=ts,Nn=fe.Integer=Ln;const Vn="@firebase/firestore";class Vt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");let rr="10.5.2";const Un=new ne.Yd("@firebase/firestore");function kr(){return Un.logLevel}function Ge(i,...e){if(Un.logLevel<=ne.in.DEBUG){const n=e.map(ns);Un.debug(`Firestore (${rr}): ${i}`,...n)}}function Xn(i,...e){if(Un.logLevel<=ne.in.ERROR){const n=e.map(ns);Un.error(`Firestore (${rr}): ${i}`,...n)}}function Cr(i,...e){if(Un.logLevel<=ne.in.WARN){const n=e.map(ns);Un.warn(`Firestore (${rr}): ${i}`,...n)}}function ns(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Et(i="Unexpected state"){const e=`FIRESTORE (${rr}) INTERNAL ASSERTION FAILED: `+i;throw Xn(e),new Error(e)}function Mt(i,e){i||Et()}function mt(i,e){return i}const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends se.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class va{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class Ju{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jl{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=M=>this.i!==u?(u=this.i,n(M)):Promise.resolve();let f=new br;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new br,e.enqueueRetryable(()=>l(this.currentUser))};const w=()=>{const M=f;e.enqueueRetryable((0,m.Z)(function*(){yield M.promise,yield l(o.currentUser)}))},b=M=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=M,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(M=>b(M)),setTimeout(()=>{if(!this.auth){const M=this.t.getImmediate({optional:!0});M?b(M):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new br)}},0),w()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Mt("string"==typeof o.accessToken),new va(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mt(null===e||"string"==typeof e),new Vt(e)}}class so{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Lc{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new so(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const o=l=>{null!=l.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.R;return this.R=l.token,Ge("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?u(l):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Mt("string"==typeof n.token),this.R=n.token,new Fc(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fu(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Si{static newId(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=fu(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function rn(i,e){return i<e?-1:i>e?1:0}function rs(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class Bn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ze(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ze(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bn.fromMillis(Date.now())}static fromDate(e){return Bn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Bn(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new zt(e)}static min(){return new zt(new Bn(0,0))}static max(){return new zt(new Bn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ja{constructor(e,n,o){void 0===n?n=0:n>e.length&&Et(),void 0===o?o=e.length-n:o>e.length-n&&Et(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===ja.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ja?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class jn extends ja{construct(e,n,o){return new jn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new ze(Oe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new jn(n)}static emptyPath(){return new jn([])}}const oo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends ja{construct(e,n,o){return new yr(e,n,o)}static isValidIdentifier(e){return oo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new ze(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const w=e[u];if("\\"===w){if(u+1===e.length)throw new ze(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[u+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new ze(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=b,u+=2}else"`"===w?(f=!f,u++):"."!==w||f?(o+=w,u++):(l(),u++)}if(l(),f)throw new ze(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}class yt{constructor(e){this.path=e}static fromPath(e){return new yt(jn.fromString(e))}static fromName(e){return new yt(jn.fromString(e).popFirst(5))}static empty(){return new yt(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return jn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new jn(e.slice()))}}function zl(i){return new is(i.readTime,i.key,-1)}class is{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new is(zt.min(),yt.empty(),-1)}static max(){return new is(zt.max(),yt.empty(),-1)}}function pu(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=yt.comparator(i.documentKey,e.documentKey),0!==n?n:rn(i.largestBatchId,e.largestBatchId))}const uo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Uc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ls(i){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,m.Z)(function*(i){if(i.code!==Oe.FAILED_PRECONDITION||i.message!==uo)throw i;Ge("LocalStore","Unexpectedly lost primary lease")}),Ta.apply(this,arguments)}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Te((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Te?n:Te.resolve(n)}catch(n){return Te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Te.reject(n)}static resolve(e){return new Te((n,o)=>{n(e)})}static reject(e){return new Te((n,o)=>{o(e)})}static waitFor(e){return new Te((n,o)=>{let u=0,l=0,f=!1;e.forEach(w=>{++u,w.next(()=>{++l,f&&l===u&&n()},b=>o(b))}),f=!0,l===u&&n()})}static or(e){let n=Te.resolve(!1);for(const o of e)n=n.next(u=>u?Te.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Te((o,u)=>{const l=e.length,f=new Array(l);let w=0;for(let b=0;b<l;b++){const M=b;n(e[M]).next(B=>{f[M]=B,++w,w===l&&o(f)},B=>u(B))}})}static doWhile(e,n){return new Te((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function co(i){return"IndexedDbTransactionError"===i.name}let D=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.se(u),this.oe=u=>o.writeSequenceNumber(u))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function _(i){return null==i}function C(i){return 0===i&&1/i==-1/0}function ql(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Jo(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Wa(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class qn{constructor(e,n){this.comparator=e,this.root=n||Ii.EMPTY}insert(e,n){return new qn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(e){return new qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ii{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Ii.RED,this.left=u??Ii.EMPTY,this.right=l??Ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Ii(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Ii.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1,Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,n,o,u,l){return this}insert(e,n,o){return new Ii(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yn{constructor(e){this.comparator=e,this.data=new qn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gc(this.data.getIterator())}getIteratorFrom(e){return new Gc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yn(this.comparator);return n.data=e,n}}class Gc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fs{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new Fs([])}unionWith(e){let n=new Yn(yr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Fs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rs(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class nc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new nc("Invalid base64 string: "+l):l}}(e);return new Kr(n)}static fromUint8Array(e){const n=function(u){let l="";for(let f=0;f<u.length;++f)l+=String.fromCharCode(u[f]);return l}(e);return new Kr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kr.EMPTY_BYTE_STRING=new Kr("");const ea=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(i){if(Mt(!!i),"string"==typeof i){let e=0;const n=ea.exec(i);if(Mt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:fi(i.seconds),nanos:fi(i.nanos)}}function fi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Qs(i){return"string"==typeof i?Kr.fromBase64String(i):Kr.fromUint8Array(i)}function rc(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _u(i){const e=i.mapValue.fields.__previous_value__;return rc(e)?_u(e):e}function Wc(i){const e=Aa(i.mapValue.fields.__local_write_time__.timestampValue);return new Bn(e.seconds,e.nanos)}class qg{constructor(e,n,o,u,l,f,w,b,M){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=w,this.longPollingOptions=b,this.useFetchStreams=M}}class qa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qa&&e.projectId===this.projectId&&e.database===this.database}}const Eo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ca(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?rc(i)?4:rh(i)?9007199254740991:10:Et()}function ps(i,e){if(i===e)return!0;const n=Ca(i);if(n!==Ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Wc(i).isEqual(Wc(e));case 3:return function(u,l){if("string"==typeof u.timestampValue&&"string"==typeof l.timestampValue&&u.timestampValue.length===l.timestampValue.length)return u.timestampValue===l.timestampValue;const f=Aa(u.timestampValue),w=Aa(l.timestampValue);return f.seconds===w.seconds&&f.nanos===w.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Qs(i.bytesValue).isEqual(Qs(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,l){return fi(u.geoPointValue.latitude)===fi(l.geoPointValue.latitude)&&fi(u.geoPointValue.longitude)===fi(l.geoPointValue.longitude)}(i,e);case 2:return function(u,l){if("integerValue"in u&&"integerValue"in l)return fi(u.integerValue)===fi(l.integerValue);if("doubleValue"in u&&"doubleValue"in l){const f=fi(u.doubleValue),w=fi(l.doubleValue);return f===w?C(f)===C(w):isNaN(f)&&isNaN(w)}return!1}(i,e);case 9:return rs(i.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:return function(u,l){const f=u.mapValue.fields||{},w=l.mapValue.fields||{};if(ql(f)!==ql(w))return!1;for(const b in f)if(f.hasOwnProperty(b)&&(void 0===w[b]||!ps(f[b],w[b])))return!1;return!0}(i,e);default:return Et()}var l}function yu(i,e){return void 0!==(i.values||[]).find(n=>ps(n,e))}function To(i,e){if(i===e)return 0;const n=Ca(i),o=Ca(e);if(n!==o)return rn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return rn(i.booleanValue,e.booleanValue);case 2:return function(l,f){const w=fi(l.integerValue||l.doubleValue),b=fi(f.integerValue||f.doubleValue);return w<b?-1:w>b?1:w===b?0:isNaN(w)?isNaN(b)?0:-1:1}(i,e);case 3:return Kl(i.timestampValue,e.timestampValue);case 4:return Kl(Wc(i),Wc(e));case 5:return rn(i.stringValue,e.stringValue);case 6:return function(l,f){const w=Qs(l),b=Qs(f);return w.compareTo(b)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const w=l.split("/"),b=f.split("/");for(let M=0;M<w.length&&M<b.length;M++){const B=rn(w[M],b[M]);if(0!==B)return B}return rn(w.length,b.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const w=rn(fi(l.latitude),fi(f.latitude));return 0!==w?w:rn(fi(l.longitude),fi(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,f){const w=l.values||[],b=f.values||[];for(let M=0;M<w.length&&M<b.length;++M){const B=To(w[M],b[M]);if(B)return B}return rn(w.length,b.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,f){if(l===Eo.mapValue&&f===Eo.mapValue)return 0;if(l===Eo.mapValue)return 1;if(f===Eo.mapValue)return-1;const w=l.fields||{},b=Object.keys(w),M=f.fields||{},B=Object.keys(M);b.sort(),B.sort();for(let Y=0;Y<b.length&&Y<B.length;++Y){const oe=rn(b[Y],B[Y]);if(0!==oe)return oe;const be=To(w[b[Y]],M[B[Y]]);if(0!==be)return be}return rn(b.length,B.length)}(i.mapValue,e.mapValue);default:throw Et()}}function Kl(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return rn(i,e);const n=Aa(i),o=Aa(e),u=rn(n.seconds,o.seconds);return 0!==u?u:rn(n.nanos,o.nanos)}function vu(i){return qc(i)}function qc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const o=Aa(n);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Qs(i.bytesValue).toBase64():"referenceValue"in i?yt.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let o="[",u=!0;for(const l of n.values||[])u?u=!1:o+=",",o+=qc(l);return o+"]"}(i.arrayValue):"mapValue"in i?function(n){const o=Object.keys(n.fields||{}).sort();let u="{",l=!0;for(const f of o)l?l=!1:u+=",",u+=`${f}:${qc(n.fields[f])}`;return u+"}"}(i.mapValue):Et()}function Ps(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ic(i){return!!i&&"integerValue"in i}function ta(i){return!!i&&"arrayValue"in i}function Eu(i){return!!i&&"nullValue"in i}function Kc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function na(i){return!!i&&"mapValue"in i}function Ya(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Jo(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Ya(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ya(i.arrayValue.values[n]);return e}return Object.assign({},i)}function rh(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Pi{constructor(e){this.value=e}static empty(){return new Pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!na(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ya(n)}setAll(e){let n=yr.emptyPath(),o={},u=[];e.forEach((f,w)=>{if(!n.isImmediateParentOf(w)){const b=this.getFieldsMap(n);this.applyChanges(b,o,u),o={},u=[],n=w.popLast()}f?o[w.lastSegment()]=Ya(f):u.push(w.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());na(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];na(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Jo(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Pi(Ya(this.value))}}function sc(i){const e=[];return Jo(i.fields,(n,o)=>{const u=new yr([n]);if(na(o)){const l=sc(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new Fs(e)}class ir{constructor(e,n,o,u,l,f,w){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=w}static newInvalidDocument(e){return new ir(e,0,zt.min(),zt.min(),zt.min(),Pi.empty(),0)}static newFoundDocument(e,n,o,u){return new ir(e,1,n,zt.min(),o,u,0)}static newNoDocument(e,n){return new ir(e,2,n,zt.min(),zt.min(),Pi.empty(),0)}static newUnknownDocument(e,n){return new ir(e,3,n,zt.min(),zt.min(),Pi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(zt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ba{constructor(e,n){this.position=e,this.inclusive=n}}function oc(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?yt.comparator(yt.fromName(f.referenceValue),n.key):To(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function Jl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ps(i.position[n],e.position[n]))return!1;return!0}class ra{constructor(e,n="asc"){this.field=e,this.dir=n}}function ih(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class gs{}class xn extends gs{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new td(e,n,o):"array-contains"===n?new Yg(e,o):"in"===n?new oh(e,o):"not-in"===n?new Zg(e,o):"array-contains-any"===n?new Qg(e,o):new xn(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new Tu(e,o):new Kg(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(To(n,this.value)):null!==n&&Ca(this.value)===Ca(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends gs{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new hr(e,n)}matches(e){return Sa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Sa(i){return"and"===i.op}function Yc(i){return function Zc(i){for(const e of i.filters)if(e instanceof hr)return!1;return!0}(i)&&Sa(i)}function Ra(i){if(i instanceof xn)return i.field.canonicalString()+i.op.toString()+vu(i.value);if(Yc(i))return i.filters.map(e=>Ra(e)).join(",");{const e=i.filters.map(n=>Ra(n)).join(",");return`${i.op}(${e})`}}function Za(i,e){return i instanceof xn?(o=i,(u=e)instanceof xn&&o.op===u.op&&o.field.isEqual(u.field)&&ps(o.value,u.value)):i instanceof hr?function(o,u){return u instanceof hr&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((l,f,w)=>l&&Za(f,u.filters[w]),!0)}(i,e):void Et();var o,u}function ac(i){return i instanceof xn?`${(n=i).field.canonicalString()} ${n.op} ${vu(n.value)}`:i instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map(ac).join(" ,")+"}"}(i):"Filter";var n}class td extends xn{constructor(e,n,o){super(e,n,o),this.key=yt.fromName(o.referenceValue)}matches(e){const n=yt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Tu extends xn{constructor(e,n){super(e,"in",n),this.keys=sh(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Kg extends xn{constructor(e,n){super(e,"not-in",n),this.keys=sh(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sh(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>yt.fromName(o.referenceValue))}class Yg extends xn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ta(n)&&yu(n.arrayValue,this.value)}}class oh extends xn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&yu(this.value.arrayValue,n)}}class Zg extends xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!yu(this.value.arrayValue,n)}}class Qg extends xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ta(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>yu(this.value.arrayValue,o))}}class Xg{constructor(e,n=null,o=[],u=[],l=null,f=null,w=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=w,this.ce=null}}function ah(i,e=null,n=[],o=[],u=null,l=null,f=null){return new Xg(i,e,n,o,u,l,f)}function ho(i){const e=mt(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>Ra(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>vu(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>vu(o)).join(",")),e.ce=n}return e.ce}function wu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!ih(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Za(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Jl(i.startAt,e.startAt)&&Jl(i.endAt,e.endAt)}function Du(i){return yt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ia{constructor(e,n=null,o=[],u=[],l=null,f="F",w=null,b=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=w,this.endAt=b,this.le=null,this.he=null,this.Pe=null}}function po(i){return new ia(i)}function uh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function uc(i){return null!==i.collectionGroup}function go(i){const e=mt(i);if(null===e.le){e.le=[];const n=new Set;for(const l of e.explicitOrderBy)e.le.push(l),n.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let w=new Yn(yr.comparator);return f.filters.forEach(b=>{b.getFlattenedFilters().forEach(M=>{M.isInequality()&&(w=w.add(M.field))})}),w})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.le.push(new ra(l,o))}),n.has(yr.keyField().canonicalString())||e.le.push(new ra(yr.keyField(),o))}return e.le}function ms(i){const e=mt(i);return e.he||(e.he=function Xc(i,e){if("F"===i.limitType)return ah(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new ra(u.field,"desc"===u.dir?"asc":"desc"));const n=i.endAt?new ba(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new ba(i.startAt.position,i.startAt.inclusive):null;return ah(i.path,i.collectionGroup,e,i.filters,i.limit,n,o)}}(e,go(i))),e.he}function Jc(i,e){const n=i.filters.concat([e]);return new ia(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function el(i,e,n){return new ia(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ss(i,e){return wu(ms(i),ms(e))&&i.limitType===e.limitType}function tl(i){return`${ho(ms(i))}|lt:${i.limitType}`}function wo(i){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(u=>ac(u)).join(", ")}]`),_(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(u=>{return`${(f=u).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(u=>vu(u)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(u=>vu(u)).join(",")),`Target(${o})`}(ms(i))}; limitType=${i.limitType})`}function nl(i,e){return e.isFoundDocument()&&function(o,u){const l=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):yt.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(i,e)&&function(o,u){for(const l of go(o))if(!l.field.isKeyField()&&null===u.data.field(l.field))return!1;return!0}(i,e)&&function(o,u){for(const l of o.filters)if(!l.matches(u))return!1;return!0}(i,e)&&(u=e,!((o=i).startAt&&!function(f,w,b){const M=oc(f,w,b);return f.inclusive?M<=0:M<0}(o.startAt,go(o),u)||o.endAt&&!function(f,w,b){const M=oc(f,w,b);return f.inclusive?M>=0:M>0}(o.endAt,go(o),u)));var o,u}function rd(i){return(e,n)=>{let o=!1;for(const u of go(i)){const l=Of(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Of(i,e,n){const o=i.field.isKeyField()?yt.comparator(e.key,n.key):function(l,f,w){const b=f.data.field(l),M=w.data.field(l);return null!==b&&null!==M?To(b,M):Et()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Et()}}class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Jo(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Wa(this.inner)}size(){return this.innerSize}}const I=new qn(yt.comparator);function h(){return I}const p=new qn(yt.comparator);function E(...i){let e=p;for(const n of i)e=e.insert(n.key,n);return e}function O(i){let e=p;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function G(){return Re()}function ue(){return Re()}function Re(){return new sa(i=>i.toString(),(i,e)=>i.isEqual(e))}const Je=new qn(yt.comparator),Ot=new Yn(yt.comparator);function st(...i){let e=Ot;for(const n of i)e=e.add(n);return e}const Fn=new Yn(rn);function ko(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:C(e)?"-0":e}}function cc(i){return{integerValue:""+i}}function id(i,e){return function R(i){return"number"==typeof i&&Number.isInteger(i)&&!C(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?cc(e):ko(i,e)}class Do{constructor(){this._=void 0}}function Cu(i,e,n){return i instanceof Pa?function(u,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return l&&rc(l)&&(l=_u(l)),l&&(f.fields.__previous_value__=l),{mapValue:f}}(n,e):i instanceof Ma?od(i,e):i instanceof xa?lh(i,e):function(u,l){const f=sd(u,l),w=lc(f)+lc(u.Ie);return ic(f)&&ic(u.Ie)?cc(w):ko(u.serializer,w)}(i,e)}function ch(i,e,n){return i instanceof Ma?od(i,e):i instanceof xa?lh(i,e):n}function sd(i,e){return i instanceof Na?ic(o=e)||(l=o)&&"doubleValue"in l?e:{integerValue:0}:null;var o,l}class Pa extends Do{}class Ma extends Do{constructor(e){super(),this.elements=e}}function od(i,e){const n=kf(e);for(const o of i.elements)n.some(u=>ps(u,o))||n.push(o);return{arrayValue:{values:n}}}class xa extends Do{constructor(e){super(),this.elements=e}}function lh(i,e){let n=kf(e);for(const o of i.elements)n=n.filter(u=>!ps(u,o));return{arrayValue:{values:n}}}class Na extends Do{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function lc(i){return fi(i.integerValue||i.doubleValue)}function kf(i){return ta(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class wI{constructor(e,n){this.version=e,this.transformResults=n}}class Jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class dh{}function em(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new rl(i.key,Jr.none()):new ud(i.key,i.data,Jr.none());{const n=i.data,o=Pi.empty();let u=new Yn(yr.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new bu(i.key,o,new Fs(u.toArray()),Jr.none())}}function Ff(i,e,n){i instanceof ud?function(u,l,f){const w=u.value.clone(),b=gy(u.fieldTransforms,l,f.transformResults);w.setAll(b),l.convertToFoundDocument(f.version,w).setHasCommittedMutations()}(i,e,n):i instanceof bu?function(u,l,f){if(!Lf(u.precondition,l))return void l.convertToUnknownDocument(f.version);const w=gy(u.fieldTransforms,l,f.transformResults),b=l.data;b.setAll(py(u)),b.setAll(w),l.convertToFoundDocument(f.version,b).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function hh(i,e,n,o){return i instanceof ud?function(l,f,w,b){if(!Lf(l.precondition,f))return w;const M=l.value.clone(),B=my(l.fieldTransforms,b,f);return M.setAll(B),f.convertToFoundDocument(f.version,M).setHasLocalMutations(),null}(i,e,n,o):i instanceof bu?function(l,f,w,b){if(!Lf(l.precondition,f))return w;const M=my(l.fieldTransforms,b,f),B=f.data;return B.setAll(py(l)),B.setAll(M),f.convertToFoundDocument(f.version,B).setHasLocalMutations(),null===w?null:w.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(Y=>Y.field))}(i,e,n,o):(w=n,Lf(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):w);var f,w}function DI(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=sd(o.transform,u||null);null!=l&&(null===n&&(n=Pi.empty()),n.set(o.field,l))}return n||null}function fh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=i.fieldTransforms)&&void 0===u||o&&u&&rs(o,u,(l,f)=>function Jg(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(o=i.transform)instanceof Ma&&u instanceof Ma||o instanceof xa&&u instanceof xa?rs(o.elements,u.elements,ps):o instanceof Na&&u instanceof Na?ps(o.Ie,u.Ie):o instanceof Pa&&u instanceof Pa);var o,u}(l,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var o,u}class ud extends dh{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class bu extends dh{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function py(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function gy(i,e,n){const o=new Map;Mt(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,w=e.data.field(l.field);o.set(l.field,ch(f,w,n[u]))}return o}function my(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,Cu(l,f,e))}return o}class rl extends dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class il extends dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sl{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Ff(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=hh(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=hh(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=ue();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let w=this.applyToLocalView(f,l.mutatedFields);w=n.has(u.key)?null:w;const b=em(f,w);null!==b&&o.set(u.key,b),f.isValidDocument()||f.convertToNoDocument(zt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&rs(this.mutations,e.mutations,(n,o)=>fh(n,o))&&rs(this.baseMutations,e.baseMutations,(n,o)=>fh(n,o))}}class ph{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Mt(e.mutations.length===o.length);let u=Je;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new ph(e,n,o,u)}}class gh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ol{constructor(e,n){this.count=e,this.unchangedNames=n}}var xi,Zn;function ld(i){if(void 0===i)return Xn("GRPC error has no .code"),Oe.UNKNOWN;switch(i){case xi.OK:return Oe.OK;case xi.CANCELLED:return Oe.CANCELLED;case xi.UNKNOWN:return Oe.UNKNOWN;case xi.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case xi.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case xi.INTERNAL:return Oe.INTERNAL;case xi.UNAVAILABLE:return Oe.UNAVAILABLE;case xi.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case xi.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case xi.NOT_FOUND:return Oe.NOT_FOUND;case xi.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case xi.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case xi.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case xi.ABORTED:return Oe.ABORTED;case xi.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case xi.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case xi.DATA_LOSS:return Oe.DATA_LOSS;default:return Et()}}(Zn=xi||(xi={}))[Zn.OK=0]="OK",Zn[Zn.CANCELLED=1]="CANCELLED",Zn[Zn.UNKNOWN=2]="UNKNOWN",Zn[Zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zn[Zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zn[Zn.NOT_FOUND=5]="NOT_FOUND",Zn[Zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zn[Zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zn[Zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zn[Zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zn[Zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zn[Zn.ABORTED=10]="ABORTED",Zn[Zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zn[Zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zn[Zn.INTERNAL=13]="INTERNAL",Zn[Zn.UNAVAILABLE=14]="UNAVAILABLE",Zn[Zn.DATA_LOSS=15]="DATA_LOSS";const _y=new Nn([4294967295,4294967295],0);function rm(i){const e=function nm(){return new TextEncoder}().encode(i),n=new cr;return n.update(e),new Uint8Array(n.digest())}function Vf(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Nn([n,o],0),new Nn([u,l],0)]}class dd{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new hd(`Invalid padding: ${n}`);if(o<0)throw new hd(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new hd(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new hd(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Nn.fromNumber(this.Te)}de(e,n,o){let u=e.add(n.multiply(Nn.fromNumber(o)));return 1===u.compare(_y)&&(u=new Nn([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=rm(e),[o,u]=Vf(n);for(let l=0;l<this.hashCount;l++){const f=this.de(o,u,l);if(!this.Ae(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new dd(l,u,n);return o.forEach(w=>f.insert(w)),f}insert(e){if(0===this.Te)return;const n=rm(e),[o,u]=Vf(n);for(let l=0;l<this.hashCount;l++){const f=this.de(o,u,l);this.Re(f)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class hd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fd{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new fd(zt.min(),u,new qn(rn),h(),st())}}class pd{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new pd(o,n,st(),st(),st())}}class gd{constructor(e,n,o,u){this.Ve=e,this.removedTargetIds=n,this.key=o,this.me=u}}class im{constructor(e,n){this.targetId=e,this.fe=n}}class sm{constructor(e,n,o=Kr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Xs{constructor(){this.ge=0,this.pe=mh(),this.ye=Kr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=st(),n=st(),o=st();return this.pe.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Et()}}),new pd(this.ye,this.we,e,n,o)}Fe(){this.Se=!1,this.pe=mh()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Uf{constructor(e){this.Le=e,this.ke=new Map,this.qe=h(),this.Qe=Bf(),this.Ke=new qn(rn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(n);break;case 3:this.je(n)&&(o.Be(),o.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.Ce(e.resumeToken));break;default:Et()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((o,u)=>{this.je(u)&&n(u)})}Je(e){const n=e.targetId,o=e.fe.count,u=this.Ye(n);if(u){const l=u.target;if(Du(l))if(0===o){const f=new yt(l.path);this.We(n,f,ir.newNoDocument(f,zt.min()))}else Mt(1===o);else{const f=this.Ze(n);if(f!==o){const w=this.Xe(e),b=w?this.et(w,e,f):1;0!==b&&(this.He(n),this.Ke=this.Ke.insert(n,2===b?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:l=0}=n;let f,w;try{f=Qs(o).toUint8Array()}catch(b){if(b instanceof nc)return Cr("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{w=new dd(f,u,l)}catch(b){return Cr(b instanceof hd?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return 0===w.Te?null:w}et(e,n,o){return n.fe.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Le.getRemoteKeysForTarget(n);let u=0;return o.forEach(l=>{const f=this.Le.nt(),w=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(w)||(this.We(n,l,null),u++)}),u}it(e){const n=new Map;this.ke.forEach((l,f)=>{const w=this.Ye(f);if(w){if(l.current&&Du(w.target)){const b=new yt(w.target.path);null!==this.qe.get(b)||this.st(f,b)||this.We(f,b,ir.newNoDocument(b,e))}l.De&&(n.set(f,l.ve()),l.Fe())}});let o=st();this.Qe.forEach((l,f)=>{let w=!0;f.forEachWhile(b=>{const M=this.Ye(b);return!M||"TargetPurposeLimboResolution"===M.purpose||(w=!1,!1)}),w&&(o=o.add(l))}),this.qe.forEach((l,f)=>f.setReadTime(e));const u=new fd(e,n,this.Ke,this.qe,o);return this.qe=h(),this.Qe=Bf(),this.Ke=new qn(rn),u}Ue(e,n){if(!this.je(e))return;const o=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,o),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const u=this.ze(e);this.st(e,n)?u.Me(n,1):u.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),o&&(this.qe=this.qe.insert(n,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Xs,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Yn(rn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Ge("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Xs),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Bf(){return new qn(yt.comparator)}function mh(){return new qn(yt.comparator)}const Vs={asc:"ASCENDING",desc:"DESCENDING"},md={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},om={and:"AND",or:"OR"};class am{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jf(i,e){return i.useProto3Json||_(e)?e:{value:e}}function hc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function um(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function cm(i,e){return hc(i,e.toTimestamp())}function Ni(i){return Mt(!!i),zt.fromTimestamp(function(n){const o=Aa(n);return new Bn(o.seconds,o.nanos)}(i))}function _h(i,e){return(o=i,new jn(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function lm(i){const e=jn.fromString(i);return Mt(vm(e)),e}function _d(i,e){return _h(i.databaseId,e.path)}function Lo(i,e){const n=lm(e);if(n.get(1)!==i.databaseId.projectId)throw new ze(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ze(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new yt(hm(n))}function yd(i,e){return _h(i.databaseId,e)}function Xa(i){return new jn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function hm(i){return Mt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function fm(i,e,n){return{name:_d(i,e),fields:n.value.mapValue.fields}}function yh(i,e){return{documents:[yd(i,e.path)]}}function ul(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=yd(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=yd(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(b){if(0!==b.length)return vh(hr.create(b,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(b){if(0!==b.length)return b.map(M=>{return{field:Ja((Y=M).field),direction:vy(Y.dir)};var Y})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=jf(i,e.limit);return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(n.structuredQuery.endAt=function(b){return{before:!b.inclusive,values:b.position}}(e.endAt)),n;var b}function _m(i){let e=function dm(i){const e=lm(i);return 4===e.length?jn.emptyPath():hm(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Mt(1===o);const B=n.from[0];B.allDescendants?u=B.collectionId:e=e.child(B.collectionId)}let l=[];n.where&&(l=function(Y){const oe=ym(Y);return oe instanceof hr&&Yc(oe)?oe.getFilters():[oe]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(oe=>{return new ra(eu((at=oe).field),function(pt){switch(pt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(at.direction));var at}));let w=null;n.limit&&(w=function(Y){let oe;return oe="object"==typeof Y?Y.value:Y,_(oe)?null:oe}(n.limit));let b=null;var Y;n.startAt&&(b=new ba((Y=n.startAt).values||[],!!Y.before));let M=null;return n.endAt&&(M=function(Y){return new ba(Y.values||[],!Y.before)}(n.endAt)),function fo(i,e,n,o,u,l,f,w){return new ia(i,e,n,o,u,l,f,w)}(e,u,f,l,w,"F",b,M)}function ym(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=eu(n.unaryFilter.field);return xn.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=eu(n.unaryFilter.field);return xn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=eu(n.unaryFilter.field);return xn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eu(n.unaryFilter.field);return xn.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(i):void 0!==i.fieldFilter?xn.create(eu((n=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return hr.create(n.compositeFilter.filters.map(o=>ym(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Et()}}(n.compositeFilter.op))}(i):Et();var n}function vy(i){return Vs[i]}function Iy(i){return md[i]}function Ey(i){return om[i]}function Ja(i){return{fieldPath:i.canonicalString()}}function eu(i){return yr.fromServerFormat(i.fieldPath)}function vh(i){return i instanceof xn?function(n){if("=="===n.op){if(Kc(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(Eu(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Kc(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(Eu(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:Iy(n.op),value:n.value}}}(i):i instanceof hr?function(n){const o=n.getFilters().map(u=>vh(u));return 1===o.length?o[0]:{compositeFilter:{op:Ey(n.op),filters:o}}}(i):Et()}function Hf(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vm(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class tu{constructor(e,n,o,u,l=zt.min(),f=zt.min(),w=Kr.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=w,this.expectedCount=b}withSequenceNumber(e){return new tu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ih{constructor(e){this.ut=e}}function Eh(i){const e=_m({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?el(e,e.limit,"L"):e}class ka{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(fi(e.integerValue));else if("doubleValue"in e){const o=fi(e.doubleValue);isNaN(o)?this.Tt(n,13):(this.Tt(n,15),C(o)?n.Et(0):n.Et(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Tt(n,20),"string"==typeof o?n.dt(o):(n.dt(`${o.seconds||""}`),n.Et(o.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Qs(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.Tt(n,45),n.Et(o.latitude||0),n.Et(o.longitude||0)}else"mapValue"in e?rh(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Et()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const o=e.fields||{};this.Tt(n,55);for(const u of Object.keys(o))this.At(u,n),this.Pt(o[u],n)}yt(e,n){const o=e.values||[];this.Tt(n,50);for(const u of o)this.Pt(u,n)}ft(e,n){this.Tt(n,37),yt.fromName(e).path.forEach(o=>{this.Tt(n,60),this.wt(o,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}ka.St=new ka;class dl{constructor(){this.on=new hl}addToCollectionParentIndex(e,n){return this.on.add(n),Te.resolve()}getCollectionParents(e,n){return Te.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Te.resolve()}deleteFieldIndex(e,n){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,n){return Te.resolve()}getDocumentsMatchingTarget(e,n){return Te.resolve(null)}getIndexType(e,n){return Te.resolve(0)}getFieldIndexes(e,n){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,n){return Te.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return Te.resolve(is.min())}updateCollectionGroup(e,n,o){return Te.resolve()}updateIndexEntries(e,n){return Te.resolve()}}class hl{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Yn(jn.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Yn(jn.comparator)).toArray()}}new Uint8Array(0);class Us{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Us(e,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Us.DEFAULT_COLLECTION_PERCENTILE=10,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Us.DEFAULT=new Us(41943040,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Us.DISABLED=new Us(-1,0,0);class _c{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new _c(0)}static Nn(){return new _c(-1)}}class Lm{constructor(){this.changes=new sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ir.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Te.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class by{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Fm{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&hh(o.mutation,u,Fs.empty(),Bn.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,st()).next(()=>o))}getLocalViewOfDocuments(e,n,o=st()){const u=G();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=E();return l.forEach((w,b)=>{f=f.insert(w,b.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=G();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,st()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,w)=>{n.set(f,w)})})}computeViews(e,n,o,u){let l=h();const f=Re(),w=Re();return n.forEach((b,M)=>{const B=o.get(M.key);u.has(M.key)&&(void 0===B||B.mutation instanceof bu)?l=l.insert(M.key,M):void 0!==B?(f.set(M.key,B.mutation.getFieldMask()),hh(B.mutation,M,B.mutation.getFieldMask(),Bn.now())):f.set(M.key,Fs.empty())}),this.recalculateAndSaveOverlays(e,l).next(b=>(b.forEach((M,B)=>f.set(M,B)),n.forEach((M,B)=>{var Y;return w.set(M,new by(B,null!==(Y=f.get(M))&&void 0!==Y?Y:null))}),w))}recalculateAndSaveOverlays(e,n){const o=Re();let u=new qn((f,w)=>f-w),l=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const w of f)w.keys().forEach(b=>{const M=n.get(b);if(null===M)return;let B=o.get(b)||Fs.empty();B=w.applyToLocalView(M,B),o.set(b,B);const Y=(u.get(w.batchId)||st()).add(b);u=u.insert(w.batchId,Y)})}).next(()=>{const f=[],w=u.getReverseIterator();for(;w.hasNext();){const b=w.getNext(),M=b.key,B=b.value,Y=ue();B.forEach(oe=>{if(!l.has(oe)){const be=em(n.get(oe),o.get(oe));null!==be&&Y.set(oe,be),l=l.add(oe)}}),f.push(this.documentOverlayCache.saveOverlays(e,M,Y))}return Te.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,u){return yt.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):uc(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,u):this.getDocumentsMatchingCollectionQuery(e,n,o,u);var f}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Te.resolve(G());let w=-1,b=l;return f.next(M=>Te.forEach(M,(B,Y)=>(w<Y.largestBatchId&&(w=Y.largestBatchId),l.get(B)?Te.resolve():this.remoteDocumentCache.getEntry(e,B).next(oe=>{b=b.insert(B,oe)}))).next(()=>this.populateOverlays(e,M,l)).next(()=>this.computeViews(e,b,M,st())).next(B=>({batchId:w,changes:O(B)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new yt(n)).next(o=>{let u=E();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o,u){const l=n.collectionGroup;let f=E();return this.indexManager.getCollectionParents(e,l).next(w=>Te.forEach(w,b=>{const M=(Y=n,oe=b.child(l),new ia(oe,null,Y.explicitOrderBy.slice(),Y.filters.slice(),Y.limit,Y.limitType,Y.startAt,Y.endAt));var Y,oe;return this.getDocumentsMatchingCollectionQuery(e,M,o,u).next(B=>{B.forEach((Y,oe)=>{f=f.insert(Y,oe)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,o,u){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,l,u))).next(f=>{l.forEach((b,M)=>{const B=M.getKey();null===f.get(B)&&(f=f.insert(B,ir.newInvalidDocument(B)))});let w=E();return f.forEach((b,M)=>{const B=l.get(b);void 0!==B&&hh(B.mutation,M,Fs.empty(),Bn.now()),nl(n,M)&&(w=w.insert(b,M))}),w})}}class Sy{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Te.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(u=n).id,version:u.version,createTime:Ni(u.createTime)}),Te.resolve();var u}getNamedQuery(e,n){return Te.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(u=n).name,query:Eh(u.bundledQuery),readTime:Ni(u.readTime)}),Te.resolve();var u}}class Ry{constructor(){this.overlays=new qn(yt.comparator),this.lr=new Map}getOverlay(e,n){return Te.resolve(this.overlays.get(n))}getOverlays(e,n){const o=G();return Te.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.lt(e,n,l)}),Te.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.lr.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.lr.delete(o)),Te.resolve()}getOverlaysForCollection(e,n,o){const u=G(),l=n.length+1,f=new yt(n.child("")),w=this.overlays.getIteratorFrom(f);for(;w.hasNext();){const b=w.getNext().value,M=b.getKey();if(!n.isPrefixOf(M.path))break;M.path.length===l&&b.largestBatchId>o&&u.set(b.getKey(),b)}return Te.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new qn((M,B)=>M-B);const f=this.overlays.getIterator();for(;f.hasNext();){const M=f.getNext().value;if(M.getKey().getCollectionGroup()===n&&M.largestBatchId>o){let B=l.get(M.largestBatchId);null===B&&(B=G(),l=l.insert(M.largestBatchId,B)),B.set(M.getKey(),M)}}const w=G(),b=l.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((M,B)=>w.set(M,B)),!(w.size()>=u)););return Te.resolve(w)}lt(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.lr.get(u.largestBatchId).delete(o.key);this.lr.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new gh(n,o));let l=this.lr.get(n);void 0===l&&(l=st(),this.lr.set(n,l)),this.lr.set(n,l.add(o.key))}}class Rh{constructor(){this.hr=new Yn(Oi.Pr),this.Ir=new Yn(Oi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const o=new Oi(e,n);this.hr=this.hr.add(o),this.Ir=this.Ir.add(o)}Er(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.dr(new Oi(e,n))}Ar(e,n){e.forEach(o=>this.removeReference(o,n))}Rr(e){const n=new yt(new jn([])),o=new Oi(n,e),u=new Oi(n,e+1),l=[];return this.Ir.forEachInRange([o,u],f=>{this.dr(f),l.push(f.key)}),l}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new yt(new jn([])),o=new Oi(n,e),u=new Oi(n,e+1);let l=st();return this.Ir.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new Oi(e,0),o=this.hr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Oi{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return yt.comparator(e.key,n.key)||rn(e.gr,n.gr)}static Tr(e,n){return rn(e.gr,n.gr)||yt.comparator(e.key,n.key)}}class Vm{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Yn(Oi.Pr)}checkEmpty(e){return Te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.pr;this.pr++;const f=new sl(l,n,o,u);this.mutationQueue.push(f);for(const w of u)this.yr=this.yr.add(new Oi(w.key,l)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return Te.resolve(f)}lookupMutationBatch(e,n){return Te.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Sr(n+1),l=u<0?0:u;return Te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Oi(n,0),u=new Oi(n,Number.POSITIVE_INFINITY),l=[];return this.yr.forEachInRange([o,u],f=>{const w=this.wr(f.gr);l.push(w)}),Te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Yn(rn);return n.forEach(u=>{const l=new Oi(u,0),f=new Oi(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([l,f],w=>{o=o.add(w.gr)})}),Te.resolve(this.br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;yt.isDocumentKey(l)||(l=l.child(""));const f=new Oi(new yt(l),0);let w=new Yn(rn);return this.yr.forEachWhile(b=>{const M=b.key.path;return!!o.isPrefixOf(M)&&(M.length===u&&(w=w.add(b.gr)),!0)},f),Te.resolve(this.br(w))}br(e){const n=[];return e.forEach(o=>{const u=this.wr(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Mt(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.yr;return Te.forEach(n.mutations,u=>{const l=new Oi(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=o})}Fn(e){}containsKey(e,n){const o=new Oi(n,0),u=this.yr.firstAfterOrEqual(o);return Te.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Te.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Xf{constructor(e){this.Cr=e,this.docs=new qn(yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Cr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Te.resolve(o?o.document.mutableCopy():ir.newInvalidDocument(n))}getEntries(e,n){let o=h();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():ir.newInvalidDocument(u))}),Te.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=h();const f=n.path,w=new yt(f.child("")),b=this.docs.getIteratorFrom(w);for(;b.hasNext();){const{key:M,value:{document:B}}=b.getNext();if(!f.isPrefixOf(M.path))break;M.path.length>f.length+1||pu(zl(B),o)<=0||(u.has(B.key)||nl(n,B))&&(l=l.insert(B.key,B.mutableCopy()))}return Te.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Et()}vr(e,n){return Te.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Py(this)}getSize(e){return Te.resolve(this.size)}}class Py extends Lm{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this._r.addEntry(e,u)):this._r.removeEntry(o)}),Te.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class vc{constructor(e){this.persistence=e,this.Fr=new sa(n=>ho(n),wu),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Rh,this.targetCount=0,this.Nr=_c.On()}forEachTarget(e,n){return this.Fr.forEach((o,u)=>n(u)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Mr&&(this.Mr=n),Te.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new _c(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Te.resolve()}updateTargetData(e,n){return this.kn(n),Te.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.Fr.forEach((f,w)=>{w.sequenceNumber<=n&&null===o.get(w.targetId)&&(this.Fr.delete(f),l.push(this.removeMatchingKeysForTargetId(e,w.targetId)),u++)}),Te.waitFor(l).next(()=>u)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fr.get(n)||null;return Te.resolve(o)}addMatchingKeys(e,n,o){return this.Or.Er(n,o),Te.resolve()}removeMatchingKeys(e,n,o){this.Or.Ar(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Te.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Te.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Or.mr(n);return Te.resolve(o)}containsKey(e,n){return Te.resolve(this.Or.containsKey(n))}}class Jf{constructor(e,n){this.Br={},this.overlays={},this.Lr=new D(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new vc(this),this.indexManager=new dl,this.remoteDocumentCache=new Xf(o=>this.referenceDelegate.Qr(o)),this.serializer=new Ih(n),this.Kr=new Sy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ry,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Br[e.toKey()];return o||(o=new Vm(n,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,o){Ge("MemoryPersistence","Starting transaction:",e);const u=new My(this.Lr.next());return this.referenceDelegate.$r(),o(u).next(l=>this.referenceDelegate.Ur(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Wr(e,n){return Te.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,n)))}}class My extends Uc{constructor(e){super(),this.currentSequenceNumber=e}}class _l{constructor(e){this.persistence=e,this.Gr=new Rh,this.zr=null}static jr(e){return new _l(e)}get Hr(){if(this.zr)return this.zr;throw Et()}addReference(e,n,o){return this.Gr.addReference(o,n),this.Hr.delete(o.toString()),Te.resolve()}removeReference(e,n,o){return this.Gr.removeReference(o,n),this.Hr.add(o.toString()),Te.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Te.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(u=>this.Hr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Hr.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.Hr,o=>{const u=yt.fromPath(o);return this.Jr(e,u).next(l=>{l||n.removeEntry(u,zt.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(o=>{o?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Te.or([()=>Te.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Ic{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.ki=o,this.qi=u}static Qi(e,n){let o=st(),u=st();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new Ic(e,n.fromCache,o,u)}}class Sd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rp{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,o,u){const l={result:null};return this.zi(e,n).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.ji(e,n,u,o).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new Sd;return this.Hi(e,n,f).next(w=>{if(l.result=w,this.$i)return this.Ji(e,n,f,w.size)})}).next(()=>l.result)}Ji(e,n,o,u){return o.documentReadCount<this.Ui?(kr()<=ne.in.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Te.resolve()):(kr()<=ne.in.DEBUG&&Ge("QueryEngine","Query:",wo(n),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Wi*u?(kr()<=ne.in.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ms(n))):Te.resolve())}zi(e,n){if(uh(n))return Te.resolve(null);let o=ms(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=el(n,null,"F"),o=ms(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=st(...l);return this.Gi.getDocuments(e,f).next(w=>this.indexManager.getMinOffset(e,o).next(b=>{const M=this.Yi(n,w);return this.Zi(n,M,f,b.readTime)?this.zi(e,el(n,null,"F")):this.Xi(e,M,n,b)}))})))}ji(e,n,o,u){return uh(n)||u.isEqual(zt.min())?Te.resolve(null):this.Gi.getDocuments(e,o).next(l=>{const f=this.Yi(n,l);return this.Zi(n,f,o,u)?Te.resolve(null):(kr()<=ne.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),wo(n)),this.Xi(e,f,n,function Vc(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=zt.fromTimestamp(1e9===o?new Bn(n+1,0):new Bn(n,o));return new is(u,yt.empty(),e)}(u,-1)).next(w=>w))})}Yi(e,n){let o=new Yn(rd(e));return n.forEach((u,l)=>{nl(e,l)&&(o=o.add(l))}),o}Zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Hi(e,n,o){return kr()<=ne.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",wo(n)),this.Gi.getDocumentsMatchingQuery(e,n,is.min(),o)}Xi(e,n,o,u){return this.Gi.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class jm{constructor(e,n,o,u){this.persistence=e,this.es=n,this.serializer=u,this.ts=new qn(rn),this.ns=new sa(l=>ho(l),wu),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(o)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fm(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function ip(i,e){return sp.apply(this,arguments)}function sp(){return sp=(0,m.Z)(function*(i,e){const n=mt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.os(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],w=[];let b=st();for(const M of u){f.push(M.batchId);for(const B of M.mutations)b=b.add(B.key)}for(const M of l){w.push(M.batchId);for(const B of M.mutations)b=b.add(B.key)}return n.localDocuments.getDocuments(o,b).next(M=>({_s:M,removedBatchIds:f,addedBatchIds:w}))})})}),sp.apply(this,arguments)}function op(i){const e=mt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function ap(i,e){const n=mt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function ku(i,e,n){return xh.apply(this,arguments)}function xh(){return xh=(0,m.Z)(function*(i,e,n){const o=mt(i),u=o.ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!co(f))throw f;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.ts=o.ts.remove(e),o.ns.delete(u.target)}),xh.apply(this,arguments)}function Rd(i,e,n){const o=mt(i);let u=zt.min(),l=st();return o.persistence.runTransaction("Execute query","readwrite",f=>function(b,M,B){const Y=mt(b),oe=Y.ns.get(B);return void 0!==oe?Te.resolve(Y.ts.get(oe)):Y.qr.getTargetData(M,B)}(o,f,ms(e)).next(w=>{if(w)return u=w.lastLimboFreeSnapshotVersion,o.qr.getMatchingKeysForTargetId(f,w.targetId).next(b=>{l=b})}).next(()=>o.es.getDocumentsMatchingQuery(f,e,n?u:zt.min(),n?l:st())).next(w=>(function Nh(i,e,n){let o=i.rs.get(e)||zt.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.rs.set(e,o)}(o,function nd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),w),{documents:w,ls:l})))}class lp{constructor(){this.activeTargetIds=function Mi(){return Fn}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zm{constructor(){this.eo=new lp,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,o){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new lp,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hp{ro(e){}shutdown(){}}class fp{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lh=null;function Fh(){return null===Lh?Lh=268435456+Math.round(2147483648*Math.random()):Lh++,"0x"+Lh.toString(16)}const pp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bI{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Bs="WebChannelConnection";class Oy extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.mo=o+"://"+n.host,this.fo=`projects/${u}/databases/${l}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${l}`}get yo(){return!1}wo(n,o,u,l,f){const w=Fh(),b=this.So(n,o);Ge("RestConnection",`Sending RPC '${n}' ${w}:`,b,u);const M={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(M,l,f),this.Do(n,b,M,u).then(B=>(Ge("RestConnection",`Received RPC '${n}' ${w}: `,B),B),B=>{throw Cr("RestConnection",`RPC '${n}' ${w} failed with error: `,B,"url: ",b,"request:",u),B})}Co(n,o,u,l,f,w){return this.wo(n,o,u,l,f)}bo(n,o,u){n["X-Goog-Api-Client"]="gl-js/ fire/"+rr,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((l,f)=>n[f]=l),u&&u.headers.forEach((l,f)=>n[f]=l)}So(n,o){return`${this.mo}/v1/${o}:${pp[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,o,u){const l=Fh();return new Promise((f,w)=>{const b=new Dt;b.setWithCredentials(!0),b.listenOnce(S.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case F.NO_ERROR:const B=b.getResponseJson();Ge(Bs,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(B)),f(B);break;case F.TIMEOUT:Ge(Bs,`RPC '${e}' ${l} timed out`),w(new ze(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case F.HTTP_ERROR:const Y=b.getStatus();if(Ge(Bs,`RPC '${e}' ${l} failed with status:`,Y,"response text:",b.getResponseText()),Y>0){let oe=b.getResponseJson();Array.isArray(oe)&&(oe=oe[0]);const be=oe?.error;if(be&&be.status&&be.message){const at=function(pt){const Gt=pt.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(Gt)>=0?Gt:Oe.UNKNOWN}(be.status);w(new ze(at,be.message))}else w(new ze(Oe.UNKNOWN,"Server responded with status "+b.getStatus()))}else w(new ze(Oe.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{Ge(Bs,`RPC '${e}' ${l} completed.`)}});const M=JSON.stringify(u);Ge(Bs,`RPC '${e}' ${l} sending request:`,u),b.send(n,"POST",M,o,15)})}vo(e,n,o){const u=Fh(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=hu(),w=T(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},M=this.longPollingOptions.timeoutSeconds;void 0!==M&&(b.longPollingTimeout=Math.round(1e3*M)),this.useFetchStreams&&(b.xmlHttpFactory=new Ee({})),this.bo(b.initMessageHeaders,n,o),b.encodeInitMessageHeaders=!0;const B=l.join("");Ge(Bs,`Creating RPC '${e}' stream ${u}: ${B}`,b);const Y=f.createWebChannel(B,b);let oe=!1,be=!1;const at=new bI({co:pt=>{be?Ge(Bs,`Not sending because RPC '${e}' stream ${u} is closed:`,pt):(oe||(Ge(Bs,`Opening RPC '${e}' stream ${u} transport.`),Y.open(),oe=!0),Ge(Bs,`RPC '${e}' stream ${u} sending:`,pt),Y.send(pt))},lo:()=>Y.close()}),gt=(pt,Gt,dn)=>{pt.listen(Gt,on=>{try{dn(on)}catch($n){setTimeout(()=>{throw $n},0)}})};return gt(Y,Fe.EventType.OPEN,()=>{be||Ge(Bs,`RPC '${e}' stream ${u} transport opened.`)}),gt(Y,Fe.EventType.CLOSE,()=>{be||(be=!0,Ge(Bs,`RPC '${e}' stream ${u} transport closed`),at.Ro())}),gt(Y,Fe.EventType.ERROR,pt=>{be||(be=!0,Cr(Bs,`RPC '${e}' stream ${u} transport errored:`,pt),at.Ro(new ze(Oe.UNAVAILABLE,"The operation could not be completed")))}),gt(Y,Fe.EventType.MESSAGE,pt=>{var Gt;if(!be){const dn=pt.data[0];Mt(!!dn);const $n=dn.error||(null===(Gt=dn[0])||void 0===Gt?void 0:Gt.error);if($n){Ge(Bs,`RPC '${e}' stream ${u} received error:`,$n);const sr=$n.status;let fr=function(WI){const Ov=xi[WI];if(void 0!==Ov)return ld(Ov)}(sr),ys=$n.message;void 0===fr&&(fr=Oe.INTERNAL,ys="Unknown error status: "+sr+" with message "+$n.message),be=!0,at.Ro(new ze(fr,ys)),Y.close()}else Ge(Bs,`RPC '${e}' stream ${u} received:`,dn),at.Vo(dn)}}),gt(w,x.STAT_EVENT,pt=>{pt.stat===K.PROXY?Ge(Bs,`RPC '${e}' stream ${u} detected buffering proxy`):pt.stat===K.NOPROXY&&Ge(Bs,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{at.Ao()},0),at}}function gp(){return typeof document<"u"?document:null}function Vh(i){return new am(i,!0)}class El{constructor(e,n,o=1e3,u=1.5,l=6e4){this.si=e,this.timerId=n,this.Fo=o,this.Mo=u,this.xo=l,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),o=Math.max(0,Date.now()-this.Bo),u=Math.max(0,n-o);u>0&&Ge("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Wm{constructor(e,n,o,u,l,f,w,b){this.si=e,this.Ko=o,this.$o=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=w,this.listener=b,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new El(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,m.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,m.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var o=this;return(0,m.Z)(function*(){o.t_(),o.n_(),o.zo.cancel(),o.Uo++,4!==e?o.zo.reset():n&&n.code===Oe.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),o.zo.Lo()):n&&n.code===Oe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.r_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Uo===n&&this.s_(o,u)},o=>{e(()=>{const u=new ze(Oe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.o_(u)})})}s_(e,n){const o=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{o(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{o(()=>this.o_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,m.Z)(function*(){e.state=0,e.start()}))}o_(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mp extends Wm{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function gm(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(M=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===M?1:"REMOVE"===M?2:"CURRENT"===M?3:"RESET"===M?4:Et(),u=e.targetChange.targetIds||[],l=function(M,B){return M.useProto3Json?(Mt(void 0===B||"string"==typeof B),Kr.fromBase64String(B||"")):(Mt(void 0===B||B instanceof Uint8Array),Kr.fromUint8Array(B||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,w=f&&function(M){const B=void 0===M.code?Oe.UNKNOWN:ld(M.code);return new ze(B,M.message||"")}(f);n=new sm(o,u,l,w||null)}else if("documentChange"in e){const o=e.documentChange,u=Lo(i,o.document.name),l=Ni(o.document.updateTime),f=o.document.createTime?Ni(o.document.createTime):zt.min(),w=new Pi({mapValue:{fields:o.document.fields}}),b=ir.newFoundDocument(u,l,f,w);n=new gd(o.targetIds||[],o.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const o=e.documentDelete,u=Lo(i,o.document),l=o.readTime?Ni(o.readTime):zt.min(),f=ir.newNoDocument(u,l);n=new gd([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=Lo(i,o.document);n=new gd([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Et();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new ol(u,l);n=new im(o.targetId,f)}}var M;return n}(this.serializer,e),o=function(l){if(!("targetChange"in l))return zt.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?zt.min():f.readTime?Ni(f.readTime):zt.min()}(e);return this.listener.a_(n,o)}u_(e){const n={};n.database=Xa(this.serializer),n.addTarget=function(l,f){let w;const b=f.target;if(w=Du(b)?{documents:yh(l,b)}:{query:ul(l,b)},w.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){w.resumeToken=um(l,f.resumeToken);const M=jf(l,f.expectedCount);null!==M&&(w.expectedCount=M)}else if(f.snapshotVersion.compareTo(zt.min())>0){w.readTime=hc(l,f.snapshotVersion.toTimestamp());const M=jf(l,f.expectedCount);null!==M&&(w.expectedCount=M)}return w}(this.serializer,e);const o=function yy(i,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.e_(n)}c_(e){const n={};n.database=Xa(this.serializer),n.removeTarget=e,this.e_(n)}}class _p extends Wm{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function mm(i,e){return i&&i.length>0?(Mt(void 0!==e),i.map(n=>function(u,l){let f=Ni(u.updateTime?u.updateTime:l);return f.isEqual(zt.min())&&(f=Ni(l)),new wI(f,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Ni(e.commitTime);return this.listener.I_(o,n)}return Mt(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Xa(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function Oa(i,e){let n;if(e instanceof ud)n={update:fm(i,e.key,e.value)};else if(e instanceof rl)n={delete:_d(i,e.key)};else if(e instanceof bu)n={update:fm(i,e.key,e.data),updateMask:Hf(e.fieldMask)};else{if(!(e instanceof il))return Et();n={verify:_d(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,f){const w=f.transform;if(w instanceof Pa)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof Ma)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof xa)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof Na)return{fieldPath:f.field.canonicalString(),increment:w.Ie};throw Et()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:cm(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Et()),n;var l}(this.serializer,o))};this.e_(n)}}class Tl extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new ze(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.wo(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ze(Oe.UNKNOWN,u.toString())})}Co(e,n,o,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.Co(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ze(Oe.UNKNOWN,l.toString())})}terminate(){this.d_=!0}}class Od{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Xn(n),this.f_=!1):Ge("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Uh{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=l,this.F_.ro(w=>{o.enqueueAndForget((0,m.Z)(function*(){var b;Uu(f)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,m.Z)(function*(B){const Y=mt(B);Y.C_.add(4),yield Vu(Y),Y.M_.set("Unknown"),Y.C_.delete(4),yield La(Y)}),function M(B){return b.apply(this,arguments)})(f))}))}),this.M_=new Od(o,u)}}function La(i){return kd.apply(this,arguments)}function kd(){return kd=(0,m.Z)(function*(i){if(Uu(i))for(const e of i.v_)yield e(!0)}),kd.apply(this,arguments)}function Vu(i){return wl.apply(this,arguments)}function wl(){return wl=(0,m.Z)(function*(i){for(const e of i.v_)yield e(!1)}),wl.apply(this,arguments)}function vp(i,e){const n=mt(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Ip(n)?Bh(n):Ac(n).Ho()&&wc(n,e))}function Tc(i,e){const n=mt(i),o=Ac(n);n.D_.delete(e),o.Ho()&&qm(n,e),0===n.D_.size&&(o.Ho()?o.Zo():Uu(n)&&n.M_.set("Unknown"))}function wc(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(zt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ac(i).u_(e)}function qm(i,e){i.x_.Oe(e),Ac(i).c_(e)}function Bh(i){i.x_=new Uf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Ac(i).start(),i.M_.g_()}function Ip(i){return Uu(i)&&!Ac(i).jo()&&i.D_.size>0}function Uu(i){return 0===mt(i).C_.size}function jh(i){i.x_=void 0}function Km(i){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,m.Z)(function*(i){i.D_.forEach((e,n)=>{wc(i,e)})}),Ep.apply(this,arguments)}function ky(i,e){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,m.Z)(function*(i,e){jh(i),Ip(i)?(i.M_.w_(e),Bh(i)):i.M_.set("Unknown")}),Ym.apply(this,arguments)}function Ly(i,e,n){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,m.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof sm&&2===e.state&&e.cause)try{yield(o=(0,m.Z)(function*(l,f){const w=f.cause;for(const b of f.targetIds)l.D_.has(b)&&(yield l.remoteSyncer.rejectListen(b,w),l.D_.delete(b),l.x_.removeTarget(b))}),function u(l,f){return o.apply(this,arguments)})(i,e)}catch(o){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Al(i,o)}else if(e instanceof gd?i.x_.$e(e):e instanceof im?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(zt.min()))try{const o=yield op(i.localStore);n.compareTo(o)>=0&&(yield function(l,f){const w=l.x_.it(f);return w.targetChanges.forEach((b,M)=>{if(b.resumeToken.approximateByteSize()>0){const B=l.D_.get(M);B&&l.D_.set(M,B.withResumeToken(b.resumeToken,f))}}),w.targetMismatches.forEach((b,M)=>{const B=l.D_.get(b);if(!B)return;l.D_.set(b,B.withResumeToken(Kr.EMPTY_BYTE_STRING,B.snapshotVersion)),qm(l,b);const Y=new tu(B.target,b,M,B.sequenceNumber);wc(l,Y)}),l.remoteSyncer.applyRemoteEvent(w)}(i,n))}catch(o){Ge("RemoteStore","Failed to raise snapshot:",o),yield Al(i,o)}var o}),Dl.apply(this,arguments)}function Al(i,e,n){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,m.Z)(function*(i,e,n){if(!co(e))throw e;i.C_.add(1),yield Vu(i),i.M_.set("Offline"),n||(n=()=>op(i.localStore)),i.asyncQueue.enqueueRetryable((0,m.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield La(i)}))}),Tp.apply(this,arguments)}function wp(i,e){return e().catch(n=>Al(i,n,e))}function Bu(i){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,m.Z)(function*(i){const e=mt(i),n=Fa(e);let o=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Fy(e);)try{const u=yield ap(e.localStore,o);if(null===u){0===e.b_.length&&n.Zo();break}o=u.batchId,Zm(e,u)}catch(u){yield Al(e,u)}Qm(e)&&Dp(e)}),Cl.apply(this,arguments)}function Fy(i){return Uu(i)&&i.b_.length<10}function Zm(i,e){i.b_.push(e);const n=Fa(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function Qm(i){return Uu(i)&&!Fa(i).jo()&&i.b_.length>0}function Dp(i){Fa(i).start()}function SI(i){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,m.Z)(function*(i){Fa(i).E_()}),Ap.apply(this,arguments)}function $h(i){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,m.Z)(function*(i){const e=Fa(i);for(const n of i.b_)e.P_(n.mutations)}),Cp.apply(this,arguments)}function bl(i,e,n){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,m.Z)(function*(i,e,n){const o=i.b_.shift(),u=ph.from(o,e,n);yield wp(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Bu(i)}),Dc.apply(this,arguments)}function Vy(i,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,m.Z)(function*(i,e){var n;e&&Fa(i).h_&&(yield(n=(0,m.Z)(function*(u,l){if(function cd(i){switch(i){default:return Et();case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0}}(w=l.code)&&w!==Oe.ABORTED){const f=u.b_.shift();Fa(u).Yo(),yield wp(u,()=>u.remoteSyncer.rejectFailedWrite(f.batchId,l)),yield Bu(u)}var w}),function o(u,l){return n.apply(this,arguments)})(i,e)),Qm(i)&&Dp(i)}),Hh.apply(this,arguments)}function Xm(i,e){return bp.apply(this,arguments)}function bp(){return bp=(0,m.Z)(function*(i,e){const n=mt(i);n.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const o=Uu(n);n.C_.add(3),yield Vu(n),o&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield La(n)}),bp.apply(this,arguments)}function zh(){return zh=(0,m.Z)(function*(i,e){const n=mt(i);e?(n.C_.delete(2),yield La(n)):e||(n.C_.add(2),yield Vu(n),n.M_.set("Unknown"))}),zh.apply(this,arguments)}function Ac(i){return i.O_||(i.O_=function(n,o,u){const l=mt(n);return l.A_(),new mp(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(i.datastore,i.asyncQueue,{ho:Km.bind(null,i),Io:ky.bind(null,i),a_:Ly.bind(null,i)}),i.v_.push(function(){var e=(0,m.Z)(function*(n){n?(i.O_.Yo(),Ip(i)?Bh(i):i.M_.set("Unknown")):(yield i.O_.stop(),jh(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function Fa(i){return i.N_||(i.N_=function(n,o,u){const l=mt(n);return l.A_(),new _p(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(i.datastore,i.asyncQueue,{ho:SI.bind(null,i),Io:Vy.bind(null,i),T_:$h.bind(null,i),I_:bl.bind(null,i)}),i.v_.push(function(){var e=(0,m.Z)(function*(n){n?(i.N_.Yo(),yield Bu(i)):(yield i.N_.stop(),i.b_.length>0&&(Ge("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class Jm{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,w=new Jm(e,n,f,u,l);return w.start(o),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ju(i,e){if(Xn("AsyncQueue",`${e}: ${i}`),co(i))return new ze(Oe.UNAVAILABLE,`${e}: ${i}`);throw i}class Cc{constructor(e){this.comparator=e?(n,o)=>e(n,o)||yt.comparator(n.key,o.key):(n,o)=>yt.comparator(n.key,o.key),this.keyedMap=E(),this.sortedSet=new qn(this.comparator)}static emptySet(e){return new Cc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Cc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class e_{constructor(){this.B_=new qn(yt.comparator)}track(e){const n=e.doc.key,o=this.B_.get(n);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(n):1===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Et():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,o)=>{e.push(o)}),e}}class Sl{constructor(e,n,o,u,l,f,w,b,M){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=w,this.excludesMetadataChanges=b,this.hasCachedResults=M}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(w=>{f.push({type:0,doc:w})}),new Sl(e,n,Cc.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ss(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class t_{constructor(){this.k_=void 0,this.listeners=[]}}class Uy{constructor(){this.queries=new sa(e=>tl(e),ss),this.onlineState="Unknown",this.q_=new Set}}function Gh(i,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,m.Z)(function*(i,e){const n=mt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new t_),u)try{l.k_=yield n.onListen(o)}catch(f){const w=ju(f,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(w)}n.queries.set(o,l),l.listeners.push(e),e.Q_(n.onlineState),l.k_&&e.K_(l.k_)&&Ao(n)}),Rp.apply(this,arguments)}function Pp(i,e){return n_.apply(this,arguments)}function n_(){return n_=(0,m.Z)(function*(i,e){const n=mt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),n_.apply(this,arguments)}function r_(i,e){const n=mt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const w of f.listeners)w.K_(u)&&(o=!0);f.k_=u}}o&&Ao(n)}function i_(i,e,n){const o=mt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function Ao(i){i.q_.forEach(e=>{e.next()})}class Wh{constructor(e,n,o){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=o||{}}K_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Sl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class s_{constructor(e){this.key=e}}class By{constructor(e){this.key=e}}class o_{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=st(),this.mutatedKeys=st(),this._a=rd(e),this.aa=new Cc(this._a)}get ua(){return this.ia}ca(e,n){const o=n?n.la:new e_,u=n?n.aa:this.aa;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,w=!1;const b="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,M="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((B,Y)=>{const oe=u.get(B),be=nl(this.query,Y)?Y:null,at=!!oe&&this.mutatedKeys.has(oe.key),gt=!!be&&(be.hasLocalMutations||this.mutatedKeys.has(be.key)&&be.hasCommittedMutations);let pt=!1;oe&&be?oe.data.isEqual(be.data)?at!==gt&&(o.track({type:3,doc:be}),pt=!0):this.ha(oe,be)||(o.track({type:2,doc:be}),pt=!0,(b&&this._a(be,b)>0||M&&this._a(be,M)<0)&&(w=!0)):!oe&&be?(o.track({type:0,doc:be}),pt=!0):oe&&!be&&(o.track({type:1,doc:oe}),pt=!0,(b||M)&&(w=!0)),pt&&(be?(f=f.add(be),l=gt?l.add(B):l.delete(B)):(f=f.delete(B),l=l.delete(B)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const B="F"===this.query.limitType?f.last():f.first();f=f.delete(B.key),l=l.delete(B.key),o.track({type:1,doc:B})}return{aa:f,la:o,Zi:w,mutatedKeys:l}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const l=e.la.L_();l.sort((M,B)=>function(oe,be){const at=gt=>{switch(gt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return at(oe)-at(be)}(M.type,B.type)||this._a(M.doc,B.doc)),this.Pa(o);const f=n?this.Ia():[],w=0===this.oa.size&&this.current?1:0,b=w!==this.sa;return this.sa=w,0!==l.length||b?{snapshot:new Sl(this.query,e.aa,u,l,e.mutatedKeys,0===w,b,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ta:f}:{Ta:f}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new e_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=st(),this.aa.forEach(o=>{this.Ea(o.key)&&(this.oa=this.oa.add(o.key))});const n=[];return e.forEach(o=>{this.oa.has(o)||n.push(new By(o))}),this.oa.forEach(o=>{e.has(o)||n.push(new s_(o))}),n}da(e){this.ia=e.ls,this.oa=st();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Sl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Mp{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Va{constructor(e){this.key=e,this.Ra=!1}}class a_{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.Va={},this.ma=new sa(w=>tl(w),ss),this.fa=new Map,this.ga=new Set,this.pa=new qn(yt.comparator),this.ya=new Map,this.wa=new Rh,this.Sa={},this.ba=new Map,this.Da=_c.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function jy(i,e){return u_.apply(this,arguments)}function u_(){return u_=(0,m.Z)(function*(i,e){const n=function In(i){const e=mt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=kp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l_.bind(null,e),e.Va.a_=r_.bind(null,e.eventManager),e.Va.Fa=i_.bind(null,e.eventManager),e}(i);let o,u;const l=n.ma.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.Aa();else{const f=yield function vl(i,e){const n=mt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.qr.getTargetData(o,e).next(l=>l?(u=l,Te.resolve(u)):n.qr.allocateTargetId(o).next(f=>(u=new tu(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.ts.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ts=n.ts.insert(o.targetId,o),n.ns.set(e,o.targetId)),o})}(n.localStore,ms(e)),w=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function Gi(i,e,n,o,u){return xp.apply(this,arguments)}(n,e,o,"current"===w,f.resumeToken),n.isPrimaryClient&&vp(n.remoteStore,f)}return u}),u_.apply(this,arguments)}function xp(){return xp=(0,m.Z)(function*(i,e,n,o,u){i.va=(Y,oe,be)=>{return(at=(0,m.Z)(function*(pt,Gt,dn,on){let $n=Gt.view.ca(dn);$n.Zi&&($n=yield Rd(pt.localStore,Gt.query,!1).then(({documents:ys})=>Gt.view.ca(ys,$n)));const sr=on&&on.targetChanges.get(Gt.targetId),fr=Gt.view.applyChanges($n,pt.isPrimaryClient,sr);return Jh(pt,Gt.targetId,fr.Ta),fr.snapshot}),function gt(pt,Gt,dn,on){return at.apply(this,arguments)})(i,Y,oe,be);var at};const l=yield Rd(i.localStore,e,!0),f=new o_(e,l.ls),w=f.ca(l.documents),b=pd.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),M=f.applyChanges(w,i.isPrimaryClient,b);Jh(i,n,M.Ta);const B=new Mp(e,n,f);return i.ma.set(e,B),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),M.snapshot}),xp.apply(this,arguments)}function Np(i,e){return Op.apply(this,arguments)}function Op(){return Op=(0,m.Z)(function*(i,e){const n=mt(i),o=n.ma.get(e),u=n.fa.get(o.targetId);if(u.length>1)return n.fa.set(o.targetId,u.filter(l=>!ss(l,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ku(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Tc(n.remoteStore,o.targetId),Pl(n,o.targetId)}).catch(Ls))):(Pl(n,o.targetId),yield ku(n.localStore,o.targetId,!0))}),Op.apply(this,arguments)}function Ld(){return Ld=(0,m.Z)(function*(i,e,n){const o=function rf(i){const e=mt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d_.bind(null,e),e}(i);try{const u=yield function(f,w){const b=mt(f),M=Bn.now(),B=w.reduce((be,at)=>be.add(at.key),st());let Y,oe;return b.persistence.runTransaction("Locally write mutations","readwrite",be=>{let at=h(),gt=st();return b.ss.getEntries(be,B).next(pt=>{at=pt,at.forEach((Gt,dn)=>{dn.isValidDocument()||(gt=gt.add(Gt))})}).next(()=>b.localDocuments.getOverlayedDocuments(be,at)).next(pt=>{Y=pt;const Gt=[];for(const dn of w){const on=DI(dn,Y.get(dn.key).overlayedDocument);null!=on&&Gt.push(new bu(dn.key,on,sc(on.value.mapValue),Jr.exists(!0)))}return b.mutationQueue.addMutationBatch(be,M,Gt,w)}).next(pt=>{oe=pt;const Gt=pt.applyToLocalDocumentSet(Y,gt);return b.documentOverlayCache.saveOverlays(be,pt.batchId,Gt)})}).then(()=>({batchId:oe.batchId,changes:O(Y)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(f,w,b){let M=f.Sa[f.currentUser.toKey()];M||(M=new qn(rn)),M=M.insert(w,b),f.Sa[f.currentUser.toKey()]=M}(o,u.batchId,n),yield Vo(o,u.changes),yield Bu(o.remoteStore)}catch(u){const l=ju(u,"Failed to persist write");n.reject(l)}}),Ld.apply(this,arguments)}function kp(i,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,m.Z)(function*(i,e){const n=mt(i);try{const o=yield function Mh(i,e){const n=mt(i),o=e.snapshotVersion;let u=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.ss.newChangeBuffer({trackRemovals:!0});u=n.ts;const w=[];e.targetChanges.forEach((B,Y)=>{const oe=u.get(Y);if(!oe)return;w.push(n.qr.removeMatchingKeys(l,B.removedDocuments,Y).next(()=>n.qr.addMatchingKeys(l,B.addedDocuments,Y)));let be=oe.withSequenceNumber(l.currentSequenceNumber);var gt,pt,Gt;null!==e.targetMismatches.get(Y)?be=be.withResumeToken(Kr.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):B.resumeToken.approximateByteSize()>0&&(be=be.withResumeToken(B.resumeToken,o)),u=u.insert(Y,be),pt=be,Gt=B,(0===(gt=oe).resumeToken.approximateByteSize()||pt.snapshotVersion.toMicroseconds()-gt.snapshotVersion.toMicroseconds()>=3e8||Gt.addedDocuments.size+Gt.modifiedDocuments.size+Gt.removedDocuments.size>0)&&w.push(n.qr.updateTargetData(l,be))});let b=h(),M=st();if(e.documentUpdates.forEach(B=>{e.resolvedLimboDocuments.has(B)&&w.push(n.persistence.referenceDelegate.updateLimboDocument(l,B))}),w.push(function Ny(i,e,n){let o=st(),u=st();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=h();return n.forEach((w,b)=>{const M=l.get(w);b.isFoundDocument()!==M.isFoundDocument()&&(u=u.add(w)),b.isNoDocument()&&b.version.isEqual(zt.min())?(e.removeEntry(w,b.readTime),f=f.insert(w,b)):!M.isValidDocument()||b.version.compareTo(M.version)>0||0===b.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(b),f=f.insert(w,b)):Ge("LocalStore","Ignoring outdated watch update for ",w,". Current version:",M.version," Watch version:",b.version)}),{us:f,cs:u}})}(l,f,e.documentUpdates).next(B=>{b=B.us,M=B.cs})),!o.isEqual(zt.min())){const B=n.qr.getLastRemoteSnapshotVersion(l).next(Y=>n.qr.setTargetsMetadata(l,l.currentSequenceNumber,o));w.push(B)}return Te.waitFor(w).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,b,M)).next(()=>b)}).then(l=>(n.ts=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.ya.get(l);f&&(Mt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.Ra=!0:u.modifiedDocuments.size>0?Mt(f.Ra):u.removedDocuments.size>0&&(Mt(f.Ra),f.Ra=!1))}),yield Vo(n,o,e)}catch(o){yield Ls(o)}}),Yh.apply(this,arguments)}function c_(i,e,n){const o=mt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ma.forEach((l,f)=>{const w=f.view.Q_(e);w.snapshot&&u.push(w.snapshot)}),function(f,w){const b=mt(f);b.onlineState=w;let M=!1;b.queries.forEach((B,Y)=>{for(const oe of Y.listeners)oe.Q_(w)&&(M=!0)}),M&&Ao(b)}(o.eventManager,e),u.length&&o.Va.a_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function l_(i,e,n){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,m.Z)(function*(i,e,n){const o=mt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.ya.get(e),l=u&&u.key;if(l){let f=new qn(yt.comparator);f=f.insert(l,ir.newNoDocument(l,zt.min()));const w=st().add(l),b=new fd(zt.min(),new Map,new qn(rn),f,w);yield kp(o,b),o.pa=o.pa.remove(l),o.ya.delete(e),bc(o)}else yield ku(o.localStore,e,!1).then(()=>Pl(o,e,n)).catch(Ls)}),Zh.apply(this,arguments)}function Hy(i,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,m.Z)(function*(i,e){const n=mt(i),o=e.batch.batchId;try{const u=yield function $m(i,e){const n=mt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.ss.newChangeBuffer({trackRemovals:!0});return function(w,b,M,B){const Y=M.batch,oe=Y.keys();let be=Te.resolve();return oe.forEach(at=>{be=be.next(()=>B.getEntry(b,at)).next(gt=>{const pt=M.docVersions.get(at);Mt(null!==pt),gt.version.compareTo(pt)<0&&(Y.applyToRemoteDocument(gt,M),gt.isValidDocument()&&(gt.setReadTime(M.commitVersion),B.addEntry(gt)))})}),be.next(()=>w.mutationQueue.removeMutationBatch(b,Y))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(w){let b=st();for(let M=0;M<w.mutationResults.length;++M)w.mutationResults[M].transformResults.length>0&&(b=b.add(w.batch.mutations[M].key));return b}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);Lp(n,o,null),Hu(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Vo(n,u)}catch(u){yield Ls(u)}}),Qh.apply(this,arguments)}function d_(i,e,n){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,m.Z)(function*(i,e,n){const o=mt(i);try{const u=yield function(f,w){const b=mt(f);return b.persistence.runTransaction("Reject batch","readwrite-primary",M=>{let B;return b.mutationQueue.lookupMutationBatch(M,w).next(Y=>(Mt(null!==Y),B=Y.keys(),b.mutationQueue.removeMutationBatch(M,Y))).next(()=>b.mutationQueue.performConsistencyCheck(M)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(M,B,w)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(M,B)).next(()=>b.localDocuments.getDocuments(M,B))})}(o.localStore,e);Lp(o,e,n),Hu(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Vo(o,u)}catch(u){yield Ls(u)}}),Xh.apply(this,arguments)}function Hu(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function Lp(i,e,n){const o=mt(i);let u=o.Sa[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Sa[o.currentUser.toKey()]=u}}function Pl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.fa.get(e))i.ma.delete(o),n&&i.Va.Fa(o,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(o=>{i.wa.containsKey(o)||Fp(i,o)})}function Fp(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(Tc(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),bc(i))}function Jh(i,e,n){for(const o of n)o instanceof s_?(i.wa.addReference(o.key,e),Vp(i,o)):o instanceof By?(Ge("SyncEngine","Document no longer in limbo: "+o.key),i.wa.removeReference(o.key,e),i.wa.containsKey(o.key)||Fp(i,o.key)):Et()}function Vp(i,e){const n=e.key,o=n.path.canonicalString();i.pa.get(n)||i.ga.has(o)||(Ge("SyncEngine","New document in limbo: "+n),i.ga.add(o),bc(i))}function bc(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new yt(jn.fromString(e)),o=i.Da.next();i.ya.set(o,new Va(n)),i.pa=i.pa.insert(n,o),vp(i.remoteStore,new tu(ms(po(n.path)),o,"TargetPurposeLimboResolution",D._e))}}function Vo(i,e,n){return ef.apply(this,arguments)}function ef(){return ef=(0,m.Z)(function*(i,e,n){const o=mt(i),u=[],l=[],f=[];var w;o.ma.isEmpty()||(o.ma.forEach((w,b)=>{f.push(o.va(b,e,n).then(M=>{if((M||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(b.targetId,M?.fromCache?"not-current":"current"),M){u.push(M);const B=Ic.Qi(b.targetId,M);l.push(B)}}))}),yield Promise.all(f),o.Va.a_(u),yield(w=(0,m.Z)(function*(M,B){const Y=mt(M);try{yield Y.persistence.runTransaction("notifyLocalViewChanges","readwrite",oe=>Te.forEach(B,be=>Te.forEach(be.ki,at=>Y.persistence.referenceDelegate.addReference(oe,be.targetId,at)).next(()=>Te.forEach(be.qi,at=>Y.persistence.referenceDelegate.removeReference(oe,be.targetId,at)))))}catch(oe){if(!co(oe))throw oe;Ge("LocalStore","Failed to update sequence numbers: "+oe)}for(const oe of B){const be=oe.targetId;if(!oe.fromCache){const at=Y.ts.get(be),pt=at.withLastLimboFreeSnapshotVersion(at.snapshotVersion);Y.ts=Y.ts.insert(be,pt)}}}),function b(M,B){return w.apply(this,arguments)})(o.localStore,l))}),ef.apply(this,arguments)}function h_(i,e){return Up.apply(this,arguments)}function Up(){return Up=(0,m.Z)(function*(i,e){const n=mt(i);if(!n.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const o=yield ip(n.localStore,e);n.currentUser=e,(l=n).ba.forEach(w=>{w.forEach(b=>{b.reject(new ze(Oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ba.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Vo(n,o._s)}var l}),Up.apply(this,arguments)}function zy(i,e){const n=mt(i),o=n.ya.get(e);if(o&&o.Ra)return st().add(o.key);{let u=st();const l=n.fa.get(e);if(!l)return u;for(const f of l){const w=n.ma.get(f);u=u.unionWith(w.view.ua)}return u}}class su{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,m.Z)(function*(){n.serializer=Vh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Ph(i,e,n,o){return new jm(i,e,n,o)}(this.persistence,new rp,e.initialUser,this.serializer)}createPersistence(e){return new Jf(_l.jr,this.serializer)}createSharedClientState(e){return new zm}terminate(){var e=this;return(0,m.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ca{initialize(e,n){var o=this;return(0,m.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>c_(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=h_.bind(null,o.syncEngine),yield function Sp(i,e){return zh.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Uy}createDatastore(e){const n=Vh(e.databaseInfo.databaseId),o=new Oy(e.databaseInfo);return new Tl(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return o=this.localStore,u=this.datastore,l=e.asyncQueue,f=n=>c_(this.syncEngine,n,0),w=fp.D()?new fp:new hp,new Uh(o,u,l,f,w);var o,u,l,f,w}createSyncEngine(e,n){return function(u,l,f,w,b,M,B){const Y=new a_(u,l,f,w,b,M);return B&&(Y.Ca=!0),Y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,m.Z)(function*(o){const u=mt(o);Ge("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield Vu(u),u.F_.shutdown(),u.M_.set("Unknown")}),function n(o){return e.apply(this,arguments)})(this.remoteStore);var e}}class zu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Gp{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Vt.UNAUTHENTICATED,this.clientId=Si.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,m.Z)(function*(w){Ge("FirestoreClient","Received user=",w.uid),yield l.authCredentialListener(w),l.user=w});return function(w){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(Ge("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,m.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=ju(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Ud(i,e){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,m.Z)(function*(l){o.isEqual(l)||(yield ip(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Bd.apply(this,arguments)}function Wp(i,e){return qp.apply(this,arguments)}function qp(){return qp=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function af(i){return Kp.apply(this,arguments)}(i);Ge("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>Xm(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>Xm(e.remoteStore,l)),i._onlineComponents=e}),qp.apply(this,arguments)}function Kp(){return Kp=(0,m.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ge("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ud(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function D_(i){return"FirebaseError"===i.name?i.code===Oe.FAILED_PRECONDITION||i.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Cr("Error using user provided cache. Falling back to memory cache: "+n),yield Ud(i,new su)}}else Ge("FirestoreClient","Using default OfflineComponentProvider"),yield Ud(i,new su);return i._offlineComponents}),Kp.apply(this,arguments)}function uf(i){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,m.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ge("FirestoreClient","Using user provided OnlineComponentProvider"),yield Wp(i,i._uninitializedComponentsProvider._online)):(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield Wp(i,new ca))),i._onlineComponents}),Yp.apply(this,arguments)}function _s(i){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,m.Z)(function*(i){const e=yield uf(i),n=e.eventManager;return n.onListen=jy.bind(null,e.syncEngine),n.onUnlisten=Np.bind(null,e.syncEngine),n}),Xp.apply(this,arguments)}function R_(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const P_=new Map;function ng(i,e,n){if(!n)throw new ze(Oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function la(i){if(!yt.isDocumentKey(i))throw new ze(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cf(i){if(yt.isDocumentKey(i))throw new ze(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function lf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(o=i).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof i?"a function":Et()}function Gn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ze(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lf(i);throw new ze(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class rg{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new ze(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ze(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Jy(i,e,n,o){if(!0===e&&!0===o)throw new ze(Oe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=R_(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new ze(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ze(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ze(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ml{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ze(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ze(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rg(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Xu;switch(o.type){case"firstParty":return new Lc(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ze(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=P_.get(n);o&&(Ge("ComponentProvider","Removing Datastore"),P_.delete(n),o.terminate())}(this),Promise.resolve()}}class os{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class Wi{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wi(this.firestore,e,this._key)}}class da extends os{constructor(e,n,o){super(e,n,po(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wi(this.firestore,null,new yt(e))}withConverter(e){return new da(this.firestore,e,this._path)}}function x_(i,e,...n){if(i=(0,se.m9)(i),ng("collection","path",e),i instanceof Ml){const o=jn.fromString(e,...n);return cf(o),new da(i,null,o)}{if(!(i instanceof Wi||i instanceof da))throw new ze(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(jn.fromString(e,...n));return cf(o),new da(i.firestore,null,o)}}function ig(i,e,...n){if(i=(0,se.m9)(i),1===arguments.length&&(e=Si.newId()),ng("doc","path",e),i instanceof Ml){const o=jn.fromString(e,...n);return la(o),new Wi(i,null,new yt(o))}{if(!(i instanceof Wi||i instanceof da))throw new ze(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(jn.fromString(e,...n));return la(o),new Wi(i.firestore,i instanceof da?i.converter:null,new yt(o))}}class tv{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new El(this,"async_queue_retry"),this.iu=()=>{const n=gp();n&&Ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=gp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=gp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new br;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,m.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!co(n))throw n;Ge("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(o=>{throw this.eu=o,this.tu=!1,Xn("INTERNAL UNHANDLED ERROR: ",function(f){let w=f.message||"";return f.stack&&(w=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),w}(o)),o}).then(o=>(this.tu=!1,o))));return this.Ja=n,n}enqueueAfterDelay(e,n,o){this.su(),this.ru.indexOf(e)>-1&&(n=0);const u=Jm.createAndSchedule(this,e,n,o,l=>this.au(l));return this.Xa.push(u),u}su(){this.eu&&Et()}verifyOperationInProgress(){}uu(){var e=this;return(0,m.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function sg(i){return function(n,o){if("object"!=typeof n||null===n)return!1;const u=n;for(const l of["next","error","complete"])if(l in u&&"function"==typeof u[l])return!0;return!1}(i)}class Vr extends Ml{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new tv,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ag(this),this._firestoreClient.terminate()}}function hf(i,e){const n="object"==typeof i?i:(0,W.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,W.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,se.P0)("firestore");l&&function df(i,e,n,o={}){var u;const l=(i=Gn(i,Ml))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let w,b;if("string"==typeof o.mockUserToken)w=o.mockUserToken,b=Vt.MOCK_USER;else{w=(0,se.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const M=o.mockUserToken.sub||o.mockUserToken.user_id;if(!M)throw new ze(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Vt(M)}i._authCredentials=new Ju(new va(w,b))}}(u,...l)}return u}function ei(i){return i._firestoreClient||ag(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ag(i){var e,n,o;const u=i._freezeSettings(),l=(b=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new qg(i._databaseId,b,i._persistenceKey,(B=u).host,B.ssl,B.experimentalForceLongPolling,B.experimentalAutoDetectLongPolling,R_(B.experimentalLongPollingOptions),B.useFetchStreams));var b,B;i._firestoreClient=new Gp(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}class Rc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rc(Kr.fromBase64String(e))}catch(n){throw new ze(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rc(Kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Nl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ze(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cg{constructor(e){this._methodName=e}}class lg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ze(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ze(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}const ov=/^__.*__$/;class av{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new bu(e,this.data,this.fieldMask,n,this.fieldTransforms):new ud(e,this.data,n,this.fieldTransforms)}}class F_{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new bu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function V_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class gf{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.Pu(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new gf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Au(e),u}Ru(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Mc(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(V_(this.Iu)&&ov.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class uv{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||Vh(e)}pu(e,n,o,u=!1){return new gf({Iu:e,methodName:n,gu:o,path:yr.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pc(i){const e=i._freezeSettings(),n=Vh(i._databaseId);return new uv(i._databaseId,!!e.ignoreUndefinedProperties,n)}function jd(i,e,n,o,u,l={}){const f=i.pu(l.merge||l.mergeFields?2:0,e,n,u);H_("Data must be an object, but it was:",f,o);const w=hg(o,f);let b,M;if(l.merge)b=new Fs(f.fieldMask),M=f.fieldTransforms;else if(l.mergeFields){const B=[];for(const Y of l.mergeFields){const oe=Ol(e,Y,n);if(!f.contains(oe))throw new ze(Oe.INVALID_ARGUMENT,`Field '${oe}' is specified in your field mask but missing from your input data.`);G_(B,oe)||B.push(oe)}b=new Fs(B),M=f.fieldTransforms.filter(Y=>b.covers(Y.field))}else b=null,M=f.fieldTransforms;return new av(new Pi(w),b,M)}class $d extends cg{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $d}}function Gu(i,e){if($_(i=(0,se.m9)(i)))return H_("Unsupported field value:",e,i),hg(i,e);if(i instanceof cg)return function(o,u){if(!V_(u.Iu))throw u.mu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(u);l&&u.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(o,u){const l=[];let f=0;for(const w of o){let b=Gu(w,u.Vu(f));null==b&&(b={nullValue:"NULL_VALUE"}),l.push(b),f++}return{arrayValue:{values:l}}}(i,e)}return function(o,u){if(null===(o=(0,se.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return id(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const l=Bn.fromDate(o);return{timestampValue:hc(u.serializer,l)}}if(o instanceof Bn){const l=new Bn(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:hc(u.serializer,l)}}if(o instanceof lg)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Rc)return{bytesValue:um(u.serializer,o._byteString)};if(o instanceof Wi){const l=u.databaseId,f=o.firestore._databaseId;if(!f.isEqual(l))throw u.mu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_h(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.mu(`Unsupported field value: ${lf(o)}`)}(i,e)}function hg(i,e){const n={};return Wa(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jo(i,(o,u)=>{const l=Gu(u,e.Eu(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function $_(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Bn||i instanceof lg||i instanceof Rc||i instanceof Wi||i instanceof cg)}function H_(i,e,n){if(!$_(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=lf(n);throw e.mu("an object"===o?i+" a custom object":i+" "+o)}var u}function Ol(i,e,n){if((e=(0,se.m9)(e))instanceof Nl)return e._internalPath;if("string"==typeof e)return fg(i,e);throw Mc("Field path arguments must be of type string or ",i,!1,void 0,n)}const z_=new RegExp("[~\\*/\\[\\]]");function fg(i,e,n){if(e.search(z_)>=0)throw Mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Nl(...e.split("."))._internalPath}catch{throw Mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Mc(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let w=`Function ${e}() called with invalid data`;n&&(w+=" (via `toFirestore()`)"),w+=". ";let b="";return(l||f)&&(b+=" (found",l&&(b+=` in field ${o}`),f&&(b+=` in document ${u}`),b+=")"),new ze(Oe.INVALID_ARGUMENT,w+i+b)}function G_(i,e){return i.some(n=>n.isEqual(e))}class pg{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Wi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class gg extends pg{data(){return super.data()}}function mf(i,e){return"string"==typeof e?fg(i,e):e instanceof Nl?e._internalPath:e._delegate._internalPath}function ha(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new ze(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xc{}class Ms extends xc{}function Nc(i,e,...n){let o=[];e instanceof xc&&o.push(e),o=o.concat(n),function(l){const f=l.filter(b=>b instanceof qu).length,w=l.filter(b=>b instanceof Wu).length;if(f>1||f>0&&w>0)throw new ze(Oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Wu extends Ms{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Wu(e,n,o)}_apply(e){const n=this._parse(e);return vg(e._query,n),new os(e.firestore,e.converter,Jc(e._query,n))}_parse(e){const n=Pc(e.firestore);return function(l,f,w,b,M,B,Y){let oe;if(M.isKeyField()){if("array-contains"===B||"array-contains-any"===B)throw new ze(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${B}' queries on documentId().`);if("in"===B||"not-in"===B){yg(Y,B);const be=[];for(const at of Y)be.push(_g(b,l,at));oe={arrayValue:{values:be}}}else oe=_g(b,l,Y)}else"in"!==B&&"not-in"!==B&&"array-contains-any"!==B||yg(Y,B),oe=function j_(i,e,n,o=!1){return Gu(n,i.pu(o?4:3,e))}(w,"where",Y,"in"===B||"not-in"===B);return xn.create(M,B,oe)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Uo(i,e,n){const o=e,u=mf("where",i);return Wu._create(u,o,n)}class qu extends xc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qu(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,l){let f=u;const w=l.getFlattenedFilters();for(const b of w)vg(f,b),f=Jc(f,b)}(e._query,n),new os(e.firestore,e.converter,Jc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ku extends Ms{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ku(e,n)}_apply(e){const n=function(u,l,f){if(null!==u.startAt)throw new ze(Oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new ze(Oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ra(l,f)}(e._query,this._field,this._direction);return new os(e.firestore,e.converter,function(u,l){const f=u.explicitOrderBy.concat([l]);return new ia(u.path,u.collectionGroup,f,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,n))}}function kl(i,e="asc"){const n=e,o=mf("orderBy",i);return Ku._create(o,n)}function _g(i,e,n){if("string"==typeof(n=(0,se.m9)(n))){if(""===n)throw new ze(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uc(e)&&-1!==n.indexOf("/"))throw new ze(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(jn.fromString(n));if(!yt.isDocumentKey(o))throw new ze(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ps(i,new yt(o))}if(n instanceof Wi)return Ps(i,n._key);throw new ze(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(n)}.`)}function yg(i,e){if(!Array.isArray(i)||0===i.length)throw new ze(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vg(i,e){const n=function(u,l){for(const f of u)for(const w of f.getFlattenedFilters())if(l.indexOf(w.op)>=0)return w.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ze(Oe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Eg{convertValue(e,n="none"){switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Et()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Jo(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new lg(fi(e.latitude),fi(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=_u(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const n=Aa(e);return new Bn(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=jn.fromString(e);Mt(vm(o));const u=new qa(o.get(1),o.get(3)),l=new yt(o.popFirst(5));return u.isEqual(n)||Xn(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function Tg(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fl extends pg{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(mf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class _f extends Fl{data(e={}){return super.data(e)}}class Vl{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Ll(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new _f(this._firestore,this._userDataWriter,o.key,o,new Ll(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,l){if(u._snapshot.oldDocs.isEmpty()){let f=0;return u._snapshot.docChanges.map(w=>({type:"added",doc:new _f(u._firestore,u._userDataWriter,w.doc.key,w.doc,new Ll(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:f++}))}{let f=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(w=>l||3!==w.type).map(w=>{const b=new _f(u._firestore,u._userDataWriter,w.doc.key,w.doc,new Ll(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter);let M=-1,B=-1;return 0!==w.type&&(M=f.indexOf(w.doc.key),f=f.delete(w.doc.key)),1!==w.type&&(f=f.add(w.doc),B=f.indexOf(w.doc.key)),{type:wg(w.type),doc:b,oldIndex:M,newIndex:B}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}function Dg(i){i=Gn(i,Wi);const e=Gn(i.firestore,Vr);return function eg(i,e,n={}){const o=new br;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(l,f,w,b,M){const B=new zu({next:oe=>{f.enqueueAndForget(()=>Pp(l,Y));const be=oe.docs.has(w);!be&&oe.fromCache?M.reject(new ze(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):be&&oe.fromCache&&b&&"server"===b.source?M.reject(new ze(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):M.resolve(oe)},error:oe=>M.reject(oe)}),Y=new Wh(po(w.path),B,{includeMetadataChanges:!0,J_:!0});return Gh(l,Y)}(yield _s(i),i.asyncQueue,e,n,o)})),o.promise}(ei(e),i._key).then(n=>q_(e,i,n))}class fa extends Eg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wi(this.firestore,null,n)}}function W_(i){i=Gn(i,os);const e=Gn(i.firestore,Vr),n=ei(e),o=new fa(e);return ha(i._query),function b_(i,e,n={}){const o=new br;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(l,f,w,b,M){const B=new zu({next:oe=>{f.enqueueAndForget(()=>Pp(l,Y)),oe.fromCache&&"server"===b.source?M.reject(new ze(Oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):M.resolve(oe)},error:oe=>M.reject(oe)}),Y=new Wh(w,B,{includeMetadataChanges:!0,J_:!0});return Gh(l,Y)}(yield _s(i),i.asyncQueue,e,n,o)})),o.promise}(n,i._query).then(u=>new Vl(e,o,i,u))}function _v(i,e,n){i=Gn(i,Wi);const o=Gn(i.firestore,Vr),u=Tg(i.converter,e,n);return Yu(o,[jd(Pc(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Jr.none())])}function yv(i,e,n,...o){i=Gn(i,Wi);const u=Gn(i.firestore,Vr),l=Pc(u);let f;return f="string"==typeof(e=(0,se.m9)(e))||e instanceof Nl?function B_(i,e,n,o,u,l){const f=i.pu(1,e,n),w=[Ol(e,o,n)],b=[u];if(l.length%2!=0)throw new ze(Oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let oe=0;oe<l.length;oe+=2)w.push(Ol(e,l[oe])),b.push(l[oe+1]);const M=[],B=Pi.empty();for(let oe=w.length-1;oe>=0;--oe)if(!G_(M,w[oe])){const be=w[oe];let at=b[oe];at=(0,se.m9)(at);const gt=f.Ru(be);if(at instanceof $d)M.push(be);else{const pt=Gu(at,gt);null!=pt&&(M.push(be),B.set(be,pt))}}const Y=new Fs(M);return new F_(B,Y,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function U_(i,e,n,o){const u=i.pu(1,e,n);H_("Data must be an object, but it was:",u,o);const l=[],f=Pi.empty();Jo(o,(b,M)=>{const B=fg(e,b,n);M=(0,se.m9)(M);const Y=u.Ru(B);if(M instanceof $d)l.push(B);else{const oe=Gu(M,Y);null!=oe&&(l.push(B),f.set(B,oe))}});const w=new Fs(l);return new F_(f,w,u.fieldTransforms)}(l,"updateDoc",i._key,e),Yu(u,[f.toMutation(i._key,Jr.exists(!0))])}function vv(i){return Yu(Gn(i.firestore,Vr),[new rl(i._key,Jr.none())])}function Iv(i,e){const n=Gn(i.firestore,Vr),o=ig(i),u=Tg(i.converter,e);return Yu(n,[jd(Pc(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Jr.exists(!1))]).then(()=>o)}function Ag(i,...e){var n,o,u;i=(0,se.m9)(i);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||sg(e[f])||(l=e[f],f++);const w={includeMetadataChanges:l.includeMetadataChanges};if(sg(e[f])){const Y=e[f];e[f]=null===(n=Y.next)||void 0===n?void 0:n.bind(Y),e[f+1]=null===(o=Y.error)||void 0===o?void 0:o.bind(Y),e[f+2]=null===(u=Y.complete)||void 0===u?void 0:u.bind(Y)}let b,M,B;if(i instanceof Wi)M=Gn(i.firestore,Vr),B=po(i._key.path),b={next:Y=>{e[f]&&e[f](q_(M,i,Y))},error:e[f+1],complete:e[f+2]};else{const Y=Gn(i,os);M=Gn(Y.firestore,Vr),B=Y._query;const oe=new fa(M);b={next:be=>{e[f]&&e[f](new Vl(M,oe,Y,be))},error:e[f+1],complete:e[f+2]},ha(i._query)}return function(oe,be,at,gt){const pt=new zu(gt),Gt=new Wh(be,pt,at);return oe.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return Gh(yield _s(oe),Gt)})),()=>{pt.Na(),oe.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return Pp(yield _s(oe),Gt)}))}}(ei(M),B,w,b)}function Yu(i,e){return function(o,u){const l=new br;return o.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function $y(i,e,n){return Ld.apply(this,arguments)}(yield function Qp(i){return uf(i).then(e=>e.syncEngine)}(o),u,l)})),l.promise}(ei(i),e)}function q_(i,e,n){const o=n.docs.get(e._key),u=new fa(i);return new Fl(i,u,e._key,o,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}!function(e,n=!0){rr=W.Jn,(0,W.Xd)(new pe.wA("firestore",(o,{instanceIdentifier:u,options:l})=>{const f=o.getProvider("app").getImmediate(),w=new Vr(new jl(o.getProvider("auth-internal")),new lr(o.getProvider("app-check-internal")),function(M,B){if(!Object.prototype.hasOwnProperty.apply(M.options,["projectId"]))throw new ze(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qa(M.options.projectId,B)}(f,u),f);return l=Object.assign({useFetchStreams:n},l),w._setSettings(l),w},"PUBLIC").setMultipleInstances(!0)),(0,W.KN)(Vn,"4.3.2",e),(0,W.KN)(Vn,"4.3.2","esm2017")}()},9058:(St,ke,L)=>{L.d(ke,{BH:()=>Le,L:()=>xe,LL:()=>Xe,P0:()=>kt,Pz:()=>Ue,Sg:()=>He,UG:()=>we,ZR:()=>Pe,aH:()=>Ae,b$:()=>tn,eu:()=>_e,hl:()=>ce,m9:()=>qi,ne:()=>Yr,pd:()=>Zt,q4:()=>Yt,ru:()=>Ct,tV:()=>q,uI:()=>de,vZ:()=>ki,w1:()=>nt,xO:()=>un,xb:()=>vn,z$:()=>Se,zd:()=>Ir});const ne=function(te){const j=[];let z=0;for(let $=0;$<te.length;$++){let H=te.charCodeAt($);H<128?j[z++]=H:H<2048?(j[z++]=H>>6|192,j[z++]=63&H|128):55296==(64512&H)&&$+1<te.length&&56320==(64512&te.charCodeAt($+1))?(H=65536+((1023&H)<<10)+(1023&te.charCodeAt(++$)),j[z++]=H>>18|240,j[z++]=H>>12&63|128,j[z++]=H>>6&63|128,j[z++]=63&H|128):(j[z++]=H>>12|224,j[z++]=H>>6&63|128,j[z++]=63&H|128)}return j},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,j){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let H=0;H<te.length;H+=3){const he=te[H],qe=H+1<te.length,lt=qe?te[H+1]:0,$t=H+2<te.length,qt=$t?te[H+2]:0;let On=(15&lt)<<2|qt>>6,gi=63&qt;$t||(gi=64,qe||(On=64)),$.push(z[he>>2],z[(3&he)<<4|lt>>4],z[On],z[gi])}return $.join("")},encodeString(te,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(te):this.encodeByteArray(ne(te),j)},decodeString(te,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(te):function(te){const j=[];let z=0,$=0;for(;z<te.length;){const H=te[z++];if(H<128)j[$++]=String.fromCharCode(H);else if(H>191&&H<224){const he=te[z++];j[$++]=String.fromCharCode((31&H)<<6|63&he)}else if(H>239&&H<365){const $t=((7&H)<<18|(63&te[z++])<<12|(63&te[z++])<<6|63&te[z++])-65536;j[$++]=String.fromCharCode(55296+($t>>10)),j[$++]=String.fromCharCode(56320+(1023&$t))}else{const he=te[z++],qe=te[z++];j[$++]=String.fromCharCode((15&H)<<12|(63&he)<<6|63&qe)}}return j.join("")}(this.decodeStringToByteArray(te,j))},decodeStringToByteArray(te,j){this.init_();const z=j?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let H=0;H<te.length;){const he=z[te.charAt(H++)],lt=H<te.length?z[te.charAt(H)]:0;++H;const qt=H<te.length?z[te.charAt(H)]:64;++H;const Ut=H<te.length?z[te.charAt(H)]:64;if(++H,null==he||null==lt||null==qt||null==Ut)throw new fe;$.push(he<<2|lt>>4),64!==qt&&($.push(lt<<4&240|qt>>2),64!==Ut&&$.push(qt<<6&192|Ut))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xe=function(te){return function(te){const j=ne(te);return re.encodeByteArray(j,!0)}(te).replace(/\./g,"")},q=function(te){try{return re.decodeString(te,!0)}catch(j){console.error("base64Decode failed: ",j)}return null},rt=()=>{try{return function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const te=process.env.__FIREBASE_DEFAULTS__;return te?JSON.parse(te):void 0})()||(()=>{if(typeof document>"u")return;let te;try{te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=te&&q(te[1]);return j&&JSON.parse(j)})()}catch(te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${te}`)}},Yt=te=>{var j,z;return null===(z=null===(j=rt())||void 0===j?void 0:j.emulatorHosts)||void 0===z?void 0:z[te]},kt=te=>{const j=Yt(te);if(!j)return;const z=j.lastIndexOf(":");if(z<=0||z+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const $=parseInt(j.substring(z+1),10);return"["===j[0]?[j.substring(1,z-1),$]:[j.substring(0,z),$]},Ae=()=>{var te;return null===(te=rt())||void 0===te?void 0:te.config},Ue=te=>{var j;return null===(j=rt())||void 0===j?void 0:j[`_${te}`]};class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,z)=>{this.resolve=j,this.reject=z})}wrapCallback(j){return(z,$)=>{z?this.reject(z):this.resolve($),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(z):j(z,$))}}}function He(te,j){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=j||"demo-project",H=te.iat||0,he=te.sub||te.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qe=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:H,exp:H+3600,auth_time:H,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},te);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(qe)),""].join(".")}function Se(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function we(){var te;const j=null===(te=rt())||void 0===te?void 0:te.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ct(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function tn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nt(){const te=Se();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function ce(){try{return"object"==typeof indexedDB}catch{return!1}}function _e(){return new Promise((te,j)=>{try{let z=!0;const $="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open($);H.onsuccess=()=>{H.result.close(),z||self.indexedDB.deleteDatabase($),te(!0)},H.onupgradeneeded=()=>{z=!1},H.onerror=()=>{var he;j((null===(he=H.error)||void 0===he?void 0:he.message)||"")}}catch(z){j(z)}})}class Pe extends Error{constructor(j,z,$){super(z),this.code=j,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(j,z,$){this.service=j,this.serviceName=z,this.errors=$}create(j,...z){const $=z[0]||{},H=`${this.service}/${j}`,he=this.errors[j],qe=he?function Ft(te,j){return te.replace(an,(z,$)=>{const H=j[$];return null!=H?String(H):`<${$}?>`})}(he,$):"Error";return new Pe(H,`${this.serviceName}: ${qe} (${H}).`,$)}}const an=/\{\$([^}]+)}/g;function vn(te){for(const j in te)if(Object.prototype.hasOwnProperty.call(te,j))return!1;return!0}function ki(te,j){if(te===j)return!0;const z=Object.keys(te),$=Object.keys(j);for(const H of z){if(!$.includes(H))return!1;const he=te[H],qe=j[H];if(Pr(he)&&Pr(qe)){if(!ki(he,qe))return!1}else if(he!==qe)return!1}for(const H of $)if(!z.includes(H))return!1;return!0}function Pr(te){return null!==te&&"object"==typeof te}function un(te){const j=[];for(const[z,$]of Object.entries(te))Array.isArray($)?$.forEach(H=>{j.push(encodeURIComponent(z)+"="+encodeURIComponent(H))}):j.push(encodeURIComponent(z)+"="+encodeURIComponent($));return j.length?"&"+j.join("&"):""}function Ir(te){const j={};return te.replace(/^\?/,"").split("&").forEach($=>{if($){const[H,he]=$.split("=");j[decodeURIComponent(H)]=decodeURIComponent(he)}}),j}function Zt(te){const j=te.indexOf("?");if(!j)return"";const z=te.indexOf("#",j);return te.substring(j,z>0?z:void 0)}function Yr(te,j){const z=new Br(te,j);return z.subscribe.bind(z)}class Br{constructor(j,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{j(this)}).catch($=>{this.error($)})}next(j){this.forEachObserver(z=>{z.next(j)})}error(j){this.forEachObserver(z=>{z.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,z,$){let H;if(void 0===j&&void 0===z&&void 0===$)throw new Error("Missing Observer.");H=function Er(te,j){if("object"!=typeof te||null===te)return!1;for(const z of j)if(z in te&&"function"==typeof te[z])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:z,complete:$},void 0===H.next&&(H.next=Sn),void 0===H.error&&(H.error=Sn),void 0===H.complete&&(H.complete=Sn);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch{}}),this.observers.push(H),he}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,j)}sendOne(j,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{z(this.observers[j])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sn(){}function qi(te){return te&&te._delegate?te._delegate:te}},5619:(St,ke,L)=>{L.d(ke,{X:()=>W});var m=L(8645);class W extends m.x{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const se=super._subscribe(ne);return!se.closed&&ne.next(this._value),se}getValue(){const{hasError:ne,thrownError:se,_value:re}=this;if(ne)throw se;return this._throwIfClosed(),re}next(ne){super.next(this._value=ne)}}},5592:(St,ke,L)=>{L.d(ke,{y:()=>ie});var m=L(305),W=L(7394),pe=L(4850),ne=L(8407),se=L(2653),re=L(4674),fe=L(1441);let ie=(()=>{class ve{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const We=new ve;return We.source=this,We.operator=Be,We}subscribe(Be,We,ut){const Rt=function ee(ve){return ve&&ve instanceof m.Lv||function q(ve){return ve&&(0,re.m)(ve.next)&&(0,re.m)(ve.error)&&(0,re.m)(ve.complete)}(ve)&&(0,W.Nn)(ve)}(Be)?Be:new m.Hp(Be,We,ut);return(0,fe.x)(()=>{const{operator:rt,source:Yt}=this;Rt.add(rt?rt.call(Rt,Yt):Yt?this._subscribe(Rt):this._trySubscribe(Rt))}),Rt}_trySubscribe(Be){try{return this._subscribe(Be)}catch(We){Be.error(We)}}forEach(Be,We){return new(We=xe(We))((ut,Rt)=>{const rt=new m.Hp({next:Yt=>{try{Be(Yt)}catch(kt){Rt(kt),rt.unsubscribe()}},error:Rt,complete:ut});this.subscribe(rt)})}_subscribe(Be){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Be)}[pe.L](){return this}pipe(...Be){return(0,ne.U)(Be)(this)}toPromise(Be){return new(Be=xe(Be))((We,ut)=>{let Rt;this.subscribe(rt=>Rt=rt,rt=>ut(rt),()=>We(Rt))})}}return ve.create=Ke=>new ve(Ke),ve})();function xe(ve){var Ke;return null!==(Ke=ve??se.config.Promise)&&void 0!==Ke?Ke:Promise}},8645:(St,ke,L)=>{L.d(ke,{x:()=>fe});var m=L(5592),W=L(7394);const ne=(0,L(2306).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=L(9039),re=L(1441);let fe=(()=>{class xe extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const ve=new ie(this,this);return ve.operator=ee,ve}_throwIfClosed(){if(this.closed)throw new ne}next(ee){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(ee)}})}error(ee){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:ve}=this;for(;ve.length;)ve.shift().error(ee)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:ve,isStopped:Ke,observers:Be}=this;return ve||Ke?W.Lc:(this.currentObservers=null,Be.push(ee),new W.w0(()=>{this.currentObservers=null,(0,se.P)(Be,ee)}))}_checkFinalizedStatuses(ee){const{hasError:ve,thrownError:Ke,isStopped:Be}=this;ve?ee.error(Ke):Be&&ee.complete()}asObservable(){const ee=new m.y;return ee.source=this,ee}}return xe.create=(q,ee)=>new ie(q,ee),xe})();class ie extends fe{constructor(q,ee){super(),this.destination=q,this.source=ee}next(q){var ee,ve;null===(ve=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===ve||ve.call(ee,q)}error(q){var ee,ve;null===(ve=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===ve||ve.call(ee,q)}complete(){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===ee||ee.call(q)}_subscribe(q){var ee,ve;return null!==(ve=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(q))&&void 0!==ve?ve:W.Lc}}},305:(St,ke,L)=>{L.d(ke,{Hp:()=>ut,Lv:()=>ve});var m=L(4674),W=L(7394),pe=L(2653),ne=L(3894),se=L(2420);const re=xe("C",void 0,void 0);function xe(Ae,Ue,Le){return{kind:Ae,value:Ue,error:Le}}var q=L(7599),ee=L(1441);class ve extends W.w0{constructor(Ue){super(),this.isStopped=!1,Ue?(this.destination=Ue,(0,W.Nn)(Ue)&&Ue.add(this)):this.destination=kt}static create(Ue,Le,He){return new ut(Ue,Le,He)}next(Ue){this.isStopped?Yt(function ie(Ae){return xe("N",Ae,void 0)}(Ue),this):this._next(Ue)}error(Ue){this.isStopped?Yt(function fe(Ae){return xe("E",void 0,Ae)}(Ue),this):(this.isStopped=!0,this._error(Ue))}complete(){this.isStopped?Yt(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ue){this.destination.next(Ue)}_error(Ue){try{this.destination.error(Ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Be(Ae,Ue){return Ke.call(Ae,Ue)}class We{constructor(Ue){this.partialObserver=Ue}next(Ue){const{partialObserver:Le}=this;if(Le.next)try{Le.next(Ue)}catch(He){Rt(He)}}error(Ue){const{partialObserver:Le}=this;if(Le.error)try{Le.error(Ue)}catch(He){Rt(He)}else Rt(Ue)}complete(){const{partialObserver:Ue}=this;if(Ue.complete)try{Ue.complete()}catch(Le){Rt(Le)}}}class ut extends ve{constructor(Ue,Le,He){let Se;if(super(),(0,m.m)(Ue)||!Ue)Se={next:Ue??void 0,error:Le??void 0,complete:He??void 0};else{let de;this&&pe.config.useDeprecatedNextContext?(de=Object.create(Ue),de.unsubscribe=()=>this.unsubscribe(),Se={next:Ue.next&&Be(Ue.next,de),error:Ue.error&&Be(Ue.error,de),complete:Ue.complete&&Be(Ue.complete,de)}):Se=Ue}this.destination=new We(Se)}}function Rt(Ae){pe.config.useDeprecatedSynchronousErrorHandling?(0,ee.O)(Ae):(0,ne.h)(Ae)}function Yt(Ae,Ue){const{onStoppedNotification:Le}=pe.config;Le&&q.z.setTimeout(()=>Le(Ae,Ue))}const kt={closed:!0,next:se.Z,error:function rt(Ae){throw Ae},complete:se.Z}},7394:(St,ke,L)=>{L.d(ke,{Lc:()=>re,w0:()=>se,Nn:()=>fe});var m=L(4674);const pe=(0,L(2306).d)(xe=>function(ee){xe(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((ve,Ke)=>`${Ke+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ne=L(9039);class se{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Be of ee)Be.remove(this);else ee.remove(this);const{initialTeardown:ve}=this;if((0,m.m)(ve))try{ve()}catch(Be){q=Be instanceof pe?Be.errors:[Be]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Be of Ke)try{ie(Be)}catch(We){q=q??[],We instanceof pe?q=[...q,...We.errors]:q.push(We)}}if(q)throw new pe(q)}}add(q){var ee;if(q&&q!==this)if(this.closed)ie(q);else{if(q instanceof se){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(q)}}_hasParent(q){const{_parentage:ee}=this;return ee===q||Array.isArray(ee)&&ee.includes(q)}_addParent(q){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(q),ee):ee?[ee,q]:q}_removeParent(q){const{_parentage:ee}=this;ee===q?this._parentage=null:Array.isArray(ee)&&(0,ne.P)(ee,q)}remove(q){const{_finalizers:ee}=this;ee&&(0,ne.P)(ee,q),q instanceof se&&q._removeParent(this)}}se.EMPTY=(()=>{const xe=new se;return xe.closed=!0,xe})();const re=se.EMPTY;function fe(xe){return xe instanceof se||xe&&"closed"in xe&&(0,m.m)(xe.remove)&&(0,m.m)(xe.add)&&(0,m.m)(xe.unsubscribe)}function ie(xe){(0,m.m)(xe)?xe():xe.unsubscribe()}},2653:(St,ke,L)=>{L.d(ke,{config:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(St,ke,L)=>{L.d(ke,{a:()=>q});var m=L(5592),W=L(7453),pe=L(2459),ne=L(2737),se=L(7400),re=L(4564),fe=L(2714),ie=L(8251),xe=L(7103);function q(...Ke){const Be=(0,re.yG)(Ke),We=(0,re.jO)(Ke),{args:ut,keys:Rt}=(0,W.D)(Ke);if(0===ut.length)return(0,pe.D)([],Be);const rt=new m.y(function ee(Ke,Be,We=ne.y){return ut=>{ve(Be,()=>{const{length:Rt}=Ke,rt=new Array(Rt);let Yt=Rt,kt=Rt;for(let Ae=0;Ae<Rt;Ae++)ve(Be,()=>{const Ue=(0,pe.D)(Ke[Ae],Be);let Le=!1;Ue.subscribe((0,ie.x)(ut,He=>{rt[Ae]=He,Le||(Le=!0,kt--),kt||ut.next(We(rt.slice()))},()=>{--Yt||ut.complete()}))},ut)},ut)}}(ut,Be,Rt?Yt=>(0,fe.n)(Rt,Yt):ne.y));return We?rt.pipe((0,se.Z)(We)):rt}function ve(Ke,Be,We){Ke?(0,xe.f)(We,Ke,Be):Be()}},5211:(St,ke,L)=>{L.d(ke,{z:()=>se});var m=L(7537),pe=L(4564),ne=L(2459);function se(...re){return function W(){return(0,m.J)(1)}()((0,ne.D)(re,(0,pe.yG)(re)))}},6232:(St,ke,L)=>{L.d(ke,{E:()=>W});const W=new(L(5592).y)(se=>se.complete())},2459:(St,ke,L)=>{L.d(ke,{D:()=>Ue});var m=L(4829),W=L(3093),pe=L(5137),re=L(5592),ie=L(4971),xe=L(4674),q=L(7103);function ve(Le,He){if(!Le)throw new Error("Iterable cannot be null");return new re.y(Se=>{(0,q.f)(Se,He,()=>{const de=Le[Symbol.asyncIterator]();(0,q.f)(Se,He,()=>{de.next().then(we=>{we.done?Se.complete():Se.next(we.value)})},0,!0)})})}var Ke=L(8382),Be=L(4026),We=L(4266),ut=L(3664),Rt=L(5726),rt=L(9853),Yt=L(541);function Ue(Le,He){return He?function Ae(Le,He){if(null!=Le){if((0,Ke.c)(Le))return function ne(Le,He){return(0,m.Xf)(Le).pipe((0,pe.R)(He),(0,W.Q)(He))}(Le,He);if((0,We.z)(Le))return function fe(Le,He){return new re.y(Se=>{let de=0;return He.schedule(function(){de===Le.length?Se.complete():(Se.next(Le[de++]),Se.closed||this.schedule())})})}(Le,He);if((0,Be.t)(Le))return function se(Le,He){return(0,m.Xf)(Le).pipe((0,pe.R)(He),(0,W.Q)(He))}(Le,He);if((0,Rt.D)(Le))return ve(Le,He);if((0,ut.T)(Le))return function ee(Le,He){return new re.y(Se=>{let de;return(0,q.f)(Se,He,()=>{de=Le[ie.h](),(0,q.f)(Se,He,()=>{let we,Ne;try{({value:we,done:Ne}=de.next())}catch(Ct){return void Se.error(Ct)}Ne?Se.complete():Se.next(we)},0,!0)}),()=>(0,xe.m)(de?.return)&&de.return()})}(Le,He);if((0,Yt.L)(Le))return function kt(Le,He){return ve((0,Yt.Q)(Le),He)}(Le,He)}throw(0,rt.z)(Le)}(Le,He):(0,m.Xf)(Le)}},4829:(St,ke,L)=>{L.d(ke,{Xf:()=>Ke});var m=L(7582),W=L(4266),pe=L(4026),ne=L(5592),se=L(8382),re=L(5726),fe=L(9853),ie=L(3664),xe=L(541),q=L(4674),ee=L(3894),ve=L(4850);function Ke(Ae){if(Ae instanceof ne.y)return Ae;if(null!=Ae){if((0,se.c)(Ae))return function Be(Ae){return new ne.y(Ue=>{const Le=Ae[ve.L]();if((0,q.m)(Le.subscribe))return Le.subscribe(Ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,W.z)(Ae))return function We(Ae){return new ne.y(Ue=>{for(let Le=0;Le<Ae.length&&!Ue.closed;Le++)Ue.next(Ae[Le]);Ue.complete()})}(Ae);if((0,pe.t)(Ae))return function ut(Ae){return new ne.y(Ue=>{Ae.then(Le=>{Ue.closed||(Ue.next(Le),Ue.complete())},Le=>Ue.error(Le)).then(null,ee.h)})}(Ae);if((0,re.D)(Ae))return rt(Ae);if((0,ie.T)(Ae))return function Rt(Ae){return new ne.y(Ue=>{for(const Le of Ae)if(Ue.next(Le),Ue.closed)return;Ue.complete()})}(Ae);if((0,xe.L)(Ae))return function Yt(Ae){return rt((0,xe.Q)(Ae))}(Ae)}throw(0,fe.z)(Ae)}function rt(Ae){return new ne.y(Ue=>{(function kt(Ae,Ue){var Le,He,Se,de;return(0,m.mG)(this,void 0,void 0,function*(){try{for(Le=(0,m.KL)(Ae);!(He=yield Le.next()).done;)if(Ue.next(He.value),Ue.closed)return}catch(we){Se={error:we}}finally{try{He&&!He.done&&(de=Le.return)&&(yield de.call(Le))}finally{if(Se)throw Se.error}}Ue.complete()})})(Ae,Ue).catch(Le=>Ue.error(Le))})}},2096:(St,ke,L)=>{L.d(ke,{of:()=>pe});var m=L(4564),W=L(2459);function pe(...ne){const se=(0,m.yG)(ne);return(0,W.D)(ne,se)}},8251:(St,ke,L)=>{L.d(ke,{x:()=>W});var m=L(305);function W(ne,se,re,fe,ie){return new pe(ne,se,re,fe,ie)}class pe extends m.Lv{constructor(se,re,fe,ie,xe,q){super(se),this.onFinalize=xe,this.shouldUnsubscribe=q,this._next=re?function(ee){try{re(ee)}catch(ve){se.error(ve)}}:super._next,this._error=ie?function(ee){try{ie(ee)}catch(ve){se.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(ee){se.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},2181:(St,ke,L)=>{L.d(ke,{h:()=>pe});var m=L(9360),W=L(8251);function pe(ne,se){return(0,m.e)((re,fe)=>{let ie=0;re.subscribe((0,W.x)(fe,xe=>ne.call(se,xe,ie++)&&fe.next(xe)))})}},7398:(St,ke,L)=>{L.d(ke,{U:()=>pe});var m=L(9360),W=L(8251);function pe(ne,se){return(0,m.e)((re,fe)=>{let ie=0;re.subscribe((0,W.x)(fe,xe=>{fe.next(ne.call(se,xe,ie++))}))})}},7537:(St,ke,L)=>{L.d(ke,{J:()=>pe});var m=L(1631),W=L(2737);function pe(ne=1/0){return(0,m.z)(W.y,ne)}},1631:(St,ke,L)=>{L.d(ke,{z:()=>ie});var m=L(7398),W=L(4829),pe=L(9360),ne=L(7103),se=L(8251),fe=L(4674);function ie(xe,q,ee=1/0){return(0,fe.m)(q)?ie((ve,Ke)=>(0,m.U)((Be,We)=>q(ve,Be,Ke,We))((0,W.Xf)(xe(ve,Ke))),ee):("number"==typeof q&&(ee=q),(0,pe.e)((ve,Ke)=>function re(xe,q,ee,ve,Ke,Be,We,ut){const Rt=[];let rt=0,Yt=0,kt=!1;const Ae=()=>{kt&&!Rt.length&&!rt&&q.complete()},Ue=He=>rt<ve?Le(He):Rt.push(He),Le=He=>{Be&&q.next(He),rt++;let Se=!1;(0,W.Xf)(ee(He,Yt++)).subscribe((0,se.x)(q,de=>{Ke?.(de),Be?Ue(de):q.next(de)},()=>{Se=!0},void 0,()=>{if(Se)try{for(rt--;Rt.length&&rt<ve;){const de=Rt.shift();We?(0,ne.f)(q,We,()=>Le(de)):Le(de)}Ae()}catch(de){q.error(de)}}))};return xe.subscribe((0,se.x)(q,Ue,()=>{kt=!0,Ae()})),()=>{ut?.()}}(ve,Ke,xe,ee)))}},3093:(St,ke,L)=>{L.d(ke,{Q:()=>ne});var m=L(7103),W=L(9360),pe=L(8251);function ne(se,re=0){return(0,W.e)((fe,ie)=>{fe.subscribe((0,pe.x)(ie,xe=>(0,m.f)(ie,se,()=>ie.next(xe),re),()=>(0,m.f)(ie,se,()=>ie.complete(),re),xe=>(0,m.f)(ie,se,()=>ie.error(xe),re)))})}},7921:(St,ke,L)=>{L.d(ke,{O:()=>ne});var m=L(5211),W=L(4564),pe=L(9360);function ne(...se){const re=(0,W.yG)(se);return(0,pe.e)((fe,ie)=>{(re?(0,m.z)(se,fe,re):(0,m.z)(se,fe)).subscribe(ie)})}},5137:(St,ke,L)=>{L.d(ke,{R:()=>W});var m=L(9360);function W(pe,ne=0){return(0,m.e)((se,re)=>{re.add(pe.schedule(()=>se.subscribe(re),ne))})}},4664:(St,ke,L)=>{L.d(ke,{w:()=>ne});var m=L(4829),W=L(9360),pe=L(8251);function ne(se,re){return(0,W.e)((fe,ie)=>{let xe=null,q=0,ee=!1;const ve=()=>ee&&!xe&&ie.complete();fe.subscribe((0,pe.x)(ie,Ke=>{xe?.unsubscribe();let Be=0;const We=q++;(0,m.Xf)(se(Ke,We)).subscribe(xe=(0,pe.x)(ie,ut=>ie.next(re?re(Ke,ut,We,Be++):ut),()=>{xe=null,ve()}))},()=>{ee=!0,ve()}))})}},8180:(St,ke,L)=>{L.d(ke,{q:()=>ne});var m=L(6232),W=L(9360),pe=L(8251);function ne(se){return se<=0?()=>m.E:(0,W.e)((re,fe)=>{let ie=0;re.subscribe((0,pe.x)(fe,xe=>{++ie<=se&&(fe.next(xe),se<=ie&&fe.complete())}))})}},9773:(St,ke,L)=>{L.d(ke,{R:()=>se});var m=L(9360),W=L(8251),pe=L(4829),ne=L(2420);function se(re){return(0,m.e)((fe,ie)=>{(0,pe.Xf)(re).subscribe((0,W.x)(ie,()=>ie.complete(),ne.Z)),!ie.closed&&fe.subscribe(ie)})}},9397:(St,ke,L)=>{L.d(ke,{b:()=>se});var m=L(4674),W=L(9360),pe=L(8251),ne=L(2737);function se(re,fe,ie){const xe=(0,m.m)(re)||fe||ie?{next:re,error:fe,complete:ie}:re;return xe?(0,W.e)((q,ee)=>{var ve;null===(ve=xe.subscribe)||void 0===ve||ve.call(xe);let Ke=!0;q.subscribe((0,pe.x)(ee,Be=>{var We;null===(We=xe.next)||void 0===We||We.call(xe,Be),ee.next(Be)},()=>{var Be;Ke=!1,null===(Be=xe.complete)||void 0===Be||Be.call(xe),ee.complete()},Be=>{var We;Ke=!1,null===(We=xe.error)||void 0===We||We.call(xe,Be),ee.error(Be)},()=>{var Be,We;Ke&&(null===(Be=xe.unsubscribe)||void 0===Be||Be.call(xe)),null===(We=xe.finalize)||void 0===We||We.call(xe)}))}):ne.y}},1954:(St,ke,L)=>{L.d(ke,{o:()=>se});var m=L(7394);class W extends m.w0{constructor(fe,ie){super()}schedule(fe,ie=0){return this}}const pe={setInterval(re,fe,...ie){const{delegate:xe}=pe;return xe?.setInterval?xe.setInterval(re,fe,...ie):setInterval(re,fe,...ie)},clearInterval(re){const{delegate:fe}=pe;return(fe?.clearInterval||clearInterval)(re)},delegate:void 0};var ne=L(9039);class se extends W{constructor(fe,ie){super(fe,ie),this.scheduler=fe,this.work=ie,this.pending=!1}schedule(fe,ie=0){var xe;if(this.closed)return this;this.state=fe;const q=this.id,ee=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(ee,q,ie)),this.pending=!0,this.delay=ie,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(ee,this.id,ie),this}requestAsyncId(fe,ie,xe=0){return pe.setInterval(fe.flush.bind(fe,this),xe)}recycleAsyncId(fe,ie,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return ie;null!=ie&&pe.clearInterval(ie)}execute(fe,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(fe,ie);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ie){let q,xe=!1;try{this.work(fe)}catch(ee){xe=!0,q=ee||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ie}=this,{actions:xe}=ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(xe,this),null!=fe&&(this.id=this.recycleAsyncId(ie,fe,null)),this.delay=null,super.unsubscribe()}}}},9931:(St,ke,L)=>{L.d(ke,{v:()=>pe});const m={now:()=>(m.delegate||Date).now(),delegate:void 0};class W{constructor(se,re=W.now){this.schedulerActionCtor=se,this.now=re}schedule(se,re=0,fe){return new this.schedulerActionCtor(this,se).schedule(fe,re)}}W.now=m.now;class pe extends W{constructor(se,re=W.now){super(se,re),this.actions=[],this._active=!1}flush(se){const{actions:re}=this;if(this._active)return void re.push(se);let fe;this._active=!0;do{if(fe=se.execute(se.state,se.delay))break}while(se=re.shift());if(this._active=!1,fe){for(;se=re.shift();)se.unsubscribe();throw fe}}}},6321:(St,ke,L)=>{L.d(ke,{z:()=>pe});var m=L(1954);const pe=new(L(9931).v)(m.o)},7599:(St,ke,L)=>{L.d(ke,{z:()=>m});const m={setTimeout(W,pe,...ne){const{delegate:se}=m;return se?.setTimeout?se.setTimeout(W,pe,...ne):setTimeout(W,pe,...ne)},clearTimeout(W){const{delegate:pe}=m;return(pe?.clearTimeout||clearTimeout)(W)},delegate:void 0}},4971:(St,ke,L)=>{L.d(ke,{h:()=>W});const W=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(St,ke,L)=>{L.d(ke,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(St,ke,L)=>{L.d(ke,{_6:()=>re,jO:()=>ne,yG:()=>se});var m=L(4674);function pe(fe){return fe[fe.length-1]}function ne(fe){return(0,m.m)(pe(fe))?fe.pop():void 0}function se(fe){return function W(fe){return fe&&(0,m.m)(fe.schedule)}(pe(fe))?fe.pop():void 0}function re(fe,ie){return"number"==typeof pe(fe)?fe.pop():ie}},7453:(St,ke,L)=>{L.d(ke,{D:()=>se});const{isArray:m}=Array,{getPrototypeOf:W,prototype:pe,keys:ne}=Object;function se(fe){if(1===fe.length){const ie=fe[0];if(m(ie))return{args:ie,keys:null};if(function re(fe){return fe&&"object"==typeof fe&&W(fe)===pe}(ie)){const xe=ne(ie);return{args:xe.map(q=>ie[q]),keys:xe}}}return{args:fe,keys:null}}},9039:(St,ke,L)=>{function m(W,pe){if(W){const ne=W.indexOf(pe);0<=ne&&W.splice(ne,1)}}L.d(ke,{P:()=>m})},2306:(St,ke,L)=>{function m(W){const ne=W(se=>{Error.call(se),se.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}L.d(ke,{d:()=>m})},2714:(St,ke,L)=>{function m(W,pe){return W.reduce((ne,se,re)=>(ne[se]=pe[re],ne),{})}L.d(ke,{n:()=>m})},1441:(St,ke,L)=>{L.d(ke,{O:()=>ne,x:()=>pe});var m=L(2653);let W=null;function pe(se){if(m.config.useDeprecatedSynchronousErrorHandling){const re=!W;if(re&&(W={errorThrown:!1,error:null}),se(),re){const{errorThrown:fe,error:ie}=W;if(W=null,fe)throw ie}}else se()}function ne(se){m.config.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=se)}},7103:(St,ke,L)=>{function m(W,pe,ne,se=0,re=!1){const fe=pe.schedule(function(){ne(),re?W.add(this.schedule(null,se)):this.unsubscribe()},se);if(W.add(fe),!re)return fe}L.d(ke,{f:()=>m})},2737:(St,ke,L)=>{function m(W){return W}L.d(ke,{y:()=>m})},4266:(St,ke,L)=>{L.d(ke,{z:()=>m});const m=W=>W&&"number"==typeof W.length&&"function"!=typeof W},5726:(St,ke,L)=>{L.d(ke,{D:()=>W});var m=L(4674);function W(pe){return Symbol.asyncIterator&&(0,m.m)(pe?.[Symbol.asyncIterator])}},4674:(St,ke,L)=>{function m(W){return"function"==typeof W}L.d(ke,{m:()=>m})},8382:(St,ke,L)=>{L.d(ke,{c:()=>pe});var m=L(4850),W=L(4674);function pe(ne){return(0,W.m)(ne[m.L])}},3664:(St,ke,L)=>{L.d(ke,{T:()=>pe});var m=L(4971),W=L(4674);function pe(ne){return(0,W.m)(ne?.[m.h])}},4026:(St,ke,L)=>{L.d(ke,{t:()=>W});var m=L(4674);function W(pe){return(0,m.m)(pe?.then)}},541:(St,ke,L)=>{L.d(ke,{L:()=>ne,Q:()=>pe});var m=L(7582),W=L(4674);function pe(se){return(0,m.FC)(this,arguments,function*(){const fe=se.getReader();try{for(;;){const{value:ie,done:xe}=yield(0,m.qq)(fe.read());if(xe)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(ie)}}finally{fe.releaseLock()}})}function ne(se){return(0,W.m)(se?.getReader)}},9360:(St,ke,L)=>{L.d(ke,{A:()=>W,e:()=>pe});var m=L(4674);function W(ne){return(0,m.m)(ne?.lift)}function pe(ne){return se=>{if(W(se))return se.lift(function(re){try{return ne(re,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(St,ke,L)=>{L.d(ke,{Z:()=>ne});var m=L(7398);const{isArray:W}=Array;function ne(se){return(0,m.U)(re=>function pe(se,re){return W(re)?se(...re):se(re)}(se,re))}},2420:(St,ke,L)=>{function m(){}L.d(ke,{Z:()=>m})},8407:(St,ke,L)=>{L.d(ke,{U:()=>pe,z:()=>W});var m=L(2737);function W(...ne){return pe(ne)}function pe(ne){return 0===ne.length?m.y:1===ne.length?ne[0]:function(re){return ne.reduce((fe,ie)=>ie(fe),re)}}},3894:(St,ke,L)=>{L.d(ke,{h:()=>pe});var m=L(2653),W=L(7599);function pe(ne){W.z.setTimeout(()=>{const{onUnhandledError:se}=m.config;if(!se)throw ne;se(ne)})}},9853:(St,ke,L)=>{function m(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(ke,{z:()=>m})},6814:(St,ke,L)=>{L.d(ke,{Do:()=>ut,EM:()=>Gr,HT:()=>ne,JF:()=>qs,JJ:()=>cs,K0:()=>re,Mx:()=>ti,NF:()=>ft,O5:()=>$r,PM:()=>Xt,S$:()=>Ke,V_:()=>ie,Ye:()=>Rt,Zd:()=>di,b0:()=>We,bD:()=>Qi,ez:()=>Es,mk:()=>Ns,q:()=>pe,sg:()=>gr,w_:()=>se});var m=L(4946);let W=null;function pe(){return W}function ne(T){W||(W=T)}class se{}const re=new m.OlP("DocumentToken");let fe=(()=>{class T{historyGo(S){throw new Error("Not implemented")}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=m.Yz7({token:T,factory:function(){return(0,m.f3M)(xe)},providedIn:"platform"})}return T})();const ie=new m.OlP("Location Initialized");let xe=(()=>{class T extends fe{constructor(){super(),this._doc=(0,m.f3M)(re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pe().getBaseHref(this._doc)}onPopState(S){const x=pe().getGlobalEventTarget(this._doc,"window");return x.addEventListener("popstate",S,!1),()=>x.removeEventListener("popstate",S)}onHashChange(S){const x=pe().getGlobalEventTarget(this._doc,"window");return x.addEventListener("hashchange",S,!1),()=>x.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,x,K){this._history.pushState(S,x,K)}replaceState(S,x,K){this._history.replaceState(S,x,K)}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=m.Yz7({token:T,factory:function(){return new T},providedIn:"platform"})}return T})();function q(T,F){if(0==T.length)return F;if(0==F.length)return T;let S=0;return T.endsWith("/")&&S++,F.startsWith("/")&&S++,2==S?T+F.substring(1):1==S?T+F:T+"/"+F}function ee(T){const F=T.match(/#|\?|$/),S=F&&F.index||T.length;return T.slice(0,S-("/"===T[S-1]?1:0))+T.slice(S)}function ve(T){return T&&"?"!==T[0]?"?"+T:T}let Ke=(()=>{class T{historyGo(S){throw new Error("Not implemented")}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=m.Yz7({token:T,factory:function(){return(0,m.f3M)(We)},providedIn:"root"})}return T})();const Be=new m.OlP("appBaseHref");let We=(()=>{class T extends Ke{constructor(S,x){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=x??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return q(this._baseHref,S)}path(S=!1){const x=this._platformLocation.pathname+ve(this._platformLocation.search),K=this._platformLocation.hash;return K&&S?`${x}${K}`:x}pushState(S,x,K,Ee){const Fe=this.prepareExternalUrl(K+ve(Ee));this._platformLocation.pushState(S,x,Fe)}replaceState(S,x,K,Ee){const Fe=this.prepareExternalUrl(K+ve(Ee));this._platformLocation.replaceState(S,x,Fe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static#e=this.\u0275fac=function(x){return new(x||T)(m.LFG(fe),m.LFG(Be,8))};static#t=this.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),ut=(()=>{class T extends Ke{constructor(S,x){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=x&&(this._baseHref=x)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let x=this._platformLocation.hash;return null==x&&(x="#"),x.length>0?x.substring(1):x}prepareExternalUrl(S){const x=q(this._baseHref,S);return x.length>0?"#"+x:x}pushState(S,x,K,Ee){let Fe=this.prepareExternalUrl(K+ve(Ee));0==Fe.length&&(Fe=this._platformLocation.pathname),this._platformLocation.pushState(S,x,Fe)}replaceState(S,x,K,Ee){let Fe=this.prepareExternalUrl(K+ve(Ee));0==Fe.length&&(Fe=this._platformLocation.pathname),this._platformLocation.replaceState(S,x,Fe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static#e=this.\u0275fac=function(x){return new(x||T)(m.LFG(fe),m.LFG(Be,8))};static#t=this.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac})}return T})(),Rt=(()=>{class T{constructor(S){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const x=this._locationStrategy.getBaseHref();this._basePath=function Ae(T){if(new RegExp("^(https?:)?//").test(T)){const[,S]=T.split(/\/\/[^\/]+/);return S}return T}(ee(kt(x))),this._locationStrategy.onPopState(K=>{this._subject.emit({url:this.path(!0),pop:!0,state:K.state,type:K.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,x=""){return this.path()==this.normalize(S+ve(x))}normalize(S){return T.stripTrailingSlash(function Yt(T,F){if(!T||!F.startsWith(T))return F;const S=F.substring(T.length);return""===S||["/",";","?","#"].includes(S[0])?S:F}(this._basePath,kt(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,x="",K=null){this._locationStrategy.pushState(K,"",S,x),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+ve(x)),K)}replaceState(S,x="",K=null){this._locationStrategy.replaceState(K,"",S,x),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+ve(x)),K)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(x=>{this._notifyUrlChangeListeners(x.url,x.state)})),()=>{const x=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(x,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",x){this._urlChangeListeners.forEach(K=>K(S,x))}subscribe(S,x,K){return this._subject.subscribe({next:S,error:x,complete:K})}static#e=this.normalizeQueryParams=ve;static#t=this.joinWithSlash=q;static#n=this.stripTrailingSlash=ee;static#r=this.\u0275fac=function(x){return new(x||T)(m.LFG(Ke))};static#i=this.\u0275prov=m.Yz7({token:T,factory:function(){return function rt(){return new Rt((0,m.LFG)(Ke))}()},providedIn:"root"})}return T})();function kt(T){return T.replace(/\/index.html$/,"")}var Le=function(T){return T[T.Decimal=0]="Decimal",T[T.Percent=1]="Percent",T[T.Currency=2]="Currency",T[T.Scientific=3]="Scientific",T}(Le||{}),Ne=function(T){return T[T.Decimal=0]="Decimal",T[T.Group=1]="Group",T[T.List=2]="List",T[T.PercentSign=3]="PercentSign",T[T.PlusSign=4]="PlusSign",T[T.MinusSign=5]="MinusSign",T[T.Exponential=6]="Exponential",T[T.SuperscriptingExponent=7]="SuperscriptingExponent",T[T.PerMille=8]="PerMille",T[T.Infinity=9]="Infinity",T[T.NaN=10]="NaN",T[T.TimeSeparator=11]="TimeSeparator",T[T.CurrencyDecimal=12]="CurrencyDecimal",T[T.CurrencyGroup=13]="CurrencyGroup",T}(Ne||{});function Pe(T,F){const S=(0,m.cg1)(T),x=S[m.wAp.NumberSymbols][F];if(typeof x>"u"){if(F===Ne.CurrencyDecimal)return S[m.wAp.NumberSymbols][Ne.Decimal];if(F===Ne.CurrencyGroup)return S[m.wAp.NumberSymbols][Ne.Group]}return x}const H=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function wt(T){const F=parseInt(T);if(isNaN(F))throw new Error("Invalid integer literal when parsing "+T);return F}function ti(T,F){F=encodeURIComponent(F);for(const S of T.split(";")){const x=S.indexOf("="),[K,Ee]=-1==x?[S,""]:[S.slice(0,x),S.slice(x+1)];if(K.trim()===F)return decodeURIComponent(Ee)}return null}const js=/\s+/,er=[];let Ns=(()=>{class T{constructor(S,x,K,Ee){this._iterableDiffers=S,this._keyValueDiffers=x,this._ngEl=K,this._renderer=Ee,this.initialClasses=er,this.stateMap=new Map}set klass(S){this.initialClasses=null!=S?S.trim().split(js):er}set ngClass(S){this.rawClass="string"==typeof S?S.trim().split(js):S}ngDoCheck(){for(const x of this.initialClasses)this._updateState(x,!0);const S=this.rawClass;if(Array.isArray(S)||S instanceof Set)for(const x of S)this._updateState(x,!0);else if(null!=S)for(const x of Object.keys(S))this._updateState(x,!!S[x]);this._applyStateDiff()}_updateState(S,x){const K=this.stateMap.get(S);void 0!==K?(K.enabled!==x&&(K.changed=!0,K.enabled=x),K.touched=!0):this.stateMap.set(S,{enabled:x,changed:!0,touched:!0})}_applyStateDiff(){for(const S of this.stateMap){const x=S[0],K=S[1];K.changed?(this._toggleClass(x,K.enabled),K.changed=!1):K.touched||(K.enabled&&this._toggleClass(x,!1),this.stateMap.delete(x)),K.touched=!1}}_toggleClass(S,x){(S=S.trim()).length>0&&S.split(js).forEach(K=>{x?this._renderer.addClass(this._ngEl.nativeElement,K):this._renderer.removeClass(this._ngEl.nativeElement,K)})}static#e=this.\u0275fac=function(x){return new(x||T)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))};static#t=this.\u0275dir=m.lG2({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return T})();class Rn{constructor(F,S,x,K){this.$implicit=F,this.ngForOf=S,this.index=x,this.count=K}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gr=(()=>{class T{set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}constructor(S,x,K){this._viewContainer=S,this._template=x,this._differs=K,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const x=this._viewContainer;S.forEachOperation((K,Ee,Fe)=>{if(null==K.previousIndex)x.createEmbeddedView(this._template,new Rn(K.item,this._ngForOf,-1,-1),null===Fe?void 0:Fe);else if(null==Fe)x.remove(null===Ee?void 0:Ee);else if(null!==Ee){const Dt=x.get(Ee);x.move(Dt,Fe),Ki(Dt,K)}});for(let K=0,Ee=x.length;K<Ee;K++){const Dt=x.get(K).context;Dt.index=K,Dt.count=Ee,Dt.ngForOf=this._ngForOf}S.forEachIdentityChange(K=>{Ki(x.get(K.currentIndex),K)})}static ngTemplateContextGuard(S,x){return!0}static#e=this.\u0275fac=function(x){return new(x||T)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))};static#t=this.\u0275dir=m.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return T})();function Ki(T,F){T.context.$implicit=F.item}let $r=(()=>{class T{constructor(S,x){this._viewContainer=S,this._context=new wr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=x}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){ht("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){ht("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,x){return!0}static#e=this.\u0275fac=function(x){return new(x||T)(m.Y36(m.s_b),m.Y36(m.Rgc))};static#t=this.\u0275dir=m.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return T})();class wr{constructor(){this.$implicit=null,this.ngIf=null}}function ht(T,F){if(F&&!F.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,m.AaK)(F)}'.`)}let cs=(()=>{class T{constructor(S){this._locale=S}transform(S,x,K){if(!function zr(T){return!(null==T||""===T||T!=T)}(S))return null;K=K||this._locale;try{return function Me(T,F,S){return function gi(T,F,S,x,K,Ee,Fe=!1){let Dt="",cr=!1;if(isFinite(T)){let Nn=function dt(T){let x,K,Ee,Fe,Dt,F=Math.abs(T)+"",S=0;for((K=F.indexOf("."))>-1&&(F=F.replace(".","")),(Ee=F.search(/e/i))>0?(K<0&&(K=Ee),K+=+F.slice(Ee+1),F=F.substring(0,Ee)):K<0&&(K=F.length),Ee=0;"0"===F.charAt(Ee);Ee++);if(Ee===(Dt=F.length))x=[0],K=1;else{for(Dt--;"0"===F.charAt(Dt);)Dt--;for(K-=Ee,x=[],Fe=0;Ee<=Dt;Ee++,Fe++)x[Fe]=Number(F.charAt(Ee))}return K>22&&(x=x.splice(0,21),S=K-1,K=1),{digits:x,exponent:S,integerLen:K}}(T);Fe&&(Nn=function et(T){if(0===T.digits[0])return T;const F=T.digits.length-T.integerLen;return T.exponent?T.exponent+=2:(0===F?T.digits.push(0,0):1===F&&T.digits.push(0),T.integerLen+=2),T}(Nn));let Vn=F.minInt,Vt=F.minFrac,rr=F.maxFrac;if(Ee){const Cr=Ee.match(H);if(null===Cr)throw new Error(`${Ee} is not a valid digit info`);const ns=Cr[1],Et=Cr[3],Mt=Cr[5];null!=ns&&(Vn=wt(ns)),null!=Et&&(Vt=wt(Et)),null!=Mt?rr=wt(Mt):null!=Et&&Vt>rr&&(rr=Vt)}!function Kt(T,F,S){if(F>S)throw new Error(`The minimum number of digits after fraction (${F}) is higher than the maximum (${S}).`);let x=T.digits,K=x.length-T.integerLen;const Ee=Math.min(Math.max(F,K),S);let Fe=Ee+T.integerLen,Dt=x[Fe];if(Fe>0){x.splice(Math.max(T.integerLen,Fe));for(let Vt=Fe;Vt<x.length;Vt++)x[Vt]=0}else{K=Math.max(0,K),T.integerLen=1,x.length=Math.max(1,Fe=Ee+1),x[0]=0;for(let Vt=1;Vt<Fe;Vt++)x[Vt]=0}if(Dt>=5)if(Fe-1<0){for(let Vt=0;Vt>Fe;Vt--)x.unshift(0),T.integerLen++;x.unshift(1),T.integerLen++}else x[Fe-1]++;for(;K<Math.max(0,Ee);K++)x.push(0);let cr=0!==Ee;const Nn=F+T.integerLen,Vn=x.reduceRight(function(Vt,rr,Un,kr){return kr[Un]=(rr+=Vt)<10?rr:rr-10,cr&&(0===kr[Un]&&Un>=Nn?kr.pop():cr=!1),rr>=10?1:0},0);Vn&&(x.unshift(Vn),T.integerLen++)}(Nn,Vt,rr);let Un=Nn.digits,kr=Nn.integerLen;const No=Nn.exponent;let Ge=[];for(cr=Un.every(Cr=>!Cr);kr<Vn;kr++)Un.unshift(0);for(;kr<0;kr++)Un.unshift(0);kr>0?Ge=Un.splice(kr,Un.length):(Ge=Un,Un=[0]);const Xn=[];for(Un.length>=F.lgSize&&Xn.unshift(Un.splice(-F.lgSize,Un.length).join(""));Un.length>F.gSize;)Xn.unshift(Un.splice(-F.gSize,Un.length).join(""));Un.length&&Xn.unshift(Un.join("")),Dt=Xn.join(Pe(S,x)),Ge.length&&(Dt+=Pe(S,K)+Ge.join("")),No&&(Dt+=Pe(S,Ne.Exponential)+"+"+No)}else Dt=Pe(S,Ne.Infinity);return Dt=T<0&&!cr?F.negPre+Dt+F.negSuf:F.posPre+Dt+F.posSuf,Dt}(T,function me(T,F="-"){const S={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},x=T.split(";"),K=x[0],Ee=x[1],Fe=-1!==K.indexOf(".")?K.split("."):[K.substring(0,K.lastIndexOf("0")+1),K.substring(K.lastIndexOf("0")+1)],Dt=Fe[0],cr=Fe[1]||"";S.posPre=Dt.substring(0,Dt.indexOf("#"));for(let Vn=0;Vn<cr.length;Vn++){const Vt=cr.charAt(Vn);"0"===Vt?S.minFrac=S.maxFrac=Vn+1:"#"===Vt?S.maxFrac=Vn+1:S.posSuf+=Vt}const Nn=Dt.split(",");if(S.gSize=Nn[1]?Nn[1].length:0,S.lgSize=Nn[2]||Nn[1]?(Nn[2]||Nn[1]).length:0,Ee){const Vn=K.length-S.posPre.length-S.posSuf.length,Vt=Ee.indexOf("#");S.negPre=Ee.substring(0,Vt).replace(/'/g,""),S.negSuf=Ee.slice(Vt+Vn).replace(/'/g,"")}else S.negPre=F+S.posPre,S.negSuf=S.posSuf;return S}(function Xe(T,F){return(0,m.cg1)(T)[m.wAp.NumberFormats][F]}(F,Le.Decimal),Pe(F,Ne.MinusSign)),F,Ne.Group,Ne.Decimal,S)}(function ls(T){if("string"==typeof T&&!isNaN(Number(T)-parseFloat(T)))return Number(T);if("number"!=typeof T)throw new Error(`${T} is not a number`);return T}(S),K,x)}catch(Ee){throw function Di(T,F){return new m.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(x){return new(x||T)(m.Y36(m.soG,16))};static#t=this.\u0275pipe=m.Yjl({name:"number",type:T,pure:!0,standalone:!0})}return T})();let Es=(()=>{class T{static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275mod=m.oAB({type:T});static#n=this.\u0275inj=m.cJS({})}return T})();const Qi="browser",hs="server";function ft(T){return T===Qi}function Xt(T){return T===hs}let Gr=(()=>{class T{static#e=this.\u0275prov=(0,m.Yz7)({token:T,providedIn:"root",factory:()=>new Ts((0,m.LFG)(re),window)})}return T})();class Ts{constructor(F,S){this.document=F,this.window=S,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const S=function kn(T,F){const S=T.getElementById(F)||T.getElementsByName(F)[0];if(S)return S;if("function"==typeof T.createTreeWalker&&T.body&&"function"==typeof T.body.attachShadow){const x=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let K=x.currentNode;for(;K;){const Ee=K.shadowRoot;if(Ee){const Fe=Ee.getElementById(F)||Ee.querySelector(`[name="${F}"]`);if(Fe)return Fe}K=x.nextNode()}}return null}(this.document,F);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(F){this.supportsScrolling()&&(this.window.history.scrollRestoration=F)}scrollToElement(F){const S=F.getBoundingClientRect(),x=S.left+this.window.pageXOffset,K=S.top+this.window.pageYOffset,Ee=this.offset();this.window.scrollTo(x-Ee[0],K-Ee[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class qs{}const Ai=T=>T.src,yi=new m.OlP("ImageLoader",{providedIn:"root",factory:()=>Ai}),Nr=new m.OlP("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let Fr=(()=>{class T{constructor(){this.preloadedImages=(0,m.f3M)(Nr),this.document=(0,m.f3M)(re)}createPreloadLinkTag(S,x,K,Ee){if(this.preloadedImages.has(x))return;this.preloadedImages.add(x);const Fe=S.createElement("link");S.setAttribute(Fe,"as","image"),S.setAttribute(Fe,"href",x),S.setAttribute(Fe,"rel","preload"),S.setAttribute(Fe,"fetchpriority","high"),Ee&&S.setAttribute(Fe,"imageSizes",Ee),K&&S.setAttribute(Fe,"imageSrcset",K),S.appendChild(this.document.head,Fe)}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const Or=/^((\s*\d+w\s*(,|$)){1,})$/,nr=[1,2],ma={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},_o=new m.OlP("ImageConfig",{providedIn:"root",factory:()=>ma});let di=(()=>{class T{constructor(){this.imageLoader=(0,m.f3M)(yi),this.config=function kc(T){let F={};return T.breakpoints&&(F.breakpoints=T.breakpoints.sort((S,x)=>S-x)),Object.assign({},ma,T,F)}((0,m.f3M)(_o)),this.renderer=(0,m.f3M)(m.Qsj),this.imgElement=(0,m.f3M)(m.SBq).nativeElement,this.injector=(0,m.f3M)(m.zs3),this.isServer=Xt((0,m.f3M)(m.Lbi)),this.preloadLinkCreator=(0,m.f3M)(Fr),this.lcpObserver=null,this._renderedSrc=null,this.priority=!1,this.disableOptimizedSrcset=!1,this.fill=!1}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const S=this.updateSrcAndSrcset();this.sizes&&this.setHostAttribute("sizes",this.sizes),this.isServer&&this.priority&&this.preloadLinkCreator.createPreloadLinkTag(this.renderer,this.getRewrittenSrc(),S,this.sizes)}ngOnChanges(S){if(S.ngSrc&&!S.ngSrc.isFirstChange()){const x=this._renderedSrc;this.updateSrcAndSrcset(!0);const K=this._renderedSrc;null!==this.lcpObserver&&x&&K&&x!==K&&this.injector.get(m.R0b).runOutsideAngular(()=>{this.lcpObserver?.updateImage(x,K)})}}callImageLoader(S){let x=S;return this.loaderParams&&(x.loaderParams=this.loaderParams),this.imageLoader(x)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const S=Or.test(this.ngSrcset);return this.ngSrcset.split(",").filter(K=>""!==K).map(K=>{K=K.trim();const Ee=S?parseFloat(K):parseFloat(K)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:Ee})} ${K}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:S}=this.config;let x=S;return"100vw"===this.sizes?.trim()&&(x=S.filter(Ee=>Ee>=640)),x.map(Ee=>`${this.callImageLoader({src:this.ngSrc,width:Ee})} ${Ee}w`).join(", ")}updateSrcAndSrcset(S=!1){S&&(this._renderedSrc=null);const x=this.getRewrittenSrc();let K;return this.setHostAttribute("src",x),this.ngSrcset?K=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(K=this.getAutomaticSrcset()),K&&this.setHostAttribute("srcset",K),K}getFixedSrcset(){return nr.map(x=>`${this.callImageLoader({src:this.ngSrc,width:this.width*x})} ${x}x`).join(", ")}shouldGenerateAutomaticSrcset(){return!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Ai&&!(this.width>1920||this.height>1080)}ngOnDestroy(){}setHostAttribute(S,x){this.renderer.setAttribute(this.imgElement,S,x)}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275dir=m.lG2({type:T,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(x,K){2&x&&m.Udp("position",K.fill?"absolute":null)("width",K.fill?"100%":null)("height",K.fill?"100%":null)("inset",K.fill?"0px":null)},inputs:{ngSrc:["ngSrc","ngSrc",hu],ngSrcset:"ngSrcset",sizes:"sizes",width:["width","width",m.Cb_],height:["height","height",m.Cb_],loading:"loading",priority:["priority","priority",m.VuI],loaderParams:"loaderParams",disableOptimizedSrcset:["disableOptimizedSrcset","disableOptimizedSrcset",m.VuI],fill:["fill","fill",m.VuI],src:"src",srcset:"srcset"},standalone:!0,features:[m.Xq5,m.TTD]})}return T})();function hu(T){return"string"==typeof T?T:(0,m.z3N)(T)}},4946:(St,ke,L)=>{L.d(ke,{QbO:()=>Bs,tb:()=>fI,AFp:()=>fp,ip1:()=>nw,hGG:()=>$C,z2F:()=>Pf,Ojb:()=>Oy,sBO:()=>CC,Sil:()=>WA,EJc:()=>HA,Xts:()=>Sd,SBq:()=>Dc,lqb:()=>aa,qLn:()=>$u,vpe:()=>Va,XFs:()=>it,OlP:()=>mn,zs3:()=>Ao,ZZ4:()=>vI,aQg:()=>II,soG:()=>uy,YKP:()=>rT,h0i:()=>Xd,PXZ:()=>yC,R0b:()=>Gi,FiY:()=>ue,Lbi:()=>pp,g9A:()=>Fh,Qsj:()=>Xm,FYo:()=>Hh,JOm:()=>dc,q3G:()=>vc,tp0:()=>Je,Rgc:()=>zg,dDg:()=>pC,eoX:()=>lw,q4F:()=>Ac,GfV:()=>zh,s_b:()=>oy,ifc:()=>Tn,VuI:()=>JC,MMx:()=>sT,Lck:()=>RD,eFA:()=>pw,Gpc:()=>de,f3M:()=>wt,$WT:()=>ls,Cb_:()=>eb,_c5:()=>jC,qFp:()=>nb,rg0:()=>Ge,c2e:()=>rw,zSh:()=>Nh,HDt:()=>iw,wAp:()=>Cf,vHH:()=>nt,lri:()=>uw,rWj:()=>cw,JZr:()=>Qt,EiD:()=>Vm,mCW:()=>Ad,qzn:()=>nu,JVY:()=>Nu,pB0:()=>wy,eBb:()=>xm,L6k:()=>gl,LAX:()=>_c,cg1:()=>Bv,kuF:()=>Tt,kL8:()=>SE,dqk:()=>cn,Z0I:()=>Yr,eJc:()=>rI,QGY:()=>Q_,F4k:()=>Og,RDi:()=>Ch,AaK:()=>Le,z3N:()=>Fo,qOj:()=>jd,Xq5:()=>z_,TTD:()=>Bl,_Bn:()=>nT,jDz:()=>oT,xp6:()=>rf,uIk:()=>qu,Tol:()=>eE,ekj:()=>Lv,Suo:()=>kT,Xpm:()=>Fi,lG2:()=>Is,Yz7:()=>un,cJS:()=>Zt,oAB:()=>Ws,Yjl:()=>cs,Y36:()=>su,_UZ:()=>Y_,BQk:()=>xg,ynx:()=>Mg,qZA:()=>Pg,TgZ:()=>Tf,EpF:()=>xv,n5z:()=>hr,LFG:()=>dt,$8M:()=>Zc,$Z:()=>E_,NdJ:()=>wf,CRH:()=>LT,kcU:()=>mu,O4$:()=>th,oxw:()=>n,ALo:()=>IT,xi3:()=>ET,Q6J:()=>Sg,s9C:()=>f,MGl:()=>w,VKq:()=>fT,WLB:()=>pT,iGM:()=>NT,MAs:()=>Pv,KtG:()=>co,evT:()=>d_,Jf7:()=>Qh,CHM:()=>Da,LSH:()=>_l,P3R:()=>yl,Jzz:()=>mE,Udp:()=>kv,YNc:()=>Dv,_uU:()=>aE,Oqu:()=>Vv,hij:()=>J_,AsE:()=>Uv,Gf:()=>OT});var m=L(8645),W=L(7394),pe=L(5592),ne=L(7537),se=L(4829),re=L(6232),fe=L(4564),ie=L(2459),q=L(5619),ee=L(2096),ve=L(305),Ke=L(9360);function Be(t={}){const{connector:r=(()=>new m.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let g,y,A,P=0,U=!1,Z=!1;const ae=()=>{y?.unsubscribe(),y=void 0},ge=()=>{ae(),g=A=void 0,U=Z=!1},je=()=>{const tt=g;ge(),tt?.unsubscribe()};return(0,Ke.e)((tt,At)=>{P++,!Z&&!U&&ae();const Bt=A=A??r();At.add(()=>{P--,0===P&&!Z&&!U&&(y=We(je,c))}),Bt.subscribe(At),!g&&P>0&&(g=new ve.Hp({next:Ze=>Bt.next(Ze),error:Ze=>{Z=!0,ae(),y=We(ge,s,Ze),Bt.error(Ze)},complete:()=>{U=!0,ae(),y=We(ge,a),Bt.complete()}}),(0,se.Xf)(tt).subscribe(g))})(d)}}function We(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new ve.Hp({next:()=>{a.unsubscribe(),t()}});return(0,se.Xf)(r(...s)).subscribe(a)}var ut=L(4664),Rt=L(2737),rt=L(8251);function kt(t,r){return t===r}function Ae(t){for(let r in t)if(t[r]===Ae)return r;throw Error("Could not find renamed property on target object.")}function Ue(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Le(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Le).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function He(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Se=Ae({__forward_ref__:Ae});function de(t){return t.__forward_ref__=de,t.toString=function(){return Le(this())},t}function we(t){return Ne(t)?t():t}function Ne(t){return"function"==typeof t&&t.hasOwnProperty(Se)&&t.__forward_ref__===de}function Ct(t){return t&&!!t.\u0275providers}const Qt="https://g.co/ng/security#xss";class nt extends Error{constructor(r,s){super(Tt(r,s)),this.code=r}}function Tt(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}function Ye(t){return"string"==typeof t?t:null==t?"":String(t)}function Ie(t,r){throw new nt(-201,!1)}function vn(t,r){null==t&&function Nt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function un(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zt(t){return{providers:t.providers||[],imports:t.imports||[]}}function jt(t){return Br(t,Sn)||Br(t,fn)}function Yr(t){return null!==jt(t)}function Br(t,r){return t.hasOwnProperty(r)?t[r]:null}function Er(t){return t&&(t.hasOwnProperty(hn)||t.hasOwnProperty(vs))?t[hn]:null}const Sn=Ae({\u0275prov:Ae}),hn=Ae({\u0275inj:Ae}),fn=Ae({ngInjectableDef:Ae}),vs=Ae({ngInjectorDef:Ae});var it=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(it||{});let Ei;function pn(t){const r=Ei;return Ei=t,r}function Jt(t,r,s){const a=jt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&it.Optional?null:void 0!==r?r:void Ie(Le(t))}const cn=globalThis;class mn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=un({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $t={},qt="__NG_DI_FLAG__",nn="ngTempTokenPath",On=/\n/gm,as="__source";let Tr;function me(t){const r=Tr;return Tr=t,r}function et(t,r=it.Default){if(void 0===Tr)throw new nt(-203,!1);return null===Tr?Jt(t,void 0,r):Tr.get(t,r&it.Optional?null:void 0,r)}function dt(t,r=it.Default){return(function Zr(){return Ei}()||et)(we(t),r)}function wt(t,r=it.Default){return dt(t,ln(r))}function ln(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pr(t){const r=[];for(let s=0;s<t.length;s++){const a=we(t[s]);if(Array.isArray(a)){if(0===a.length)throw new nt(900,!1);let c,d=it.Default;for(let g=0;g<a.length;g++){const y=a[g],A=wi(y);"number"==typeof A?-1===A?c=y.token:d|=A:c=y}r.push(dt(c,d))}else r.push(dt(a))}return r}function Wn(t,r){return t[qt]=r,t.prototype[qt]=r,t}function wi(t){return t[qt]}function er(t){return{toString:t}.toString()}var Ns=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ns||{}),Tn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Tn||{});const ni={},Rn=[],gr=Ae({\u0275cmp:Ae}),Ki=Ae({\u0275dir:Ae}),mo=Ae({\u0275pipe:Ae}),$r=Ae({\u0275mod:Ae}),wr=Ae({\u0275fac:Ae}),ht=Ae({__NG_ELEMENT_ID__:Ae}),Qe=Ae({__NG_ENV_ID__:Ae});function _t(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function Pt(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],y=s[a++];t.setAttribute(r,g,y,d)}else{const d=c,g=s[++a];Mr(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function mr(t){return 3===t||4===t||6===t}function Mr(t){return 64===t.charCodeAt(0)}function ri(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||$s(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function $s(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const y=t[d++];if("number"==typeof y){if(y===r){g=-1;break}if(y>r){g=d-1;break}}}for(;d<t.length;){const y=t[d];if("number"==typeof y)break;if(y===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const Li="ng-template";function bo(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==_t(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Hs(t){return 4===t.type&&t.value!==Li}function Di(t,r,s){return r===(4!==t.type||s?t.value:Li)}function pa(t,r,s){let a=4;const c=t.attrs||[],d=function Yi(t){for(let r=0;r<t.length;r++)if(mr(t[r]))return r;return t.length}(c);let g=!1;for(let y=0;y<r.length;y++){const A=r[y];if("number"!=typeof A){if(!g)if(4&a){if(a=2|1&a,""!==A&&!Di(t,A,s)||""===A&&1===r.length){if(ci(a))return!1;g=!0}}else{const P=8&a?A:r[++y];if(8&a&&null!==t.attrs){if(!bo(t.attrs,P,s)){if(ci(a))return!1;g=!0}continue}const Z=So(8&a?"class":A,c,Hs(t),s);if(-1===Z){if(ci(a))return!1;g=!0;continue}if(""!==P){let ae;ae=Z>d?"":c[Z+1].toLowerCase();const ge=8&a?ae:null;if(ge&&-1!==_t(ge,P,0)||2&a&&P!==ae){if(ci(a))return!1;g=!0}}}}else{if(!g&&!ci(a)&&!ci(A))return!1;if(g&&ci(A))continue;g=!1,a=A|1&a}}return ci(a)||g}function ci(t){return 0==(1&t)}function So(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let y=r[++c];for(;"string"==typeof y;)y=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function Gs(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function zs(t,r,s=!1){for(let a=0;a<r.length;a++)if(pa(t,r[a],s))return!0;return!1}function Ro(t,r){return t?":not("+r.trim()+")":r}function Js(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const y=t[++s];c+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!ci(g)&&(r+=Ro(d,c),c=""),a=g,d=d||!ci(a);s++}return""!==c&&(r+=Ro(d,c)),r}function Fi(t){return er(()=>{const r=ds(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ns.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Tn.Emulated,styles:t.styles||Rn,_:null,schemas:t.schemas||null,tView:null,id:""};Es(s);const a=t.dependencies;return s.directiveDefs=Qi(a,!1),s.pipeDefs=Qi(a,!0),s.id=function zo(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function Zi(t){return Cn(t)||Rr(t)}function no(t){return null!==t}function Ws(t){return er(()=>({type:t.type,bootstrap:t.bootstrap||Rn,declarations:t.declarations||Rn,imports:t.imports||Rn,exports:t.exports||Rn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mi(t,r){if(null==t)return ni;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function Is(t){return er(()=>{const r=ds(t);return Es(r),r})}function cs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Cn(t){return t[gr]||null}function Rr(t){return t[Ki]||null}function zr(t){return t[mo]||null}function ls(t){const r=Cn(t)||Rr(t)||zr(t);return null!==r&&r.standalone}function Xr(t,r){const s=t[$r]||null;if(!s&&!0===r)throw new Error(`Type ${Le(t)} does not have '\u0275mod' property.`);return s}function ds(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||ni,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Rn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mi(t.inputs,r),outputs:mi(t.outputs)}}function Es(t){t.features?.forEach(r=>r(t))}function Qi(t,r){if(!t)return null;const s=r?zr:Zi;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(no)}const tr=0,ft=1,Xt=2,_r=3,_i=4,Po=5,Gr=6,Ts=7,kn=8,Xi=9,qs=10,Ht=11,Ks=12,Go=13,Vi=14,Dr=15,fs=16,Ai=17,yi=18,ro=19,Ui=20,li=21,ii=22,Mo=23,ur=24,_n=25,si=1,Ba=2,ws=7,vi=9,Wr=11;function xr(t){return Array.isArray(t)&&"object"==typeof t[si]}function N(t){return Array.isArray(t)&&!0===t[si]}function k(t){return 0!=(4&t.flags)}function Q(t){return t.componentOffset>-1}function J(t){return 1==(1&t.flags)}function le(t){return!!t.template}function Ve(t){return 0!=(512&t[Xt])}function _o(t,r){return t.hasOwnProperty(wr)?t[wr]:null}let ai=null,Ln=!1;function bs(t){const r=ai;return ai=t,r}const Wo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function _a(t){if(!Rs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!$i(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function du(t){t.dirty=!0,function xo(t){if(void 0===t.liveConsumerNode)return;const r=Ln;Ln=!0;try{for(const s of t.liveConsumerNode)s.dirty||du(s)}finally{Ln=r}}(t),t.consumerMarkedDirty?.(t)}function qo(t){return t&&(t.nextProducerIndex=0),bs(t)}function ks(t,r){if(bs(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Rs(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)vo(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function $i(t){Io(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(_a(s),a!==s.version))return!0}return!1}function hi(t){if(Io(t),Rs(t))for(let r=0;r<t.producerNode.length;r++)vo(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function vo(t,r){if(function ya(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Io(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)vo(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Io(c),c.producerIndexOfThis[a]=r}}function Rs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Io(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let K=null;function Ge(t){const r=bs(null);try{return t()}finally{bs(r)}}const Cr=()=>{},ns=(()=>({...Wo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Cr}))();class Mt{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Bl(){return mt}function mt(t){return t.type.prototype.ngOnChanges&&(t.setInput=ze),Oe}function Oe(){const t=va(this),r=t?.current;if(r){const s=t.previous;if(s===ni)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function ze(t,r,s,a){const c=this.declaredInputs[s],d=va(t)||function Xu(t,r){return t[br]=r}(t,{previous:ni,current:null}),g=d.current||(d.current={}),y=d.previous,A=y[c];g[c]=new Mt(A&&A.currentValue,r,y===ni),t[a]=r}Bl.ngInherit=!0;const br="__ngSimpleChanges__";function va(t){return t[br]||null}const so=function(t,r,s){},Lc="svg";function lr(t){for(;Array.isArray(t);)t=t[tr];return t}function fu(t,r){return lr(r[t])}function Si(t,r){return lr(r[t.index])}function rs(t,r){return t.data[r]}function Yo(t,r){return t[r]}function Bn(t,r){const s=r[t];return xr(s)?s:s[tr]}function oo(t,r){return null==r?null:t[r]}function yr(t){t[Ai]=0}function yt(t){1024&t[Xt]||(t[Xt]|=1024,ec(t,1))}function ao(t){1024&t[Xt]&&(t[Xt]&=-1025,ec(t,-1))}function ec(t,r){let s=t[_r];if(null===s)return;s[Po]+=r;let a=s;for(s=s[_r];null!==s&&(1===r&&1===a[Po]||-1===r&&0===a[Po]);)s[Po]+=r,a=s,s=s[_r]}const Wt={lFrame:$c(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pu(){return Wt.bindingsEnabled}function $e(){return Wt.lFrame.lView}function Mn(){return Wt.lFrame.tView}function Da(t){return Wt.lFrame.contextLView=t,t[kn]}function co(t){return Wt.lFrame.contextLView=null,t}function Ri(){let t=Zo();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zo(){return Wt.lFrame.currentTNode}function lo(t,r){const s=Wt.lFrame;s.currentTNode=t,s.isParent=r}function Bc(){return Wt.lFrame.isParent}function v(){Wt.lFrame.isParent=!1}function R(){const t=Wt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Ce(){return Wt.lFrame.bindingIndex++}function ye(t){const r=Wt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function vr(t,r){const s=Wt.lFrame;s.bindingIndex=s.bindingRootIndex=t,Zs(r)}function Zs(t){Wt.lFrame.currentDirectiveIndex=t}function Xo(){return Wt.lFrame.currentQueryIndex}function Ha(t){Wt.lFrame.currentQueryIndex=t}function za(t){const r=t[ft];return 2===r.type?r.declTNode:1===r.type?t[Gr]:null}function jc(t,r,s){if(s&it.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&it.Host||(c=za(d),null===c||(d=d[Vi],10&c.type))););if(null===c)return!1;r=c,t=d}const a=Wt.lFrame=xf();return a.currentTNode=r,a.lView=t,!0}function tc(t){const r=xf(),s=t[ft];Wt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function xf(){const t=Wt.lFrame,r=null===t?null:t.child;return null===r?$c(t):r}function $c(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Nf(){const t=Wt.lFrame;return Wt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Hc=Nf;function eh(){const t=Nf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Hi(){return Wt.lFrame.selectedIndex}function gu(t){Wt.lFrame.selectedIndex=t}function Lr(){const t=Wt.lFrame;return rs(t.tView,t.selectedIndex)}function th(){Wt.lFrame.currentNamespace=Lc}function mu(){!function zi(){Wt.lFrame.currentNamespace=null}()}let Jo=!0;function Wa(){return Jo}function qn(t){Jo=t}function Ii(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:A,ngAfterViewChecked:P,ngOnDestroy:U}=d;g&&(t.contentHooks??=[]).push(-s,g),y&&((t.contentHooks??=[]).push(s,y),(t.contentCheckHooks??=[]).push(s,y)),A&&(t.viewHooks??=[]).push(-s,A),P&&((t.viewHooks??=[]).push(s,P),(t.viewCheckHooks??=[]).push(s,P)),null!=U&&(t.destroyHooks??=[]).push(s,U)}}function Yn(t,r,s){Fs(t,r,3,s)}function Gc(t,r,s,a){(3&t[Xt])===s&&Fs(t,r,s,a)}function Oo(t,r){let s=t[Xt];(3&s)===r&&(s&=8191,s+=1,t[Xt]=s)}function Fs(t,r,s,a){const d=a??-1,g=r.length-1;let y=0;for(let A=void 0!==a?65535&t[Ai]:0;A<g;A++)if("number"==typeof r[A+1]){if(y=r[A],null!=a&&y>=a)break}else r[A]<0&&(t[Ai]+=65536),(y<d||-1==d)&&(nh(t,s,r,A),t[Ai]=(4294901760&t[Ai])+A+2),A++}function nc(t,r){so(4,t,r);const s=bs(null);try{r.call(t)}finally{bs(s),so(5,t,r)}}function nh(t,r,s,a){const c=s[a]<0,d=s[a+1],y=t[c?-s[a]:s[a]];c?t[Xt]>>13<t[Ai]>>16&&(3&t[Xt])===r&&(t[Xt]+=8192,nc(y,d)):nc(y,d)}const Kr=-1;class ea{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Eo(t){return t!==Kr}function Ka(t){return 32767&t}function ps(t,r){let s=function Ca(t){return t>>16}(t),a=r;for(;s>0;)a=a[Vi],s--;return a}let yu=!0;function To(t){const r=yu;return yu=t,r}const vu=255,qc=5;let Iu=0;const Ps={};function ta(t,r){const s=Kc(t,r);if(-1!==s)return s;const a=r[ft];a.firstCreatePass&&(t.injectorIndex=r.length,Eu(a.data,t),Eu(r,null),Eu(a.blueprint,null));const c=na(t,r),d=t.injectorIndex;if(Eo(c)){const g=Ka(c),y=ps(c,r),A=y[ft].data;for(let P=0;P<8;P++)r[d+P]=y[g+P]|A[g+P]}return r[d+8]=c,d}function Eu(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Kc(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function na(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Yc(c),null===a)return Kr;if(s++,c=c[Vi],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Kr}function Ya(t,r,s){!function ic(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(ht)&&(a=s[ht]),null==a&&(a=s[ht]=Iu++);const c=a&vu;r.data[t+(c>>qc)]|=1<<c}(t,r,s)}function Yl(t,r,s){if(s&it.Optional||void 0!==t)return t;Ie()}function Zl(t,r,s,a){if(s&it.Optional&&void 0===a&&(a=null),!(s&(it.Self|it.Host))){const c=t[Xi],d=pn(void 0);try{return c?c.get(r,a,s&it.Optional):Jt(r,a,s&it.Optional)}finally{pn(d)}}return Yl(a,0,s)}function Ql(t,r,s,a=it.Default,c){if(null!==t){if(2048&r[Xt]&&!(a&it.Self)){const g=function ed(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[Xt]&&!(512&g[Xt]);){const y=Xl(d,g,s,a|it.Self,Ps);if(y!==Ps)return y;let A=d.parent;if(!A){const P=g[Ui];if(P){const U=P.get(s,Ps,a);if(U!==Ps)return U}A=Yc(g),g=g[Vi]}d=A}return c}(t,r,s,a,Ps);if(g!==Ps)return g}const d=Xl(t,r,s,a,Ps);if(d!==Ps)return d}return Zl(r,s,a,c)}function Xl(t,r,s,a,c){const d=function ba(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ht)?t[ht]:void 0;return"number"==typeof r?r>=0?r&vu:xn:r}(s);if("function"==typeof d){if(!jc(r,t,a))return a&it.Host?Yl(c,0,a):Zl(r,s,a,c);try{let g;if(g=d(a),null!=g||a&it.Optional)return g;Ie()}finally{Hc()}}else if("number"==typeof d){let g=null,y=Kc(t,r),A=Kr,P=a&it.Host?r[Dr][Gr]:null;for((-1===y||a&it.SkipSelf)&&(A=-1===y?na(t,r):r[y+8],A!==Kr&&Jl(a,!1)?(g=r[ft],y=Ka(A),r=ps(A,r)):y=-1);-1!==y;){const U=r[ft];if(oc(d,y,U.data)){const Z=Pi(y,r,s,g,a,P);if(Z!==Ps)return Z}A=r[y+8],A!==Kr&&Jl(a,r[ft].data[y+8]===P)&&oc(d,y,r)?(g=U,y=Ka(A),r=ps(A,r)):y=-1}}return c}function Pi(t,r,s,a,c,d){const g=r[ft],y=g.data[t+8],U=sc(y,g,s,null==a?Q(y)&&yu:a!=g&&0!=(3&y.type),c&it.Host&&d===y);return null!==U?ir(r,g,U,y):Ps}function sc(t,r,s,a,c){const d=t.providerIndexes,g=r.data,y=1048575&d,A=t.directiveStart,U=d>>20,ae=c?y+U:t.directiveEnd;for(let ge=a?y:y+U;ge<ae;ge++){const je=g[ge];if(ge<A&&s===je||ge>=A&&je.type===s)return ge}if(c){const ge=g[A];if(ge&&le(ge)&&ge.type===s)return A}return null}function ir(t,r,s,a){let c=t[s];const d=r.data;if(function Aa(t){return t instanceof ea}(c)){const g=c;g.resolving&&function ce(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new nt(-200,`Circular dependency in DI detected for ${t}${s}`)}(function ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ye(t)}(d[s]));const y=To(g.canSeeViewProviders);g.resolving=!0;const P=g.injectImpl?pn(g.injectImpl):null;jc(t,a,it.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function zc(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=mt(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==P&&pn(P),To(y),g.resolving=!1,Hc()}}return c}function oc(t,r,s){return!!(s[r+(t>>qc)]&1<<t)}function Jl(t,r){return!(t&it.Self||t&it.Host&&r)}class gs{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Ql(this._tNode,this._lView,r,ln(a),s)}}function xn(){return new gs(Ri(),$e())}function hr(t){return er(()=>{const r=t.prototype.constructor,s=r[wr]||Sa(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[wr]||Sa(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Sa(t){return Ne(t)?()=>{const r=Sa(we(t));return r&&r()}:_o(t)}function Yc(t){const r=t[ft],s=r.type;return 2===s?r.declTNode:1===s?t[Gr]:null}function Zc(t){return function rh(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(mr(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(Ri(),t)}const Za="__parameters__";function Tu(t,r,s){return er(()=>{const a=function td(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return y.annotation=g,y;function y(A,P,U){const Z=A.hasOwnProperty(Za)?A[Za]:Object.defineProperty(A,Za,{value:[]})[Za];for(;Z.length<=U;)Z.push(null);return(Z[U]=Z[U]||[]).push(g),A}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function po(t,r){t.forEach(s=>Array.isArray(s)?po(s,r):r(s))}function uh(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function uc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ss(t,r,s){let a=wo(t,r);return a>=0?t[1|a]=s:(a=~a,function Jc(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function tl(t,r){const s=wo(t,r);if(s>=0)return t[1|s]}function wo(t,r){return function nd(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const ue=Wn(Tu("Optional"),8),Je=Wn(Tu("SkipSelf"),4);function cd(t){return 128==(128&t.flags)}var dc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(dc||{});const nm=/^>|^->|<!--|-->|--!>|<!-$/g,_y=/(<|>)/g,rm="\u200b$1\u200b";const dd=new Map;let hd=0;const mh="__ngContext__";function Vs(t,r){xr(r)?(t[mh]=r[ro],function pd(t){dd.set(t[ro],t)}(r)):t[mh]=r}let Lo;function yd(t,r){return Lo(t,r)}function Xa(t){const r=t[_r];return N(r)?r[_r]:r}function $f(t){return gm(t[Ks])}function pm(t){return gm(t[_i])}function gm(t){for(;null!==t&&!N(t);)t=t[_i];return t}function Oa(t,r,s,a,c){if(null!=a){let d,g=!1;N(a)?d=a:xr(a)&&(g=!0,a=a[tr]);const y=lr(a);0===t&&null!==s?null==c?vd(r,s,y):Su(r,s,y,c||null,!0):1===t&&null!==s?Su(r,s,y,c||null,!0):2===t?function ka(t,r,s){const a=Pu(t,r);a&&function fc(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,y,g):3===t&&r.destroyNode(y),null!=d&&function wd(t,r,s,a,c){const d=s[ws];d!==lr(s)&&Oa(r,t,a,d,c);for(let y=Wr;y<s.length;y++){const A=s[y];Td(A[ft],A,t,r,a,d)}}(r,t,d,s,c)}}function yh(t,r){return t.createComment(function Vf(t){return t.replace(nm,r=>r.replace(_y,rm))}(r))}function ul(t,r,s){return t.createElement(r,s)}function Ja(t,r){const s=t[vi],a=s.indexOf(r);ao(r),s.splice(a,1)}function eu(t,r){if(t.length<=Wr)return;const s=Wr+r,a=t[s];if(a){const c=a[fs];null!==c&&c!==t&&Ja(c,a),r>0&&(t[s-1][_i]=a[_i]);const d=uc(t,Wr+r);!function _m(t,r){Td(t,r,r[Ht],2,null,null),r[tr]=null,r[Gr]=null}(a[ft],a);const g=d[yi];null!==g&&g.detachView(d[ft]),a[_r]=null,a[_i]=null,a[Xt]&=-129}return a}function vh(t,r){if(!(256&r[Xt])){const s=r[Ht];r[Mo]&&hi(r[Mo]),r[ur]&&hi(r[ur]),s.destroyNode&&Td(t,r,s,3,null,null),function vy(t){let r=t[Ks];if(!r)return Hf(t[ft],t);for(;r;){let s=null;if(xr(r))s=r[Ks];else{const a=r[Wr];a&&(s=a)}if(!s){for(;r&&!r[_i]&&r!==t;)xr(r)&&Hf(r[ft],r),r=r[_r];null===r&&(r=t),xr(r)&&Hf(r[ft],r),s=r&&r[_i]}r=s}}(r)}}function Hf(t,r){if(!(256&r[Xt])){r[Xt]&=-129,r[Xt]|=256,function tu(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof ea)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const y=c[d[g]],A=d[g+1];so(4,y,A);try{A.call(y)}finally{so(5,y,A)}}else{so(4,c,d);try{d.call(c)}finally{so(5,c,d)}}}}}(t,r),function vm(t,r){const s=t.cleanup,a=r[Ts];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[Ts]=null);const c=r[li];if(null!==c){r[li]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[ft].type&&r[Ht].destroy();const s=r[fs];if(null!==s&&N(r[_r])){s!==r[_r]&&Ja(s,r);const a=r[yi];null!==a&&a.detachView(t)}!function im(t){dd.delete(t[ro])}(r)}}function Ih(t,r,s){return function Im(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[tr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Tn.None||d===Tn.Emulated)return null}return Si(a,s)}}(t,r.parent,s)}function Su(t,r,s,a,c){t.insertBefore(r,s,a,c)}function vd(t,r,s){t.appendChild(r,s)}function Ru(t,r,s,a,c){null!==a?Su(t,r,s,a,c):vd(t,r,s)}function Pu(t,r){return t.parentNode(r)}let wh,Dd,Ah,hl,zf=function Th(t,r,s){return 40&t.type?Si(t,s):null};function Id(t,r,s,a){const c=Ih(t,a,r),d=r[Ht],y=function Eh(t,r,s){return zf(t,r,s)}(a.parent||r[Gr],a,r);if(null!=c)if(Array.isArray(s))for(let A=0;A<s.length;A++)Ru(d,c,s[A],y,!1);else Ru(d,c,s,y,!1);void 0!==wh&&wh(d,a,r,s,c)}function ll(t,r){if(null!==r){const s=r.type;if(3&s)return Si(r,t);if(4&s)return pc(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return ll(t,a);{const c=t[r.index];return N(c)?pc(-1,c):lr(c)}}if(32&s)return yd(r,t)()||lr(t[r.index]);{const a=Ed(t,r);return null!==a?Array.isArray(a)?a[0]:ll(Xa(t[Dr]),a):ll(t,r.next)}}return null}function Ed(t,r){return null!==r?t[Dr][Gr].projection[r.projection]:null}function pc(t,r){const s=Wr+t+1;if(s<r.length){const a=r[s],c=a[ft].firstChild;if(null!==c)return ll(a,c)}return r[ws]}function Dh(t,r,s,a,c,d,g){for(;null!=s;){const y=a[s.index],A=s.type;if(g&&0===r&&(y&&Vs(lr(y),a),s.flags|=2),32!=(32&s.flags))if(8&A)Dh(t,r,s.child,a,c,d,!1),Oa(r,t,c,y,d);else if(32&A){const P=yd(s,a);let U;for(;U=P();)Oa(r,t,c,U,d);Oa(r,t,c,y,d)}else 16&A?Dm(t,r,a,s,c,d):Oa(r,t,c,y,d);s=g?s.projectionNext:s.next}}function Td(t,r,s,a,c,d){Dh(s,a,t.firstChild,r,c,d,!1)}function Dm(t,r,s,a,c,d){const g=s[Dr],A=g[Gr].projection[a.projection];if(Array.isArray(A))for(let P=0;P<A.length;P++)Oa(r,t,c,A[P],d);else{let P=A;const U=g[_r];cd(a)&&(P.flags|=128),Dh(t,r,P,U,c,d,!0)}}function Gf(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Wf(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&Pt(t,r,a),null!==c&&Gf(t,r,c),null!==d&&function Mu(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function xu(t){return function qf(){if(void 0===Dd&&(Dd=null,cn.trustedTypes))try{Dd=cn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Dd}()?.createHTML(t)||t}function Ch(t){Ah=t}function mc(t){return function fl(){if(void 0===hl&&(hl=null,cn.trustedTypes))try{hl=cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hl}()?.createScriptURL(t)||t}class oa{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qt})`}}class pl extends oa{getTypeName(){return"HTML"}}class Sm extends oa{getTypeName(){return"Style"}}class Rm extends oa{getTypeName(){return"Script"}}class Us extends oa{getTypeName(){return"URL"}}class Pm extends oa{getTypeName(){return"ResourceURL"}}function Fo(t){return t instanceof oa?t.changingThisBreaksApplicationSecurity:t}function nu(t,r){const s=function Mm(t){return t instanceof oa&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Qt})`)}return s===r}function Nu(t){return new pl(t)}function gl(t){return new Sm(t)}function xm(t){return new Rm(t)}function _c(t){return new Us(t)}function wy(t){return new Pm(t)}class Nm{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(xu(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class Ou{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=xu(r),s}}const Dy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ad(t){return(t=String(t)).match(Dy)?t:"unsafe:"+t}function ru(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function ml(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const km=ru("area,br,col,hr,img,wbr"),Cd=ru("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Lm=ru("rp,rt"),bh=ml(km,ml(Cd,ru("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ml(Lm,ru("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ml(Lm,Cd)),iu=ru("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qf=ml(iu,ru("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ru("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),by=ru("script,style,template");class Fm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!bh.hasOwnProperty(s))return this.sanitizedSomething=!0,!by.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),g=d.name,y=g.toLowerCase();if(!Qf.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let A=d.value;iu[y]&&(A=Ad(A)),this.buf.push(" ",g,'="',Rh(A),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();bh.hasOwnProperty(s)&&!km.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Rh(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Sy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ry=/([^\#-~ |!])/g;function Rh(t){return t.replace(/&/g,"&amp;").replace(Sy,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Ry,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Oi;function Vm(t,r){let s=null;try{Oi=Oi||function yc(t){const r=new Ou(t);return function Om(){try{return!!(new window.DOMParser).parseFromString(xu(""),"text/html")}catch{return!1}}()?new Nm(r):r}(t);let a=r?String(r):"";s=Oi.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=s.innerHTML,s=Oi.getInertBodyElement(a)}while(a!==d);return xu((new Fm).sanitizeChildren(Xf(s)||s))}finally{if(s){const a=Xf(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Xf(t){return"content"in t&&function Py(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vc||{});function _l(t){const r=Ic();return r?r.sanitize(vc.URL,t)||"":nu(t,"URL")?Fo(t):Ad(Ye(t))}function bd(t){const r=Ic();if(r)return mc(r.sanitize(vc.RESOURCE_URL,t)||"");if(nu(t,"ResourceURL"))return mc(Fo(t));throw new nt(904,!1)}function yl(t,r,s){return function tp(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?bd:_l}(r,s)(t)}function Ic(){const t=$e();return t&&t[qs].sanitizer}const Sd=new mn("ENVIRONMENT_INITIALIZER"),rp=new mn("INJECTOR",-1),jm=new mn("INJECTOR_DEF_TYPES");class Ph{get(r,s=$t){if(s===$t){const a=new Error(`NullInjectorError: No provider for ${Le(r)}!`);throw a.name="NullInjectorError",a}return s}}function sp(...t){return{\u0275providers:$m(0,t),\u0275fromNgModule:!0}}function $m(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return po(r,g=>{const y=g;Mh(y,d,[],a)&&(c||=[],c.push(y))}),void 0!==c&&op(c,d),s}function op(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];ap(c,d=>{r(d,a)})}}function Mh(t,r,s,a){if(!(t=we(t)))return!1;let c=null,d=Er(t);const g=!d&&Cn(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const A=t.ngModule;if(d=Er(A),!d)return!1;c=A}const y=a.has(c);if(g){if(y)return!1;if(a.add(c),g.dependencies){const A="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const P of A)Mh(P,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!y){let P;a.add(c);try{po(d.imports,U=>{Mh(U,r,s,a)&&(P||=[],P.push(U))})}finally{}void 0!==P&&op(P,r)}if(!y){const P=_o(c)||(()=>new c);r({provide:c,useFactory:P,deps:Rn},c),r({provide:jm,useValue:c,multi:!0},c),r({provide:Sd,useValue:()=>dt(c),multi:!0},c)}const A=d.providers;if(null!=A&&!y){const P=t;ap(A,U=>{r(U,P)})}}}return c!==t&&void 0!==t.providers}function ap(t,r){for(let s of t)Ct(s)&&(s=s.\u0275providers),Array.isArray(s)?ap(s,r):r(s)}const vl=Ae({provide:String,useValue:Ae});function ku(t){return null!==t&&"object"==typeof t&&vl in t}function Lu(t){return"function"==typeof t}const Nh=new mn("Set Injector scope."),Oh={},up={};let cp;function Il(){return void 0===cp&&(cp=new Ph),cp}class aa{}class Ec extends aa{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hp(r,g=>this.processProvider(g)),this.records.set(rp,Fu(void 0,this)),c.has("environment")&&this.records.set(aa,Fu(void 0,this));const d=this.records.get(Nh);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(jm.multi,Rn,it.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=me(this),a=pn(void 0);try{return r()}finally{me(s),pn(a)}}get(r,s=$t,a=it.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Qe))return r[Qe](this);a=ln(a);const d=me(this),g=pn(void 0);try{if(!(a&it.SkipSelf)){let A=this.records.get(r);if(void 0===A){const P=function zm(t){return"function"==typeof t||"object"==typeof t&&t instanceof mn}(r)&&jt(r);A=P&&this.injectableDefInScope(P)?Fu(Pd(r),Oh):null,this.records.set(r,A)}if(null!=A)return this.hydrate(r,A)}return(a&it.Self?Il():this.parent).get(r,s=a&it.Optional&&s===$t?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[nn]=y[nn]||[]).unshift(Le(r)),d)throw y;return function ti(t,r,s,a){const c=t[nn];throw r[as]&&c.unshift(r[as]),t.message=function js(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Le(r);if(Array.isArray(r))c=r.map(Le).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let y=r[g];d.push(g+":"+("string"==typeof y?JSON.stringify(y):Le(y)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(On,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[nn]=null,t}(y,r,"R3InjectorError",this.source)}throw y}finally{pn(g),me(d)}}resolveInjectorInitializers(){const r=me(this),s=pn(void 0);try{const c=this.get(Sd.multi,Rn,it.Self);for(const d of c)d()}finally{me(r),pn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Le(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processProvider(r){let s=Lu(r=we(r))?r:we(r&&r.provide);const a=function Md(t){return ku(t)?Fu(void 0,t.useValue):Fu(xd(t),Oh)}(r);if(Lu(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Fu(void 0,Oh,!0),c.factory=()=>pr(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Oh&&(s.value=up,s.value=s.factory()),"object"==typeof s.value&&s.value&&function dp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=we(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Pd(t){const r=jt(t),s=null!==r?r.factory:_o(t);if(null!==s)return s;if(t instanceof mn)throw new nt(204,!1);if(t instanceof Function)return function kh(t){const r=t.length;if(r>0)throw function go(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new nt(204,!1);const s=function Jn(t){return t&&(t[Sn]||t[fn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new nt(204,!1)}function xd(t,r,s){let a;if(Lu(t)){const c=we(t);return _o(c)||Pd(c)}if(ku(t))a=()=>we(t.useValue);else if(function Rd(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...pr(t.deps||[]));else if(function xh(t){return!(!t||!t.useExisting)}(t))a=()=>dt(we(t.useExisting));else{const c=we(t&&(t.useClass||t.provide));if(!function lp(t){return!!t.deps}(t))return _o(c)||Pd(c);a=()=>new c(...pr(t.deps))}return a}function Fu(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function hp(t,r){for(const s of t)Array.isArray(s)?hp(s,r):s&&Ct(s)?hp(s.\u0275providers,r):r(s)}const fp=new mn("AppId",{providedIn:"root",factory:()=>Lh}),Lh="ng",Fh=new mn("Platform Initializer"),pp=new mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bs=new mn("AnimationModuleType"),Oy=new mn("CSP nonce",{providedIn:"root",factory:()=>function dl(){if(void 0!==Ah)return Ah;if(typeof document<"u")return document;throw new nt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Bh=(t,r,s)=>null;function jh(t,r,s=!1){return Bh(t,r,s)}class Fy{}class Zm{}class Ap{resolveComponentFactory(r){throw function Qm(t){const r=Error(`No component factory found for ${Le(t)}.`);return r.ngComponent=t,r}(r)}}let $h=(()=>{class t{static#e=this.NULL=new Ap}return t})();function Cp(){return bl(Ri(),$e())}function bl(t,r){return new Dc(Si(t,r))}let Dc=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=Cp}return t})();function Vy(t){return t instanceof Dc?t.nativeElement:t}class Hh{}let Xm=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function bp(){const t=$e(),s=Bn(Ri().index,t);return(xr(s)?s:t)[Ht]}()}return t})(),Sp=(()=>{class t{static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:()=>null})}return t})();class zh{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Ac=new zh("16.2.12"),Fa={};function r_(t,r=null,s=null,a){const c=i_(t,r,s,a);return c.resolveInjectorInitializers(),c}function i_(t,r=null,s=null,a,c=new Set){const d=[s||Rn,sp(t)];return a=a||("object"==typeof t?void 0:Le(t)),new Ec(d,r||Il(),a||null,c)}let Ao=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=$t;static#t=this.NULL=new Ph;static create(s,a){if(Array.isArray(s))return r_({name:""},a,s,"");{const c=s.name??"";return r_({name:c},s.parent,s.providers,c)}}static#n=this.\u0275prov=un({token:t,providedIn:"any",factory:()=>dt(rp)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function qh(t){return t.ngOriginalError}class $u{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&qh(r);for(;s&&qh(s);)s=qh(s);return s||null}}function Mp(t){return r=>{setTimeout(t,void 0,r)}}const Va=class o_ extends m.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const A=r;c=A.next?.bind(A),d=A.error?.bind(A),g=A.complete?.bind(A)}this.__isAsync&&(d=Mp(d),c&&(c=Mp(c)),g&&(g=Mp(g)));const y=super.subscribe({next:c,error:d,complete:g});return r instanceof W.w0&&r.add(y),y}};function a_(...t){}class Gi{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Va(!1),this.onMicrotaskEmpty=new Va(!1),this.onStable=new Va(!1),this.onError=new Va(!1),typeof Zone>"u")throw new nt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function jy(){const t="function"==typeof cn.requestAnimationFrame;let r=cn[t?"requestAnimationFrame":"setTimeout"],s=cn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function $y(t){const r=()=>{!function Op(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(cn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ld(t),t.isCheckStableRunning=!0,Np(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ld(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,y)=>{if(function Hy(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(y))return s.invokeTask(c,d,g,y);try{return kp(t),s.invokeTask(c,d,g,y)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),Yh(t)}},onInvoke:(s,a,c,d,g,y,A)=>{try{return kp(t),s.invoke(c,d,g,y,A)}finally{t.shouldCoalesceRunChangeDetection&&r(),Yh(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,Ld(t),Np(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gi.isInAngularZone())throw new nt(909,!1)}static assertNotInAngularZone(){if(Gi.isInAngularZone())throw new nt(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,xp,a_,a_);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const xp={};function Np(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ld(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function kp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Yh(t){t._nesting--,Np(t)}class c_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Va,this.onMicrotaskEmpty=new Va,this.onStable=new Va,this.onError=new Va}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const l_=new mn("",{providedIn:"root",factory:Zh});function Zh(){const t=wt(Gi);let r=!0;return function xe(...t){const r=(0,fe.yG)(t),s=(0,fe._6)(t,1/0),a=t;return a.length?1===a.length?(0,se.Xf)(a[0]):(0,ne.J)(s)((0,ie.D)(a,r)):re.E}(new pe.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),new pe.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Gi.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{Gi.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}}).pipe(Be()))}function Qh(t){return t.ownerDocument.defaultView}function d_(t){return t.ownerDocument}function ua(t){return t instanceof Function?t():t}let Vp=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:()=>new t})}return t})();function bc(t){for(;t;){t[Xt]|=64;const r=Xa(t);if(Ve(t)&&!r)return t;t=r}return null}const h_=new mn("",{providedIn:"root",factory:()=>!1});let Fd=null;function __(t,r){return t[r]??nf()}function y_(t,r){const s=nf();s.producerNode?.length&&(t[r]=Fd,s.lView=t,Fd=v_())}const $p={...Wo,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{bc(t.lView)},lView:null};function v_(){return Object.create($p)}function nf(){return Fd??=v_(),Fd}const In={};function rf(t){I_(Mn(),$e(),Hi()+t,!1)}function I_(t,r,s,a){if(!a)if(3==(3&r[Xt])){const d=t.preOrderCheckHooks;null!==d&&Yn(r,d,s)}else{const d=t.preOrderHooks;null!==d&&Gc(r,d,0,s)}gu(s)}function su(t,r=it.Default){const s=$e();return null===s?dt(t,r):Ql(Ri(),s,we(t),r)}function E_(){throw new Error("invalid")}function Vd(t,r,s,a,c,d,g,y,A,P,U){const Z=r.blueprint.slice();return Z[tr]=c,Z[Xt]=140|a,(null!==P||t&&2048&t[Xt])&&(Z[Xt]|=2048),yr(Z),Z[_r]=Z[Vi]=t,Z[kn]=s,Z[qs]=g||t&&t[qs],Z[Ht]=y||t&&t[Ht],Z[Xi]=A||t&&t[Xi]||null,Z[Gr]=d,Z[ro]=function fd(){return hd++}(),Z[ii]=U,Z[Ui]=P,Z[Dr]=2==r.type?t[Dr]:Z,Z}function ca(t,r,s,a,c){let d=t.data[r];if(null===d)d=function sf(t,r,s,a,c){const d=Zo(),g=Bc(),A=t.data[r]=function A_(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,y=0;return function uo(){return null!==Wt.skipHydrationRootTNode}()&&(y|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=A),null!==d&&(g?null==d.child&&null!==A.parent&&(d.child=A):null===d.next&&(d.next=A,A.prev=d)),A}(t,r,s,a,c),function vt(){return Wt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function $a(){const t=Wt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return lo(d,!0),d}function zu(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function w_(t,r,s,a,c){const d=__(r,Mo),g=Hi(),y=2&a;try{gu(-1),y&&r.length>_n&&I_(t,r,_n,!1),so(y?2:0,c);const P=y?d:null,U=qo(P);try{null!==P&&(P.dirty=!1),s(a,c)}finally{ks(P,U)}}finally{y&&null===r[Mo]&&y_(r,Mo),gu(g),so(y?3:1,c)}}function Hp(t,r,s){if(k(r)){const a=bs(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const y=t.data[g];y.contentQueries&&y.contentQueries(1,s[g],g)}}finally{bs(a)}}}function zp(t,r,s){pu()&&(function Yy(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;Q(s)&&function Jy(t,r,s){const a=Si(r,t),c=Ud(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const y=df(t,Vd(t,c,null,g,a,r,null,t[qs].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=y}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||ta(s,r),Vs(a,r);const g=s.initialInputs;for(let y=c;y<d;y++){const A=t.data[y],P=ir(r,t,y,s);Vs(P,r),null!==g&&lf(0,y-c,P,A,0,g),le(A)&&(Bn(s.index,r)[kn]=ir(r,t,y,s))}}(t,r,s,Si(s,r)),64==(64&s.flags)&&S_(t,r,s))}function Gp(t,r,s=Si){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],y=-1===g?s(r,t):t[g];t[c++]=y}}}function Ud(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Bd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Bd(t,r,s,a,c,d,g,y,A,P,U){const Z=_n+a,ae=Z+c,ge=function Wp(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:In);return s}(Z,ae),je="function"==typeof P?P():P;return ge[ft]={type:t,blueprint:ge,template:s,queries:null,viewQuery:y,declTNode:r,data:ge.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:A,consts:je,incompleteFirstPass:!1,ssrId:U}}let af=t=>null;function Sc(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?Zp(s,r,c,d):a.hasOwnProperty(c)&&Zp(s,r,a[c],d)}return s}function Zp(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function _s(t,r,s,a,c,d,g,y){const A=Si(r,s);let U,P=r.inputs;!y&&null!=P&&(U=P[a])?(N_(t,s,U,a,c),Q(r)&&function Xp(t,r){const s=Bn(r,t);16&s[Xt]||(s[Xt]|=64)}(s,r.index)):3&r.type&&(a=function C_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(A,a,c))}function Jp(t,r,s,a){if(pu()){const c=null===a?null:{"":-1},d=function Qy(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(zs(r,g.selectors,!1))if(a||(a=[]),le(g))if(null!==g.findHostDirectiveDefs){const y=[];c=c||new Map,g.findHostDirectiveDefs(g,y,c),a.unshift(...y,g),tg(t,r,y.length)}else a.unshift(g),tg(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,y;null===d?g=y=null:[g,y]=d,null!==g&&eg(t,r,s,g,c,y),c&&function Xy(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new nt(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=ri(s.mergedAttrs,s.attrs)}function eg(t,r,s,a,c,d){for(let P=0;P<a.length;P++)Ya(ta(s,r),t,a[P].type);!function P_(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let P=0;P<a.length;P++){const U=a[P];U.providersResolver&&U.providersResolver(U)}let g=!1,y=!1,A=zu(t,r,a.length,null);for(let P=0;P<a.length;P++){const U=a[P];s.mergedAttrs=ri(s.mergedAttrs,U.hostAttrs),ng(t,s,r,A,U),R_(A,U,c),null!==U.contentQueries&&(s.flags|=4),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(s.flags|=64);const Z=U.type.prototype;!g&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!y&&(Z.ngOnChanges||Z.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),y=!0),A++}!function Qp(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,y=[];let A=null,P=null;for(let U=r.directiveStart;U<c;U++){const Z=d[U],ae=s?s.get(Z):null,je=ae?ae.outputs:null;A=Sc(Z.inputs,U,A,ae?ae.inputs:null),P=Sc(Z.outputs,U,P,je);const tt=null===A||null===g||Hs(r)?null:M_(A,U,g);y.push(tt)}null!==A&&(A.hasOwnProperty("class")&&(r.flags|=8),A.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=y,r.inputs=A,r.outputs=P}(t,s,d)}function S_(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function zn(){return Wt.lFrame.currentDirectiveIndex}();try{gu(d);for(let y=a;y<c;y++){const A=t.data[y],P=r[y];Zs(y),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Zy(A,P)}}finally{gu(-1),Zs(g)}}function Zy(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function tg(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function R_(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;le(r)&&(s[""]=t)}}function ng(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=_o(c.type)),g=new ea(d,le(c),su);t.blueprint[a]=g,s[a]=g,function Ky(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const y=~r.index;(function b_(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=y&&g.push(y),g.push(s,a,d)}}(t,r,a,zu(t,s,c.hostVars,In),c)}function la(t,r,s,a,c,d){const g=Si(t,r);!function cf(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const y=null==g?Ye(d):g(d,a||"",c);t.setAttribute(r,c,y,s)}}(r[Ht],g,d,t.value,s,a,c)}function lf(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let y=0;y<g.length;)Gn(a,s,g[y++],g[y++],g[y++])}function Gn(t,r,s,a,c){const d=bs(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{bs(d)}}function M_(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let y=0;y<g.length;y+=2)if(g[y]===r){a.push(d,g[y+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function rg(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function Ml(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];Ha(s[a]),g.contentQueries(2,r[d],d)}}}function df(t,r){return t[Ks]?t[Go][_i]=r:t[Ks]=r,t[Go]=r,r}function os(t,r,s){Ha(0);const a=bs(null);try{r(t,s)}finally{bs(a)}}function da(t){return t[Ts]||(t[Ts]=[])}function x_(t){return t.cleanup||(t.cleanup=[])}function ig(t,r){const s=t[Xi],a=s?s.get($u,null):null;a&&a.handleError(r)}function N_(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],y=s[d++];Gn(t.data[g],r[g],a,y,c)}}function Ua(t,r,s){const a=fu(r,t);!function mm(t,r,s){t.setValue(r,s)}(t[Ht],a,s)}function tv(t,r){const s=Bn(r,t),a=s[ft];!function sg(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[tr];null!==c&&null===s[ii]&&(s[ii]=jh(c,s[Xi])),og(a,s,s[kn])}function og(t,r,s){tc(r);try{const a=t.viewQuery;null!==a&&os(1,a,s);const c=t.template;null!==c&&w_(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ml(t,r),t.staticViewQueries&&os(2,t.viewQuery,s);const d=t.components;null!==d&&function xI(t,r){for(let s=0;s<r.length;s++)tv(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Xt]&=-5,eh()}}let Vr=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function Xn(t,r,s){const a=Object.create(ns);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>du(a),run:()=>{if(a.dirty=!1,a.hasRun&&!$i(a))return;a.hasRun=!0;const g=qo(a);try{a.cleanupFn(),a.cleanupFn=Cr,a.fn(c)}finally{ks(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,P=>{this.all.has(P)&&this.queue.set(P,d)},c);let y;this.all.add(g),g.notify();const A=()=>{g.cleanup(),y?.(),this.all.delete(g),this.queue.delete(g)};return y=a?.onDestroy(A),{destroy:A}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:()=>new t})}return t})();function hf(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const y=r[g];"number"==typeof y?d=y:1==d?c=He(c,y):2==d&&(a=He(a,y+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function ei(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(lr(d)),N(d)&&ag(d,a);const g=s.type;if(8&g)ei(t,r,s.child,a);else if(32&g){const y=yd(s,r);let A;for(;A=y();)a.push(A)}else if(16&g){const y=Ed(r,s);if(Array.isArray(y))a.push(...y);else{const A=Xa(r[Dr]);ei(A[ft],A,y,a,!0)}}s=c?s.projectionNext:s.next}return a}function ag(t,r){for(let s=Wr;s<t.length;s++){const a=t[s],c=a[ft].firstChild;null!==c&&ei(a[ft],a,c,r)}t[ws]!==t[tr]&&r.push(t[ws])}function ug(t,r,s,a=!0){const c=r[qs],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{nv(t,r,t.template,s)}catch(A){throw a&&ig(r,A),A}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function nv(t,r,s,a){const c=r[Xt];if(256!=(256&c)){r[qs].effectManager?.flush(),tc(r);try{yr(r),function X(t){return Wt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&w_(t,r,s,2,a);const g=3==(3&c);if(g){const P=t.preOrderCheckHooks;null!==P&&Yn(r,P,null)}else{const P=t.preOrderHooks;null!==P&&Gc(r,P,0,null),Oo(r,0)}if(function OI(t){for(let r=$f(t);null!==r;r=pm(r)){if(!r[Ba])continue;const s=r[vi];for(let a=0;a<s.length;a++){yt(s[a])}}}(r),rv(r,2),null!==t.contentQueries&&Ml(t,r),g){const P=t.contentCheckHooks;null!==P&&Yn(r,P)}else{const P=t.contentHooks;null!==P&&Gc(r,P,1),Oo(r,1)}!function T_(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=__(r,ur);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)gu(~d);else{const g=d,y=s[++c],A=s[++c];vr(y,g),a.dirty=!1;const P=qo(a);try{A(2,r[g])}finally{ks(a,P)}}}}finally{null===r[ur]&&y_(r,ur),gu(-1)}}(t,r);const y=t.components;null!==y&&sv(r,y,0);const A=t.viewQuery;if(null!==A&&os(2,A,a),g){const P=t.viewCheckHooks;null!==P&&Yn(r,P)}else{const P=t.viewHooks;null!==P&&Gc(r,P,2),Oo(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Xt]&=-73,ao(r)}finally{eh()}}}function rv(t,r){for(let s=$f(t);null!==s;s=pm(s))for(let a=Wr;a<s.length;a++)iv(s[a],r)}function kI(t,r,s){iv(Bn(r,t),s)}function iv(t,r){if(!function ja(t){return 128==(128&t[Xt])}(t))return;const s=t[ft],a=t[Xt];if(80&a&&0===r||1024&a||2===r)nv(s,t,s.template,t[kn]);else if(t[Po]>0){rv(t,1);const c=s.components;null!==c&&sv(t,c,1)}}function sv(t,r,s){for(let a=0;a<r.length;a++)kI(t,r[a],s)}class ff{get rootNodes(){const r=this._lView,s=r[ft];return ei(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kn]}set context(r){this._lView[kn]=r}get destroyed(){return 256==(256&this._lView[Xt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[_r];if(N(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(eu(r,a),uc(s,a))}this._attachedToViewContainer=!1}vh(this._lView[ft],this._lView)}onDestroy(r){!function dr(t,r){if(256==(256&t[Xt]))throw new nt(911,!1);null===t[li]&&(t[li]=[]),t[li].push(r)}(this._lView,r)}markForCheck(){bc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xt]&=-129}reattach(){this._lView[Xt]|=128}detectChanges(){ug(this._lView[ft],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ym(t,r){Td(t,r,r[Ht],2,null,null)}(this._lView[ft],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new nt(902,!1);this._appRef=r}}class k_ extends ff{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;ug(r[ft],r,r[kn],!1)}checkNoChanges(){}get context(){return null}}class xl extends $h{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Cn(r);return new pf(s,this.ngModule)}}function L_(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Nl{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=ln(a);const c=this.injector.get(r,Fa,a);return c!==Fa||s===Fa?c:this.parentInjector.get(r,s,a)}}class pf extends Zm{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=L_(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return L_(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function eo(t){return t.map(Js).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof aa?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new Nl(r,d):r,y=g.get(Hh,null);if(null===y)throw new nt(407,!1);const Z={rendererFactory:y,sanitizer:g.get(Sp,null),effectManager:g.get(Vr,null),afterRenderEventManager:g.get(Vp,null)},ae=y.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",je=a?function qp(t,r,s,a){const d=a.get(h_,!1)||s===Tn.ShadowDom,g=t.selectRootElement(r,d);return function D_(t){af(t)}(g),g}(ae,a,this.componentDef.encapsulation,g):ul(ae,ge,function Rc(t){const r=t.toLowerCase();return"svg"===r?Lc:"math"===r?"math":null}(ge)),Bt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ze=null;null!==je&&(Ze=jh(je,g,!0));const Dn=Bd(0,null,null,1,0,null,null,null,null,null,null),Hn=Vd(null,Dn,null,Bt,null,null,Z,ae,g,null,Ze);let Ur,Ho;tc(Hn);try{const Oc=this.componentDef;let Mf,TI=null;Oc.findHostDirectiveDefs?(Mf=[],TI=new Map,Oc.findHostDirectiveDefs(Oc,Mf,TI),Mf.push(Oc)):Mf=[Oc];const rb=function lg(t,r){const s=t[ft],a=_n;return t[a]=r,ca(s,a,2,"#host",null)}(Hn,je),ib=function ov(t,r,s,a,c,d,g){const y=c[ft];!function av(t,r,s,a){for(const c of t)r.mergedAttrs=ri(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(hf(r,r.mergedAttrs,!0),null!==s&&Wf(a,s,r))}(a,t,r,g);let A=null;null!==r&&(A=jh(r,c[Xi]));const P=d.rendererFactory.createRenderer(r,s);let U=16;s.signals?U=4096:s.onPush&&(U=64);const Z=Vd(c,Ud(s),null,U,c[t.index],t,d,P,null,null,A);return y.firstCreatePass&&tg(y,t,a.length-1),df(c,Z),c[t.index]=Z}(rb,je,Oc,Mf,Hn,Z,ae);Ho=rs(Dn,_n),je&&function V_(t,r,s,a){if(a)Pt(t,s,["ng-version",Ac.full]);else{const{attrs:c,classes:d}=function to(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!ci(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&Pt(t,s,c),d&&d.length>0&&Gf(t,s,d.join(" "))}}(ae,Oc,je,a),void 0!==s&&function gf(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(Ho,this.ngContentSelectors,s),Ur=function F_(t,r,s,a,c,d){const g=Ri(),y=c[ft],A=Si(g,c);eg(y,c,g,s,null,a);for(let U=0;U<s.length;U++)Vs(ir(c,y,g.directiveStart+U,g),c);S_(y,c,g),A&&Vs(A,c);const P=ir(c,y,g.directiveStart+g.componentOffset,g);if(t[kn]=c[kn]=P,null!==d)for(const U of d)U(P,r);return Hp(y,g,t),P}(ib,Oc,Mf,TI,Hn,[uv]),og(Dn,Hn,null)}finally{eh()}return new cg(this.componentType,Ur,bl(Ho,Hn),Hn,Ho)}}class cg extends Fy{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new k_(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;N_(d[ft],d,c,r,s),this.previousInputValues.set(r,s),bc(Bn(this._tNode.index,d))}}get injector(){return new gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function uv(){const t=Ri();Ii($e()[ft],t)}function jd(t){let r=function Pc(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(le(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new nt(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=Hd(t.inputs),g.inputTransforms=Hd(t.inputTransforms),g.declaredInputs=Hd(t.declaredInputs),g.outputs=Hd(t.outputs);const y=c.hostBindings;y&&lv(t,y);const A=c.viewQuery,P=c.contentQueries;if(A&&dg(t,A),P&&cv(t,P),Ue(t.inputs,c.inputs),Ue(t.declaredInputs,c.declaredInputs),Ue(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),Ue(g.inputTransforms,c.inputTransforms)),le(c)&&c.data.animation){const U=t.data;U.animation=(U.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const y=d[g];y&&y.ngInherit&&y(t),y===jd&&(s=!1)}}r=Object.getPrototypeOf(r)}!function $d(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=ri(c.hostAttrs,s=ri(s,c.hostAttrs))}}(a)}function Hd(t){return t===ni?{}:t===Rn?[]:t}function dg(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function cv(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function lv(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function z_(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function Mc(t){return!!gg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function gg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ha(t,r,s){return t[r]=s}function Ms(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Nc(t,r,s,a){const c=Ms(t,r,s);return Ms(t,r+1,a)||c}function qu(t,r,s,a){const c=$e();return Ms(c,Ce(),r)&&(Mn(),la(Lr(),c,t,r,s,a)),qu}function Gd(t,r,s,a){return Ms(t,Ce(),s)?r+Ye(s)+a:In}function Ku(t,r,s,a,c,d){const y=Nc(t,function V(){return Wt.lFrame.bindingIndex}(),s,c);return ye(2),y?r+Ye(s)+a+Ye(c)+d:In}function Dv(t,r,s,a,c,d,g,y){const A=$e(),P=Mn(),U=t+_n,Z=P.firstCreatePass?function BI(t,r,s,a,c,d,g,y,A){const P=r.consts,U=ca(r,t,4,g||null,oo(P,y));Jp(r,s,U,oo(P,A)),Ii(r,U);const Z=U.tView=Bd(2,U,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,P,null);return null!==r.queries&&(r.queries.template(r,U),Z.queries=r.queries.embeddedTView(U)),U}(U,P,A,r,s,a,c,d,g):P.data[U];lo(Z,!1);const ae=Av(P,A,Z,t);Wa()&&Id(P,A,ae,Z),Vs(ae,A),df(A,A[U]=rg(ae,A,ae,Z)),J(Z)&&zp(P,A,Z),null!=g&&Gp(A,Z,y)}let Av=function Cv(t,r,s,a){return qn(!0),r[Ht].createComment("")};function Pv(t){return Yo(function D(){return Wt.lFrame.contextLView}(),_n+t)}function Sg(t,r,s){const a=$e();return Ms(a,Ce(),r)&&_s(Mn(),Lr(),a,t,r,a[Ht],s,!1),Sg}function Rg(t,r,s,a,c){const g=c?"class":"style";N_(t,s,r.inputs[g],g,a)}function Tf(t,r,s,a){const c=$e(),d=Mn(),g=_n+t,y=c[Ht],A=d.firstCreatePass?function Ef(t,r,s,a,c,d){const g=r.consts,A=ca(r,t,2,a,oo(g,c));return Jp(r,s,A,oo(g,d)),null!==A.attrs&&hf(A,A.attrs,!1),null!==A.mergedAttrs&&hf(A,A.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,A),A}(g,d,c,r,s,a):d.data[g],P=Mv(d,c,A,y,r,t);c[g]=P;const U=J(A);return lo(A,!0),Wf(y,P,A),32!=(32&A.flags)&&Wa()&&Id(d,c,P,A),0===function Vc(){return Wt.lFrame.elementDepthCount}()&&Vs(P,c),function zl(){Wt.lFrame.elementDepthCount++}(),U&&(zp(d,c,A),Hp(d,A,c)),null!==a&&Gp(c,A),Tf}function Pg(){let t=Ri();Bc()?v():(t=t.parent,lo(t,!1));const r=t;(function Uc(t){return Wt.skipHydrationRootTNode===t})(r)&&function wa(){Wt.skipHydrationRootTNode=null}(),function is(){Wt.lFrame.elementDepthCount--}();const s=Mn();return s.firstCreatePass&&(Ii(s,t),k(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function _u(t){return 0!=(8&t.flags)}(r)&&Rg(s,r,$e(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Wc(t){return 0!=(16&t.flags)}(r)&&Rg(s,r,$e(),r.stylesWithoutHost,!1),Pg}function Y_(t,r,s,a){return Tf(t,r,s,a),Pg(),Y_}let Mv=(t,r,s,a,c,d)=>(qn(!0),ul(a,c,function ql(){return Wt.lFrame.currentNamespace}()));function Mg(t,r,s){const a=$e(),c=Mn(),d=t+_n,g=c.firstCreatePass?function HI(t,r,s,a,c){const d=r.consts,g=oo(d,a),y=ca(r,t,8,"ng-container",g);return null!==g&&hf(y,g,!0),Jp(r,s,y,oo(d,c)),null!==r.queries&&r.queries.elementStart(r,y),y}(d,c,a,r,s):c.data[d];lo(g,!0);const y=Z_(c,a,g,t);return a[d]=y,Wa()&&Id(c,a,y,g),Vs(y,a),J(g)&&(zp(c,a,g),Hp(c,g,a)),null!=s&&Gp(a,g),Mg}function xg(){let t=Ri();const r=Mn();return Bc()?v():(t=t.parent,lo(t,!1)),r.firstCreatePass&&(Ii(r,t),k(t)&&r.queries.elementEnd(t)),xg}let Z_=(t,r,s,a)=>(qn(!0),yh(r[Ht],""));function xv(){return $e()}function Q_(t){return!!t&&"function"==typeof t.then}function Og(t){return!!t&&"function"==typeof t.subscribe}function wf(t,r,s,a){const c=$e(),d=Mn(),g=Ri();return function Zd(t,r,s,a,c,d,g){const y=J(a),P=t.firstCreatePass&&x_(t),U=r[kn],Z=da(r);let ae=!0;if(3&a.type||g){const tt=Si(a,r),At=g?g(tt):tt,Bt=Z.length,Ze=g?Hn=>g(lr(Hn[a.index])):a.index;let Dn=null;if(!g&&y&&(Dn=function kg(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const y=r[Ts],A=c[d+2];return y.length>A?y[A]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==Dn)(Dn.__ngLastListenerFn__||Dn).__ngNextListenerFn__=d,Dn.__ngLastListenerFn__=d,ae=!1;else{d=e(a,r,U,d,!1);const Hn=s.listen(At,c,d);Z.push(d,Hn),P&&P.push(c,Ze,Bt,Bt+1)}}else d=e(a,r,U,d,!1);const ge=a.outputs;let je;if(ae&&null!==ge&&(je=ge[c])){const tt=je.length;if(tt)for(let At=0;At<tt;At+=2){const Ur=r[je[At]][je[At+1]].subscribe(d),Ho=Z.length;Z.push(d,Ur),P&&P.push(c,a.index,Ho,-(Ho+1))}}}(d,c,c[Ht],g,t,r,a),wf}function i(t,r,s,a){try{return so(6,r,s),!1!==s(a)}catch(c){return ig(t,c),!1}finally{so(7,r,s)}}function e(t,r,s,a,c){return function d(g){if(g===Function)return a;bc(t.componentOffset>-1?Bn(t.index,r):r);let A=i(r,s,a,g),P=d.__ngNextListenerFn__;for(;P;)A=i(r,s,P,g)&&A,P=P.__ngNextListenerFn__;return c&&!1===A&&g.preventDefault(),A}}function n(t=1){return function Gl(t){return(Wt.lFrame.contextLView=function Wl(t,r){for(;t>0;)r=r[Vi],t--;return r}(t,Wt.lFrame.contextLView))[kn]}(t)}function f(t,r,s){return w(t,"",r,"",s),f}function w(t,r,s,a,c){const d=$e(),g=Gd(d,r,s,a);return g!==In&&_s(Mn(),Lr(),d,t,g,d[Ht],c,!1),w}function pt(t,r){return t<<17|r<<2}function Gt(t){return t>>17&32767}function $n(t){return 2|t}function sr(t){return(131068&t)>>2}function fr(t,r){return-131069&t|r<<2}function Bo(t){return 1|t}function qI(t,r,s,a,c){const d=t[s+1],g=null===r;let y=a?Gt(d):sr(d),A=!1;for(;0!==y&&(!1===A||g);){const U=t[y+1];Ww(t[y],r)&&(A=!0,t[y+1]=a?Bo(U):$n(U)),y=a?Gt(U):sr(U)}A&&(t[s+1]=a?$n(d):Bo(d))}function Ww(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&wo(t,r)>=0}const xs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function KI(t){return t.substring(xs.key,xs.keyEnd)}function qw(t){return t.substring(xs.value,xs.valueEnd)}function YI(t,r){const s=xs.textEnd;return s===r?-1:(r=xs.keyEnd=function Zw(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,xs.key=r,s),Df(t,r,s))}function ZI(t,r){const s=xs.textEnd;let a=xs.key=Df(t,r,s);return s===a?-1:(a=xs.keyEnd=function Qw(t,r,s){let a;for(;r<s&&(45===(a=t.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(t,a,s),a=XI(t,a,s),a=xs.value=Df(t,a,s),a=xs.valueEnd=function Xw(t,r,s){let a=-1,c=-1,d=-1,g=r,y=g;for(;g<s;){const A=t.charCodeAt(g++);if(59===A)return y;34===A||39===A?y=g=JI(t,A,g,s):r===g-4&&85===d&&82===c&&76===a&&40===A?y=g=JI(t,41,g,s):A>32&&(y=g),d=c,c=a,a=-33&A}return y}(t,a,s),XI(t,a,s))}function QI(t){xs.key=0,xs.keyEnd=0,xs.value=0,xs.valueEnd=0,xs.textEnd=t.length}function Df(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function XI(t,r,s,a){return(r=Df(t,r,s))<s&&r++,r}function JI(t,r,s,a){let c=-1,d=s;for(;d<a;){const g=t.charCodeAt(d++);if(g==r&&92!==c)return d;c=92==g&&92===c?0:g}throw new Error}function kv(t,r,s){return uu(t,r,s,!1),kv}function Lv(t,r){return uu(t,r,null,!0),Lv}function Jw(t,r){for(let s=function Yw(t){return QI(t),ZI(t,Df(t,0,xs.textEnd))}(r);s>=0;s=ZI(r,s))rE(t,KI(r),qw(r))}function eE(t){cu(o0,Qu,t,!0)}function Qu(t,r){for(let s=function Kw(t){return QI(t),YI(t,Df(t,0,xs.textEnd))}(r);s>=0;s=YI(r,s))ss(t,KI(r),!0)}function uu(t,r,s,a){const c=$e(),d=Mn(),g=ye(2);d.firstUpdatePass&&nE(d,t,g,a),r!==In&&Ms(c,g,r)&&iE(d,d.data[Hi()],c,c[Ht],t,c[g+1]=function u0(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Le(Fo(t)))),t}(r,s),a,g)}function cu(t,r,s,a){const c=Mn(),d=ye(2);c.firstUpdatePass&&nE(c,null,d,a);const g=$e();if(s!==In&&Ms(g,d,s)){const y=c.data[Hi()];if(oE(y,a)&&!tE(c,d)){let A=a?y.classesWithoutHost:y.stylesWithoutHost;null!==A&&(s=He(A,s||"")),Rg(c,y,g,s,a)}else!function a0(t,r,s,a,c,d,g,y){c===In&&(c=Rn);let A=0,P=0,U=0<c.length?c[0]:null,Z=0<d.length?d[0]:null;for(;null!==U||null!==Z;){const ae=A<c.length?c[A+1]:void 0,ge=P<d.length?d[P+1]:void 0;let tt,je=null;U===Z?(A+=2,P+=2,ae!==ge&&(je=Z,tt=ge)):null===Z||null!==U&&U<Z?(A+=2,je=U):(P+=2,je=Z,tt=ge),null!==je&&iE(t,r,s,a,je,tt,g,y),U=A<c.length?c[A]:null,Z=P<d.length?d[P]:null}}(c,y,g,g[Ht],g[d+1],g[d+1]=function s0(t,r,s){if(null==s||""===s)return Rn;const a=[],c=Fo(s);if(Array.isArray(c))for(let d=0;d<c.length;d++)t(a,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&t(a,d,c[d]);else"string"==typeof c&&r(a,c);return a}(t,r,s),a,d)}}function tE(t,r){return r>=t.expandoStartIndex}function nE(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Hi()],g=tE(t,s);oE(d,a)&&null===r&&!g&&(r=!1),r=function e0(t,r,s,a){const c=function Qo(t){const r=Wt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=Lg(s=Fv(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=Fv(c,t,r,s,a),null===d){let A=function t0(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==sr(a))return t[Gt(a)]}(t,r,a);void 0!==A&&Array.isArray(A)&&(A=Fv(null,t,r,A[1],a),A=Lg(A,r.attrs,a),function n0(t,r,s,a){t[Gt(s?r.classBindings:r.styleBindings)]=a}(t,r,a,A))}else d=function r0(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=Lg(a,t[d].hostAttrs,s);return Lg(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function zw(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,y=Gt(g),A=sr(g);t[a]=s;let U,P=!1;if(Array.isArray(s)?(U=s[1],(null===U||wo(s,U)>0)&&(P=!0)):U=s,c)if(0!==A){const ae=Gt(t[y+1]);t[a+1]=pt(ae,y),0!==ae&&(t[ae+1]=fr(t[ae+1],a)),t[y+1]=function on(t,r){return 131071&t|r<<17}(t[y+1],a)}else t[a+1]=pt(y,0),0!==y&&(t[y+1]=fr(t[y+1],a)),y=a;else t[a+1]=pt(A,0),0===y?y=a:t[A+1]=fr(t[A+1],a),A=a;P&&(t[a+1]=$n(t[a+1])),qI(t,U,a,!0),qI(t,U,a,!1),function Gw(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&wo(d,r)>=0&&(s[a+1]=Bo(s[a+1]))}(r,U,t,a,d),g=pt(y,A),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}function Fv(t,r,s,a,c){let d=null;const g=s.directiveEnd;let y=s.directiveStylingLast;for(-1===y?y=s.directiveStart:y++;y<g&&(d=r[y],a=Lg(a,d.hostAttrs,c),d!==t);)y++;return null!==t&&(s.directiveStylingLast=y),a}function Lg(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ss(t,g,!!s||r[++d]))}return void 0===t?null:t}function rE(t,r,s){ss(t,r,Fo(s))}function o0(t,r,s){const a=String(r);""!==a&&!a.includes(" ")&&ss(t,a,s)}function iE(t,r,s,a,c,d,g,y){if(!(3&r.type))return;const A=t.data,P=A[y+1],U=function ys(t){return 1==(1&t)}(P)?sE(A,r,s,c,sr(P),g):void 0;X_(U)||(X_(d)||function dn(t){return 2==(2&t)}(P)&&(d=sE(A,null,s,c,y,g)),function gc(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:dc.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=dc.Important),t.setStyle(s,a,c,d))}}(a,g,fu(Hi(),s),c,d))}function sE(t,r,s,a,c,d){const g=null===r;let y;for(;c>0;){const A=t[c],P=Array.isArray(A),U=P?A[1]:A,Z=null===U;let ae=s[c+1];ae===In&&(ae=Z?Rn:void 0);let ge=Z?tl(ae,a):U===a?ae:void 0;if(P&&!X_(ge)&&(ge=tl(A,a)),X_(ge)&&(y=ge,g))return y;const je=t[c+1];c=g?Gt(je):sr(je)}if(null!==r){let A=d?r.residualClasses:r.residualStyles;null!=A&&(y=tl(A,a))}return y}function X_(t){return void 0!==t}function oE(t,r){return 0!=(t.flags&(r?8:16))}function aE(t,r=""){const s=$e(),a=Mn(),c=t+_n,d=a.firstCreatePass?ca(a,c,1,r,null):a.data[c],g=uE(a,s,d,r,t);s[c]=g,Wa()&&Id(a,s,g,d),lo(d,!1)}let uE=(t,r,s,a,c)=>(qn(!0),function al(t,r){return t.createText(r)}(r[Ht],a));function Vv(t){return J_("",t,""),Vv}function J_(t,r,s){const a=$e(),c=Gd(a,t,r,s);return c!==In&&Ua(a,Hi(),c),J_}function Uv(t,r,s,a,c){const d=$e(),g=Ku(d,t,r,s,a,c);return g!==In&&Ua(d,Hi(),g),Uv}function mE(t,r,s){!function Zu(t){cu(rE,Jw,t,!1)}(Gd($e(),t,r,s))}const Qd=void 0;var R0=["en",[["a","p"],["AM","PM"],Qd],[["AM","PM"],Qd,Qd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qd,"{1} 'at' {0}",Qd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function S0(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Af={};function Bv(t){const r=function P0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=RE(r);if(s)return s;const a=r.split("-")[0];if(s=RE(a),s)return s;if("en"===a)return R0;throw new nt(701,!1)}function SE(t){return Bv(t)[Cf.PluralCase]}function RE(t){return t in Af||(Af[t]=cn.ng&&cn.ng.common&&cn.ng.common.locales&&cn.ng.common.locales[t]),Af[t]}var Cf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Cf||{});const bf="en-US";let PE=bf;function Hv(t,r,s,a,c){if(t=we(t),Array.isArray(t))for(let d=0;d<t.length;d++)Hv(t[d],r,s,a,c);else{const d=Mn(),g=$e(),y=Ri();let A=Lu(t)?t:we(t.provide);const P=xd(t),U=1048575&y.providerIndexes,Z=y.directiveStart,ae=y.providerIndexes>>20;if(Lu(t)||!t.multi){const ge=new ea(P,c,su),je=Gv(A,r,c?U:U+ae,Z);-1===je?(Ya(ta(y,g),d,A),zv(d,t,r.length),r.push(A),y.directiveStart++,y.directiveEnd++,c&&(y.providerIndexes+=1048576),s.push(ge),g.push(ge)):(s[je]=ge,g[je]=ge)}else{const ge=Gv(A,r,U+ae,Z),je=Gv(A,r,U,U+ae),At=je>=0&&s[je];if(c&&!At||!c&&!(ge>=0&&s[ge])){Ya(ta(y,g),d,A);const Bt=function SD(t,r,s,a,c){const d=new ea(t,s,su);return d.multi=[],d.index=r,d.componentProviders=0,tT(d,c,a&&!s),d}(c?bD:CD,s.length,c,a,P);!c&&At&&(s[je].providerFactory=Bt),zv(d,t,r.length,0),r.push(A),y.directiveStart++,y.directiveEnd++,c&&(y.providerIndexes+=1048576),s.push(Bt),g.push(Bt)}else zv(d,t,ge>-1?ge:je,tT(s[c?je:ge],P,!c&&a));!c&&a&&At&&s[je].componentProviders++}}}function zv(t,r,s,a){const c=Lu(r),d=function Hm(t){return!!t.useClass}(r);if(c||d){const A=(d?we(r.useClass):r).prototype.ngOnDestroy;if(A){const P=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const U=P.indexOf(s);-1===U?P.push(s,[a,A]):P[U+1].push(a,A)}else P.push(s,A)}}}function tT(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function Gv(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function CD(t,r,s,a){return Wv(this.multi,[])}function bD(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=ir(s,s[ft],this.providerFactory.index,a);d=y.slice(0,g),Wv(c,d);for(let A=g;A<y.length;A++)d.push(y[A])}else d=[],Wv(c,d);return d}function Wv(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function nT(t,r=[]){return s=>{s.providersResolver=(a,c)=>function AD(t,r,s){const a=Mn();if(a.firstCreatePass){const c=le(t);Hv(s,a.data,a.blueprint,c,!0),Hv(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Xd{}class rT{}function RD(t,r){return new qv(t,r??null,[])}class qv extends Xd{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xl(this);const c=Xr(r);this._bootstrapComponents=ua(c.bootstrap),this._r3Injector=i_(r,s,[{provide:Xd,useValue:this},{provide:$h,useValue:this.componentFactoryResolver},...a],Le(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Kv extends rT{constructor(r){super(),this.moduleType=r}create(r){return new qv(this.moduleType,r,[])}}class iT extends Xd{constructor(r){super(),this.componentFactoryResolver=new xl(this),this.instance=null;const s=new Ec([...r.providers,{provide:Xd,useValue:this},{provide:$h,useValue:this.componentFactoryResolver}],r.parent||Il(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function sT(t,r,s=null){return new iT({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let MD=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=$m(0,s.type),c=a.length>0?sT([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=un({token:t,providedIn:"environment",factory:()=>new t(dt(aa))})}return t})();function oT(t){t.getStandaloneInjector=r=>r.get(MD).getOrCreateStandaloneInjector(t)}function fT(t,r,s,a){return function gT(t,r,s,a,c,d){const g=r+s;return Ms(t,g,c)?ha(t,g+1,d?a.call(d,c):a(c)):$g(t,g+1)}($e(),R(),t,r,s,a)}function pT(t,r,s,a,c){return mT($e(),R(),t,r,s,a,c)}function $g(t,r){const s=t[r];return s===In?void 0:s}function mT(t,r,s,a,c,d,g){const y=r+s;return Nc(t,y,c,d)?ha(t,y+2,g?a.call(g,c,d):a(c,d)):$g(t,y+2)}function IT(t,r){const s=Mn();let a;const c=t+_n;s.firstCreatePass?(a=function KD(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=_o(a.type)),y=pn(su);try{const A=To(!1),P=d();return To(A),function Rv(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,$e(),c,P),P}finally{pn(y)}}function ET(t,r,s,a){const c=t+_n,d=$e(),g=Yo(d,c);return function Hg(t,r){return t[ft].data[r].pure}(d,c)?mT(d,R(),r,g.transform,s,a,g):g.transform(s,a)}function JD(){return this._results[Symbol.iterator]()}class Zv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Va)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Zv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=JD)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function fo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function ia(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tA(t,r,s,a=!0){const c=r[ft];if(function Iy(t,r,s,a){const c=Wr+a,d=s.length;a>0&&(s[c-1][_i]=r),a<d-Wr?(r[_i]=s[c],uh(s,Wr+a,r)):(s.push(r),r[_i]=null),r[_r]=s;const g=r[fs];null!==g&&s!==g&&function Ey(t,r){const s=t[vi];r[Dr]!==r[_r][_r][Dr]&&(t[Ba]=!0),null===s?t[vi]=[r]:s.push(r)}(g,r);const y=r[yi];null!==y&&y.insertView(t),r[Xt]|=128}(c,r,t,s),a){const d=pc(s,t),g=r[Ht],y=Pu(g,t[ws]);null!==y&&function yy(t,r,s,a,c,d){a[tr]=c,a[Gr]=r,Td(t,a,s,1,c,d)}(c,t[Gr],g,r,y,d)}}let zg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=iA}return t})();const nA=zg,rA=class extends nA{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function eA(t,r,s,a){const c=r.tView,y=Vd(t,c,s,4096&t[Xt]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);y[fs]=t[r.index];const P=t[yi];return null!==P&&(y[yi]=P.createEmbeddedView(c)),og(c,y,s),y}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new ff(c)}};function iA(){return iy(Ri(),$e())}function iy(t,r){return 4&t.type?new rA(r,t,bl(t,r)):null}let oy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=lA}return t})();function lA(){return ST(Ri(),$e())}const dA=oy,CT=class extends dA{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return bl(this._hostTNode,this._hostLView)}get injector(){return new gs(this._hostTNode,this._hostLView)}get parentInjector(){const r=na(this._hostTNode,this._hostLView);if(Eo(r)){const s=ps(r,this._hostLView),a=Ka(r);return new gs(s[ft].data[a+8],s)}return new gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=bT(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Wr}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const y=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(y,c,false),y}createComponent(r,s,a,c,d){const g=r&&!function Au(t){return"function"==typeof t}(r);let y;if(g)y=s;else{const tt=s||{};y=tt.index,a=tt.injector,c=tt.projectableNodes,d=tt.environmentInjector||tt.ngModuleRef}const A=g?r:new pf(Cn(r)),P=a||this.parentInjector;if(!d&&null==A.ngModule){const At=(g?P:this.parentInjector).get(aa,null);At&&(d=At)}Cn(A.componentType??{});const ge=A.create(P,c,null,d);return this.insertImpl(ge.hostView,y,false),ge}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function jn(t){return N(t[_r])}(c)){const A=this.indexOf(r);if(-1!==A)this.detach(A);else{const P=c[_r],U=new CT(P,P[Gr],P[_r]);U.detach(U.indexOf(r))}}const g=this._adjustIndex(s),y=this._lContainer;return tA(y,c,g,!a),r.attachToViewContainerRef(),uh(Qv(y),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=bT(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=eu(this._lContainer,s);a&&(uc(Qv(this._lContainer),s),vh(a[ft],a))}detach(r){const s=this._adjustIndex(r,-1),a=eu(this._lContainer,s);return a&&null!=uc(Qv(this._lContainer),s)?new ff(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function bT(t){return t[8]}function Qv(t){return t[8]||(t[8]=[])}function ST(t,r){let s;const a=r[t.index];return N(a)?s=a:(s=rg(a,r,null,t),r[t.index]=s,df(r,s)),RT(s,r,t,a),new CT(s,t,r)}let RT=function PT(t,r,s,a){if(t[ws])return;let c;c=8&s.type?lr(a):function hA(t,r){const s=t[Ht],a=s.createComment(""),c=Si(r,t);return Su(s,Pu(s,c),a,function Em(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[ws]=c};class Xv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Xv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new Jv(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==UT(r,s).matches&&this.queries[s].setDirty()}}class MT{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class eI{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new eI(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class tI{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new tI(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,gA(s,d)),this.matchTNodeWithReadOption(r,s,sc(s,r,d,!1,!1))}else a===zg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,sc(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Dc||c===oy||c===zg&&4&s.type)this.addMatch(s.index,-2);else{const d=sc(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function gA(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function _A(t,r,s,a){return-1===s?function mA(t,r){return 11&t.type?bl(t,r):4&t.type?iy(t,r):null}(r,t):-2===s?function yA(t,r,s){return s===Dc?bl(r,t):s===zg?iy(r,t):s===oy?ST(r,t):void 0}(t,r,a):ir(t,t[ft],s,r)}function xT(t,r,s,a){const c=r[yi].queries[a];if(null===c.matches){const d=t.data,g=s.matches,y=[];for(let A=0;A<g.length;A+=2){const P=g[A];y.push(P<0?null:_A(r,d[P],g[A+1],s.metadata.read))}c.matches=y}return c.matches}function nI(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=xT(t,r,c,s);for(let y=0;y<d.length;y+=2){const A=d[y];if(A>0)a.push(g[y/2]);else{const P=d[y+1],U=r[-A];for(let Z=Wr;Z<U.length;Z++){const ae=U[Z];ae[fs]===ae[_r]&&nI(ae[ft],ae,P,a)}if(null!==U[vi]){const Z=U[vi];for(let ae=0;ae<Z.length;ae++){const ge=Z[ae];nI(ge[ft],ge,P,a)}}}}}return a}function NT(t){const r=$e(),s=Mn(),a=Xo();Ha(a+1);const c=UT(s,a);if(t.dirty&&function zt(t){return 4==(4&t[Xt])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?nI(s,r,a,[]):xT(s,r,c,a);t.reset(d,Vy),t.notifyOnChanges()}return!0}return!1}function OT(t,r,s){const a=Mn();a.firstCreatePass&&(VT(a,new MT(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),FT(a,$e(),r)}function kT(t,r,s,a){const c=Mn();if(c.firstCreatePass){const d=Ri();VT(c,new MT(r,s,a),d.index),function IA(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}FT(c,$e(),s)}function LT(){return function vA(t,r){return t[yi].queries[r].queryList}($e(),Xo())}function FT(t,r,s){const a=new Zv(4==(4&s));(function Yp(t,r,s,a){const c=da(r);c.push(s),t.firstCreatePass&&x_(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[yi]&&(r[yi]=new Jv),r[yi].queries.push(new Xv(a))}function VT(t,r,s){null===t.queries&&(t.queries=new eI),t.queries.track(new tI(r,s))}function UT(t,r){return t.queries.getByIndex(r)}function rI(t){return!!Xr(t)}const nw=new mn("Application Initializer");let uI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=wt(nw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(Q_(d))s.push(d);else if(Og(d)){const g=new Promise((y,A)=>{d.subscribe({complete:y,error:A})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const uy=new mn("LocaleId",{providedIn:"root",factory:()=>wt(uy,it.Optional|it.SkipSelf)||function $A(){return typeof $localize<"u"&&$localize.locale||bf}()}),HA=new mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let iw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new q.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class GA{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let WA=(()=>{class t{compileModuleSync(s){return new Kv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=ua(Xr(s).declarations).reduce((g,y)=>{const A=Cn(y);return A&&g.push(new pf(A)),g},[]);return new GA(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const uw=new mn(""),cw=new mn("");let dI,pC=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dI||(function gC(t){dI=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(dt(Gi),dt(lw),dt(cw))};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac})}return t})(),lw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return dI?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Ul=null;const dw=new mn("AllowMultipleToken"),hI=new mn("PlatformDestroyListeners"),fI=new mn("appBootstrapListener");class yC{constructor(r,s){this.name=r,this.token=s}}function pw(t,r,s=[]){const a=`Platform: ${r}`,c=new mn(a);return(d=[])=>{let g=pI();if(!g||g.injector.get(dw,!1)){const y=[...s,...d,{provide:c,useValue:!0}];t?t(y):function vC(t){if(Ul&&!Ul.get(dw,!1))throw new nt(400,!1);(function hw(){!function Fe(t){K=t}(()=>{throw new nt(600,!1)})})(),Ul=t;const r=t.get(mw);(function fw(t){t.get(Fh,null)?.forEach(s=>s())})(t)}(function gw(t=[],r){return Ao.create({name:r,providers:[{provide:Nh,useValue:"platform"},{provide:hI,useValue:new Set([()=>Ul=null])},...t]})}(y,a))}return function EC(t){const r=pI();if(!r)throw new nt(401,!1);return r}()}}function pI(){return Ul?.get(mw)??null}let mw=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function TC(t="zone.js",r){return"noop"===t?new c_:"zone.js"===t?new Gi(r):t}(a?.ngZone,function _w(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function PD(t,r,s){return new qv(t,r,s)}(s.moduleType,this.injector,function Tw(t){return[{provide:Gi,useFactory:t},{provide:Sd,multi:!0,useFactory:()=>{const r=wt(DC,{optional:!0});return()=>r.initialize()}},{provide:Ew,useFactory:wC},{provide:l_,useFactory:Zh}]}(()=>c)),g=d.injector.get($u,null);return c.runOutsideAngular(()=>{const y=c.onError.subscribe({next:A=>{g.handleError(A)}});d.onDestroy(()=>{ly(this._modules,d),y.unsubscribe()})}),function yw(t,r,s){try{const a=s();return Q_(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const y=d.injector.get(uI);return y.runInitializers(),y.donePromise.then(()=>(function ME(t){vn(t,"Expected localeId to be defined"),"string"==typeof t&&(PE=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(uy,bf)||bf),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=vw({},a);return function mC(t,r,s){const a=new Kv(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(Pf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new nt(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(hI,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(dt(Ao))};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function vw(t,r){return Array.isArray(r)?r.reduce(vw,t):{...t,...r}}let Pf=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wt(Ew),this.zoneIsStable=wt(l_),this.componentTypes=[],this.components=[],this.isStable=wt(iw).hasPendingTasks.pipe((0,ut.w)(s=>s?(0,ee.of)(!1):this.zoneIsStable),function Yt(t,r=Rt.y){return t=t??kt,(0,Ke.e)((s,a)=>{let c,d=!0;s.subscribe((0,rt.x)(a,g=>{const y=r(g);(d||!t(c,y))&&(d=!1,c=y,a.next(g))}))})}(),Be()),this._injector=wt(aa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Zm;if(!this._injector.get(uI).done)throw!c&&ls(s),new nt(405,!1);let g;g=c?s:this._injector.get($h).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const y=function _C(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Xd),P=g.create(Ao.NULL,[],a||g.selector,y),U=P.location.nativeElement,Z=P.injector.get(uw,null);return Z?.registerApplication(U),P.onDestroy(()=>{this.detachView(P.hostView),ly(this.components,P),Z?.unregisterApplication(U)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new nt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;ly(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(fI,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>ly(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new nt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ly(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const Ew=new mn("",{providedIn:"root",factory:()=>wt($u).handleError.bind(void 0)});function wC(){const t=wt(Gi),r=wt($u);return s=>t.runOutsideAngular(()=>r.handleError(s))}let DC=(()=>{class t{constructor(){this.zone=wt(Gi),this.applicationRef=wt(Pf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let CC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=bC}return t})();function bC(t){return function SC(t,r,s){if(Q(t)&&!s){const a=Bn(t.index,r);return new ff(a,a)}return 47&t.type?new ff(r[Dr],r):null}(Ri(),$e(),16==(16&t))}class Cw{constructor(){}supports(r){return Mc(r)}create(r){return new OC(r)}}const NC=(t,r)=>r;class OC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||NC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<Sw(a,c,d)?s:a,y=Sw(g,c,d),A=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const P=y-c,U=A-c;if(P!=U){for(let ae=0;ae<P;ae++){const ge=ae<d.length?d[ae]:d[ae]=0,je=ge+ae;U<=je&&je<P&&(d[ae]=ge+1)}d[g.previousIndex]=U-P}}y!==A&&r(g,y,A)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Mc(r))throw new nt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let y=0;y<this.length;y++)d=r[y],g=this._trackByFn(y,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,y)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,y),a=!0),s=s._next}else c=0,function pg(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,y=>{g=this._trackByFn(c,y),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,y,g,c)),Object.is(s.item,y)||this._addIdentityChange(s,y)):(s=this._mismatch(s,y,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new kC(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new bw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class kC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class bw{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new LC,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sw(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class Rw{constructor(){}supports(r){return r instanceof Map||gg(r)}create(){return new FC}}class FC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||gg(r)))throw new nt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new VC(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class VC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pw(){return new vI([new Cw])}let vI=(()=>{class t{static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:Pw});constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Pw()),deps:[[t,new Je,new ue]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new nt(901,!1)}}return t})();function Mw(){return new II([new Rw])}let II=(()=>{class t{static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:Mw});constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Mw()),deps:[[t,new Je,new ue]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new nt(901,!1)}}return t})();const jC=pw(null,"core",[]);let $C=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(dt(Pf))};static#t=this.\u0275mod=Ws({type:t});static#n=this.\u0275inj=Zt({})}return t})();function JC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function eb(t,r=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?r:Number(t)}function nb(t){const r=Cn(t);if(!r)return null;const s=new pf(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},721:(St,ke,L)=>{L.d(ke,{Ot:()=>ne,ZF:()=>Rt,hX:()=>Ke,z6:()=>se});var m=L(3182),W=L(4946),pe=L(1920);class ne{constructor(Ue){return Ue}}class se{constructor(){return(0,m.C6)()}}const ie=new W.OlP("angularfire2._apps"),xe={provide:ne,useFactory:function fe(Ae){return Ae&&1===Ae.length?Ae[0]:new ne((0,m.Mq)())},deps:[[new W.FiY,ie]]},q={provide:se,deps:[[new W.FiY,ie]]};function ee(Ae){return(Ue,Le)=>{const He=Ue.runOutsideAngular(()=>Ae(Le));return new ne(He)}}let ve=(()=>{class Ae{constructor(Le){(0,m.KN)("angularfire",pe.q4.full,"core"),(0,m.KN)("angularfire",pe.q4.full,"app"),(0,m.KN)("angular",W.q4F.full,Le.toString())}static \u0275fac=function(He){return new(He||Ae)(W.LFG(W.Lbi))};static \u0275mod=W.oAB({type:Ae});static \u0275inj=W.cJS({providers:[xe,q]})}return Ae})();function Ke(Ae,...Ue){return{ngModule:ve,providers:[{provide:ie,useFactory:ee(Ae),multi:!0,deps:[W.R0b,W.zs3,pe.HU,...Ue]}]}}const Rt=(0,pe.u3)(m.ZF,!0)},2637:(St,ke,L)=>{L.d(ke,{AR:()=>ut,Aj:()=>Ft,LS:()=>bn,Xb:()=>Se,ck:()=>fn,dh:()=>ie,e5:()=>pi,gx:()=>fe,rh:()=>Zt,v0:()=>Ct,w$:()=>or});var m=L(1920),W=L(4946),pe=L(721),ne=L(3182),se=L(3446);class fe{constructor(Jt){return Jt}}class ie{constructor(){return(0,m.vb)("auth")}}const q=new W.OlP("angularfire2.auth-instances");function ve(pn){return(Jt,gn)=>{const cn=Jt.runOutsideAngular(()=>pn(gn));return new fe(cn)}}const Ke={provide:ie,deps:[[new W.FiY,q]]},Be={provide:fe,useFactory:function ee(pn,Jt){const gn=(0,m.JM)("auth",pn,Jt);return gn&&new fe(gn)},deps:[[new W.FiY,q],pe.Ot]};let We=(()=>{class pn{constructor(){(0,ne.KN)("angularfire",m.q4.full,"auth")}static \u0275fac=function(cn){return new(cn||pn)};static \u0275mod=W.oAB({type:pn});static \u0275inj=W.cJS({providers:[Be,Ke]})}return pn})();function ut(pn,...Jt){return{ngModule:We,providers:[{provide:q,useFactory:ve(pn),multi:!0,deps:[W.R0b,W.zs3,m.HU,pe.z6,[new W.FiY,m.Rf],...Jt]}]}}const Se=(0,m.u3)(se.Xb,!0),Ct=(0,m.u3)(se.v0,!0),Ft=(0,m.u3)(se.Aj,!0),or=(0,m.u3)(se.w$,!0),bn=(0,m.u3)(se.LS,!0),pi=(0,m.u3)(se.e5,!0),Zt=(0,m.u3)(se.rh,!0),fn=(0,m.u3)(se.ck,!0)},3960:(St,ke,L)=>{L.d(ke,{gg:()=>Qt,ET:()=>vn,hJ:()=>jt,BS:()=>En,oe:()=>Sn,JU:()=>it,QT:()=>ar,PL:()=>te,ad:()=>$,Xo:()=>me,Cm:()=>Xe,IO:()=>wt,pl:()=>ti,r7:()=>Ki,ar:()=>$r});var m=L(1920),W=L(4946),pe=L(721),ne=L(2637),se=L(3182),re=L(5776),fe=L(5592),ie=L(7398),xe=function(){return xe=Object.assign||function(Qe){for(var _t,Pt=1,mr=arguments.length;Pt<mr;Pt++)for(var Mr in _t=arguments[Pt])Object.prototype.hasOwnProperty.call(_t,Mr)&&(Qe[Mr]=_t[Mr]);return Qe},xe.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var ee={includeMetadataChanges:!1};function Ne(ht,Qe){return void 0===Qe&&(Qe={}),function Se(ht){return function ve(ht,Qe){return void 0===Qe&&(Qe=ee),new fe.y(function(_t){return{unsubscribe:(0,re.cf)(ht,Qe,{next:_t.next.bind(_t),error:_t.error.bind(_t),complete:_t.complete.bind(_t)})}})}(ht,{includeMetadataChanges:!0}).pipe((0,ie.U)(function(Qe){return Qe.docs}))}(ht).pipe((0,ie.U)(function(_t){return _t.map(function(Pt){return function We(ht,Qe){var _t;void 0===Qe&&(Qe={});var Pt=ht.data(Qe);return ht.exists()&&"object"==typeof Pt&&null!==Pt&&Qe.idField?xe(xe({},Pt),((_t={})[Qe.idField]=ht.id,_t)):Pt}(Pt,Qe)})}))}class Qt{constructor(Qe){return Qe}}const nt="firestore",ot=new W.OlP("angularfire2.firestore-instances");function _e(ht){return(Qe,_t)=>{const Pt=Qe.runOutsideAngular(()=>ht(_t));return new Qt(Pt)}}const De={provide:class Tt{constructor(){return(0,m.vb)(nt)}},deps:[[new W.FiY,ot]]},Ie={provide:Qt,useFactory:function ce(ht,Qe){const _t=(0,m.JM)(nt,ht,Qe);return _t&&new Qt(_t)},deps:[[new W.FiY,ot],pe.Ot]};let Pe=(()=>{class ht{constructor(){(0,se.KN)("angularfire",m.q4.full,"fst")}static \u0275fac=function(Pt){return new(Pt||ht)};static \u0275mod=W.oAB({type:ht});static \u0275inj=W.cJS({providers:[Ie,De]})}return ht})();function Xe(ht,...Qe){return{ngModule:Pe,providers:[{provide:ot,useFactory:_e(ht),multi:!0,deps:[W.R0b,W.zs3,m.HU,pe.z6,[new W.FiY,ne.dh],[new W.FiY,m.Rf],...Qe]}]}}const En=(0,m.u3)(Ne,!0),vn=(0,m.u3)(re.ET,!0),jt=(0,m.u3)(re.hJ,!0),Sn=(0,m.u3)(re.oe,!0),it=(0,m.u3)(re.JU,!0),ar=(0,m.u3)(re.QT,!0),te=(0,m.u3)(re.PL,!0),$=(0,m.u3)(re.ad,!0),me=(0,m.u3)(re.Xo,!0),wt=(0,m.u3)(re.IO,!0),ti=(0,m.u3)(re.pl,!0),Ki=(0,m.u3)(re.r7,!0),$r=(0,m.u3)(re.ar,!0)},5017:(St,ke,L)=>{L.d(ke,{Ke:()=>kn,oq:()=>ii,Jt:()=>_n,cF:()=>si,Vq:()=>yi,iH:()=>vi,KV:()=>Wr});var m=L(1920),W=L(4946),pe=L(721),ne=L(2637),se=L(3182),re=L(5861),fe=L(534),ie=L(9058),xe=L(4537);const q="firebasestorage.googleapis.com",ee="storageBucket";class We extends ie.ZR{constructor(k,Q,J=0){super(Rt(k),`Firebase Storage: ${Q} (${Rt(k)})`),this.status_=J,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,We.prototype)}get status(){return this.status_}set status(k){this.status_=k}_codeEquals(k){return Rt(k)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(k){this.customData.serverResponse=k,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ut=function(N){return N.UNKNOWN="unknown",N.OBJECT_NOT_FOUND="object-not-found",N.BUCKET_NOT_FOUND="bucket-not-found",N.PROJECT_NOT_FOUND="project-not-found",N.QUOTA_EXCEEDED="quota-exceeded",N.UNAUTHENTICATED="unauthenticated",N.UNAUTHORIZED="unauthorized",N.UNAUTHORIZED_APP="unauthorized-app",N.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",N.INVALID_CHECKSUM="invalid-checksum",N.CANCELED="canceled",N.INVALID_EVENT_NAME="invalid-event-name",N.INVALID_URL="invalid-url",N.INVALID_DEFAULT_BUCKET="invalid-default-bucket",N.NO_DEFAULT_BUCKET="no-default-bucket",N.CANNOT_SLICE_BLOB="cannot-slice-blob",N.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",N.NO_DOWNLOAD_URL="no-download-url",N.INVALID_ARGUMENT="invalid-argument",N.INVALID_ARGUMENT_COUNT="invalid-argument-count",N.APP_DELETED="app-deleted",N.INVALID_ROOT_OPERATION="invalid-root-operation",N.INVALID_FORMAT="invalid-format",N.INTERNAL_ERROR="internal-error",N.UNSUPPORTED_ENVIRONMENT="unsupported-environment",N}(ut||{});function Rt(N){return"storage/"+N}function rt(){return new We(ut.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Tt(N){return new We(ut.INVALID_ARGUMENT,N)}function Ye(){return new We(ut.APP_DELETED,"The Firebase app was deleted.")}function ce(N,k){return new We(ut.INVALID_FORMAT,"String does not match format '"+N+"': "+k)}function _e(N){throw new We(ut.INTERNAL_ERROR,"Internal error: "+N)}class De{constructor(k,Q){this.bucket=k,this.path_=Q}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const k=encodeURIComponent;return"/b/"+k(this.bucket)+"/o/"+k(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(k,Q){let J;try{J=De.makeFromUrl(k,Q)}catch{return new De(k,"")}if(""===J.path)return J;throw function we(N){return new We(ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+N+"'.")}(k)}static makeFromUrl(k,Q){let J=null;const le="([A-Za-z0-9.\\-_]+)",xt=new RegExp("^gs://"+le+"(/(.*))?$","i");function en(nr){nr.path_=decodeURIComponent(nr.path)}const Qn=Q.replace(/[.]/g,"\\."),Ar=[{regex:xt,indices:{bucket:1,path:3},postModify:function Ve(nr){"/"===nr.path.charAt(nr.path.length-1)&&(nr.path_=nr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Qn}/v[A-Za-z0-9_]+/b/${le}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:en},{regex:new RegExp(`^https?://${Q===q?"(?:storage.googleapis.com|storage.cloud.google.com)":Q}/${le}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:en}];for(let nr=0;nr<Ar.length;nr++){const Ds=Ar[nr],Bi=Ds.regex.exec(k);if(Bi){let ji=Bi[Ds.indices.path];ji||(ji=""),J=new De(Bi[Ds.indices.bucket],ji),Ds.postModify(J);break}}if(null==J)throw function de(N){return new We(ut.INVALID_URL,"Invalid URL '"+N+"'.")}(k);return J}}class Ie{constructor(k){this.promise_=Promise.reject(k)}getPromise(){return this.promise_}cancel(k=!1){}}function Lt(N){return"string"==typeof N||N instanceof String}function En(N){return It()&&N instanceof Blob}function It(){return typeof Blob<"u"&&!(0,ie.UG)()}function Pn(N,k,Q,J){if(J<k)throw Tt(`Invalid value for '${N}'. Expected ${k} or greater.`);if(J>Q)throw Tt(`Invalid value for '${N}'. Expected ${Q} or less.`)}function An(N,k,Q){let J=k;return null==Q&&(J=`https://${k}`),`${Q}://${J}/v0${N}`}function or(N){const k=encodeURIComponent;let Q="?";for(const J in N)N.hasOwnProperty(J)&&(Q=Q+(k(J)+"=")+k(N[J])+"&");return Q=Q.slice(0,-1),Q}var bn=function(N){return N[N.NO_ERROR=0]="NO_ERROR",N[N.NETWORK_ERROR=1]="NETWORK_ERROR",N[N.ABORT=2]="ABORT",N}(bn||{});class vn{constructor(k,Q,J,le,Ve,ct,xt,bt,en,wn,Qn,qr=!0){this.url_=k,this.method_=Q,this.headers_=J,this.body_=le,this.successCodes_=Ve,this.additionalRetryCodes_=ct,this.callback_=xt,this.errorCallback_=bt,this.timeout_=en,this.progressCallback_=wn,this.connectionFactory_=Qn,this.retry=qr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Nr,Fr)=>{this.resolve_=Nr,this.reject_=Fr,this.start_()})}start_(){const Q=(J,le)=>{const Ve=this.resolve_,ct=this.reject_,xt=le.connection;if(le.wasSuccessCode)try{const bt=this.callback_(xt,xt.getResponse());!function Ft(N){return void 0!==N}(bt)?Ve():Ve(bt)}catch(bt){ct(bt)}else if(null!==xt){const bt=rt();bt.serverResponse=xt.getErrorText(),ct(this.errorCallback_?this.errorCallback_(xt,bt):bt)}else ct(le.canceled?this.appDelete_?Ye():function Se(){return new We(ut.CANCELED,"User canceled the upload/download.")}():function He(){return new We(ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?Q(0,new Nt(!1,null,!0)):this.backoffId_=function Pe(N,k,Q){let J=1,le=null,Ve=null,ct=!1,xt=0;function bt(){return 2===xt}let en=!1;function wn(...Or){en||(en=!0,k.apply(null,Or))}function Qn(Or){le=setTimeout(()=>{le=null,N(Nr,bt())},Or)}function qr(){Ve&&clearTimeout(Ve)}function Nr(Or,...Ci){if(en)return void qr();if(Or)return qr(),void wn.call(null,Or,...Ci);if(bt()||ct)return qr(),void wn.call(null,Or,...Ci);let Ar;J<64&&(J*=2),1===xt?(xt=2,Ar=0):Ar=1e3*(J+Math.random()),Qn(Ar)}let Fr=!1;function oi(Or){Fr||(Fr=!0,qr(),!en&&(null!==le?(Or||(xt=2),clearTimeout(le),Qn(0)):Or||(xt=1)))}return Qn(0),Ve=setTimeout(()=>{ct=!0,oi(!0)},Q),oi}((J,le)=>{if(le)return void J(!1,new Nt(!1,null,!0));const Ve=this.connectionFactory_();this.pendingConnection_=Ve;const ct=xt=>{null!==this.progressCallback_&&this.progressCallback_(xt.loaded,xt.lengthComputable?xt.total:-1)};null!==this.progressCallback_&&Ve.addUploadProgressListener(ct),Ve.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ve.removeUploadProgressListener(ct),this.pendingConnection_=null;const xt=Ve.getErrorCode()===bn.NO_ERROR,bt=Ve.getStatus();if(!xt||function Sr(N,k){const Q=N>=500&&N<600,le=-1!==[408,429].indexOf(N),Ve=-1!==k.indexOf(N);return Q||le||Ve}(bt,this.additionalRetryCodes_)&&this.retry){const wn=Ve.getErrorCode()===bn.ABORT;return void J(!1,new Nt(!1,null,wn))}const en=-1!==this.successCodes_.indexOf(bt);J(!0,new Nt(en,Ve))})},Q,this.timeout_)}getPromise(){return this.promise_}cancel(k){this.canceled_=!0,this.appDelete_=k||!1,null!==this.backoffId_&&function Xe(N){N(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Nt{constructor(k,Q,J){this.wasSuccessCode=k,this.connection=Q,this.canceled=!!J}}function jt(...N){const k=function Zt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==k){const Q=new k;for(let J=0;J<N.length;J++)Q.append(N[J]);return Q.getBlob()}if(It())return new Blob(N);throw new We(ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Jn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Er{constructor(k,Q){this.data=k,this.contentType=Q||null}}function hn(N){const k=[];for(let Q=0;Q<N.length;Q++){let J=N.charCodeAt(Q);J<=127?k.push(J):J<=2047?k.push(192|J>>6,128|63&J):55296==(64512&J)?Q<N.length-1&&56320==(64512&N.charCodeAt(Q+1))?(J=65536|(1023&J)<<10|1023&N.charCodeAt(++Q),k.push(240|J>>18,128|J>>12&63,128|J>>6&63,128|63&J)):k.push(239,191,189):56320==(64512&J)?k.push(239,191,189):k.push(224|J>>12,128|J>>6&63,128|63&J)}return new Uint8Array(k)}function vs(N,k){switch(N){case Jn.BASE64:{const le=-1!==k.indexOf("-"),Ve=-1!==k.indexOf("_");if(le||Ve)throw ce(N,"Invalid character '"+(le?"-":"_")+"' found: is it base64url encoded?");break}case Jn.BASE64URL:{const le=-1!==k.indexOf("+"),Ve=-1!==k.indexOf("/");if(le||Ve)throw ce(N,"Invalid character '"+(le?"+":"/")+"' found: is it base64 encoded?");k=k.replace(/-/g,"+").replace(/_/g,"/");break}}let Q;try{Q=function Br(N){if(typeof atob>"u")throw function nt(N){return new We(ut.UNSUPPORTED_ENVIRONMENT,`${N} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(N)}(k)}catch(le){throw le.message.includes("polyfill")?le:ce(N,"Invalid character found")}const J=new Uint8Array(Q.length);for(let le=0;le<Q.length;le++)J[le]=Q.charCodeAt(le);return J}class it{constructor(k){this.base64=!1,this.contentType=null;const Q=k.match(/^data:([^,]+)?,/);if(null===Q)throw ce(Jn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const J=Q[1]||null;null!=J&&(this.base64=function pn(N,k){return N.length>=k.length&&N.substring(N.length-k.length)===k}(J,";base64"),this.contentType=this.base64?J.substring(0,J.length-7):J),this.rest=k.substring(k.indexOf(",")+1)}}class Jt{constructor(k,Q){let J=0,le="";En(k)?(this.data_=k,J=k.size,le=k.type):k instanceof ArrayBuffer?(Q?this.data_=new Uint8Array(k):(this.data_=new Uint8Array(k.byteLength),this.data_.set(new Uint8Array(k))),J=this.data_.length):k instanceof Uint8Array&&(Q?this.data_=k:(this.data_=new Uint8Array(k.length),this.data_.set(k)),J=k.length),this.size_=J,this.type_=le}size(){return this.size_}type(){return this.type_}slice(k,Q){if(En(this.data_)){const le=function Yr(N,k,Q){return N.webkitSlice?N.webkitSlice(k,Q):N.mozSlice?N.mozSlice(k,Q):N.slice?N.slice(k,Q):null}(this.data_,k,Q);return null===le?null:new Jt(le)}{const J=new Uint8Array(this.data_.buffer,k,Q-k);return new Jt(J,!0)}}static getBlob(...k){if(It()){const Q=k.map(J=>J instanceof Jt?J.data_:J);return new Jt(jt.apply(null,Q))}{const Q=k.map(ct=>Lt(ct)?function Sn(N,k){switch(N){case Jn.RAW:return new Er(hn(k));case Jn.BASE64:case Jn.BASE64URL:return new Er(vs(N,k));case Jn.DATA_URL:return new Er(function Ei(N){const k=new it(N);return k.base64?vs(Jn.BASE64,k.rest):function fn(N){let k;try{k=decodeURIComponent(N)}catch{throw ce(Jn.DATA_URL,"Malformed data URL.")}return hn(k)}(k.rest)}(k),function Zr(N){return new it(N).contentType}(k))}throw rt()}(Jn.RAW,ct).data:ct.data_);let J=0;Q.forEach(ct=>{J+=ct.byteLength});const le=new Uint8Array(J);let Ve=0;return Q.forEach(ct=>{for(let xt=0;xt<ct.length;xt++)le[Ve++]=ct[xt]}),new Jt(le,!0)}}uploadData(){return this.data_}}function gn(N){let k;try{k=JSON.parse(N)}catch{return null}return function yn(N){return"object"==typeof N&&!Array.isArray(N)}(k)?k:null}function jr(N){const k=N.lastIndexOf("/",N.length-2);return-1===k?N:N.slice(k+1)}function mn(N,k){return k}class ar{constructor(k,Q,J,le){this.server=k,this.local=Q||k,this.writable=!!J,this.xform=le||mn}}let Qr=null;function te(){if(Qr)return Qr;const N=[];N.push(new ar("bucket")),N.push(new ar("generation")),N.push(new ar("metageneration")),N.push(new ar("name","fullPath",!0));const Q=new ar("name");Q.xform=function k(Ve,ct){return function qi(N){return!Lt(N)||N.length<2?N:jr(N)}(ct)},N.push(Q);const le=new ar("size");return le.xform=function J(Ve,ct){return void 0!==ct?Number(ct):ct},N.push(le),N.push(new ar("timeCreated")),N.push(new ar("updated")),N.push(new ar("md5Hash",null,!0)),N.push(new ar("cacheControl",null,!0)),N.push(new ar("contentDisposition",null,!0)),N.push(new ar("contentEncoding",null,!0)),N.push(new ar("contentLanguage",null,!0)),N.push(new ar("contentType",null,!0)),N.push(new ar("metadata","customMetadata",!0)),Qr=N,Qr}function $(N,k,Q){const J=gn(k);return null===J?null:function z(N,k,Q){const J={type:"file"},le=Q.length;for(let Ve=0;Ve<le;Ve++){const ct=Q[Ve];J[ct.local]=ct.xform(J,k[ct.server])}return function j(N,k){Object.defineProperty(N,"ref",{get:function Q(){const Ve=new De(N.bucket,N.fullPath);return k._makeStorageReference(Ve)}})}(J,N),J}(N,J,Q)}class nn{constructor(k,Q,J,le){this.url=k,this.method=Q,this.handler=J,this.timeout=le,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ut(N){if(!N)throw rt()}function Tr(N){return function k(Q,J){let le;return le=401===Q.getStatus()?Q.getErrorText().includes("Firebase App Check token is invalid")?function Ue(){return new We(ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ae(){return new We(ut.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Q.getStatus()?function kt(N){return new We(ut.QUOTA_EXCEEDED,"Quota for bucket '"+N+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(N.bucket):403===Q.getStatus()?function Le(N){return new We(ut.UNAUTHORIZED,"User does not have permission to access '"+N+"'.")}(N.path):J,le.status=Q.getStatus(),le.serverResponse=J.serverResponse,le}}function Me(N){const k=Tr(N);return function Q(J,le){let Ve=k(J,le);return 404===J.getStatus()&&(Ve=function Yt(N){return new We(ut.OBJECT_NOT_FOUND,"Object '"+N+"' does not exist.")}(N.path)),Ve.serverResponse=le.serverResponse,Ve}}function wi(N,k,Q,J,le){const Ve=k.bucketOnlyServerUrl(),ct={"X-Goog-Upload-Protocol":"multipart"},bt=function xt(){let Ar="";for(let nr=0;nr<2;nr++)Ar+=Math.random().toString().slice(2);return Ar}();ct["Content-Type"]="multipart/related; boundary="+bt;const en=function Wn(N,k,Q){const J=Object.assign({},Q);return J.fullPath=N.path,J.size=k.size(),J.contentType||(J.contentType=function pr(N,k){return N&&N.contentType||k&&k.type()||"application/octet-stream"}(null,k)),J}(k,J,le),wn=function he(N,k){const Q={},J=k.length;for(let le=0;le<J;le++){const Ve=k[le];Ve.writable&&(Q[Ve.server]=N[Ve.local])}return JSON.stringify(Q)}(en,Q),Nr=Jt.getBlob("--"+bt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wn+"\r\n--"+bt+"\r\nContent-Type: "+en.contentType+"\r\n\r\n",J,"\r\n--"+bt+"--");if(null===Nr)throw function Ct(){return new We(ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const Fr={name:en.fullPath},oi=An(Ve,N.host,N._protocol),Ci=N.maxUploadRetryTime,bi=new nn(oi,"POST",function On(N,k){return function Q(J,le){const Ve=$(N,le,k);return Ut(null!==Ve),Ve}}(N,Q),Ci);return bi.urlParams=Fr,bi.headers=ct,bi.body=Nr.uploadData(),bi.errorHandler=Tr(k),bi}let wr=null;class ht{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bn.NO_ERROR,this.sendPromise_=new Promise(k=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=bn.ABORT,k()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=bn.NETWORK_ERROR,k()}),this.xhr_.addEventListener("load",()=>{k()})})}send(k,Q,J,le){if(this.sent_)throw _e("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Q,k,!0),void 0!==le)for(const Ve in le)le.hasOwnProperty(Ve)&&this.xhr_.setRequestHeader(Ve,le[Ve].toString());return void 0!==J?this.xhr_.send(J):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _e("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _e("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _e("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _e("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(k){return this.xhr_.getResponseHeader(k)}addUploadProgressListener(k){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",k)}removeUploadProgressListener(k){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",k)}}class Qe extends ht{initXhr(){this.xhr_.responseType="text"}}function _t(){return wr?wr():new Qe}class Li{constructor(k,Q){this._service=k,this._location=Q instanceof De?Q:De.makeFromUrl(Q,k.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(k,Q){return new Li(k,Q)}get root(){const k=new De(this._location.bucket,"");return this._newRef(this._service,k)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jr(this._location.path)}get storage(){return this._service}get parent(){const k=function cn(N){if(0===N.length)return null;const k=N.lastIndexOf("/");return-1===k?"":N.slice(0,k)}(this._location.path);if(null===k)return null;const Q=new De(this._location.bucket,k);return new Li(this._service,Q)}_throwIfRoot(k){if(""===this._location.path)throw function ot(N){return new We(ut.INVALID_ROOT_OPERATION,"The operation '"+N+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(k)}}function Ro(N){N._throwIfRoot("getDownloadURL");const k=function Kt(N,k,Q){const le=An(k.fullServerUrl(),N.host,N._protocol),ct=N.maxOperationRetryTime,xt=new nn(le,"GET",function as(N,k){return function Q(J,le){const Ve=$(N,le,k);return Ut(null!==Ve),function H(N,k,Q,J){const le=gn(k);if(null===le||!Lt(le.downloadTokens))return null;const Ve=le.downloadTokens;if(0===Ve.length)return null;const ct=encodeURIComponent;return Ve.split(",").map(en=>{const Qn=N.fullPath;return An("/b/"+ct(N.bucket)+"/o/"+ct(Qn),Q,J)+or({alt:"media",token:en})})[0]}(Ve,le,N.host,N._protocol)}}(N,Q),ct);return xt.errorHandler=Me(k),xt}(N.storage,N._location,te());return N.storage.makeRequestWithTokens(k,_t).then(Q=>{if(null===Q)throw function Qt(){return new We(ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Q})}function Hr(N,k){if(N instanceof Kn){const Q=N;if(null==Q._bucket)throw function Ne(){return new We(ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ee+"' property when initializing the app?")}();const J=new Li(Q,Q._bucket);return null!=k?Hr(J,k):J}return void 0!==k?function eo(N,k){const Q=function Ti(N,k){const Q=k.split("/").filter(J=>J.length>0).join("/");return 0===N.length?Q:N+"/"+Q}(N._location.path,k),J=new De(N._location.bucket,Q);return new Li(N.storage,J)}(N,k):N}function no(N,k){const Q=k?.[ee];return null==Q?null:De.makeFromBucketSpec(Q,N)}class Kn{constructor(k,Q,J,le,Ve){this.app=k,this._authProvider=Q,this._appCheckProvider=J,this._url=le,this._firebaseVersion=Ve,this._bucket=null,this._host=q,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=le?De.makeFromBucketSpec(le,this._host):no(this._host,this.app.options)}get host(){return this._host}set host(k){this._host=k,this._bucket=null!=this._url?De.makeFromBucketSpec(this._url,k):no(k,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(k){Pn("time",0,Number.POSITIVE_INFINITY,k),this._maxUploadRetryTime=k}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(k){Pn("time",0,Number.POSITIVE_INFINITY,k),this._maxOperationRetryTime=k}_getAuthToken(){var k=this;return(0,re.Z)(function*(){if(k._overrideAuthToken)return k._overrideAuthToken;const Q=k._authProvider.getImmediate({optional:!0});if(Q){const J=yield Q.getToken();if(null!==J)return J.accessToken}return null})()}_getAppCheckToken(){var k=this;return(0,re.Z)(function*(){const Q=k._appCheckProvider.getImmediate({optional:!0});return Q?(yield Q.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(k=>k.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(k){return new Li(this,k)}_makeRequest(k,Q,J,le,Ve=!0){if(this._deleted)return new Ie(Ye());{const ct=function Ir(N,k,Q,J,le,Ve,ct=!0){const xt=or(N.urlParams),bt=N.url+xt,en=Object.assign({},N.headers);return function pi(N,k){k&&(N["X-Firebase-GMPID"]=k)}(en,k),function ki(N,k){null!==k&&k.length>0&&(N.Authorization="Firebase "+k)}(en,Q),function Pr(N,k){N["X-Firebase-Storage-Version"]="webjs/"+(k??"AppManager")}(en,Ve),function un(N,k){null!==k&&(N["X-Firebase-AppCheck"]=k)}(en,J),new vn(bt,N.method,en,N.body,N.successCodes,N.additionalRetryCodes,N.handler,N.errorHandler,N.timeout,N.progressCallback,le,ct)}(k,this._appId,J,le,Q,this._firebaseVersion,Ve);return this._requests.add(ct),ct.getPromise().then(()=>this._requests.delete(ct),()=>this._requests.delete(ct)),ct}}makeRequestWithTokens(k,Q){var J=this;return(0,re.Z)(function*(){const[le,Ve]=yield Promise.all([J._getAuthToken(),J._getAppCheckToken()]);return J._makeRequest(k,Q,le,Ve).getPromise()})()}}const mi="@firebase/storage",cs="storage";function Rr(N,k,Q){return function Di(N,k,Q){N._throwIfRoot("uploadBytes");const J=wi(N.storage,N._location,te(),new Jt(k,!0),Q);return N.storage.makeRequestWithTokens(J,_t).then(le=>({metadata:le,ref:N}))}(N=(0,ie.m9)(N),k,Q)}function hs(N){return Ro(N=(0,ie.m9)(N))}function zo(N){return function Js(N){N._throwIfRoot("deleteObject");const k=function ln(N,k){const J=An(k.fullServerUrl(),N.host,N._protocol),xt=new nn(J,"DELETE",function ct(bt,en){},N.maxOperationRetryTime);return xt.successCodes=[200,204],xt.errorHandler=Me(k),xt}(N.storage,N._location);return N.storage.makeRequestWithTokens(k,_t)}(N=(0,ie.m9)(N))}function tr(N,k){return function Zi(N,k){if(k&&function to(N){return/^[A-Za-z]+:\/\//.test(N)}(k)){if(N instanceof Kn)return function Fi(N,k){return new Li(N,k)}(N,k);throw Tt("To use ref(service, url), the first argument must be a Storage instance.")}return Hr(N,k)}(N=(0,ie.m9)(N),k)}function Xt(N=(0,fe.Mq)(),k){N=(0,ie.m9)(N);const J=(0,fe.qX)(N,cs).getImmediate({identifier:k}),le=(0,ie.P0)("storage");return le&&function _r(N,k,Q,J={}){!function Ws(N,k,Q,J={}){N.host=`${k}:${Q}`,N._protocol="http";const{mockUserToken:le}=J;le&&(N._overrideAuthToken="string"==typeof le?le:(0,ie.Sg)(le,N.app.options.projectId))}(N,k,Q,J)}(J,...le),J}function Gr(N,{instanceIdentifier:k}){const Q=N.getProvider("app").getImmediate(),J=N.getProvider("auth-internal"),le=N.getProvider("app-check-internal");return new Kn(Q,J,le,k,fe.Jn)}!function Ts(){(0,fe.Xd)(new xe.wA(cs,Gr,"PUBLIC").setMultipleInstances(!0)),(0,fe.KN)(mi,"0.11.2",""),(0,fe.KN)(mi,"0.11.2","esm2017")}();class kn{constructor(k){return k}}const Xi="storage",Ks=new W.OlP("angularfire2.storage-instances");function Vi(N){return(k,Q)=>{const J=k.runOutsideAngular(()=>N(Q));return new kn(J)}}const Dr={provide:class qs{constructor(){return(0,m.vb)(Xi)}},deps:[[new W.FiY,Ks]]},fs={provide:kn,useFactory:function Go(N,k){const Q=(0,m.JM)(Xi,N,k);return Q&&new kn(Q)},deps:[[new W.FiY,Ks],pe.Ot]};let Ai=(()=>{class N{constructor(){(0,se.KN)("angularfire",m.q4.full,"gcs")}static \u0275fac=function(J){return new(J||N)};static \u0275mod=W.oAB({type:N});static \u0275inj=W.cJS({providers:[fs,Dr]})}return N})();function yi(N,...k){return{ngModule:Ai,providers:[{provide:Ks,useFactory:Vi(N),multi:!0,deps:[W.R0b,W.zs3,m.HU,pe.z6,[new W.FiY,ne.dh],[new W.FiY,m.Rf],...k]}]}}const ii=(0,m.u3)(zo,!0),_n=(0,m.u3)(hs,!0),si=(0,m.u3)(Xt,!0),vi=(0,m.u3)(tr,!0),Wr=(0,m.u3)(Rr,!0)},1920:(St,ke,L)=>{L.d(ke,{q4:()=>Be,HU:()=>Le,Rf:()=>rt,vb:()=>Rt,JM:()=>ut,u3:()=>nt});var m=L(4946),W=L(3182),pe=L(1954),se=L(9931);const fe=new class re extends se.v{}(class ne extends pe.o{constructor(Ye,ot){super(Ye,ot),this.scheduler=Ye,this.work=ot}schedule(Ye,ot=0){return ot>0?super.schedule(Ye,ot):(this.delay=ot,this.state=Ye,this.scheduler.flush(this),this)}execute(Ye,ot){return ot>0||this.closed?super.execute(Ye,ot):this._execute(Ye,ot)}requestAsyncId(Ye,ot,ce=0){return null!=ce&&ce>0||null==ce&&this.delay>0?super.requestAsyncId(Ye,ot,ce):(Ye.flush(this),0)}});var xe=L(6321),q=L(5592),ee=L(9397),ve=L(5137),Ke=L(3093);const Be=new m.GfV("ANGULARFIRE2_VERSION");function ut(Tt,Ye,ot){if(Ye){if(1===Ye.length)return Ye[0];const De=Ye.filter(Ie=>Ie.app===ot);if(1===De.length)return De[0]}return ot.container.getProvider(Tt).getImmediate({optional:!0})}const Rt=(Tt,Ye)=>{const ot=Ye?[Ye]:(0,W.C6)(),ce=[];return ot.forEach(_e=>{_e.container.getProvider(Tt).instances.forEach(Ie=>{ce.includes(Ie)||ce.push(Ie)})}),ce};class rt{constructor(){return Rt(Yt)}}const Yt="app-check";function kt(){}class Ae{zone;delegate;constructor(Ye,ot=fe){this.zone=Ye,this.delegate=ot}now(){return this.delegate.now()}schedule(Ye,ot,ce){const _e=this.zone;return this.delegate.schedule(function(Ie){_e.runGuarded(()=>{Ye.apply(this,[Ie])})},ot,ce)}}class Ue{zone;task=null;constructor(Ye){this.zone=Ye}call(Ye,ot){const ce=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",kt,{},kt,kt)),ot.pipe((0,ee.b)({next:ce,complete:ce,error:ce})).subscribe(Ye).add(ce)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Le=(()=>{class Tt{ngZone;outsideAngular;insideAngular;constructor(ot){this.ngZone=ot,this.outsideAngular=ot.runOutsideAngular(()=>new Ae(Zone.current)),this.insideAngular=ot.run(()=>new Ae(Zone.current,xe.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ce){return new(ce||Tt)(m.LFG(m.R0b))};static \u0275prov=m.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"})}return Tt})();function He(){const Tt=globalThis.\u0275AngularFireScheduler;if(!Tt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Tt}function de(Tt){return He().ngZone.run(()=>Tt())}function Ct(Tt){return function tn(Tt){return function(ot){return(ot=ot.lift(new Ue(Tt.ngZone))).pipe((0,ve.R)(Tt.outsideAngular),(0,Ke.Q)(Tt.insideAngular))}}(He())(Tt)}const Qt=(Tt,Ye)=>function(){const ce=arguments;return Ye&&setTimeout(()=>{"scheduled"===Ye.state&&Ye.invoke()},10),de(()=>Tt.apply(void 0,ce))},nt=(Tt,Ye)=>function(){let ot;const ce=arguments;for(let De=0;De<arguments.length;De++)"function"==typeof ce[De]&&(Ye&&(ot||=de(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",kt,{},kt,kt))),ce[De]=Qt(ce[De],ot));const _e=function Se(Tt){return He().ngZone.runOutsideAngular(()=>Tt())}(()=>Tt.apply(this,ce));if(!Ye){if(_e instanceof q.y){const De=He();return _e.pipe((0,ve.R)(De.outsideAngular),(0,Ke.Q)(De.insideAngular))}return de(()=>_e)}return _e instanceof q.y?_e.pipe(Ct):_e instanceof Promise?de(()=>new Promise((De,Ie)=>_e.then(Pe=>de(()=>De(Pe)),Pe=>de(()=>Ie(Pe))))):"function"==typeof _e&&ot?function(){return setTimeout(()=>{ot&&"scheduled"===ot.state&&ot.invoke()},10),_e.apply(this,arguments)}:de(()=>_e)}},6593:(St,ke,L)=>{L.d(ke,{Dx:()=>Pr,H7:()=>pn,b2:()=>bn,q6:()=>It});var m=L(4946),W=L(6814);class pe extends W.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends pe{static makeCurrent(){(0,W.HT)(new ne)}onAndCancel(z,$,H){return z.addEventListener($,H),()=>{z.removeEventListener($,H)}}dispatchEvent(z,$){z.dispatchEvent($)}remove(z){z.parentNode&&z.parentNode.removeChild(z)}createElement(z,$){return($=$||this.getDefaultDocument()).createElement(z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(z){return z.nodeType===Node.ELEMENT_NODE}isShadowRoot(z){return z instanceof DocumentFragment}getGlobalEventTarget(z,$){return"window"===$?window:"document"===$?z:"body"===$?z.body:null}getBaseHref(z){const $=function re(){return se=se||document.querySelector("base"),se?se.getAttribute("href"):null}();return null==$?null:function ie(j){fe=fe||document.createElement("a"),fe.setAttribute("href",j);const z=fe.pathname;return"/"===z.charAt(0)?z:`/${z}`}($)}resetBaseElement(){se=null}getUserAgent(){return window.navigator.userAgent}getCookie(z){return(0,W.Mx)(document.cookie,z)}}let fe,se=null,q=(()=>{class j{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(H){return new(H||j)};static#t=this.\u0275prov=m.Yz7({token:j,factory:j.\u0275fac})}return j})();const ee=new m.OlP("EventManagerPlugins");let ve=(()=>{class j{constructor($,H){this._zone=H,this._eventNameToPlugin=new Map,$.forEach(he=>{he.manager=this}),this._plugins=$.slice().reverse()}addEventListener($,H,he){return this._findPluginFor(H).addEventListener($,H,he)}getZone(){return this._zone}_findPluginFor($){let H=this._eventNameToPlugin.get($);if(H)return H;if(H=this._plugins.find(qe=>qe.supports($)),!H)throw new m.vHH(5101,!1);return this._eventNameToPlugin.set($,H),H}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(ee),m.LFG(m.R0b))};static#t=this.\u0275prov=m.Yz7({token:j,factory:j.\u0275fac})}return j})();class Ke{constructor(z){this._doc=z}}const Be="ng-app-id";let We=(()=>{class j{constructor($,H,he,qe={}){this.doc=$,this.appId=H,this.nonce=he,this.platformId=qe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,W.PM)(qe),this.resetHostNodes()}addStyles($){for(const H of $)1===this.changeUsageCount(H,1)&&this.onStyleAdded(H)}removeStyles($){for(const H of $)this.changeUsageCount(H,-1)<=0&&this.onStyleRemoved(H)}ngOnDestroy(){const $=this.styleNodesInDOM;$&&($.forEach(H=>H.remove()),$.clear());for(const H of this.getAllStyles())this.onStyleRemoved(H);this.resetHostNodes()}addHost($){this.hostNodes.add($);for(const H of this.getAllStyles())this.addStyleToHost($,H)}removeHost($){this.hostNodes.delete($)}getAllStyles(){return this.styleRef.keys()}onStyleAdded($){for(const H of this.hostNodes)this.addStyleToHost(H,$)}onStyleRemoved($){const H=this.styleRef;H.get($)?.elements?.forEach(he=>he.remove()),H.delete($)}collectServerRenderedStyles(){const $=this.doc.head?.querySelectorAll(`style[${Be}="${this.appId}"]`);if($?.length){const H=new Map;return $.forEach(he=>{null!=he.textContent&&H.set(he.textContent,he)}),H}return null}changeUsageCount($,H){const he=this.styleRef;if(he.has($)){const qe=he.get($);return qe.usage+=H,qe.usage}return he.set($,{usage:H,elements:[]}),H}getStyleElement($,H){const he=this.styleNodesInDOM,qe=he?.get(H);if(qe?.parentNode===$)return he.delete(H),qe.removeAttribute(Be),qe;{const lt=this.doc.createElement("style");return this.nonce&&lt.setAttribute("nonce",this.nonce),lt.textContent=H,this.platformIsServer&&lt.setAttribute(Be,this.appId),lt}}addStyleToHost($,H){const he=this.getStyleElement($,H);$.appendChild(he);const qe=this.styleRef,lt=qe.get(H)?.elements;lt?lt.push(he):qe.set(H,{elements:[he],usage:1})}resetHostNodes(){const $=this.hostNodes;$.clear(),$.add(this.doc.head)}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(W.K0),m.LFG(m.AFp),m.LFG(m.Ojb,8),m.LFG(m.Lbi))};static#t=this.\u0275prov=m.Yz7({token:j,factory:j.\u0275fac})}return j})();const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rt=/%COMP%/g,Ue=new m.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Se(j,z){return z.map($=>$.replace(Rt,j))}let de=(()=>{class j{constructor($,H,he,qe,lt,$t,qt,nn=null){this.eventManager=$,this.sharedStylesHost=H,this.appId=he,this.removeStylesOnCompDestroy=qe,this.doc=lt,this.platformId=$t,this.ngZone=qt,this.nonce=nn,this.rendererByCompId=new Map,this.platformIsServer=(0,W.PM)($t),this.defaultRenderer=new we($,lt,qt,this.platformIsServer)}createRenderer($,H){if(!$||!H)return this.defaultRenderer;this.platformIsServer&&H.encapsulation===m.ifc.ShadowDom&&(H={...H,encapsulation:m.ifc.Emulated});const he=this.getOrCreateRenderer($,H);return he instanceof Tt?he.applyToHost($):he instanceof nt&&he.applyStyles(),he}getOrCreateRenderer($,H){const he=this.rendererByCompId;let qe=he.get(H.id);if(!qe){const lt=this.doc,$t=this.ngZone,qt=this.eventManager,nn=this.sharedStylesHost,Ut=this.removeStylesOnCompDestroy,On=this.platformIsServer;switch(H.encapsulation){case m.ifc.Emulated:qe=new Tt(qt,nn,H,this.appId,Ut,lt,$t,On);break;case m.ifc.ShadowDom:return new Qt(qt,nn,$,H,lt,$t,this.nonce,On);default:qe=new nt(qt,nn,H,Ut,lt,$t,On)}he.set(H.id,qe)}return qe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(ve),m.LFG(We),m.LFG(m.AFp),m.LFG(Ue),m.LFG(W.K0),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(m.Ojb))};static#t=this.\u0275prov=m.Yz7({token:j,factory:j.\u0275fac})}return j})();class we{constructor(z,$,H,he){this.eventManager=z,this.doc=$,this.ngZone=H,this.platformIsServer=he,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(z,$){return $?this.doc.createElementNS(ut[$]||$,z):this.doc.createElement(z)}createComment(z){return this.doc.createComment(z)}createText(z){return this.doc.createTextNode(z)}appendChild(z,$){(tn(z)?z.content:z).appendChild($)}insertBefore(z,$,H){z&&(tn(z)?z.content:z).insertBefore($,H)}removeChild(z,$){z&&z.removeChild($)}selectRootElement(z,$){let H="string"==typeof z?this.doc.querySelector(z):z;if(!H)throw new m.vHH(-5104,!1);return $||(H.textContent=""),H}parentNode(z){return z.parentNode}nextSibling(z){return z.nextSibling}setAttribute(z,$,H,he){if(he){$=he+":"+$;const qe=ut[he];qe?z.setAttributeNS(qe,$,H):z.setAttribute($,H)}else z.setAttribute($,H)}removeAttribute(z,$,H){if(H){const he=ut[H];he?z.removeAttributeNS(he,$):z.removeAttribute(`${H}:${$}`)}else z.removeAttribute($)}addClass(z,$){z.classList.add($)}removeClass(z,$){z.classList.remove($)}setStyle(z,$,H,he){he&(m.JOm.DashCase|m.JOm.Important)?z.style.setProperty($,H,he&m.JOm.Important?"important":""):z.style[$]=H}removeStyle(z,$,H){H&m.JOm.DashCase?z.style.removeProperty($):z.style[$]=""}setProperty(z,$,H){z[$]=H}setValue(z,$){z.nodeValue=$}listen(z,$,H){if("string"==typeof z&&!(z=(0,W.q)().getGlobalEventTarget(this.doc,z)))throw new Error(`Unsupported event target ${z} for event ${$}`);return this.eventManager.addEventListener(z,$,this.decoratePreventDefault(H))}decoratePreventDefault(z){return $=>{if("__ngUnwrap__"===$)return z;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>z($)):z($))&&$.preventDefault()}}}function tn(j){return"TEMPLATE"===j.tagName&&void 0!==j.content}class Qt extends we{constructor(z,$,H,he,qe,lt,$t,qt){super(z,qe,lt,qt),this.sharedStylesHost=$,this.hostEl=H,this.shadowRoot=H.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nn=Se(he.id,he.styles);for(const Ut of nn){const On=document.createElement("style");$t&&On.setAttribute("nonce",$t),On.textContent=Ut,this.shadowRoot.appendChild(On)}}nodeOrShadowRoot(z){return z===this.hostEl?this.shadowRoot:z}appendChild(z,$){return super.appendChild(this.nodeOrShadowRoot(z),$)}insertBefore(z,$,H){return super.insertBefore(this.nodeOrShadowRoot(z),$,H)}removeChild(z,$){return super.removeChild(this.nodeOrShadowRoot(z),$)}parentNode(z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(z)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class nt extends we{constructor(z,$,H,he,qe,lt,$t,qt){super(z,qe,lt,$t),this.sharedStylesHost=$,this.removeStylesOnCompDestroy=he,this.styles=qt?Se(qt,H.styles):H.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Tt extends nt{constructor(z,$,H,he,qe,lt,$t,qt){const nn=he+"-"+H.id;super(z,$,H,qe,lt,$t,qt,nn),this.contentAttr=function Le(j){return"_ngcontent-%COMP%".replace(Rt,j)}(nn),this.hostAttr=function He(j){return"_nghost-%COMP%".replace(Rt,j)}(nn)}applyToHost(z){this.applyStyles(),this.setAttribute(z,this.hostAttr,"")}createElement(z,$){const H=super.createElement(z,$);return super.setAttribute(H,this.contentAttr,""),H}}let Ye=(()=>{class j extends Ke{constructor($){super($)}supports($){return!0}addEventListener($,H,he){return $.addEventListener(H,he,!1),()=>this.removeEventListener($,H,he)}removeEventListener($,H,he){return $.removeEventListener(H,he)}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(W.K0))};static#t=this.\u0275prov=m.Yz7({token:j,factory:j.\u0275fac})}return j})();const ot=["alt","control","meta","shift"],ce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_e={alt:j=>j.altKey,control:j=>j.ctrlKey,meta:j=>j.metaKey,shift:j=>j.shiftKey};let De=(()=>{class j extends Ke{constructor($){super($)}supports($){return null!=j.parseEventName($)}addEventListener($,H,he){const qe=j.parseEventName(H),lt=j.eventCallback(qe.fullKey,he,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,W.q)().onAndCancel($,qe.domEventName,lt))}static parseEventName($){const H=$.toLowerCase().split("."),he=H.shift();if(0===H.length||"keydown"!==he&&"keyup"!==he)return null;const qe=j._normalizeKey(H.pop());let lt="",$t=H.indexOf("code");if($t>-1&&(H.splice($t,1),lt="code."),ot.forEach(nn=>{const Ut=H.indexOf(nn);Ut>-1&&(H.splice(Ut,1),lt+=nn+".")}),lt+=qe,0!=H.length||0===qe.length)return null;const qt={};return qt.domEventName=he,qt.fullKey=lt,qt}static matchEventFullKeyCode($,H){let he=ce[$.key]||$.key,qe="";return H.indexOf("code.")>-1&&(he=$.code,qe="code."),!(null==he||!he)&&(he=he.toLowerCase()," "===he?he="space":"."===he&&(he="dot"),ot.forEach(lt=>{lt!==he&&(0,_e[lt])($)&&(qe+=lt+".")}),qe+=he,qe===H)}static eventCallback($,H,he){return qe=>{j.matchEventFullKeyCode(qe,$)&&he.runGuarded(()=>H(qe))}}static _normalizeKey($){return"esc"===$?"escape":$}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(W.K0))};static#t=this.\u0275prov=m.Yz7({token:j,factory:j.\u0275fac})}return j})();const It=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:W.bD},{provide:m.g9A,useValue:function an(){ne.makeCurrent()},multi:!0},{provide:W.K0,useFactory:function Lt(){return(0,m.RDi)(document),document},deps:[]}]),Pn=new m.OlP(""),An=[{provide:m.rWj,useClass:class xe{addToWindow(z){m.dqk.getAngularTestability=(H,he=!0)=>{const qe=z.findTestabilityInTree(H,he);if(null==qe)throw new m.vHH(5103,!1);return qe},m.dqk.getAllAngularTestabilities=()=>z.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>z.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(H=>{const he=m.dqk.getAllAngularTestabilities();let qe=he.length,lt=!1;const $t=function(qt){lt=lt||qt,qe--,0==qe&&H(lt)};he.forEach(qt=>{qt.whenStable($t)})})}findTestabilityInTree(z,$,H){return null==$?null:z.getTestability($)??(H?(0,W.q)().isShadowRoot($)?this.findTestabilityInTree(z,$.host,!0):this.findTestabilityInTree(z,$.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],or=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function yn(){return new m.qLn},deps:[]},{provide:ee,useClass:Ye,multi:!0,deps:[W.K0,m.R0b,m.Lbi]},{provide:ee,useClass:De,multi:!0,deps:[W.K0]},de,We,ve,{provide:m.FYo,useExisting:de},{provide:W.JF,useClass:q,deps:[]},[]];let bn=(()=>{class j{constructor($){}static withServerTransition($){return{ngModule:j,providers:[{provide:m.AFp,useValue:$.appId}]}}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(Pn,12))};static#t=this.\u0275mod=m.oAB({type:j});static#n=this.\u0275inj=m.cJS({providers:[...or,...An],imports:[W.ez,m.hGG]})}return j})(),Pr=(()=>{class j{constructor($){this._doc=$}getTitle(){return this._doc.title}setTitle($){this._doc.title=$||""}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(W.K0))};static#t=this.\u0275prov=m.Yz7({token:j,factory:function(H){let he=null;return he=H?new H:function ki(){return new Pr((0,m.LFG)(W.K0))}(),he},providedIn:"root"})}return j})();typeof window<"u"&&window;let pn=(()=>{class j{static#e=this.\u0275fac=function(H){return new(H||j)};static#t=this.\u0275prov=m.Yz7({token:j,factory:function(H){let he=null;return he=H?new(H||j):m.LFG(gn),he},providedIn:"root"})}return j})(),gn=(()=>{class j extends pn{constructor($){super(),this._doc=$}sanitize($,H){if(null==H)return null;switch($){case m.q3G.NONE:return H;case m.q3G.HTML:return(0,m.qzn)(H,"HTML")?(0,m.z3N)(H):(0,m.EiD)(this._doc,String(H)).toString();case m.q3G.STYLE:return(0,m.qzn)(H,"Style")?(0,m.z3N)(H):H;case m.q3G.SCRIPT:if((0,m.qzn)(H,"Script"))return(0,m.z3N)(H);throw new m.vHH(5200,!1);case m.q3G.URL:return(0,m.qzn)(H,"URL")?(0,m.z3N)(H):(0,m.mCW)(String(H));case m.q3G.RESOURCE_URL:if((0,m.qzn)(H,"ResourceURL"))return(0,m.z3N)(H);throw new m.vHH(5201,!1);default:throw new m.vHH(5202,!1)}}bypassSecurityTrustHtml($){return(0,m.JVY)($)}bypassSecurityTrustStyle($){return(0,m.L6k)($)}bypassSecurityTrustScript($){return(0,m.eBb)($)}bypassSecurityTrustUrl($){return(0,m.LAX)($)}bypassSecurityTrustResourceUrl($){return(0,m.pB0)($)}static#e=this.\u0275fac=function(H){return new(H||j)(m.LFG(W.K0))};static#t=this.\u0275prov=m.Yz7({token:j,factory:function(H){let he=null;return he=H?new H:function Jt(j){return new gn(j.get(W.K0))}(m.LFG(m.zs3)),he},providedIn:"root"})}return j})()},4017:(St,ke,L)=>{L.d(ke,{gz:()=>mi,m2:()=>Qe,wm:()=>Lc,F0:()=>ze,rH:()=>Xu,Bz:()=>Uc,lC:()=>Es});var m=L(4946),W=L(5592),pe=L(4674),se=L(2459),re=L(2096),fe=L(5619),ie=L(2572);const q=(0,L(2306).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var ee=L(5211),ve=L(4829);function Ke(v){return new W.y(D=>{(0,ve.Xf)(v()).subscribe(D)})}var Be=L(8407);function We(v,D){const _=(0,pe.m)(v)?v:()=>v,C=R=>R.error(_());return new W.y(D?R=>D.schedule(C,0,R):C)}var ut=L(6232),Rt=L(7394),rt=L(9360),Yt=L(8251);function kt(){return(0,rt.e)((v,D)=>{let _=null;v._refCount++;const C=(0,Yt.x)(D,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(_=null);const R=v._connection,V=_;_=null,R&&(!V||R===V)&&R.unsubscribe(),D.unsubscribe()});v.subscribe(C),C.closed||(_=v.connect())})}class Ae extends W.y{constructor(D,_){super(),this.source=D,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,rt.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new Rt.w0;const _=this.getSubject();D.add(this.source.subscribe((0,Yt.x)(_,void 0,()=>{this._teardown(),_.complete()},C=>{this._teardown(),_.error(C)},()=>this._teardown()))),D.closed&&(this._connection=null,D=Rt.w0.EMPTY)}return D}refCount(){return kt()(this)}}var Ue=L(8645),Le=L(6814),He=L(7398),Se=L(4664),de=L(8180),we=L(7921),Ne=L(2181),Ct=L(1631);function tn(v){return(0,rt.e)((D,_)=>{let C=!1;D.subscribe((0,Yt.x)(_,R=>{C=!0,_.next(R)},()=>{C||_.next(v),_.complete()}))})}function Qt(v=nt){return(0,rt.e)((D,_)=>{let C=!1;D.subscribe((0,Yt.x)(_,R=>{C=!0,_.next(R)},()=>C?_.complete():_.error(v())))})}function nt(){return new q}var Tt=L(2737);function Ye(v,D){const _=arguments.length>=2;return C=>C.pipe(v?(0,Ne.h)((R,V)=>v(R,V,C)):Tt.y,(0,de.q)(1),_?tn(D):Qt(()=>new q))}function ot(v,D){return(0,pe.m)(D)?(0,Ct.z)(v,D,1):(0,Ct.z)(v,1)}var ce=L(9397);function _e(v){return(0,rt.e)((D,_)=>{let V,C=null,R=!1;C=D.subscribe((0,Yt.x)(_,void 0,void 0,X=>{V=(0,ve.Xf)(v(X,_e(v)(D))),C?(C.unsubscribe(),C=null,V.subscribe(_)):R=!0})),R&&(C.unsubscribe(),C=null,V.subscribe(_))})}function Pe(v){return v<=0?()=>ut.E:(0,rt.e)((D,_)=>{let C=[];D.subscribe((0,Yt.x)(_,R=>{C.push(R),v<C.length&&C.shift()},()=>{for(const R of C)_.next(R);_.complete()},void 0,()=>{C=null}))})}function an(v){return(0,rt.e)((D,_)=>{try{D.subscribe(_)}finally{_.add(v)}})}var yn=L(9773),Lt=L(7537),En=L(6593);const It="primary",Pn=Symbol("RouteTitle");class An{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_[0]:_}return null}getAll(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function or(v){return new An(v)}function bn(v,D,_){const C=_.path.split("/");if(C.length>v.length||"full"===_.pathMatch&&(D.hasChildren()||C.length<v.length))return null;const R={};for(let V=0;V<C.length;V++){const X=C[V],Ce=v[V];if(X.startsWith(":"))R[X.substring(1)]=Ce;else if(X!==Ce.path)return null}return{consumed:v.slice(0,C.length),posParams:R}}function vn(v,D){const _=v?Object.keys(v):void 0,C=D?Object.keys(D):void 0;if(!_||!C||_.length!=C.length)return!1;let R;for(let V=0;V<_.length;V++)if(R=_[V],!Nt(v[R],D[R]))return!1;return!0}function Nt(v,D){if(Array.isArray(v)&&Array.isArray(D)){if(v.length!==D.length)return!1;const _=[...v].sort(),C=[...D].sort();return _.every((R,V)=>C[V]===R)}return v===D}function ki(v){return v.length>0?v[v.length-1]:null}function Pr(v){return function ne(v){return!!v&&(v instanceof W.y||(0,pe.m)(v.lift)&&(0,pe.m)(v.subscribe))}(v)?v:(0,m.QGY)(v)?(0,se.D)(Promise.resolve(v)):(0,re.of)(v)}const pi={exact:function jt(v,D,_){if(!it(v.segments,D.segments)||!Er(v.segments,D.segments,_)||v.numberOfChildren!==D.numberOfChildren)return!1;for(const C in D.children)if(!v.children[C]||!jt(v.children[C],D.children[C],_))return!1;return!0},subset:Br},un={exact:function Zt(v,D){return vn(v,D)},subset:function Yr(v,D){return Object.keys(D).length<=Object.keys(v).length&&Object.keys(D).every(_=>Nt(v[_],D[_]))},ignored:()=>!0};function Ir(v,D,_){return pi[_.paths](v.root,D.root,_.matrixParams)&&un[_.queryParams](v.queryParams,D.queryParams)&&!("exact"===_.fragment&&v.fragment!==D.fragment)}function Br(v,D,_){return Jn(v,D,D.segments,_)}function Jn(v,D,_,C){if(v.segments.length>_.length){const R=v.segments.slice(0,_.length);return!(!it(R,_)||D.hasChildren()||!Er(R,_,C))}if(v.segments.length===_.length){if(!it(v.segments,_)||!Er(v.segments,_,C))return!1;for(const R in D.children)if(!v.children[R]||!Br(v.children[R],D.children[R],C))return!1;return!0}{const R=_.slice(0,v.segments.length),V=_.slice(v.segments.length);return!!(it(v.segments,R)&&Er(v.segments,R,C)&&v.children[It])&&Jn(v.children[It],D,V,C)}}function Er(v,D,_){return D.every((C,R)=>un[_](v[R].parameters,C.parameters))}class Sn{constructor(D=new hn([],{}),_={},C=null){this.root=D,this.queryParams=_,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=or(this.queryParams)),this._queryParamMap}toString(){return Jt.serialize(this)}}class hn{constructor(D,_){this.segments=D,this.children=_,this.parent=null,Object.values(_).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gn(this)}}class fn{constructor(D,_){this.path=D,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=or(this.parameters)),this._parameterMap}toString(){return te(this)}}function it(v,D){return v.length===D.length&&v.every((_,C)=>_.path===D[C].path)}let Zr=(()=>{class v{static#e=this.\u0275fac=function(C){return new(C||v)};static#t=this.\u0275prov=m.Yz7({token:v,factory:function(){return new pn},providedIn:"root"})}return v})();class pn{parse(D){const _=new Ut(D);return new Sn(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(D){const _=`/${cn(D.root,!0)}`,C=function z(v){const D=Object.keys(v).map(_=>{const C=v[_];return Array.isArray(C)?C.map(R=>`${jr(_)}=${jr(R)}`).join("&"):`${jr(_)}=${jr(C)}`}).filter(_=>!!_);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${_}${C}${"string"==typeof D.fragment?`#${function mn(v){return encodeURI(v)}(D.fragment)}`:""}`}}const Jt=new pn;function gn(v){return v.segments.map(D=>te(D)).join("/")}function cn(v,D){if(!v.hasChildren())return gn(v);if(D){const _=v.children[It]?cn(v.children[It],!1):"",C=[];return Object.entries(v.children).forEach(([R,V])=>{R!==It&&C.push(`${R}:${cn(V,!1)}`)}),C.length>0?`${_}(${C.join("//")})`:_}{const _=function Ei(v,D){let _=[];return Object.entries(v.children).forEach(([C,R])=>{C===It&&(_=_.concat(D(R,C)))}),Object.entries(v.children).forEach(([C,R])=>{C!==It&&(_=_.concat(D(R,C)))}),_}(v,(C,R)=>R===It?[cn(v.children[It],!1)]:[`${R}:${cn(C,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[It]?`${gn(v)}/${_[0]}`:`${gn(v)}/(${_.join("//")})`}}function Ti(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jr(v){return Ti(v).replace(/%3B/gi,";")}function ar(v){return Ti(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qr(v){return decodeURIComponent(v)}function qi(v){return Qr(v.replace(/\+/g,"%20"))}function te(v){return`${ar(v.path)}${function j(v){return Object.keys(v).map(D=>`;${ar(D)}=${ar(v[D])}`).join("")}(v.parameters)}`}const $=/^[^\/()?;#]+/;function H(v){const D=v.match($);return D?D[0]:""}const he=/^[^\/()?;=#]+/,lt=/^[^=?&#]+/,qt=/^[^&#]+/;class Ut{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hn([],{}):new hn([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(D.length>0||Object.keys(_).length>0)&&(C[It]=new hn(D,_)),C}parseSegment(){const D=H(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(D),new fn(Qr(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const _=function qe(v){const D=v.match(he);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let C="";if(this.consumeOptional("=")){const R=H(this.remaining);R&&(C=R,this.capture(C))}D[Qr(_)]=Qr(C)}parseQueryParam(D){const _=function $t(v){const D=v.match(lt);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let C="";if(this.consumeOptional("=")){const X=function nn(v){const D=v.match(qt);return D?D[0]:""}(this.remaining);X&&(C=X,this.capture(C))}const R=qi(_),V=qi(C);if(D.hasOwnProperty(R)){let X=D[R];Array.isArray(X)||(X=[X],D[R]=X),X.push(V)}else D[R]=V}parseParens(D){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=H(this.remaining),R=this.remaining[C.length];if("/"!==R&&")"!==R&&";"!==R)throw new m.vHH(4010,!1);let V;C.indexOf(":")>-1?(V=C.slice(0,C.indexOf(":")),this.capture(V),this.capture(":")):D&&(V=It);const X=this.parseChildren();_[V]=1===Object.keys(X).length?X[It]:new hn([],X),this.consumeOptional("//")}return _}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new m.vHH(4011,!1)}}function On(v){return v.segments.length>0?new hn([],{[It]:v}):v}function gi(v){const D={};for(const C of Object.keys(v.children)){const V=gi(v.children[C]);if(C===It&&0===V.segments.length&&V.hasChildren())for(const[X,Ce]of Object.entries(V.children))D[X]=Ce;else(V.segments.length>0||V.hasChildren())&&(D[C]=V)}return function as(v){if(1===v.numberOfChildren&&v.children[It]){const D=v.children[It];return new hn(v.segments.concat(D.segments),D.children)}return v}(new hn(v.segments,D))}function Tr(v){return v instanceof Sn}function me(v){let D;const R=On(function _(V){const X={};for(const ye of V.children){const vt=_(ye);X[ye.outlet]=vt}const Ce=new hn(V.url,X);return V===v&&(D=Ce),Ce}(v.root));return D??R}function et(v,D,_,C){let R=v;for(;R.parent;)R=R.parent;if(0===D.length)return wt(R,R,R,_,C);const V=function Wn(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new pr(!0,0,v);let D=0,_=!1;const C=v.reduce((R,V,X)=>{if("object"==typeof V&&null!=V){if(V.outlets){const Ce={};return Object.entries(V.outlets).forEach(([ye,vt])=>{Ce[ye]="string"==typeof vt?vt.split("/"):vt}),[...R,{outlets:Ce}]}if(V.segmentPath)return[...R,V.segmentPath]}return"string"!=typeof V?[...R,V]:0===X?(V.split("/").forEach((Ce,ye)=>{0==ye&&"."===Ce||(0==ye&&""===Ce?_=!0:".."===Ce?D++:""!=Ce&&R.push(Ce))}),R):[...R,V]},[]);return new pr(_,D,C)}(D);if(V.toRoot())return wt(R,R,new hn([],{}),_,C);const X=function ti(v,D,_){if(v.isAbsolute)return new wi(D,!0,0);if(!_)return new wi(D,!1,NaN);if(null===_.parent)return new wi(_,!0,0);const C=dt(v.commands[0])?0:1;return function js(v,D,_){let C=v,R=D,V=_;for(;V>R;){if(V-=R,C=C.parent,!C)throw new m.vHH(4005,!1);R=C.segments.length}return new wi(C,!1,R-V)}(_,_.segments.length-1+C,v.numberOfDoubleDots)}(V,R,v),Ce=X.processChildren?Tn(X.segmentGroup,X.index,V.commands):Ns(X.segmentGroup,X.index,V.commands);return wt(R,X.segmentGroup,Ce,_,C)}function dt(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Kt(v){return"object"==typeof v&&null!=v&&v.outlets}function wt(v,D,_,C,R){let X,V={};C&&Object.entries(C).forEach(([ye,vt])=>{V[ye]=Array.isArray(vt)?vt.map(sn=>`${sn}`):`${vt}`}),X=v===D?_:ln(v,D,_);const Ce=On(gi(X));return new Sn(Ce,V,R)}function ln(v,D,_){const C={};return Object.entries(v.children).forEach(([R,V])=>{C[R]=V===D?_:ln(V,D,_)}),new hn(v.segments,C)}class pr{constructor(D,_,C){if(this.isAbsolute=D,this.numberOfDoubleDots=_,this.commands=C,D&&C.length>0&&dt(C[0]))throw new m.vHH(4003,!1);const R=C.find(Kt);if(R&&R!==ki(C))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wi{constructor(D,_,C){this.segmentGroup=D,this.processChildren=_,this.index=C}}function Ns(v,D,_){if(v||(v=new hn([],{})),0===v.segments.length&&v.hasChildren())return Tn(v,D,_);const C=function ni(v,D,_){let C=0,R=D;const V={match:!1,pathIndex:0,commandIndex:0};for(;R<v.segments.length;){if(C>=_.length)return V;const X=v.segments[R],Ce=_[C];if(Kt(Ce))break;const ye=`${Ce}`,vt=C<_.length-1?_[C+1]:null;if(R>0&&void 0===ye)break;if(ye&&vt&&"object"==typeof vt&&void 0===vt.outlets){if(!mo(ye,vt,X))return V;C+=2}else{if(!mo(ye,{},X))return V;C++}R++}return{match:!0,pathIndex:R,commandIndex:C}}(v,D,_),R=_.slice(C.commandIndex);if(C.match&&C.pathIndex<v.segments.length){const V=new hn(v.segments.slice(0,C.pathIndex),{});return V.children[It]=new hn(v.segments.slice(C.pathIndex),v.children),Tn(V,0,R)}return C.match&&0===R.length?new hn(v.segments,{}):C.match&&!v.hasChildren()?Rn(v,D,_):C.match?Tn(v,0,R):Rn(v,D,_)}function Tn(v,D,_){if(0===_.length)return new hn(v.segments,{});{const C=function er(v){return Kt(v[0])?v[0].outlets:{[It]:v}}(_),R={};if(Object.keys(C).some(V=>V!==It)&&v.children[It]&&1===v.numberOfChildren&&0===v.children[It].segments.length){const V=Tn(v.children[It],D,_);return new hn(v.segments,V.children)}return Object.entries(C).forEach(([V,X])=>{"string"==typeof X&&(X=[X]),null!==X&&(R[V]=Ns(v.children[V],D,X))}),Object.entries(v.children).forEach(([V,X])=>{void 0===C[V]&&(R[V]=X)}),new hn(v.segments,R)}}function Rn(v,D,_){const C=v.segments.slice(0,D);let R=0;for(;R<_.length;){const V=_[R];if(Kt(V)){const ye=gr(V.outlets);return new hn(C,ye)}if(0===R&&dt(_[0])){C.push(new fn(v.segments[D].path,Ki(_[0]))),R++;continue}const X=Kt(V)?V.outlets[It]:`${V}`,Ce=R<_.length-1?_[R+1]:null;X&&Ce&&dt(Ce)?(C.push(new fn(X,Ki(Ce))),R+=2):(C.push(new fn(X,{})),R++)}return new hn(C,{})}function gr(v){const D={};return Object.entries(v).forEach(([_,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(D[_]=Rn(new hn([],{}),0,C))}),D}function Ki(v){const D={};return Object.entries(v).forEach(([_,C])=>D[_]=`${C}`),D}function mo(v,D,_){return v==_.path&&vn(D,_.parameters)}const $r="imperative";class wr{constructor(D,_){this.id=D,this.url=_}}class ht extends wr{constructor(D,_,C="imperative",R=null){super(D,_),this.type=0,this.navigationTrigger=C,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qe extends wr{constructor(D,_,C){super(D,_),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _t extends wr{constructor(D,_,C,R){super(D,_),this.reason=C,this.code=R,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pt extends wr{constructor(D,_,C,R){super(D,_),this.reason=C,this.code=R,this.type=16}}class mr extends wr{constructor(D,_,C,R){super(D,_),this.error=C,this.target=R,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mr extends wr{constructor(D,_,C,R){super(D,_),this.urlAfterRedirects=C,this.state=R,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ri extends wr{constructor(D,_,C,R){super(D,_),this.urlAfterRedirects=C,this.state=R,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $s extends wr{constructor(D,_,C,R,V){super(D,_),this.urlAfterRedirects=C,this.state=R,this.shouldActivate=V,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Li extends wr{constructor(D,_,C,R){super(D,_),this.urlAfterRedirects=C,this.state=R,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bo extends wr{constructor(D,_,C,R){super(D,_),this.urlAfterRedirects=C,this.state=R,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hs{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Di{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pa{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ci{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class So{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zs{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class us{constructor(D,_,C){this.routerEvent=D,this.position=_,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yi{}class Gs{constructor(D){this.url=D}}class Ro{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Js,this.attachRef=null}}let Js=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(_,C){const R=this.getOrCreateContext(_);R.outlet=C,this.contexts.set(_,R)}onChildOutletDestroyed(_){const C=this.getContext(_);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let C=this.getContext(_);return C||(C=new Ro,this.contexts.set(_,C)),C}getContext(_){return this.contexts.get(_)||null}static#e=this.\u0275fac=function(C){return new(C||v)};static#t=this.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();class eo{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const _=this.pathFromRoot(D);return _.length>1?_[_.length-2]:null}children(D){const _=to(D,this._root);return _?_.children.map(C=>C.value):[]}firstChild(D){const _=to(D,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(D){const _=Fi(D,this._root);return _.length<2?[]:_[_.length-2].children.map(R=>R.value).filter(R=>R!==D)}pathFromRoot(D){return Fi(D,this._root).map(_=>_.value)}}function to(v,D){if(v===D.value)return D;for(const _ of D.children){const C=to(v,_);if(C)return C}return null}function Fi(v,D){if(v===D.value)return[D];for(const _ of D.children){const C=Fi(v,_);if(C.length)return C.unshift(D),C}return[]}class Hr{constructor(D,_){this.value=D,this.children=_}toString(){return`TreeNode(${this.value})`}}function Zi(v){const D={};return v&&v.children.forEach(_=>D[_.value.outlet]=_),D}class no extends eo{constructor(D,_){super(D),this.snapshot=_,zr(this,D)}toString(){return this.snapshot.toString()}}function Ws(v,D){const _=function Kn(v,D){const X=new Cn([],{},{},"",{},It,D,null,{});return new Rr("",new Hr(X,[]))}(0,D),C=new fe.X([new fn("",{})]),R=new fe.X({}),V=new fe.X({}),X=new fe.X({}),Ce=new fe.X(""),ye=new mi(C,R,X,Ce,V,It,D,_.root);return ye.snapshot=_.root,new no(new Hr(ye,[]),_)}class mi{constructor(D,_,C,R,V,X,Ce,ye){this.urlSubject=D,this.paramsSubject=_,this.queryParamsSubject=C,this.fragmentSubject=R,this.dataSubject=V,this.outlet=X,this.component=Ce,this._futureSnapshot=ye,this.title=this.dataSubject?.pipe((0,He.U)(vt=>vt[Pn]))??(0,re.of)(void 0),this.url=D,this.params=_,this.queryParams=C,this.fragment=R,this.data=V}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,He.U)(D=>or(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,He.U)(D=>or(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Is(v,D="emptyOnly"){const _=v.pathFromRoot;let C=0;if("always"!==D)for(C=_.length-1;C>=1;){const R=_[C],V=_[C-1];if(R.routeConfig&&""===R.routeConfig.path)C--;else{if(V.component)break;C--}}return function cs(v){return v.reduce((D,_)=>({params:{...D.params,..._.params},data:{...D.data,..._.data},resolve:{..._.data,...D.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(C))}class Cn{get title(){return this.data?.[Pn]}constructor(D,_,C,R,V,X,Ce,ye,vt){this.url=D,this.params=_,this.queryParams=C,this.fragment=R,this.data=V,this.outlet=X,this.component=Ce,this.routeConfig=ye,this._resolve=vt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=or(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=or(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rr extends eo{constructor(D,_){super(_),this.url=D,zr(this,_)}toString(){return ls(this._root)}}function zr(v,D){D.value._routerState=v,D.children.forEach(_=>zr(v,_))}function ls(v){const D=v.children.length>0?` { ${v.children.map(ls).join(", ")} } `:"";return`${v.value}${D}`}function Xr(v){if(v.snapshot){const D=v.snapshot,_=v._futureSnapshot;v.snapshot=_,vn(D.queryParams,_.queryParams)||v.queryParamsSubject.next(_.queryParams),D.fragment!==_.fragment&&v.fragmentSubject.next(_.fragment),vn(D.params,_.params)||v.paramsSubject.next(_.params),function Sr(v,D){if(v.length!==D.length)return!1;for(let _=0;_<v.length;++_)if(!vn(v[_],D[_]))return!1;return!0}(D.url,_.url)||v.urlSubject.next(_.url),vn(D.data,_.data)||v.dataSubject.next(_.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function ds(v,D){const _=vn(v.params,D.params)&&function vs(v,D){return it(v,D)&&v.every((_,C)=>vn(_.parameters,D[C].parameters))}(v.url,D.url);return _&&!(!v.parent!=!D.parent)&&(!v.parent||ds(v.parent,D.parent))}let Es=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=It,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.parentContexts=(0,m.f3M)(Js),this.location=(0,m.f3M)(m.s_b),this.changeDetector=(0,m.f3M)(m.sBO),this.environmentInjector=(0,m.f3M)(m.lqb),this.inputBinder=(0,m.f3M)(hs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:C,previousValue:R}=_.name;if(C)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,C){this.activated=_,this._activatedRoute=C,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,C){if(this.isActivated)throw new m.vHH(4013,!1);this._activatedRoute=_;const R=this.location,X=_.snapshot.component,Ce=this.parentContexts.getOrCreateContext(this.name).children,ye=new Qi(_,Ce,R.injector);this.activated=R.createComponent(X,{index:R.length,injector:ye,environmentInjector:C??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(C){return new(C||v)};static#t=this.\u0275dir=m.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.TTD]})}return v})();class Qi{constructor(D,_,C){this.route=D,this.childContexts=_,this.parent=C}get(D,_){return D===mi?this.route:D===Js?this.childContexts:this.parent.get(D,_)}}const hs=new m.OlP("");let zo=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:C}=_,R=(0,ie.a)([C.queryParams,C.params,C.data]).pipe((0,Se.w)(([V,X,Ce],ye)=>(Ce={...V,...X,...Ce},0===ye?(0,re.of)(Ce):Promise.resolve(Ce)))).subscribe(V=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==C||null===C.component)return void this.unsubscribeFromRouteData(_);const X=(0,m.qFp)(C.component);if(X)for(const{templateName:Ce}of X.inputs)_.activatedComponentRef.setInput(Ce,V[Ce]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,R)}static#e=this.\u0275fac=function(C){return new(C||v)};static#t=this.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac})}return v})();function ft(v,D,_){if(_&&v.shouldReuseRoute(D.value,_.value.snapshot)){const C=_.value;C._futureSnapshot=D.value;const R=function Xt(v,D,_){return D.children.map(C=>{for(const R of _.children)if(v.shouldReuseRoute(C.value,R.value.snapshot))return ft(v,C,R);return ft(v,C)})}(v,D,_);return new Hr(C,R)}{if(v.shouldAttach(D.value)){const V=v.retrieve(D.value);if(null!==V){const X=V.route;return X.value._futureSnapshot=D.value,X.children=D.children.map(Ce=>ft(v,Ce)),X}}const C=function _r(v){return new mi(new fe.X(v.url),new fe.X(v.params),new fe.X(v.queryParams),new fe.X(v.fragment),new fe.X(v.data),v.outlet,v.component,v)}(D.value),R=D.children.map(V=>ft(v,V));return new Hr(C,R)}}const _i="ngNavigationCancelingError";function Po(v,D){const{redirectTo:_,navigationBehaviorOptions:C}=Tr(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,R=Gr(!1,0,D);return R.url=_,R.navigationBehaviorOptions=C,R}function Gr(v,D,_){const C=new Error("NavigationCancelingError: "+(v||""));return C[_i]=!0,C.cancellationCode=D,_&&(C.url=_),C}function kn(v){return v&&v[_i]}let Xi=(()=>{class v{static#e=this.\u0275fac=function(C){return new(C||v)};static#t=this.\u0275cmp=m.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(C,R){1&C&&m._UZ(0,"router-outlet")},dependencies:[Es],encapsulation:2})}return v})();function ro(v){const D=v.children&&v.children.map(ro),_=D?{...v,children:D}:{...v};return!_.component&&!_.loadComponent&&(D||_.loadChildren)&&_.outlet&&_.outlet!==It&&(_.component=Xi),_}function Ui(v){return v.outlet||It}function ii(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let D=v.parent;D;D=D.parent){const _=D.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class _n{constructor(D,_,C,R,V){this.routeReuseStrategy=D,this.futureState=_,this.currState=C,this.forwardEvent=R,this.inputBindingEnabled=V}activate(D){const _=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,C,D),Xr(this.futureState.root),this.activateChildRoutes(_,C,D)}deactivateChildRoutes(D,_,C){const R=Zi(_);D.children.forEach(V=>{const X=V.value.outlet;this.deactivateRoutes(V,R[X],C),delete R[X]}),Object.values(R).forEach(V=>{this.deactivateRouteAndItsChildren(V,C)})}deactivateRoutes(D,_,C){const R=D.value,V=_?_.value:null;if(R===V)if(R.component){const X=C.getContext(R.outlet);X&&this.deactivateChildRoutes(D,_,X.children)}else this.deactivateChildRoutes(D,_,C);else V&&this.deactivateRouteAndItsChildren(_,C)}deactivateRouteAndItsChildren(D,_){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,_):this.deactivateRouteAndOutlet(D,_)}detachAndStoreRouteSubtree(D,_){const C=_.getContext(D.value.outlet),R=C&&D.value.component?C.children:_,V=Zi(D);for(const X of Object.keys(V))this.deactivateRouteAndItsChildren(V[X],R);if(C&&C.outlet){const X=C.outlet.detach(),Ce=C.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:X,route:D,contexts:Ce})}}deactivateRouteAndOutlet(D,_){const C=_.getContext(D.value.outlet),R=C&&D.value.component?C.children:_,V=Zi(D);for(const X of Object.keys(V))this.deactivateRouteAndItsChildren(V[X],R);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(D,_,C){const R=Zi(_);D.children.forEach(V=>{this.activateRoutes(V,R[V.value.outlet],C),this.forwardEvent(new zs(V.value.snapshot))}),D.children.length&&this.forwardEvent(new ci(D.value.snapshot))}activateRoutes(D,_,C){const R=D.value,V=_?_.value:null;if(Xr(R),R===V)if(R.component){const X=C.getOrCreateContext(R.outlet);this.activateChildRoutes(D,_,X.children)}else this.activateChildRoutes(D,_,C);else if(R.component){const X=C.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const Ce=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),X.children.onOutletReAttached(Ce.contexts),X.attachRef=Ce.componentRef,X.route=Ce.route.value,X.outlet&&X.outlet.attach(Ce.componentRef,Ce.route.value),Xr(Ce.route.value),this.activateChildRoutes(D,null,X.children)}else{const Ce=ii(R.snapshot);X.attachRef=null,X.route=R,X.injector=Ce,X.outlet&&X.outlet.activateWith(R,X.injector),this.activateChildRoutes(D,null,X.children)}}else this.activateChildRoutes(D,null,C)}}class ga{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class si{constructor(D,_){this.component=D,this.route=_}}function Ba(v,D,_){const C=v._root;return vi(C,D?D._root:null,_,[C.value])}function Ji(v,D){const _=Symbol(),C=D.get(v,_);return C===_?"function"!=typeof v||(0,m.Z0I)(v)?D.get(v):v:C}function vi(v,D,_,C,R={canDeactivateChecks:[],canActivateChecks:[]}){const V=Zi(D);return v.children.forEach(X=>{(function Ys(v,D,_,C,R={canDeactivateChecks:[],canActivateChecks:[]}){const V=v.value,X=D?D.value:null,Ce=_?_.getContext(v.value.outlet):null;if(X&&V.routeConfig===X.routeConfig){const ye=function Wr(v,D,_){if("function"==typeof _)return _(v,D);switch(_){case"pathParamsChange":return!it(v.url,D.url);case"pathParamsOrQueryParamsChange":return!it(v.url,D.url)||!vn(v.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ds(v,D)||!vn(v.queryParams,D.queryParams);default:return!ds(v,D)}}(X,V,V.routeConfig.runGuardsAndResolvers);ye?R.canActivateChecks.push(new ga(C)):(V.data=X.data,V._resolvedData=X._resolvedData),vi(v,D,V.component?Ce?Ce.children:null:_,C,R),ye&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&R.canDeactivateChecks.push(new si(Ce.outlet.component,X))}else X&&es(D,Ce,R),R.canActivateChecks.push(new ga(C)),vi(v,null,V.component?Ce?Ce.children:null:_,C,R)})(X,V[X.value.outlet],_,C.concat([X.value]),R),delete V[X.value.outlet]}),Object.entries(V).forEach(([X,Ce])=>es(Ce,_.getContext(X),R)),R}function es(v,D,_){const C=Zi(v),R=v.value;Object.entries(C).forEach(([V,X])=>{es(X,R.component?D?D.children.getContext(V):null:D,_)}),_.canDeactivateChecks.push(new si(R.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,R))}function xr(v){return"function"==typeof v}function bt(v){return v instanceof q||"EmptyError"===v?.name}const en=Symbol("INITIAL_VALUE");function wn(){return(0,Se.w)(v=>(0,ie.a)(v.map(D=>D.pipe((0,de.q)(1),(0,we.O)(en)))).pipe((0,He.U)(D=>{for(const _ of D)if(!0!==_){if(_===en)return en;if(!1===_||_ instanceof Sn)return _}return!0}),(0,Ne.h)(D=>D!==en),(0,de.q)(1)))}function nr(v){return(0,Be.z)((0,ce.b)(D=>{if(Tr(D))throw Po(0,D)}),(0,He.U)(D=>!0===D))}class Bi{constructor(D){this.segmentGroup=D||null}}class As{constructor(D){this.urlTree=D}}function ji(v){return We(new Bi(v))}function Os(v){return We(new As(v))}class _o{constructor(D,_){this.urlSerializer=D,this.urlTree=_}noMatchError(D){return new m.vHH(4002,!1)}lineralizeSegments(D,_){let C=[],R=_.root;for(;;){if(C=C.concat(R.segments),0===R.numberOfChildren)return(0,re.of)(C);if(R.numberOfChildren>1||!R.children[It])return We(new m.vHH(4e3,!1));R=R.children[It]}}applyRedirectCommands(D,_,C){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),D,C)}applyRedirectCreateUrlTree(D,_,C,R){const V=this.createSegmentGroup(D,_.root,C,R);return new Sn(V,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(D,_){const C={};return Object.entries(D).forEach(([R,V])=>{if("string"==typeof V&&V.startsWith(":")){const Ce=V.substring(1);C[R]=_[Ce]}else C[R]=V}),C}createSegmentGroup(D,_,C,R){const V=this.createSegments(D,_.segments,C,R);let X={};return Object.entries(_.children).forEach(([Ce,ye])=>{X[Ce]=this.createSegmentGroup(D,ye,C,R)}),new hn(V,X)}createSegments(D,_,C,R){return _.map(V=>V.path.startsWith(":")?this.findPosParam(D,V,R):this.findOrReturn(V,C))}findPosParam(D,_,C){const R=C[_.path.substring(1)];if(!R)throw new m.vHH(4001,!1);return R}findOrReturn(D,_){let C=0;for(const R of _){if(R.path===D.path)return _.splice(C),R;C++}return D}}const di={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kc(v,D,_,C,R){const V=ts(v,D,_);return V.matched?(C=function qs(v,D){return v.providers&&!v._injector&&(v._injector=(0,m.MMx)(v.providers,D,`Route: ${v.path}`)),v._injector??D}(D,C),function Ds(v,D,_,C){const R=D.canMatch;if(!R||0===R.length)return(0,re.of)(!0);const V=R.map(X=>{const Ce=Ji(X,v);return Pr(function Ve(v){return v&&xr(v.canMatch)}(Ce)?Ce.canMatch(D,_):v.runInContext(()=>Ce(D,_)))});return(0,re.of)(V).pipe(wn(),nr())}(C,D,_).pipe((0,He.U)(X=>!0===X?V:{...di}))):(0,re.of)(V)}function ts(v,D,_){if(""===D.path)return"full"===D.pathMatch&&(v.hasChildren()||_.length>0)?{...di}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const R=(D.matcher||bn)(_,v,D);if(!R)return{...di};const V={};Object.entries(R.posParams??{}).forEach(([Ce,ye])=>{V[Ce]=ye.path});const X=R.consumed.length>0?{...V,...R.consumed[R.consumed.length-1].parameters}:V;return{matched:!0,consumedSegments:R.consumed,remainingSegments:_.slice(R.consumed.length),parameters:X,positionalParamSegments:R.posParams??{}}}function ai(v,D,_,C){return _.length>0&&function Wo(v,D,_){return _.some(C=>_a(v,D,C)&&Ui(C)!==It)}(v,_,C)?{segmentGroup:new hn(D,bs(C,new hn(_,v.children))),slicedSegments:[]}:0===_.length&&function Ss(v,D,_){return _.some(C=>_a(v,D,C))}(v,_,C)?{segmentGroup:new hn(v.segments,Ln(v,0,_,C,v.children)),slicedSegments:_}:{segmentGroup:new hn(v.segments,v.children),slicedSegments:_}}function Ln(v,D,_,C,R){const V={};for(const X of C)if(_a(v,_,X)&&!R[Ui(X)]){const Ce=new hn([],{});V[Ui(X)]=Ce}return{...R,...V}}function bs(v,D){const _={};_[It]=D;for(const C of v)if(""===C.path&&Ui(C)!==It){const R=new hn([],{});_[Ui(C)]=R}return _}function _a(v,D,_){return(!(v.hasChildren()||D.length>0)||"full"!==_.pathMatch)&&""===_.path}class qo{constructor(D,_,C,R,V,X,Ce){this.injector=D,this.configLoader=_,this.rootComponentType=C,this.config=R,this.urlTree=V,this.paramsInheritanceStrategy=X,this.urlSerializer=Ce,this.allowRedirects=!0,this.applyRedirects=new _o(this.urlSerializer,this.urlTree)}noMatchError(D){return new m.vHH(4002,!1)}recognize(){const D=ai(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,It).pipe(_e(_=>{if(_ instanceof As)return this.allowRedirects=!1,this.urlTree=_.urlTree,this.match(_.urlTree);throw _ instanceof Bi?this.noMatchError(_):_}),(0,He.U)(_=>{const C=new Cn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,{}),R=new Hr(C,_),V=new Rr("",R),X=function Me(v,D,_=null,C=null){return et(me(v),D,_,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return X.queryParams=this.urlTree.queryParams,V.url=this.urlSerializer.serialize(X),this.inheritParamsAndData(V._root),{state:V,tree:X}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D.root,It).pipe(_e(C=>{throw C instanceof Bi?this.noMatchError(C):C}))}inheritParamsAndData(D){const _=D.value,C=Is(_,this.paramsInheritanceStrategy);_.params=Object.freeze(C.params),_.data=Object.freeze(C.data),D.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(D,_,C,R){return 0===C.segments.length&&C.hasChildren()?this.processChildren(D,_,C):this.processSegment(D,_,C,C.segments,R,!0)}processChildren(D,_,C){const R=[];for(const V of Object.keys(C.children))"primary"===V?R.unshift(V):R.push(V);return(0,se.D)(R).pipe(ot(V=>{const X=C.children[V],Ce=function li(v,D){const _=v.filter(C=>Ui(C)===D);return _.push(...v.filter(C=>Ui(C)!==D)),_}(_,V);return this.processSegmentGroup(D,Ce,X,V)}),function Ie(v,D){return(0,rt.e)(function De(v,D,_,C,R){return(V,X)=>{let Ce=_,ye=D,vt=0;V.subscribe((0,Yt.x)(X,sn=>{const vr=vt++;ye=Ce?v(ye,sn,vr):(Ce=!0,sn),C&&X.next(ye)},R&&(()=>{Ce&&X.next(ye),X.complete()})))}}(v,D,arguments.length>=2,!0))}((V,X)=>(V.push(...X),V)),tn(null),function Xe(v,D){const _=arguments.length>=2;return C=>C.pipe(v?(0,Ne.h)((R,V)=>v(R,V,C)):Tt.y,Pe(1),_?tn(D):Qt(()=>new q))}(),(0,Ct.z)(V=>{if(null===V)return ji(C);const X=hi(V);return function ks(v){v.sort((D,_)=>D.value.outlet===It?-1:_.value.outlet===It?1:D.value.outlet.localeCompare(_.value.outlet))}(X),(0,re.of)(X)}))}processSegment(D,_,C,R,V,X){return(0,se.D)(_).pipe(ot(Ce=>this.processSegmentAgainstRoute(Ce._injector??D,_,Ce,C,R,V,X).pipe(_e(ye=>{if(ye instanceof Bi)return(0,re.of)(null);throw ye}))),Ye(Ce=>!!Ce),_e(Ce=>{if(bt(Ce))return function yo(v,D,_){return 0===D.length&&!v.children[_]}(C,R,V)?(0,re.of)([]):ji(C);throw Ce}))}processSegmentAgainstRoute(D,_,C,R,V,X,Ce){return function xo(v,D,_,C){return!!(Ui(v)===C||C!==It&&_a(D,_,v))&&("**"===v.path||ts(D,v,_).matched)}(C,R,V,X)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(D,R,C,V,X,Ce):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,R,_,C,V,X):ji(R):ji(R)}expandSegmentAgainstRouteUsingRedirect(D,_,C,R,V,X){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,C,R,X):this.expandRegularSegmentAgainstRouteUsingRedirect(D,_,C,R,V,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,_,C,R){const V=this.applyRedirects.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?Os(V):this.applyRedirects.lineralizeSegments(C,V).pipe((0,Ct.z)(X=>{const Ce=new hn(X,{});return this.processSegment(D,_,Ce,X,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,_,C,R,V,X){const{matched:Ce,consumedSegments:ye,remainingSegments:vt,positionalParamSegments:sn}=ts(_,R,V);if(!Ce)return ji(_);const vr=this.applyRedirects.applyRedirectCommands(ye,R.redirectTo,sn);return R.redirectTo.startsWith("/")?Os(vr):this.applyRedirects.lineralizeSegments(R,vr).pipe((0,Ct.z)(zn=>this.processSegment(D,C,_,zn.concat(vt),X,!1)))}matchSegmentAgainstRoute(D,_,C,R,V,X){let Ce;if("**"===C.path){const ye=R.length>0?ki(R).parameters:{},vt=new Cn(R,ye,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vo(C),Ui(C),C.component??C._loadedComponent??null,C,Rs(C));Ce=(0,re.of)({snapshot:vt,consumedSegments:[],remainingSegments:[]}),_.children={}}else Ce=kc(_,C,R,D).pipe((0,He.U)(({matched:ye,consumedSegments:vt,remainingSegments:sn,parameters:vr})=>ye?{snapshot:new Cn(vt,vr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vo(C),Ui(C),C.component??C._loadedComponent??null,C,Rs(C)),consumedSegments:vt,remainingSegments:sn}:null));return Ce.pipe((0,Se.w)(ye=>null===ye?ji(_):this.getChildConfig(D=C._injector??D,C,R).pipe((0,Se.w)(({routes:vt})=>{const sn=C._loadedInjector??D,{snapshot:vr,consumedSegments:zn,remainingSegments:Zs}=ye,{segmentGroup:Qo,slicedSegments:Xo}=ai(_,zn,Zs,vt);if(0===Xo.length&&Qo.hasChildren())return this.processChildren(sn,vt,Qo).pipe((0,He.U)(za=>null===za?null:[new Hr(vr,za)]));if(0===vt.length&&0===Xo.length)return(0,re.of)([new Hr(vr,[])]);const Ha=Ui(C)===V;return this.processSegment(sn,vt,Qo,Xo,Ha?It:V,!0).pipe((0,He.U)(za=>[new Hr(vr,za)]))}))))}getChildConfig(D,_,C){return _.children?(0,re.of)({routes:_.children,injector:D}):_.loadChildren?void 0!==_._loadedRoutes?(0,re.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Ar(v,D,_,C){const R=D.canLoad;if(void 0===R||0===R.length)return(0,re.of)(!0);const V=R.map(X=>{const Ce=Ji(X,v);return Pr(function k(v){return v&&xr(v.canLoad)}(Ce)?Ce.canLoad(D,_):v.runInContext(()=>Ce(D,_)))});return(0,re.of)(V).pipe(wn(),nr())}(D,_,C).pipe((0,Ct.z)(R=>R?this.configLoader.loadChildren(D,_).pipe((0,ce.b)(V=>{_._loadedRoutes=V.routes,_._loadedInjector=V.injector})):function ma(v){return We(Gr(!1,3))}())):(0,re.of)({routes:[],injector:D})}}function $i(v){const D=v.value.routeConfig;return D&&""===D.path}function hi(v){const D=[],_=new Set;for(const C of v){if(!$i(C)){D.push(C);continue}const R=D.find(V=>C.value.routeConfig===V.value.routeConfig);void 0!==R?(R.children.push(...C.children),_.add(R)):D.push(C)}for(const C of _){const R=hi(C.children);D.push(new Hr(C.value,R))}return D.filter(C=>!_.has(C))}function vo(v){return v.data||{}}function Rs(v){return v.resolve||{}}function S(v){return"string"==typeof v.title||null===v.title}function x(v){return(0,Se.w)(D=>{const _=v(D);return _?(0,se.D)(_).pipe((0,He.U)(()=>D)):(0,re.of)(D)})}const K=new m.OlP("ROUTES");let Ee=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.f3M)(m.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,re.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const C=Pr(_.loadComponent()).pipe((0,He.U)(cr),(0,ce.b)(V=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=V}),an(()=>{this.componentLoaders.delete(_)})),R=new Ae(C,()=>new Ue.x).pipe(kt());return this.componentLoaders.set(_,R),R}loadChildren(_,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,re.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const V=function Fe(v,D,_,C){return Pr(v.loadChildren()).pipe((0,He.U)(cr),(0,Ct.z)(R=>R instanceof m.YKP||Array.isArray(R)?(0,re.of)(R):(0,se.D)(D.compileModuleAsync(R))),(0,He.U)(R=>{C&&C(v);let V,X,Ce=!1;return Array.isArray(R)?(X=R,!0):(V=R.create(_).injector,X=V.get(K,[],{optional:!0,self:!0}).flat()),{routes:X.map(ro),injector:V}}))}(C,this.compiler,_,this.onLoadEndListener).pipe(an(()=>{this.childrenLoaders.delete(C)})),X=new Ae(V,()=>new Ue.x).pipe(kt());return this.childrenLoaders.set(C,X),X}static#e=this.\u0275fac=function(C){return new(C||v)};static#t=this.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function cr(v){return function Dt(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let Nn=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ue.x,this.transitionAbortSubject=new Ue.x,this.configLoader=(0,m.f3M)(Ee),this.environmentInjector=(0,m.f3M)(m.lqb),this.urlSerializer=(0,m.f3M)(Zr),this.rootContexts=(0,m.f3M)(Js),this.inputBindingEnabled=null!==(0,m.f3M)(hs,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,re.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new Di(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new Hs(R))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:C})}setupNavigations(_,C,R){return this.transitions=new fe.X({id:0,currentUrlTree:C,currentRawUrl:C,currentBrowserUrl:C,extractedUrl:_.urlHandlingStrategy.extract(C),urlAfterRedirects:_.urlHandlingStrategy.extract(C),rawUrl:C,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$r,restoredState:null,currentSnapshot:R.snapshot,targetSnapshot:null,currentRouterState:R,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ne.h)(V=>0!==V.id),(0,He.U)(V=>({...V,extractedUrl:_.urlHandlingStrategy.extract(V.rawUrl)})),(0,Se.w)(V=>{this.currentTransition=V;let X=!1,Ce=!1;return(0,re.of)(V).pipe((0,ce.b)(ye=>{this.currentNavigation={id:ye.id,initialUrl:ye.rawUrl,extractedUrl:ye.extractedUrl,trigger:ye.source,extras:ye.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Se.w)(ye=>{const vt=ye.currentBrowserUrl.toString(),sn=!_.navigated||ye.extractedUrl.toString()!==vt||vt!==ye.currentUrlTree.toString();if(!sn&&"reload"!==(ye.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const zn="";return this.events.next(new Pt(ye.id,this.urlSerializer.serialize(ye.rawUrl),zn,0)),ye.resolve(null),ut.E}if(_.urlHandlingStrategy.shouldProcessUrl(ye.rawUrl))return(0,re.of)(ye).pipe((0,Se.w)(zn=>{const Zs=this.transitions?.getValue();return this.events.next(new ht(zn.id,this.urlSerializer.serialize(zn.extractedUrl),zn.source,zn.restoredState)),Zs!==this.transitions?.getValue()?ut.E:Promise.resolve(zn)}),function Io(v,D,_,C,R,V){return(0,Ct.z)(X=>function du(v,D,_,C,R,V,X="emptyOnly"){return new qo(v,D,_,C,R,X,V).recognize()}(v,D,_,C,X.extractedUrl,R,V).pipe((0,He.U)(({state:Ce,tree:ye})=>({...X,targetSnapshot:Ce,urlAfterRedirects:ye}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,ce.b)(zn=>{V.targetSnapshot=zn.targetSnapshot,V.urlAfterRedirects=zn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:zn.urlAfterRedirects};const Zs=new Mr(zn.id,this.urlSerializer.serialize(zn.extractedUrl),this.urlSerializer.serialize(zn.urlAfterRedirects),zn.targetSnapshot);this.events.next(Zs)}));if(sn&&_.urlHandlingStrategy.shouldProcessUrl(ye.currentRawUrl)){const{id:zn,extractedUrl:Zs,source:Qo,restoredState:Xo,extras:Ha}=ye,za=new ht(zn,this.urlSerializer.serialize(Zs),Qo,Xo);this.events.next(za);const jc=Ws(0,this.rootComponentType).snapshot;return this.currentTransition=V={...ye,targetSnapshot:jc,urlAfterRedirects:Zs,extras:{...Ha,skipLocationChange:!1,replaceUrl:!1}},(0,re.of)(V)}{const zn="";return this.events.next(new Pt(ye.id,this.urlSerializer.serialize(ye.extractedUrl),zn,1)),ye.resolve(null),ut.E}}),(0,ce.b)(ye=>{const vt=new ri(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects),ye.targetSnapshot);this.events.next(vt)}),(0,He.U)(ye=>(this.currentTransition=V={...ye,guards:Ba(ye.targetSnapshot,ye.currentSnapshot,this.rootContexts)},V)),function Qn(v,D){return(0,Ct.z)(_=>{const{targetSnapshot:C,currentSnapshot:R,guards:{canActivateChecks:V,canDeactivateChecks:X}}=_;return 0===X.length&&0===V.length?(0,re.of)({..._,guardsResult:!0}):function qr(v,D,_,C){return(0,se.D)(v).pipe((0,Ct.z)(R=>function bi(v,D,_,C,R){const V=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,re.of)(!0);const X=V.map(Ce=>{const ye=ii(D)??R,vt=Ji(Ce,ye);return Pr(function le(v){return v&&xr(v.canDeactivate)}(vt)?vt.canDeactivate(v,D,_,C):ye.runInContext(()=>vt(v,D,_,C))).pipe(Ye())});return(0,re.of)(X).pipe(wn())}(R.component,R.route,_,D,C)),Ye(R=>!0!==R,!0))}(X,C,R,v).pipe((0,Ct.z)(Ce=>Ce&&function N(v){return"boolean"==typeof v}(Ce)?function Nr(v,D,_,C){return(0,se.D)(D).pipe(ot(R=>(0,ee.z)(function oi(v,D){return null!==v&&D&&D(new pa(v)),(0,re.of)(!0)}(R.route.parent,C),function Fr(v,D){return null!==v&&D&&D(new So(v)),(0,re.of)(!0)}(R.route,C),function Ci(v,D,_){const C=D[D.length-1],V=D.slice(0,D.length-1).reverse().map(X=>function ws(v){const D=v.routeConfig?v.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:v,guards:D}:null}(X)).filter(X=>null!==X).map(X=>Ke(()=>{const Ce=X.guards.map(ye=>{const vt=ii(X.node)??_,sn=Ji(ye,vt);return Pr(function J(v){return v&&xr(v.canActivateChild)}(sn)?sn.canActivateChild(C,v):vt.runInContext(()=>sn(C,v))).pipe(Ye())});return(0,re.of)(Ce).pipe(wn())}));return(0,re.of)(V).pipe(wn())}(v,R.path,_),function Or(v,D,_){const C=D.routeConfig?D.routeConfig.canActivate:null;if(!C||0===C.length)return(0,re.of)(!0);const R=C.map(V=>Ke(()=>{const X=ii(D)??_,Ce=Ji(V,X);return Pr(function Q(v){return v&&xr(v.canActivate)}(Ce)?Ce.canActivate(D,v):X.runInContext(()=>Ce(D,v))).pipe(Ye())}));return(0,re.of)(R).pipe(wn())}(v,R.route,_))),Ye(R=>!0!==R,!0))}(C,V,v,D):(0,re.of)(Ce)),(0,He.U)(Ce=>({..._,guardsResult:Ce})))})}(this.environmentInjector,ye=>this.events.next(ye)),(0,ce.b)(ye=>{if(V.guardsResult=ye.guardsResult,Tr(ye.guardsResult))throw Po(0,ye.guardsResult);const vt=new $s(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects),ye.targetSnapshot,!!ye.guardsResult);this.events.next(vt)}),(0,Ne.h)(ye=>!!ye.guardsResult||(this.cancelNavigationTransition(ye,"",3),!1)),x(ye=>{if(ye.guards.canActivateChecks.length)return(0,re.of)(ye).pipe((0,ce.b)(vt=>{const sn=new Li(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects),vt.targetSnapshot);this.events.next(sn)}),(0,Se.w)(vt=>{let sn=!1;return(0,re.of)(vt).pipe(function ya(v,D){return(0,Ct.z)(_=>{const{targetSnapshot:C,guards:{canActivateChecks:R}}=_;if(!R.length)return(0,re.of)(_);let V=0;return(0,se.D)(R).pipe(ot(X=>function io(v,D,_,C){const R=v.routeConfig,V=v._resolve;return void 0!==R?.title&&!S(R)&&(V[Pn]=R.title),function hu(v,D,_,C){const R=function T(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===R.length)return(0,re.of)({});const V={};return(0,se.D)(R).pipe((0,Ct.z)(X=>function F(v,D,_,C){const R=ii(D)??C,V=Ji(v,R);return Pr(V.resolve?V.resolve(D,_):R.runInContext(()=>V(D,_)))}(v[X],D,_,C).pipe(Ye(),(0,ce.b)(Ce=>{V[X]=Ce}))),Pe(1),function Ft(v){return(0,He.U)(()=>v)}(V),_e(X=>bt(X)?ut.E:We(X)))}(V,v,D,C).pipe((0,He.U)(X=>(v._resolvedData=X,v.data=Is(v,_).resolve,R&&S(R)&&(v.data[Pn]=R.title),null)))}(X.route,C,v,D)),(0,ce.b)(()=>V++),Pe(1),(0,Ct.z)(X=>V===R.length?(0,re.of)(_):ut.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,ce.b)({next:()=>sn=!0,complete:()=>{sn||this.cancelNavigationTransition(vt,"",2)}}))}),(0,ce.b)(vt=>{const sn=new bo(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects),vt.targetSnapshot);this.events.next(sn)}))}),x(ye=>{const vt=sn=>{const vr=[];sn.routeConfig?.loadComponent&&!sn.routeConfig._loadedComponent&&vr.push(this.configLoader.loadComponent(sn.routeConfig).pipe((0,ce.b)(zn=>{sn.component=zn}),(0,He.U)(()=>{})));for(const zn of sn.children)vr.push(...vt(zn));return vr};return(0,ie.a)(vt(ye.targetSnapshot.root)).pipe(tn(),(0,de.q)(1))}),x(()=>this.afterPreactivation()),(0,He.U)(ye=>{const vt=function tr(v,D,_){const C=ft(v,D._root,_?_._root:void 0);return new no(C,D)}(_.routeReuseStrategy,ye.targetSnapshot,ye.currentRouterState);return this.currentTransition=V={...ye,targetRouterState:vt},V}),(0,ce.b)(()=>{this.events.next(new Yi)}),((v,D,_,C)=>(0,He.U)(R=>(new _n(D,R.targetRouterState,R.currentRouterState,_,C).activate(v),R)))(this.rootContexts,_.routeReuseStrategy,ye=>this.events.next(ye),this.inputBindingEnabled),(0,de.q)(1),(0,ce.b)({next:ye=>{X=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qe(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects))),_.titleStrategy?.updateTitle(ye.targetRouterState.snapshot),ye.resolve(!0)},complete:()=>{X=!0}}),(0,yn.R)(this.transitionAbortSubject.pipe((0,ce.b)(ye=>{throw ye}))),an(()=>{X||Ce||this.cancelNavigationTransition(V,"",1),this.currentNavigation?.id===V.id&&(this.currentNavigation=null)}),_e(ye=>{if(Ce=!0,kn(ye))this.events.next(new _t(V.id,this.urlSerializer.serialize(V.extractedUrl),ye.message,ye.cancellationCode)),function Ts(v){return kn(v)&&Tr(v.url)}(ye)?this.events.next(new Gs(ye.url)):V.resolve(!1);else{this.events.next(new mr(V.id,this.urlSerializer.serialize(V.extractedUrl),ye,V.targetSnapshot??void 0));try{V.resolve(_.errorHandler(ye))}catch(vt){V.reject(vt)}}return ut.E}))}))}cancelNavigationTransition(_,C,R){const V=new _t(_.id,this.urlSerializer.serialize(_.extractedUrl),C,R);this.events.next(V),_.resolve(!1)}static#e=this.\u0275fac=function(C){return new(C||v)};static#t=this.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Vn(v){return v!==$r}let Vt=(()=>{class v{buildTitle(_){let C,R=_.root;for(;void 0!==R;)C=this.getResolvedTitleForRoute(R)??C,R=R.children.find(V=>V.outlet===It);return C}getResolvedTitleForRoute(_){return _.data[Pn]}static#e=this.\u0275fac=function(C){return new(C||v)};static#t=this.\u0275prov=m.Yz7({token:v,factory:function(){return(0,m.f3M)(rr)},providedIn:"root"})}return v})(),rr=(()=>{class v extends Vt{constructor(_){super(),this.title=_}updateTitle(_){const C=this.buildTitle(_);void 0!==C&&this.title.setTitle(C)}static#e=this.\u0275fac=function(C){return new(C||v)(m.LFG(En.Dx))};static#t=this.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),Un=(()=>{class v{static#e=this.\u0275fac=function(C){return new(C||v)};static#t=this.\u0275prov=m.Yz7({token:v,factory:function(){return(0,m.f3M)(No)},providedIn:"root"})}return v})();class kr{shouldDetach(D){return!1}store(D,_){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,_){return D.routeConfig===_.routeConfig}}let No=(()=>{class v extends kr{static#e=this.\u0275fac=function(){let _;return function(R){return(_||(_=m.n5z(v)))(R||v)}}();static#t=this.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const Ge=new m.OlP("",{providedIn:"root",factory:()=>({})});let Xn=(()=>{class v{static#e=this.\u0275fac=function(C){return new(C||v)};static#t=this.\u0275prov=m.Yz7({token:v,factory:function(){return(0,m.f3M)(Cr)},providedIn:"root"})}return v})(),Cr=(()=>{class v{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,C){return _}static#e=this.\u0275fac=function(C){return new(C||v)};static#t=this.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();var ns=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(ns||{});function Et(v,D){v.events.pipe((0,Ne.h)(_=>_ instanceof Qe||_ instanceof _t||_ instanceof mr||_ instanceof Pt),(0,He.U)(_=>_ instanceof Qe||_ instanceof Pt?ns.COMPLETE:_ instanceof _t&&(0===_.code||1===_.code)?ns.REDIRECTING:ns.FAILED),(0,Ne.h)(_=>_!==ns.REDIRECTING),(0,de.q)(1)).subscribe(()=>{D()})}function Mt(v){throw v}function Bl(v,D,_){return D.parse("/")}const mt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ze=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,m.f3M)(m.c2e),this.isNgZoneEnabled=!1,this._events=new Ue.x,this.options=(0,m.f3M)(Ge,{optional:!0})||{},this.pendingTasks=(0,m.f3M)(m.HDt),this.errorHandler=this.options.errorHandler||Mt,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Bl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.f3M)(Xn),this.routeReuseStrategy=(0,m.f3M)(Un),this.titleStrategy=(0,m.f3M)(Vt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,m.f3M)(K,{optional:!0})?.flat()??[],this.navigationTransitions=(0,m.f3M)(Nn),this.urlSerializer=(0,m.f3M)(Zr),this.location=(0,m.f3M)(Le.Ye),this.componentInputBindingEnabled=!!(0,m.f3M)(hs,{optional:!0}),this.eventsSubscription=new Rt.w0,this.isNgZoneEnabled=(0,m.f3M)(m.R0b)instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Sn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ws(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(C=>{try{const{currentTransition:R}=this.navigationTransitions;if(null===R)return void(va(C)&&this._events.next(C));if(C instanceof ht)Vn(R.source)&&(this.browserUrlTree=R.extractedUrl);else if(C instanceof Pt)this.rawUrlTree=R.rawUrl;else if(C instanceof Mr){if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(V,R)}this.browserUrlTree=R.urlAfterRedirects}}else if(C instanceof Yi)this.currentUrlTree=R.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,R),this.browserUrlTree=R.urlAfterRedirects);else if(C instanceof _t)0!==C.code&&1!==C.code&&(this.navigated=!0),(3===C.code||2===C.code)&&this.restoreHistory(R);else if(C instanceof Gs){const V=this.urlHandlingStrategy.merge(C.url,R.currentRawUrl),X={skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vn(R.source)};this.scheduleNavigation(V,$r,null,X,{resolve:R.resolve,reject:R.reject,promise:R.promise})}C instanceof mr&&this.restoreHistory(R,!0),C instanceof Qe&&(this.navigated=!0),va(C)&&this._events.next(C)}catch(R){this.navigationTransitions.transitionAbortSubject.next(R)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$r,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const C="popstate"===_.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,C,_.state)},0)}))}navigateToSyncWithBrowser(_,C,R){const V={replaceUrl:!0},X=R?.navigationId?R:null;if(R){const ye={...R};delete ye.navigationId,delete ye.\u0275routerPageId,0!==Object.keys(ye).length&&(V.state=ye)}const Ce=this.parseUrl(_);this.scheduleNavigation(Ce,C,X,V)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(ro),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,C={}){const{relativeTo:R,queryParams:V,fragment:X,queryParamsHandling:Ce,preserveFragment:ye}=C,vt=ye?this.currentUrlTree.fragment:X;let vr,sn=null;switch(Ce){case"merge":sn={...this.currentUrlTree.queryParams,...V};break;case"preserve":sn=this.currentUrlTree.queryParams;break;default:sn=V||null}null!==sn&&(sn=this.removeEmptyProps(sn));try{vr=me(R?R.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),vr=this.currentUrlTree.root}return et(vr,_,sn,vt??null)}navigateByUrl(_,C={skipLocationChange:!1}){const R=Tr(_)?_:this.parseUrl(_),V=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(V,$r,null,C)}navigate(_,C={skipLocationChange:!1}){return function br(v){for(let D=0;D<v.length;D++)if(null==v[D])throw new m.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,C),C)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let C;try{C=this.urlSerializer.parse(_)}catch(R){C=this.malformedUriErrorHandler(R,this.urlSerializer,_)}return C}isActive(_,C){let R;if(R=!0===C?{...mt}:!1===C?{...Oe}:C,Tr(_))return Ir(this.currentUrlTree,_,R);const V=this.parseUrl(_);return Ir(this.currentUrlTree,V,R)}removeEmptyProps(_){return Object.keys(_).reduce((C,R)=>{const V=_[R];return null!=V&&(C[R]=V),C},{})}scheduleNavigation(_,C,R,V,X){if(this.disposed)return Promise.resolve(!1);let Ce,ye,vt;X?(Ce=X.resolve,ye=X.reject,vt=X.promise):vt=new Promise((vr,zn)=>{Ce=vr,ye=zn});const sn=this.pendingTasks.add();return Et(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(sn))}),this.navigationTransitions.handleNavigationRequest({source:C,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:_,extras:V,resolve:Ce,reject:ye,promise:vt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),vt.catch(vr=>Promise.reject(vr))}setBrowserUrl(_,C){const R=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(R)||C.extras.replaceUrl){const X={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId)};this.location.replaceState(R,"",X)}else{const V={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId+1)};this.location.go(R,"",V)}}restoreHistory(_,C=!1){if("computed"===this.canceledNavigationResolution){const V=this.currentPageId-this.browserPageId;0!==V?this.location.historyGo(V):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===V&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,C){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:C}:{navigationId:_}}static#e=this.\u0275fac=function(C){return new(C||v)};static#t=this.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function va(v){return!(v instanceof Yi||v instanceof Gs)}let Xu=(()=>{class v{constructor(_,C,R,V,X,Ce){this.router=_,this.route=C,this.tabIndexAttribute=R,this.renderer=V,this.el=X,this.locationStrategy=Ce,this.href=null,this.commands=null,this.onChanges=new Ue.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ye=X.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ye||"area"===ye,this.isAnchorElement?this.subscription=_.events.subscribe(vt=>{vt instanceof Qe&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,C,R,V,X){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||C||R||V||X||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,m.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,C){const R=this.renderer,V=this.el.nativeElement;null!==C?R.setAttribute(V,_,C):R.removeAttribute(V,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(C){return new(C||v)(m.Y36(ze),m.Y36(mi),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Le.S$))};static#t=this.\u0275dir=m.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,R){1&C&&m.NdJ("click",function(X){return R.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&C&&m.uIk("target",R.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",m.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",m.VuI],replaceUrl:["replaceUrl","replaceUrl",m.VuI],routerLink:"routerLink"},standalone:!0,features:[m.Xq5,m.TTD]})}return v})();class so{}let Lc=(()=>{class v{preload(_,C){return C().pipe(_e(()=>(0,re.of)(null)))}static#e=this.\u0275fac=function(C){return new(C||v)};static#t=this.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),lr=(()=>{class v{constructor(_,C,R,V,X){this.router=_,this.injector=R,this.preloadingStrategy=V,this.loader=X}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ne.h)(_=>_ instanceof Qe),ot(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,C){const R=[];for(const V of C){V.providers&&!V._injector&&(V._injector=(0,m.MMx)(V.providers,_,`Route: ${V.path}`));const X=V._injector??_,Ce=V._loadedInjector??X;(V.loadChildren&&!V._loadedRoutes&&void 0===V.canLoad||V.loadComponent&&!V._loadedComponent)&&R.push(this.preloadConfig(X,V)),(V.children||V._loadedRoutes)&&R.push(this.processRoutes(Ce,V.children??V._loadedRoutes))}return(0,se.D)(R).pipe((0,Lt.J)())}preloadConfig(_,C){return this.preloadingStrategy.preload(C,()=>{let R;R=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(_,C):(0,re.of)(null);const V=R.pipe((0,Ct.z)(X=>null===X?(0,re.of)(void 0):(C._loadedRoutes=X.routes,C._loadedInjector=X.injector,this.processRoutes(X.injector??_,X.routes))));if(C.loadComponent&&!C._loadedComponent){const X=this.loader.loadComponent(C);return(0,se.D)([V,X]).pipe((0,Lt.J)())}return V})}static#e=this.\u0275fac=function(C){return new(C||v)(m.LFG(ze),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(so),m.LFG(Ee))};static#t=this.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const Ia=new m.OlP("");let fu=(()=>{class v{constructor(_,C,R,V,X={}){this.urlSerializer=_,this.transitions=C,this.viewportScroller=R,this.zone=V,this.options=X,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},X.scrollPositionRestoration=X.scrollPositionRestoration||"disabled",X.anchorScrolling=X.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof ht?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof Qe?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof Pt&&0===_.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof us&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new us(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(C){m.$Z()};static#t=this.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac})}return v})();function rs(v,D){return{\u0275kind:v,\u0275providers:D}}function jn(){const v=(0,m.f3M)(m.zs3);return D=>{const _=v.get(m.z2F);if(D!==_.components[0])return;const C=v.get(ze),R=v.get(oo);1===v.get(yr)&&C.initialNavigation(),v.get(dr,null,m.XFs.Optional)?.setUpPreloading(),v.get(Ia,null,m.XFs.Optional)?.init(),C.resetRootComponentType(_.componentTypes[0]),R.closed||(R.next(),R.complete(),R.unsubscribe())}}const oo=new m.OlP("",{factory:()=>new Ue.x}),yr=new m.OlP("",{providedIn:"root",factory:()=>1}),dr=new m.OlP("");function $l(v){return rs(0,[{provide:dr,useExisting:lr},{provide:so,useExisting:v}])}const is=new m.OlP("ROUTER_FORROOT_GUARD"),pu=[Le.Ye,{provide:Zr,useClass:pn},ze,Js,{provide:mi,useFactory:function rn(v){return v.routerState.root},deps:[ze]},Ee,[]];function uo(){return new m.PXZ("Router",ze)}let Uc=(()=>{class v{constructor(_){}static forRoot(_,C){return{ngModule:v,providers:[pu,[],{provide:K,multi:!0,useValue:_},{provide:is,useFactory:wa,deps:[[ze,new m.FiY,new m.tp0]]},{provide:Ge,useValue:C||{}},C?.useHash?{provide:Le.S$,useClass:Le.Do}:{provide:Le.S$,useClass:Le.b0},{provide:Ia,useFactory:()=>{const v=(0,m.f3M)(Le.EM),D=(0,m.f3M)(m.R0b),_=(0,m.f3M)(Ge),C=(0,m.f3M)(Nn),R=(0,m.f3M)(Zr);return _.scrollOffset&&v.setOffset(_.scrollOffset),new fu(R,C,v,D,_)}},C?.preloadingStrategy?$l(C.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:uo},C?.initialNavigation?$e(C):[],C?.bindToComponentInputs?rs(8,[zo,{provide:hs,useExisting:zo}]).\u0275providers:[],[{provide:Mn,useFactory:jn},{provide:m.tb,multi:!0,useExisting:Mn}]]}}static forChild(_){return{ngModule:v,providers:[{provide:K,multi:!0,useValue:_}]}}static#e=this.\u0275fac=function(C){return new(C||v)(m.LFG(is,8))};static#t=this.\u0275mod=m.oAB({type:v});static#n=this.\u0275inj=m.cJS({})}return v})();function wa(v){return"guarded"}function $e(v){return["disabled"===v.initialNavigation?rs(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const D=(0,m.f3M)(ze);return()=>{D.setUpLocationChangeListener()}}},{provide:yr,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?rs(2,[{provide:yr,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:D=>{const _=D.get(Le.V_,Promise.resolve());return()=>_.then(()=>new Promise(C=>{const R=D.get(ze),V=D.get(oo);Et(R,()=>{C(!0)}),D.get(Nn).afterPreactivation=()=>(C(!0),V.closed?(0,re.of)(void 0):V),R.initialNavigation()}))}}]).\u0275providers:[]]}const Mn=new m.OlP("")},534:(St,ke,L)=>{L.d(ke,{Jn:()=>Zr,qX:()=>Sn,Xd:()=>Er,Mq:()=>Jt,C6:()=>gn,ZF:()=>pn,KN:()=>jr});var m=L(5861),W=L(4537),pe=L(7879),ne=L(9058);const se=(Me,me)=>me.some(et=>Me instanceof et);let re,fe;const q=new WeakMap,ee=new WeakMap,ve=new WeakMap,Ke=new WeakMap,Be=new WeakMap;let Rt={get(Me,me,et){if(Me instanceof IDBTransaction){if("done"===me)return ee.get(Me);if("objectStoreNames"===me)return Me.objectStoreNames||ve.get(Me);if("store"===me)return et.objectStoreNames[1]?void 0:et.objectStore(et.objectStoreNames[0])}return Ae(Me[me])},set:(Me,me,et)=>(Me[me]=et,!0),has:(Me,me)=>Me instanceof IDBTransaction&&("done"===me||"store"===me)||me in Me};function kt(Me){return"function"==typeof Me?function Yt(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...me){return Me.apply(Ue(this),me),Ae(q.get(this))}:function(...me){return Ae(Me.apply(Ue(this),me))}:function(me,...et){const dt=Me.call(Ue(this),me,...et);return ve.set(dt,me.sort?me.sort():[me]),Ae(dt)}}(Me):(Me instanceof IDBTransaction&&function ut(Me){if(ee.has(Me))return;const me=new Promise((et,dt)=>{const Kt=()=>{Me.removeEventListener("complete",wt),Me.removeEventListener("error",ln),Me.removeEventListener("abort",ln)},wt=()=>{et(),Kt()},ln=()=>{dt(Me.error||new DOMException("AbortError","AbortError")),Kt()};Me.addEventListener("complete",wt),Me.addEventListener("error",ln),Me.addEventListener("abort",ln)});ee.set(Me,me)}(Me),se(Me,function ie(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,Rt):Me)}function Ae(Me){if(Me instanceof IDBRequest)return function We(Me){const me=new Promise((et,dt)=>{const Kt=()=>{Me.removeEventListener("success",wt),Me.removeEventListener("error",ln)},wt=()=>{et(Ae(Me.result)),Kt()},ln=()=>{dt(Me.error),Kt()};Me.addEventListener("success",wt),Me.addEventListener("error",ln)});return me.then(et=>{et instanceof IDBCursor&&q.set(et,Me)}).catch(()=>{}),Be.set(me,Me),me}(Me);if(Ke.has(Me))return Ke.get(Me);const me=kt(Me);return me!==Me&&(Ke.set(Me,me),Be.set(me,Me)),me}const Ue=Me=>Be.get(Me),Se=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],we=new Map;function Ne(Me,me){if(!(Me instanceof IDBDatabase)||me in Me||"string"!=typeof me)return;if(we.get(me))return we.get(me);const et=me.replace(/FromIndex$/,""),dt=me!==et,Kt=de.includes(et);if(!(et in(dt?IDBIndex:IDBObjectStore).prototype)||!Kt&&!Se.includes(et))return;const wt=function(){var ln=(0,m.Z)(function*(pr,...Wn){const wi=this.transaction(pr,Kt?"readwrite":"readonly");let ti=wi.store;return dt&&(ti=ti.index(Wn.shift())),(yield Promise.all([ti[et](...Wn),Kt&&wi.done]))[0]});return function(Wn){return ln.apply(this,arguments)}}();return we.set(me,wt),wt}!function rt(Me){Rt=Me(Rt)}(Me=>({...Me,get:(me,et,dt)=>Ne(me,et)||Me.get(me,et,dt),has:(me,et)=>!!Ne(me,et)||Me.has(me,et)}));class Ct{constructor(me){this.container=me}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function tn(Me){const me=Me.getComponent();return"VERSION"===me?.type}(et)){const dt=et.getImmediate();return`${dt.library}/${dt.version}`}return null}).filter(et=>et).join(" ")}}const Qt="@firebase/app",Tt=new pe.Yd("@firebase/app"),Ir="[DEFAULT]",Zt={[Qt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jt=new Map,Yr=new Map;function Br(Me,me){try{Me.container.addComponent(me)}catch(et){Tt.debug(`Component ${me.name} failed to register with FirebaseApp ${Me.name}`,et)}}function Er(Me){const me=Me.name;if(Yr.has(me))return Tt.debug(`There were multiple attempts to register component ${me}.`),!1;Yr.set(me,Me);for(const et of jt.values())Br(et,Me);return!0}function Sn(Me,me){const et=Me.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),Me.container.getProvider(me)}const it=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ei{constructor(me,et,dt){this._isDeleted=!1,this._options=Object.assign({},me),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=dt,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this.checkDestroyed(),this._automaticDataCollectionEnabled=me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(me){this._isDeleted=me}checkDestroyed(){if(this.isDeleted)throw it.create("app-deleted",{appName:this._name})}}const Zr="10.5.2";function pn(Me,me={}){let et=Me;"object"!=typeof me&&(me={name:me});const dt=Object.assign({name:Ir,automaticDataCollectionEnabled:!1},me),Kt=dt.name;if("string"!=typeof Kt||!Kt)throw it.create("bad-app-name",{appName:String(Kt)});if(et||(et=(0,ne.aH)()),!et)throw it.create("no-options");const wt=jt.get(Kt);if(wt){if((0,ne.vZ)(et,wt.options)&&(0,ne.vZ)(dt,wt.config))return wt;throw it.create("duplicate-app",{appName:Kt})}const ln=new W.H0(Kt);for(const Wn of Yr.values())ln.addComponent(Wn);const pr=new Ei(et,dt,ln);return jt.set(Kt,pr),pr}function Jt(Me=Ir){const me=jt.get(Me);if(!me&&Me===Ir&&(0,ne.aH)())return pn();if(!me)throw it.create("no-app",{appName:Me});return me}function gn(){return Array.from(jt.values())}function jr(Me,me,et){var dt;let Kt=null!==(dt=Zt[Me])&&void 0!==dt?dt:Me;et&&(Kt+=`-${et}`);const wt=Kt.match(/\s|\//),ln=me.match(/\s|\//);if(wt||ln){const pr=[`Unable to register library "${Kt}" with version "${me}":`];return wt&&pr.push(`library name "${Kt}" contains illegal characters (whitespace or "/")`),wt&&ln&&pr.push("and"),ln&&pr.push(`version name "${me}" contains illegal characters (whitespace or "/")`),void Tt.warn(pr.join(" "))}Er(new W.wA(`${Kt}-version`,()=>({library:Kt,version:me}),"VERSION"))}const Qr="firebase-heartbeat-database",qi=1,te="firebase-heartbeat-store";let j=null;function z(){return j||(j=function Le(Me,me,{blocked:et,upgrade:dt,blocking:Kt,terminated:wt}={}){const ln=indexedDB.open(Me,me),pr=Ae(ln);return dt&&ln.addEventListener("upgradeneeded",Wn=>{dt(Ae(ln.result),Wn.oldVersion,Wn.newVersion,Ae(ln.transaction),Wn)}),et&&ln.addEventListener("blocked",Wn=>et(Wn.oldVersion,Wn.newVersion,Wn)),pr.then(Wn=>{wt&&Wn.addEventListener("close",()=>wt()),Kt&&Wn.addEventListener("versionchange",wi=>Kt(wi.oldVersion,wi.newVersion,wi))}).catch(()=>{}),pr}(Qr,qi,{upgrade:(Me,me)=>{0===me&&Me.createObjectStore(te)}}).catch(Me=>{throw it.create("idb-open",{originalErrorMessage:Me.message})})),j}function H(){return(H=(0,m.Z)(function*(Me){try{return yield(yield z()).transaction(te).objectStore(te).get(lt(Me))}catch(me){if(me instanceof ne.ZR)Tt.warn(me.message);else{const et=it.create("idb-get",{originalErrorMessage:me?.message});Tt.warn(et.message)}}})).apply(this,arguments)}function he(Me,me){return qe.apply(this,arguments)}function qe(){return(qe=(0,m.Z)(function*(Me,me){try{const dt=(yield z()).transaction(te,"readwrite");yield dt.objectStore(te).put(me,lt(Me)),yield dt.done}catch(et){if(et instanceof ne.ZR)Tt.warn(et.message);else{const dt=it.create("idb-set",{originalErrorMessage:et?.message});Tt.warn(dt.message)}}})).apply(this,arguments)}function lt(Me){return`${Me.name}!${Me.options.appId}`}class nn{constructor(me){this.container=me,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new gi(et),this._heartbeatsCachePromise=this._storage.read().then(dt=>(this._heartbeatsCache=dt,dt))}triggerHeartbeat(){var me=this;return(0,m.Z)(function*(){const dt=me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kt=Ut();if(null===me._heartbeatsCache&&(me._heartbeatsCache=yield me._heartbeatsCachePromise),me._heartbeatsCache.lastSentHeartbeatDate!==Kt&&!me._heartbeatsCache.heartbeats.some(wt=>wt.date===Kt))return me._heartbeatsCache.heartbeats.push({date:Kt,agent:dt}),me._heartbeatsCache.heartbeats=me._heartbeatsCache.heartbeats.filter(wt=>{const ln=new Date(wt.date).valueOf();return Date.now()-ln<=2592e6}),me._storage.overwrite(me._heartbeatsCache)})()}getHeartbeatsHeader(){var me=this;return(0,m.Z)(function*(){if(null===me._heartbeatsCache&&(yield me._heartbeatsCachePromise),null===me._heartbeatsCache||0===me._heartbeatsCache.heartbeats.length)return"";const et=Ut(),{heartbeatsToSend:dt,unsentEntries:Kt}=function On(Me,me=1024){const et=[];let dt=Me.slice();for(const Kt of Me){const wt=et.find(ln=>ln.agent===Kt.agent);if(wt){if(wt.dates.push(Kt.date),as(et)>me){wt.dates.pop();break}}else if(et.push({agent:Kt.agent,dates:[Kt.date]}),as(et)>me){et.pop();break}dt=dt.slice(1)}return{heartbeatsToSend:et,unsentEntries:dt}}(me._heartbeatsCache.heartbeats),wt=(0,ne.L)(JSON.stringify({version:2,heartbeats:dt}));return me._heartbeatsCache.lastSentHeartbeatDate=et,Kt.length>0?(me._heartbeatsCache.heartbeats=Kt,yield me._storage.overwrite(me._heartbeatsCache)):(me._heartbeatsCache.heartbeats=[],me._storage.overwrite(me._heartbeatsCache)),wt})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class gi{constructor(me){this.app=me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var me=this;return(0,m.Z)(function*(){return(yield me._canUseIndexedDBPromise)&&(yield function $(Me){return H.apply(this,arguments)}(me.app))||{heartbeats:[]}})()}overwrite(me){var et=this;return(0,m.Z)(function*(){var dt;if(yield et._canUseIndexedDBPromise){const wt=yield et.read();return he(et.app,{lastSentHeartbeatDate:null!==(dt=me.lastSentHeartbeatDate)&&void 0!==dt?dt:wt.lastSentHeartbeatDate,heartbeats:me.heartbeats})}})()}add(me){var et=this;return(0,m.Z)(function*(){var dt;if(yield et._canUseIndexedDBPromise){const wt=yield et.read();return he(et.app,{lastSentHeartbeatDate:null!==(dt=me.lastSentHeartbeatDate)&&void 0!==dt?dt:wt.lastSentHeartbeatDate,heartbeats:[...wt.heartbeats,...me.heartbeats]})}})()}}function as(Me){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Me})).length}!function Tr(Me){Er(new W.wA("platform-logger",me=>new Ct(me),"PRIVATE")),Er(new W.wA("heartbeat",me=>new nn(me),"PRIVATE")),jr(Qt,"0.9.22",Me),jr(Qt,"0.9.22","esm2017"),jr("fire-js","")}("")},4537:(St,ke,L)=>{L.d(ke,{H0:()=>ie,wA:()=>pe});var m=L(5861),W=L(9058);class pe{constructor(q,ee,ve){this.name=q,this.instanceFactory=ee,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const ne="[DEFAULT]";class se{constructor(q,ee){this.name=q,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const ee=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(ee)){const ve=new W.BH;if(this.instancesDeferred.set(ee,ve),this.isInitialized(ee)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:ee});Ke&&ve.resolve(Ke)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(q){var ee;const ve=this.normalizeInstanceIdentifier(q?.identifier),Ke=null!==(ee=q?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(Be){if(Ke)return null;throw Be}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function fe(xe){return"EAGER"===xe.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[ee,ve]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(ee);try{const Be=this.getOrInitializeService({instanceIdentifier:Ke});ve.resolve(Be)}catch{}}}}clearInstance(q=ne){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,m.Z)(function*(){const ee=Array.from(q.instances.values());yield Promise.all([...ee.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...ee.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=ne){return this.instances.has(q)}getOptions(q=ne){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:ee={}}=q,ve=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:ve,options:ee});for(const[Be,We]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(Be)&&We.resolve(Ke);return Ke}onInit(q,ee){var ve;const Ke=this.normalizeInstanceIdentifier(ee),Be=null!==(ve=this.onInitCallbacks.get(Ke))&&void 0!==ve?ve:new Set;Be.add(q),this.onInitCallbacks.set(Ke,Be);const We=this.instances.get(Ke);return We&&q(We,Ke),()=>{Be.delete(q)}}invokeOnInitCallbacks(q,ee){const ve=this.onInitCallbacks.get(ee);if(ve)for(const Ke of ve)try{Ke(q,ee)}catch{}}getOrInitializeService({instanceIdentifier:q,options:ee={}}){let ve=this.instances.get(q);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=q,xe===ne?void 0:xe),options:ee}),this.instances.set(q,ve),this.instancesOptions.set(q,ee),this.invokeOnInitCallbacks(ve,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ve)}catch{}var xe;return ve||null}normalizeInstanceIdentifier(q=ne){return this.component?this.component.multipleInstances?q:ne:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ie{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const ee=this.getProvider(q.name);if(ee.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);ee.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const ee=new se(q,this);return this.providers.set(q,ee),ee}getProviders(){return Array.from(this.providers.values())}}},7879:(St,ke,L)=>{L.d(ke,{Yd:()=>fe,in:()=>W});const m=[];var W=function(q){return q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",q}(W||{});const pe={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},ne=W.INFO,se={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},re=(q,ee,...ve)=>{if(ee<q.logLevel)return;const Ke=(new Date).toISOString(),Be=se[ee];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Be](`[${Ke}]  ${q.name}:`,...ve)};class fe{constructor(ee){this.name=ee,this._logLevel=ne,this._logHandler=re,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in W))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?pe[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...ee),this._logHandler(this,W.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...ee),this._logHandler(this,W.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,W.INFO,...ee),this._logHandler(this,W.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,W.WARN,...ee),this._logHandler(this,W.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...ee),this._logHandler(this,W.ERROR,...ee)}}},3182:(St,ke,L)=>{L.d(ke,{C6:()=>m.C6,KN:()=>m.KN,Mq:()=>m.Mq,ZF:()=>m.ZF});var m=L(534);(0,m.KN)("firebase","10.5.2","app")},3446:(St,ke,L)=>{L.d(ke,{hJ:()=>yi,a$:()=>ja,Xb:()=>bs,v0:()=>sa,Aj:()=>Et,w$:()=>vo,LS:()=>ji,e5:()=>Ss,rh:()=>Ii,ck:()=>T});var m=L(5861),W=L(9058),pe=L(534),ne=L(7879),se=L(7582),re=L(4537);const We=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new ne.Yd("@firebase/auth");function kt(I,...h){rt.logLevel<=ne.in.ERROR&&rt.error(`Auth (${pe.Jn}): ${I}`,...h)}function Ae(I,...h){throw Se(I,...h)}function Ue(I,...h){return Se(I,...h)}function Le(I,h,p){const E=Object.assign(Object.assign({},We()),{[h]:p});return new W.LL("auth","Firebase",E).create(h,{appName:I.name})}function Se(I,...h){if("string"!=typeof I){const p=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=I.name),I._errorFactory.create(p,...E)}return ut.create(I,...h)}function de(I,h,...p){if(!I)throw Se(h,...p)}function we(I){const h="INTERNAL ASSERTION FAILED: "+I;throw kt(h),new Error(h)}function Ne(I,h){I||we(h)}function Ct(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Qt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ye{constructor(h,p){this.shortDelay=h,this.longDelay=p,Ne(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function nt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function tn(){return"http:"===Qt()||"https:"===Qt()}()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ot(I,h){Ne(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class ce{static initialize(h,p,E){this.fetchImpl=h,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void we("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void we("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void we("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},De=new Ye(3e4,6e4);function Ie(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function Pe(I,h,p,E){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,m.Z)(function*(I,h,p,E,O={}){return Ft(I,O,(0,m.Z)(function*(){let G={},ue={};E&&("GET"===h?ue=E:G={body:JSON.stringify(E)});const Re=(0,W.xO)(Object.assign({key:I.config.apiKey},ue)).slice(1),Je=yield I._getAdditionalHeaders();return Je["Content-Type"]="application/json",I.languageCode&&(Je["X-Firebase-Locale"]=I.languageCode),ce.fetch()(En(I,I.config.apiHost,p,Re),Object.assign({method:h,headers:Je,referrerPolicy:"no-referrer"},G))}))})).apply(this,arguments)}function Ft(I,h,p){return an.apply(this,arguments)}function an(){return(an=(0,m.Z)(function*(I,h,p){I._canInitEmulator=!1;const E=Object.assign(Object.assign({},_e),h);try{const O=new Pn(I),G=yield Promise.race([p(),O.promise]);O.clearNetworkTimeout();const ue=yield G.json();if("needConfirmation"in ue)throw An(I,"account-exists-with-different-credential",ue);if(G.ok&&!("errorMessage"in ue))return ue;{const Re=G.ok?ue.errorMessage:ue.error.message,[Je,Ot]=Re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw An(I,"credential-already-in-use",ue);if("EMAIL_EXISTS"===Je)throw An(I,"email-already-in-use",ue);if("USER_DISABLED"===Je)throw An(I,"user-disabled",ue);const st=E[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(Ot)throw Le(I,st,Ot);Ae(I,st)}}catch(O){if(O instanceof W.ZR)throw O;Ae(I,"network-request-failed",{message:String(O)})}})).apply(this,arguments)}function yn(I,h,p,E){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,m.Z)(function*(I,h,p,E,O={}){const G=yield Pe(I,h,p,E,O);return"mfaPendingCredential"in G&&Ae(I,"multi-factor-auth-required",{_serverResponse:G}),G})).apply(this,arguments)}function En(I,h,p,E){const O=`${h}${p}?${E}`;return I.config.emulator?ot(I.config,O):`${I.config.apiScheme}://${O}`}function It(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Pn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(Ue(this.auth,"network-request-failed")),De.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function An(I,h,p){const E={appName:I.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const O=Ue(I,h,E);return O.customData._tokenResponse=p,O}function bn(I){return void 0!==I&&void 0!==I.enterprise}class Sr{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return It(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function ki(I,h){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,m.Z)(function*(I,h){return Pe(I,"GET","/v2/recaptchaConfig",Ie(I,h))})).apply(this,arguments)}function un(){return(un=(0,m.Z)(function*(I,h){return Pe(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Yr(){return(Yr=(0,m.Z)(function*(I,h){return Pe(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Br(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Sn(){return(Sn=(0,m.Z)(function*(I,h=!1){const p=(0,W.m9)(I),E=yield p.getIdToken(h),O=fn(E);de(O&&O.exp&&O.auth_time&&O.iat,p.auth,"internal-error");const G="object"==typeof O.firebase?O.firebase:void 0,ue=G?.sign_in_provider;return{claims:O,token:E,authTime:Br(hn(O.auth_time)),issuedAtTime:Br(hn(O.iat)),expirationTime:Br(hn(O.exp)),signInProvider:ue||null,signInSecondFactor:G?.sign_in_second_factor||null}})).apply(this,arguments)}function hn(I){return 1e3*Number(I)}function fn(I){const[h,p,E]=I.split(".");if(void 0===h||void 0===p||void 0===E)return kt("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,W.tV)(p);return O?JSON.parse(O):(kt("Failed to decode base64 JWT payload"),null)}catch(O){return kt("Caught error parsing JWT payload as JSON",O?.toString()),null}}function it(I,h){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,m.Z)(function*(I,h,p=!1){if(p)return h;try{return yield h}catch(E){throw E instanceof W.ZR&&function Zr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(E)&&I.auth.currentUser===I&&(yield I.auth.signOut()),E}})).apply(this,arguments)}class pn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const O=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,m.Z)(function*(){yield p.iteration()}),E)}iteration(){var h=this;return(0,m.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Jt{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Br(this.lastLoginAt),this.creationTime=Br(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gn(I){return cn.apply(this,arguments)}function cn(){return cn=(0,m.Z)(function*(I){var h;const p=I.auth,E=yield I.getIdToken(),O=yield it(I,function jt(I,h){return Yr.apply(this,arguments)}(p,{idToken:E}));de(O?.users.length,p,"internal-error");const G=O.users[0];I._notifyReloadListener(G);const ue=null!==(h=G.providerUserInfo)&&void 0!==h&&h.length?function ar(I){return I.map(h=>{var{providerId:p}=h,E=(0,se._T)(h,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(G.providerUserInfo):[],Re=function mn(I,h){return[...I.filter(E=>!h.some(O=>O.providerId===E.providerId)),...h]}(I.providerData,ue),st=!!I.isAnonymous&&!(I.email&&G.passwordHash||Re?.length),Fn={uid:G.localId,displayName:G.displayName||null,photoURL:G.photoUrl||null,email:G.email||null,emailVerified:G.emailVerified||!1,phoneNumber:G.phoneNumber||null,tenantId:G.tenantId||null,providerData:Re,metadata:new Jt(G.createdAt,G.lastLoginAt),isAnonymous:st};Object.assign(I,Fn)}),cn.apply(this,arguments)}function jr(){return(jr=(0,m.Z)(function*(I){const h=(0,W.m9)(I);yield gn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function qi(){return(qi=(0,m.Z)(function*(I,h){const p=yield Ft(I,{},(0,m.Z)(function*(){const E=(0,W.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:O,apiKey:G}=I.config,ue=En(I,O,"/v1/token",`key=${G}`),Re=yield I._getAdditionalHeaders();return Re["Content-Type"]="application/x-www-form-urlencoded",ce.fetch()(ue,{method:"POST",headers:Re,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){de(h.idToken,"internal-error"),de(typeof h.idToken<"u","internal-error"),de(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function vs(I){const h=fn(I);return de(h,"internal-error"),de(typeof h.exp<"u","internal-error"),de(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var E=this;return(0,m.Z)(function*(){return de(!E.accessToken||E.refreshToken,h,"user-token-expired"),p||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(h,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var E=this;return(0,m.Z)(function*(){const{accessToken:O,refreshToken:G,expiresIn:ue}=yield function Qr(I,h){return qi.apply(this,arguments)}(h,p);E.updateTokensAndExpiration(O,G,Number(ue))})()}updateTokensAndExpiration(h,p,E){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,p){const{refreshToken:E,accessToken:O,expirationTime:G}=p,ue=new te;return E&&(de("string"==typeof E,"internal-error",{appName:h}),ue.refreshToken=E),O&&(de("string"==typeof O,"internal-error",{appName:h}),ue.accessToken=O),G&&(de("number"==typeof G,"internal-error",{appName:h}),ue.expirationTime=G),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new te,this.toJSON())}_performRefresh(){return we("not implemented")}}function j(I,h){de("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class z{constructor(h){var{uid:p,auth:E,stsTokenManager:O}=h,G=(0,se._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=G.displayName||null,this.email=G.email||null,this.emailVerified=G.emailVerified||!1,this.phoneNumber=G.phoneNumber||null,this.photoURL=G.photoURL||null,this.isAnonymous=G.isAnonymous||!1,this.tenantId=G.tenantId||null,this.providerData=G.providerData?[...G.providerData]:[],this.metadata=new Jt(G.createdAt||void 0,G.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,m.Z)(function*(){const E=yield it(p,p.stsTokenManager.getToken(p.auth,h));return de(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(h){return function Er(I){return Sn.apply(this,arguments)}(this,h)}reload(){return function Ti(I){return jr.apply(this,arguments)}(this)}_assign(h){this!==h&&(de(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new z(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var E=this;return(0,m.Z)(function*(){let O=!1;h.idToken&&h.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(h),O=!0),p&&(yield gn(E)),yield E.auth._persistUserIfCurrent(E),O&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var h=this;return(0,m.Z)(function*(){const p=yield h.getIdToken();return yield it(h,function pi(I,h){return un.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var E,O,G,ue,Re,Je,Ot,st;const Fn=null!==(E=p.displayName)&&void 0!==E?E:void 0,Mi=null!==(O=p.email)&&void 0!==O?O:void 0,ko=null!==(G=p.phoneNumber)&&void 0!==G?G:void 0,cc=null!==(ue=p.photoURL)&&void 0!==ue?ue:void 0,id=null!==(Re=p.tenantId)&&void 0!==Re?Re:void 0,Do=null!==(Je=p._redirectEventId)&&void 0!==Je?Je:void 0,Cu=null!==(Ot=p.createdAt)&&void 0!==Ot?Ot:void 0,ch=null!==(st=p.lastLoginAt)&&void 0!==st?st:void 0,{uid:sd,emailVerified:Pa,isAnonymous:Ma,providerData:od,stsTokenManager:xa}=p;de(sd&&xa,h,"internal-error");const lh=te.fromJSON(this.name,xa);de("string"==typeof sd,h,"internal-error"),j(Fn,h.name),j(Mi,h.name),de("boolean"==typeof Pa,h,"internal-error"),de("boolean"==typeof Ma,h,"internal-error"),j(ko,h.name),j(cc,h.name),j(id,h.name),j(Do,h.name),j(Cu,h.name),j(ch,h.name);const Na=new z({uid:sd,auth:h,email:Mi,emailVerified:Pa,displayName:Fn,isAnonymous:Ma,photoURL:cc,phoneNumber:ko,tenantId:id,stsTokenManager:lh,createdAt:Cu,lastLoginAt:ch});return od&&Array.isArray(od)&&(Na.providerData=od.map(lc=>Object.assign({},lc))),Do&&(Na._redirectEventId=Do),Na}static _fromIdTokenResponse(h,p,E=!1){return(0,m.Z)(function*(){const O=new te;O.updateFromServerResponse(p);const G=new z({uid:p.localId,auth:h,stsTokenManager:O,isAnonymous:E});return yield gn(G),G})()}}const $=new Map;function H(I){Ne(I instanceof Function,"Expected a class definition");let h=$.get(I);return h?(Ne(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,$.set(I,h),h)}const qe=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(p,E){var O=this;return(0,m.Z)(function*(){O.storage[p]=E})()}_get(p){var E=this;return(0,m.Z)(function*(){const O=E.storage[p];return void 0===O?null:O})()}_remove(p){var E=this;return(0,m.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return I.type="NONE",I})();function lt(I,h,p){return`firebase:${I}:${h}:${p}`}class $t{constructor(h,p,E){this.persistence=h,this.auth=p,this.userKey=E;const{config:O,name:G}=this.auth;this.fullUserKey=lt(this.userKey,O.apiKey,G),this.fullPersistenceKey=lt("persistence",O.apiKey,G),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,m.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?z._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,m.Z)(function*(){if(p.persistence===h)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,E="authUser"){return(0,m.Z)(function*(){if(!p.length)return new $t(H(qe),h,E);const O=(yield Promise.all(p.map(function(){var Ot=(0,m.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return Ot.apply(this,arguments)}}()))).filter(Ot=>Ot);let G=O[0]||H(qe);const ue=lt(E,h.config.apiKey,h.name);let Re=null;for(const Ot of p)try{const st=yield Ot._get(ue);if(st){const Fn=z._fromJSON(h,st);Ot!==G&&(Re=Fn),G=Ot;break}}catch{}const Je=O.filter(Ot=>Ot._shouldAllowMigration);return G._shouldAllowMigration&&Je.length?(G=Je[0],Re&&(yield G._set(ue,Re.toJSON())),yield Promise.all(p.map(function(){var Ot=(0,m.Z)(function*(st){if(st!==G)try{yield st._remove(ue)}catch{}});return function(st){return Ot.apply(this,arguments)}}())),new $t(G,h,E)):new $t(G,h,E)})()}}function qt(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(gi(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(nn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Tr(h))return"Blackberry";if(Me(h))return"Webos";if(Ut(h))return"Safari";if((h.includes("chrome/")||On(h))&&!h.includes("edge/"))return"Chrome";if(as(h))return"Android";{const E=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function nn(I=(0,W.z$)()){return/firefox\//i.test(I)}function Ut(I=(0,W.z$)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function On(I=(0,W.z$)()){return/crios\//i.test(I)}function gi(I=(0,W.z$)()){return/iemobile/i.test(I)}function as(I=(0,W.z$)()){return/android/i.test(I)}function Tr(I=(0,W.z$)()){return/blackberry/i.test(I)}function Me(I=(0,W.z$)()){return/webos/i.test(I)}function me(I=(0,W.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function wt(I=(0,W.z$)()){return me(I)||as(I)||Me(I)||Tr(I)||/windows phone/i.test(I)||gi(I)}function pr(I,h=[]){let p;switch(I){case"Browser":p=qt((0,W.z$)());break;case"Worker":p=`${qt((0,W.z$)())}-${I}`;break;default:p=I}const E=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${pe.Jn}/${E}`}class Wn{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const E=G=>new Promise((ue,Re)=>{try{ue(h(G))}catch(Je){Re(Je)}});E.onAbort=p,this.queue.push(E);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,m.Z)(function*(){if(p.auth.currentUser===h)return;const E=[];try{for(const O of p.queue)yield O(h),O.onAbort&&E.push(O.onAbort)}catch(O){E.reverse();for(const G of E)try{G()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:O?.message})}})()}}function ti(){return(ti=(0,m.Z)(function*(I,h={}){return Pe(I,"GET","/v2/passwordPolicy",Ie(I,h))})).apply(this,arguments)}class er{constructor(h){var p,E,O,G;const ue=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=ue.minPasswordLength)&&void 0!==p?p:6,ue.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ue.maxPasswordLength),void 0!==ue.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ue.containsLowercaseCharacter),void 0!==ue.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ue.containsUppercaseCharacter),void 0!==ue.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ue.containsNumericCharacter),void 0!==ue.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ue.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(O=null===(E=h.allowedNonAlphanumericCharacters)||void 0===E?void 0:E.join(""))&&void 0!==O?O:"",this.forceUpgradeOnSignin=null!==(G=h.forceUpgradeOnSignin)&&void 0!==G&&G,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,E,O,G,ue,Re;const Je={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Je),this.validatePasswordCharacterOptions(h,Je),Je.isValid&&(Je.isValid=null===(p=Je.meetsMinPasswordLength)||void 0===p||p),Je.isValid&&(Je.isValid=null===(E=Je.meetsMaxPasswordLength)||void 0===E||E),Je.isValid&&(Je.isValid=null===(O=Je.containsLowercaseLetter)||void 0===O||O),Je.isValid&&(Je.isValid=null===(G=Je.containsUppercaseLetter)||void 0===G||G),Je.isValid&&(Je.isValid=null===(ue=Je.containsNumericCharacter)||void 0===ue||ue),Je.isValid&&(Je.isValid=null===(Re=Je.containsNonAlphanumericCharacter)||void 0===Re||Re),Je}validatePasswordLengthOptions(h,p){const E=this.customStrengthOptions.minPasswordLength,O=this.customStrengthOptions.maxPasswordLength;E&&(p.meetsMinPasswordLength=h.length>=E),O&&(p.meetsMaxPasswordLength=h.length<=O)}validatePasswordCharacterOptions(h,p){let E;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let O=0;O<h.length;O++)E=h.charAt(O),this.updatePasswordCharacterOptionsStatuses(p,E>="a"&&E<="z",E>="A"&&E<="Z",E>="0"&&E<="9",this.allowedNonAlphanumericCharacters.includes(E))}updatePasswordCharacterOptionsStatuses(h,p,E,O,G){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=E)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=O)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=G))}}class Ns{constructor(h,p,E,O){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=E,this.config=O,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ni(this),this.idTokenSubscription=new ni(this),this.beforeStateQueue=new Wn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=O.sdkClientVersion}_initializeWithPersistence(h,p){var E=this;return p&&(this._popupRedirectResolver=H(p)),this._initializationPromise=this.queue((0,m.Z)(function*(){var O,G;if(!E._deleted&&(E.persistenceManager=yield $t.create(E,h),!E._deleted)){if(null!==(O=E._popupRedirectResolver)&&void 0!==O&&O._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(G=E.currentUser)||void 0===G?void 0:G.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,m.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,m.Z)(function*(){var E;const O=yield p.assertedPersistence.getCurrentUser();let G=O,ue=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Re=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,Je=G?._redirectEventId,Ot=yield p.tryRedirectSignIn(h);(!Re||Re===Je)&&Ot?.user&&(G=Ot.user,ue=!0)}if(!G)return p.directlySetCurrentUser(null);if(!G._redirectEventId){if(ue)try{yield p.beforeStateQueue.runMiddleware(G)}catch(Re){G=O,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Re))}return G?p.reloadAndSetCurrentUserOrClear(G):p.directlySetCurrentUser(null)}return de(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===G._redirectEventId?p.directlySetCurrentUser(G):p.reloadAndSetCurrentUserOrClear(G)})()}tryRedirectSignIn(h){var p=this;return(0,m.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,m.Z)(function*(){try{yield gn(h)}catch(E){if("auth/network-request-failed"!==E?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Tt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,m.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,m.Z)(function*(){const E=h?(0,W.m9)(h):null;return E&&de(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(h,p=!1){var E=this;return(0,m.Z)(function*(){if(!E._deleted)return h&&de(E.tenantId===h.tenantId,E,"tenant-id-mismatch"),p||(yield E.beforeStateQueue.runMiddleware(h)),E.queue((0,m.Z)(function*(){yield E.directlySetCurrentUser(h),E.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,m.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,m.Z)(function*(){yield p.assertedPersistence.setPersistence(H(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,m.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const E=p._getPasswordPolicyInternal();return E.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):E.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,m.Z)(function*(){const p=yield function wi(I){return ti.apply(this,arguments)}(h),E=new er(p);null===h.tenantId?h._projectPasswordPolicy=E:h._tenantPasswordPolicies[h.tenantId]=E})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new W.LL("auth","Firebase",h())}onAuthStateChanged(h,p,E){return this.registerStateListener(this.authStateSubscription,h,p,E)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,E){return this.registerStateListener(this.idTokenSubscription,h,p,E)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const E=this.onAuthStateChanged(()=>{E(),h()},p)}})}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var E=this;return(0,m.Z)(function*(){const O=yield E.getOrInitRedirectPersistenceManager(p);return null===h?O.removeCurrentUser():O.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,m.Z)(function*(){if(!p.redirectPersistenceManager){const E=h&&H(h)||p._popupRedirectResolver;de(E,p,"argument-error"),p.redirectPersistenceManager=yield $t.create(p,[H(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,m.Z)(function*(){var E,O;return p._isInitialized&&(yield p.queue((0,m.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===h?p._currentUser:(null===(O=p.redirectUser)||void 0===O?void 0:O._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,m.Z)(function*(){if(h===p.currentUser)return p.queue((0,m.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,E,O){if(this._deleted)return()=>{};const G="function"==typeof p?p:p.next.bind(p);let ue=!1;const Re=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(Re,this,"internal-error"),Re.then(()=>{ue||G(this.currentUser)}),"function"==typeof p){const Je=h.addObserver(p,E,O);return()=>{ue=!0,Je()}}{const Je=h.addObserver(p);return()=>{ue=!0,Je()}}}directlySetCurrentUser(h){var p=this;return(0,m.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=pr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,m.Z)(function*(){var p;const E={"X-Client-Version":h.clientVersion};h.app.options.appId&&(E["X-Firebase-gmpid"]=h.app.options.appId);const O=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();O&&(E["X-Firebase-Client"]=O);const G=yield h._getAppCheckToken();return G&&(E["X-Firebase-AppCheck"]=G),E})()}_getAppCheckToken(){var h=this;return(0,m.Z)(function*(){var p;const E=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return E?.error&&function Yt(I,...h){rt.logLevel<=ne.in.WARN&&rt.warn(`Auth (${pe.Jn}): ${I}`,...h)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Tn(I){return(0,W.m9)(I)}class ni{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,W.ne)(p=>this.observer=p)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gr(I){return new Promise((h,p)=>{const E=document.createElement("script");E.setAttribute("src",I),E.onload=h,E.onerror=O=>{const G=Ue("internal-error");G.customData=O,p(G)},E.type="text/javascript",E.charset="UTF-8",function Rn(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(E)})}function Ki(I){return`__${I}${Math.floor(1e6*Math.random())}`}class ht{constructor(h){this.type="recaptcha-enterprise",this.auth=Tn(h)}verify(h="verify",p=!1){var E=this;return(0,m.Z)(function*(){function G(){return G=(0,m.Z)(function*(Re){if(!p){if(null==Re.tenantId&&null!=Re._agentRecaptchaConfig)return Re._agentRecaptchaConfig.siteKey;if(null!=Re.tenantId&&void 0!==Re._tenantRecaptchaConfigs[Re.tenantId])return Re._tenantRecaptchaConfigs[Re.tenantId].siteKey}return new Promise(function(){var Je=(0,m.Z)(function*(Ot,st){ki(Re,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Fn=>{if(void 0!==Fn.recaptchaKey){const Mi=new Sr(Fn);return null==Re.tenantId?Re._agentRecaptchaConfig=Mi:Re._tenantRecaptchaConfigs[Re.tenantId]=Mi,Ot(Mi.siteKey)}st(new Error("recaptcha Enterprise site key undefined"))}).catch(Fn=>{st(Fn)})});return function(Ot,st){return Je.apply(this,arguments)}}())}),G.apply(this,arguments)}function ue(Re,Je,Ot){const st=window.grecaptcha;bn(st)?st.enterprise.ready(()=>{st.enterprise.execute(Re,{action:h}).then(Fn=>{Je(Fn)}).catch(()=>{Je("NO_RECAPTCHA")})}):Ot(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Re,Je)=>{(function O(Re){return G.apply(this,arguments)})(E.auth).then(Ot=>{if(!p&&bn(window.grecaptcha))ue(Ot,Re,Je);else{if(typeof window>"u")return void Je(new Error("RecaptchaVerifier is only supported in browser"));gr("https://www.google.com/recaptcha/enterprise.js?render="+Ot).then(()=>{ue(Ot,Re,Je)}).catch(st=>{Je(st)})}}).catch(Ot=>{Je(Ot)})})})()}}function Qe(I,h,p){return _t.apply(this,arguments)}function _t(){return(_t=(0,m.Z)(function*(I,h,p,E=!1){const O=new ht(I);let G;try{G=yield O.verify(p)}catch{G=yield O.verify(p,!0)}const ue=Object.assign({},h);return Object.assign(ue,E?{captchaResp:G}:{captchaResponse:G}),Object.assign(ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ue})).apply(this,arguments)}function Pt(I,h,p,E){return mr.apply(this,arguments)}function mr(){return mr=(0,m.Z)(function*(I,h,p,E){var O;if(null!==(O=I._getRecaptchaConfig())&&void 0!==O&&O.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const G=yield Qe(I,h,p,"getOobCode"===p);return E(I,G)}return E(I,h).catch(function(){var G=(0,m.Z)(function*(ue){if("auth/missing-recaptcha-token"===ue.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Re=yield Qe(I,h,p,"getOobCode"===p);return E(I,Re)}return Promise.reject(ue)});return function(ue){return G.apply(this,arguments)}}())}),mr.apply(this,arguments)}function Hs(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function pa(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class So{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return we("not implemented")}_getIdTokenResponse(h){return we("not implemented")}_linkToIdToken(h,p){return we("not implemented")}_getReauthenticationResolver(h){return we("not implemented")}}function Yi(I,h){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,m.Z)(function*(I,h){return Pe(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Js(I,h){return eo.apply(this,arguments)}function eo(){return(eo=(0,m.Z)(function*(I,h){return yn(I,"POST","/v1/accounts:signInWithPassword",Ie(I,h))})).apply(this,arguments)}function to(I,h){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,m.Z)(function*(I,h){return Pe(I,"POST","/v1/accounts:sendOobCode",Ie(I,h))})).apply(this,arguments)}function Zi(){return(Zi=(0,m.Z)(function*(I,h){return to(I,h)})).apply(this,arguments)}function no(I,h){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,m.Z)(function*(I,h){return to(I,h)})).apply(this,arguments)}function Rr(){return(Rr=(0,m.Z)(function*(I,h){return yn(I,"POST","/v1/accounts:signInWithEmailLink",Ie(I,h))})).apply(this,arguments)}function ls(){return(ls=(0,m.Z)(function*(I,h){return yn(I,"POST","/v1/accounts:signInWithEmailLink",Ie(I,h))})).apply(this,arguments)}class Xr extends So{constructor(h,p,E,O=null){super("password",E),this._email=h,this._password=p,this._tenantId=O}static _fromEmailAndPassword(h,p){return new Xr(h,p,"password")}static _fromEmailAndCode(h,p,E=null){return new Xr(h,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,m.Z)(function*(){switch(p.signInMethod){case"password":return Pt(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Js);case"emailLink":return function Cn(I,h){return Rr.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Ae(h,"internal-error")}})()}_linkToIdToken(h,p){var E=this;return(0,m.Z)(function*(){switch(E.signInMethod){case"password":return Yi(h,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function zr(I,h){return ls.apply(this,arguments)}(h,{idToken:p,email:E._email,oobCode:E._password});default:Ae(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function ds(I,h){return Es.apply(this,arguments)}function Es(){return(Es=(0,m.Z)(function*(I,h){return yn(I,"POST","/v1/accounts:signInWithIdp",Ie(I,h))})).apply(this,arguments)}class hs extends So{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new hs(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Ae("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:O}=p,G=(0,se._T)(p,["providerId","signInMethod"]);if(!E||!O)return null;const ue=new hs(E,O);return ue.idToken=G.idToken||void 0,ue.accessToken=G.accessToken||void 0,ue.secret=G.secret,ue.nonce=G.nonce,ue.pendingToken=G.pendingToken||null,ue}_getIdTokenResponse(h){return ds(h,this.buildRequest())}_linkToIdToken(h,p){const E=this.buildRequest();return E.idToken=p,ds(h,E)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,ds(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,W.xO)(p)}return h}}class Ht{constructor(h){var p,E,O,G,ue,Re;const Je=(0,W.zd)((0,W.pd)(h)),Ot=null!==(p=Je.apiKey)&&void 0!==p?p:null,st=null!==(E=Je.oobCode)&&void 0!==E?E:null,Fn=function Xi(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=Je.mode)&&void 0!==O?O:null);de(Ot&&st&&Fn,"argument-error"),this.apiKey=Ot,this.operation=Fn,this.code=st,this.continueUrl=null!==(G=Je.continueUrl)&&void 0!==G?G:null,this.languageCode=null!==(ue=Je.languageCode)&&void 0!==ue?ue:null,this.tenantId=null!==(Re=Je.tenantId)&&void 0!==Re?Re:null}static parseLink(h){const p=function qs(I){const h=(0,W.zd)((0,W.pd)(I)).link,p=h?(0,W.zd)((0,W.pd)(h)).deep_link_id:null,E=(0,W.zd)((0,W.pd)(I)).deep_link_id;return(E?(0,W.zd)((0,W.pd)(E)).link:null)||E||p||h||I}(h);try{return new Ht(p)}catch{return null}}}let Go=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,E){return Xr._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const O=Ht.parseLink(E);return de(O,"argument-error"),Xr._fromEmailAndCode(p,O.code,O.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Vi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Dr extends Vi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}let yi=(()=>{class I extends Dr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,E){return hs._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:E})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:E,oauthAccessToken:O}=p;if(!E&&!O)return null;try{return I.credential(E,O)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})();function _n(I,h){return ga.apply(this,arguments)}function ga(){return(ga=(0,m.Z)(function*(I,h){return yn(I,"POST","/v1/accounts:signUp",Ie(I,h))})).apply(this,arguments)}class si{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,E,O=!1){return(0,m.Z)(function*(){const G=yield z._fromIdTokenResponse(h,E,O),ue=Ba(E);return new si({user:G,providerId:ue,_tokenResponse:E,operationType:p})})()}static _forOperation(h,p,E){return(0,m.Z)(function*(){yield h._updateTokensIfNecessary(E,!0);const O=Ba(E);return new si({user:h,providerId:O,_tokenResponse:E,operationType:p})})()}}function Ba(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class vi extends W.ZR{constructor(h,p,E,O){var G;super(p.code,p.message),this.operationType=E,this.user=O,Object.setPrototypeOf(this,vi.prototype),this.customData={appName:h.name,tenantId:null!==(G=h.tenantId)&&void 0!==G?G:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(h,p,E,O){return new vi(h,p,E,O)}}function Ys(I,h,p,E){return("reauthenticate"===h?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(G=>{throw"auth/multi-factor-auth-required"===G.code?vi._fromErrorAndOperation(I,G,h,E):G})}function k(){return(k=(0,m.Z)(function*(I,h,p=!1){const E=yield it(I,h._linkToIdToken(I.auth,yield I.getIdToken()),p);return si._forOperation(I,"link",E)})).apply(this,arguments)}function Ve(){return(Ve=(0,m.Z)(function*(I,h,p=!1){const{auth:E}=I,O="reauthenticate";try{const G=yield it(I,Ys(E,O,h,I),p);de(G.idToken,E,"internal-error");const ue=fn(G.idToken);de(ue,E,"internal-error");const{sub:Re}=ue;return de(I.uid===Re,E,"user-mismatch"),si._forOperation(I,O,G)}catch(G){throw"auth/user-not-found"===G?.code&&Ae(E,"user-mismatch"),G}})).apply(this,arguments)}function ct(I,h){return xt.apply(this,arguments)}function xt(){return(xt=(0,m.Z)(function*(I,h,p=!1){const E="signIn",O=yield Ys(I,E,h),G=yield si._fromIdTokenResponse(I,E,O);return p||(yield I._updateCurrentUser(G.user)),G})).apply(this,arguments)}function en(){return(en=(0,m.Z)(function*(I,h){return ct(Tn(I),h)})).apply(this,arguments)}function Ds(I,h,p){var E;de((null===(E=p.url)||void 0===E?void 0:E.length)>0,I,"invalid-continue-uri"),de(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(de(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(de(p.android.packageName.length>0,I,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function Bi(I){return As.apply(this,arguments)}function As(){return(As=(0,m.Z)(function*(I){const h=Tn(I);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function ji(I,h,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,m.Z)(function*(I,h,p){const E=Tn(I),O={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};p&&Ds(E,O,p),yield Pt(E,O,"getOobCode",no)})).apply(this,arguments)}function bs(I,h,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,m.Z)(function*(I,h,p){const E=Tn(I),ue=yield Pt(E,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_n).catch(Je=>{throw"auth/password-does-not-meet-requirements"===Je.code&&Bi(I),Je}),Re=yield si._fromIdTokenResponse(E,"signIn",ue);return yield E._updateCurrentUser(Re.user),Re})).apply(this,arguments)}function Ss(I,h,p){return function bt(I,h){return en.apply(this,arguments)}((0,W.m9)(I),Go.credential(h,p)).catch(function(){var E=(0,m.Z)(function*(O){throw"auth/password-does-not-meet-requirements"===O.code&&Bi(I),O});return function(O){return E.apply(this,arguments)}}())}function vo(I,h){return Rs.apply(this,arguments)}function Rs(){return Rs=(0,m.Z)(function*(I,h){const p=(0,W.m9)(I),O={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};h&&Ds(p.auth,O,h);const{email:G}=yield function Hr(I,h){return Zi.apply(this,arguments)}(p.auth,O);G!==I.email&&(yield I.reload())}),Rs.apply(this,arguments)}function hu(){return(hu=(0,m.Z)(function*(I,h){return Pe(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function T(I,h){return F.apply(this,arguments)}function F(){return F=(0,m.Z)(function*(I,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const E=(0,W.m9)(I),G={idToken:yield E.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},ue=yield it(E,function io(I,h){return hu.apply(this,arguments)}(E.auth,G));E.displayName=ue.displayName||null,E.photoURL=ue.photoUrl||null;const Re=E.providerData.find(({providerId:Je})=>"password"===Je);Re&&(Re.displayName=E.displayName,Re.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ue)}),F.apply(this,arguments)}function Et(I,h,p,E){return(0,W.m9)(I).onAuthStateChanged(h,p,E)}const Si="__sak";class rn{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Si,"1"),this.storage.removeItem(Si),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ja=(()=>{class I extends rn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rs(){const I=(0,W.z$)();return Ut(I)||me(I)}()&&function ln(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=wt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const O=this.storage.getItem(E),G=this.localCache[E];O!==G&&p(E,G,O)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((Re,Je,Ot)=>{this.notifyListeners(Re,Ot)});const O=p.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Re=this.storage.getItem(O);if(p.newValue!==Re)null!==p.newValue?this.storage.setItem(O,p.newValue):this.storage.removeItem(O);else if(this.localCache[O]===p.newValue&&!E)return}const G=()=>{const Re=this.storage.getItem(O);!E&&this.localCache[O]===Re||this.notifyListeners(O,Re)},ue=this.storage.getItem(O);!function Kt(){return(0,W.w1)()&&10===document.documentMode}()||ue===p.newValue||p.newValue===p.oldValue?G():setTimeout(G,10)}notifyListeners(p,E){this.localCache[p]=E;const O=this.listeners[p];if(O)for(const G of Array.from(O))G(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var O=()=>super._set,G=this;return(0,m.Z)(function*(){yield O().call(G,p,E),G.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,O=this;return(0,m.Z)(function*(){const G=yield E().call(O,p);return O.localCache[p]=JSON.stringify(G),G})()}_remove(p){var E=()=>super._remove,O=this;return(0,m.Z)(function*(){yield E().call(O,p),delete O.localCache[p]})()}}return I.type="LOCAL",I})(),oo=(()=>{class I extends rn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return I.type="SESSION",I})();let yt=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(G=>G.isListeningto(p));if(E)return E;const O=new I(p);return this.receivers.push(O),O}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,m.Z)(function*(){const O=p,{eventId:G,eventType:ue,data:Re}=O.data,Je=E.handlersMap[ue];if(!Je?.size)return;O.ports[0].postMessage({status:"ack",eventId:G,eventType:ue});const Ot=Array.from(Je).map(function(){var Fn=(0,m.Z)(function*(Mi){return Mi(O.origin,Re)});return function(Mi){return Fn.apply(this,arguments)}}()),st=yield function yr(I){return Promise.all(I.map(function(){var h=(0,m.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return h.apply(this,arguments)}}()))}(Ot);O.ports[0].postMessage({status:"done",eventId:G,eventType:ue,response:st})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function ao(I="",h=10){let p="";for(let E=0;E<h;E++)p+=Math.floor(10*Math.random());return I+p}class ec{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,E=50){var O=this;return(0,m.Z)(function*(){const G=typeof MessageChannel<"u"?new MessageChannel:null;if(!G)throw new Error("connection_unavailable");let ue,Re;return new Promise((Je,Ot)=>{const st=ao("",20);G.port1.start();const Fn=setTimeout(()=>{Ot(new Error("unsupported_event"))},E);Re={messageChannel:G,onMessage(Mi){const ko=Mi;if(ko.data.eventId===st)switch(ko.data.status){case"ack":clearTimeout(Fn),ue=setTimeout(()=>{Ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(ue),Je(ko.data.response);break;default:clearTimeout(Fn),clearTimeout(ue),Ot(new Error("invalid_response"))}}},O.handlers.add(Re),G.port1.addEventListener("message",Re.onMessage),O.target.postMessage({eventType:h,eventId:st,data:p},[G.port2])}).finally(()=>{Re&&O.removeMessageHandler(Re)})})()}}function dr(){return window}function Wt(){return typeof dr().WorkerGlobalScope<"u"&&"function"==typeof dr().importScripts}function Ea(){return(Ea=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const is="firebaseLocalStorageDb",uo="firebaseLocalStorage",Uc="fbase_key";class Ls{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ta(I,h){return I.transaction([uo],h?"readwrite":"readonly").objectStore(uo)}function wa(){const I=indexedDB.open(is,1);return new Promise((h,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const E=I.result;try{E.createObjectStore(uo,{keyPath:Uc})}catch(O){p(O)}}),I.addEventListener("success",(0,m.Z)(function*(){const E=I.result;E.objectStoreNames.contains(uo)?h(E):(E.close(),yield function Te(){const I=indexedDB.deleteDatabase(is);return new Ls(I).toPromise()}(),h(yield wa()))}))})}function $e(I,h,p){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,m.Z)(function*(I,h,p){const E=Ta(I,!0).put({[Uc]:h,value:p});return new Ls(E).toPromise()})).apply(this,arguments)}function co(){return(co=(0,m.Z)(function*(I,h){const p=Ta(I,!1).get(h),E=yield new Ls(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ri(I,h){const p=Ta(I,!0).delete(h);return new Ls(p).toPromise()}const Bc=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,m.Z)(function*(){return p.db||(p.db=yield wa()),p.db})()}_withRetries(p){var E=this;return(0,m.Z)(function*(){let O=0;for(;;)try{const G=yield E._openDb();return yield p(G)}catch(G){if(O++>3)throw G;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,m.Z)(function*(){return Wt()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,m.Z)(function*(){p.receiver=yt._getInstance(function zl(){return Wt()?self:null}()),p.receiver._subscribe("keyChanged",function(){var E=(0,m.Z)(function*(O,G){return{keyProcessed:(yield p._poll()).includes(G.key)}});return function(O,G){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,m.Z)(function*(O,G){return["keyChanged"]});return function(O,G){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,m.Z)(function*(){var E,O;if(p.activeServiceWorker=yield function Hl(){return Ea.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new ec(p.activeServiceWorker);const G=yield p.sender._send("ping",{},800);G&&null!==(E=G[0])&&void 0!==E&&E.fulfilled&&null!==(O=G[0])&&void 0!==O&&O.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,m.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Vc(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const p=yield wa();return yield $e(p,Si,"1"),yield Ri(p,Si),!0}catch{}return!1})()}_withPendingWrite(p){var E=this;return(0,m.Z)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var O=this;return(0,m.Z)(function*(){return O._withPendingWrite((0,m.Z)(function*(){return yield O._withRetries(G=>$e(G,p,E)),O.localCache[p]=E,O.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,m.Z)(function*(){const O=yield E._withRetries(G=>function Da(I,h){return co.apply(this,arguments)}(G,p));return E.localCache[p]=O,O})()}_remove(p){var E=this;return(0,m.Z)(function*(){return E._withPendingWrite((0,m.Z)(function*(){return yield E._withRetries(O=>Ri(O,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,m.Z)(function*(){const E=yield p._withRetries(ue=>{const Re=Ta(ue,!1).getAll();return new Ls(Re).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const O=[],G=new Set;for(const{fbase_key:ue,value:Re}of E)G.add(ue),JSON.stringify(p.localCache[ue])!==JSON.stringify(Re)&&(p.notifyListeners(ue,Re),O.push(ue));for(const ue of Object.keys(p.localCache))p.localCache[ue]&&!G.has(ue)&&(p.notifyListeners(ue,null),O.push(ue));return O})()}notifyListeners(p,E){this.localCache[p]=E;const O=this.listeners[p];if(O)for(const G of Array.from(O))G(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function Ga(I,h){return h?H(h):(de(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}Ki("rcb"),new Ye(3e4,6e4);class mu extends So{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return ds(h,this._buildIdpRequest())}_linkToIdToken(h,p){return ds(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return ds(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function zi(I){return ct(I.auth,new mu(I),I.bypassAuthState)}function ql(I){const{auth:h,user:p}=I;return de(p,h,"internal-error"),function le(I,h){return Ve.apply(this,arguments)}(p,new mu(I),I.bypassAuthState)}function Jo(I){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,m.Z)(function*(I){const{auth:h,user:p}=I;return de(p,h,"internal-error"),function N(I,h){return k.apply(this,arguments)}(p,new mu(I),I.bypassAuthState)})).apply(this,arguments)}class qn{constructor(h,p,E,O,G=!1){this.auth=h,this.resolver=E,this.user=O,this.bypassAuthState=G,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,m.Z)(function*(E,O){h.pendingPromise={resolve:E,reject:O};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(G){h.reject(G)}});return function(E,O){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,m.Z)(function*(){const{urlResponse:E,sessionId:O,postBody:G,tenantId:ue,error:Re,type:Je}=h;if(Re)return void p.reject(Re);const Ot={auth:p.auth,requestUri:E,sessionId:O,tenantId:ue||void 0,postBody:G||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Je)(Ot))}catch(st){p.reject(st)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return zi;case"linkViaPopup":case"linkViaRedirect":return Jo;case"reauthViaPopup":case"reauthViaRedirect":return ql;default:Ae(this.auth,"internal-error")}}resolve(h){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zc=new Ye(2e3,1e4);function Ii(I,h,p){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,m.Z)(function*(I,h,p){const E=Tn(I);!function He(I,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Ae(I,"argument-error"),Le(I,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(I,h,Vi);const O=Ga(E,p);return new nh(E,"signInViaPopup",h,O).executeNotNull()})).apply(this,arguments)}let nh=(()=>{class I extends qn{constructor(p,E,O,G,ue){super(p,E,G,ue),this.provider=O,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var p=this;return(0,m.Z)(function*(){const E=yield p.execute();return de(E,p.auth,"internal-error"),E})()}onExecution(){var p=this;return(0,m.Z)(function*(){Ne(1===p.filter.length,"Popup operations only handle one event");const E=ao();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],E),p.authWindow.associatedEvent=E,p.resolver._originValidation(p.auth).catch(O=>{p.reject(O)}),p.resolver._isIframeWebStorageSupported(p.auth,O=>{O||p.reject(Ue(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const p=()=>{var E,O;this.pollId=null!==(O=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==O&&O.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,zc.get())};p()}}return I.currentPopupAction=null,I})();const Kr="pendingRedirect",ea=new Map;class Aa extends qn{constructor(h,p,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,m.Z)(function*(){let E=ea.get(p.auth._key());if(!E){try{const G=(yield function fi(I,h){return Qs.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;E=()=>Promise.resolve(G)}catch(O){E=()=>Promise.reject(O)}ea.set(p.auth._key(),E)}return p.bypassAuthState||ea.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,E=this;return(0,m.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(E,h);if("unknown"!==h.type){if(h.eventId){const O=yield E.auth._redirectUserForId(h.eventId);if(O)return E.user=O,p().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function Qs(){return(Qs=(0,m.Z)(function*(I,h){const p=function Eo(I){return lt(Kr,I.config.apiKey,I.name)}(h),E=function qa(I){return H(I._redirectPersistence)}(I);if(!(yield E._isAvailable()))return!1;const O="true"===(yield E._get(p));return yield E._remove(p),O})).apply(this,arguments)}function qg(I,h){ea.set(I._key(),h)}function ta(I,h){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,m.Z)(function*(I,h,p=!1){const E=Tn(I),O=Ga(E,h),ue=yield new Aa(E,O,p).execute();return ue&&!p&&(delete ue.user._redirectEventId,yield E._persistUserIfCurrent(ue.user),yield E._setRedirectUser(null,h)),ue})).apply(this,arguments)}class rh{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(p=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Ql(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zl(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var E;if(h.error&&!Zl(h)){const O=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(Ue(this.auth,O))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const E=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yl(h))}saveEventToCache(h){this.cachedEventUids.add(Yl(h)),this.lastProcessedEventTime=Date.now()}}function Yl(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function Zl({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===h?.code}function Pi(){return(Pi=(0,m.Z)(function*(I,h={}){return Pe(I,"GET","/v1/projects",h)})).apply(this,arguments)}const sc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ir=/^https?/;function oc(){return oc=(0,m.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield function Xl(I){return Pi.apply(this,arguments)}(I);for(const p of h)try{if(Jl(p))return}catch{}Ae(I,"unauthorized-domain")}),oc.apply(this,arguments)}function Jl(I){const h=Ct(),{protocol:p,hostname:E}=new URL(h);if(I.startsWith("chrome-extension://")){const ue=new URL(I);return""===ue.hostname&&""===E?"chrome-extension:"===p&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&ue.hostname===E}if(!ir.test(p))return!1;if(sc.test(I))return E===I;const O=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(E)}const ra=new Ye(3e4,6e4);function ih(){const I=dr().___jsl;if(I?.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let xn=null;const Sa=new Ye(5e3,15e3),ed="__/auth/iframe",Yc="emulator/auth/iframe",Zc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ra=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Za(I){const h=I.config;de(h.authDomain,I,"auth-domain-config-required");const p=h.emulator?ot(h,Yc):`https://${I.config.authDomain}/${ed}`,E={apiKey:h.apiKey,appName:I.name,v:pe.Jn},O=Ra.get(I.config.apiHost);O&&(E.eid=O);const G=I._getFrameworks();return G.length&&(E.fw=G.join(",")),`${p}?${(0,W.xO)(E).slice(1)}`}function ac(){return ac=(0,m.Z)(function*(I){const h=yield function hr(I){return xn=xn||function gs(I){return new Promise((h,p)=>{var E,O,G;function ue(){ih(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{ih(),p(Ue(I,"network-request-failed"))},timeout:ra.get()})}if(null!==(O=null===(E=dr().gapi)||void 0===E?void 0:E.iframes)&&void 0!==O&&O.Iframe)h(gapi.iframes.getContext());else{if(null===(G=dr().gapi)||void 0===G||!G.load){const Re=Ki("iframefcb");return dr()[Re]=()=>{gapi.load?ue():p(Ue(I,"network-request-failed"))},gr(`https://apis.google.com/js/api.js?onload=${Re}`).catch(Je=>p(Je))}ue()}}).catch(h=>{throw xn=null,h})}(I),xn}(I),p=dr().gapi;return de(p,I,"internal-error"),h.open({where:document.body,url:Za(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zc,dontclear:!0},E=>new Promise(function(){var O=(0,m.Z)(function*(G,ue){yield E.restyle({setHideOnLeave:!1});const Re=Ue(I,"network-request-failed"),Je=dr().setTimeout(()=>{ue(Re)},Sa.get());function Ot(){dr().clearTimeout(Je),G(E)}E.ping(Ot).then(Ot,()=>{ue(Re)})});return function(G,ue){return O.apply(this,arguments)}}()))}),ac.apply(this,arguments)}const td={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oh{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xg="__/auth/handler",ah="emulator/auth/handler",ho=encodeURIComponent("fac");function wu(I,h,p,E,O,G){return Du.apply(this,arguments)}function Du(){return(Du=(0,m.Z)(function*(I,h,p,E,O,G){de(I.config.authDomain,I,"auth-domain-config-required"),de(I.config.apiKey,I,"invalid-api-key");const ue={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:E,v:pe.Jn,eventId:O};if(h instanceof Vi){h.setDefaultLanguage(I.languageCode),ue.providerId=h.providerId||"",(0,W.xb)(h.getCustomParameters())||(ue.customParameters=JSON.stringify(h.getCustomParameters()));for(const[st,Fn]of Object.entries(G||{}))ue[st]=Fn}if(h instanceof Dr){const st=h.getScopes().filter(Fn=>""!==Fn);st.length>0&&(ue.scopes=st.join(","))}I.tenantId&&(ue.tid=I.tenantId);const Re=ue;for(const st of Object.keys(Re))void 0===Re[st]&&delete Re[st];const Je=yield I._getAppCheckToken(),Ot=Je?`#${ho}=${encodeURIComponent(Je)}`:"";return`${function ui({config:I}){return I.emulator?ot(I,ah):`https://${I.authDomain}/${Xg}`}(I)}?${(0,W.xO)(Re).slice(1)}${Ot}`})).apply(this,arguments)}const Qc="webStorageSupport",ia=class Au{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oo,this._completeRedirectFn=ta,this._overrideRedirectResult=qg}_openPopup(h,p,E,O){var G=this;return(0,m.Z)(function*(){var ue;Ne(null===(ue=G.eventManagers[h._key()])||void 0===ue?void 0:ue.manager,"_initialize() not called before _openPopup()");const Re=yield wu(h,p,E,Ct(),O);return function Zg(I,h,p,E=500,O=600){const G=Math.max((window.screen.availHeight-O)/2,0).toString(),ue=Math.max((window.screen.availWidth-E)/2,0).toString();let Re="";const Je=Object.assign(Object.assign({},td),{width:E.toString(),height:O.toString(),top:G,left:ue}),Ot=(0,W.z$)().toLowerCase();p&&(Re=On(Ot)?"_blank":p),nn(Ot)&&(h=h||"http://localhost",Je.scrollbars="yes");const st=Object.entries(Je).reduce((Mi,[ko,cc])=>`${Mi}${ko}=${cc},`,"");if(function dt(I=(0,W.z$)()){var h;return me(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Ot)&&"_self"!==Re)return function Qg(I,h){const p=document.createElement("a");p.href=I,p.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(h||"",Re),new oh(null);const Fn=window.open(h||"",Re,st);de(Fn,I,"popup-blocked");try{Fn.focus()}catch{}return new oh(Fn)}(h,Re,ao())})()}_openRedirect(h,p,E,O){var G=this;return(0,m.Z)(function*(){return yield G._originValidation(h),function $l(I){dr().location.href=I}(yield wu(h,p,E,Ct(),O)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:O,promise:G}=this.eventManagers[p];return O?Promise.resolve(O):(Ne(G,"If manager is not set, promise should be"),G)}const E=this.initAndGetManager(h);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(h){var p=this;return(0,m.Z)(function*(){const E=yield function Qa(I){return ac.apply(this,arguments)}(h),O=new rh(h);return E.register("authEvent",G=>(de(G?.authEvent,h,"invalid-auth-event"),{status:O.onEvent(G.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:O},p.iframes[h._key()]=E,O})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Qc,{type:Qc},O=>{var G;const ue=null===(G=O?.[0])||void 0===G?void 0:G[Qc];void 0!==ue&&p(!!ue),Ae(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ba(I){return oc.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return wt()||Ut()||me()}};var Jc="@firebase/auth";class ss{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,m.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(E=>{h(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const nd=(0,W.Pz)("authIdTokenMaxAge")||300;let rd=null;const Of=I=>function(){var h=(0,m.Z)(function*(p){const E=p&&(yield p.getIdTokenResult()),O=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(O&&O>nd)return;const G=E?.token;rd!==G&&(rd=G,yield fetch(I,{method:G?"POST":"DELETE",headers:G?{Authorization:`Bearer ${G}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function sa(I=(0,pe.Mq)()){const h=(0,pe.qX)(I,"auth");if(h.isInitialized())return h.getImmediate();const p=function $s(I,h){const p=(0,pe.qX)(I,"auth");if(p.isInitialized()){const O=p.getImmediate(),G=p.getOptions();if((0,W.vZ)(G,h??{}))return O;Ae(O,"already-initialized")}return p.initialize({options:h})}(I,{popupRedirectResolver:ia,persistence:[Bc,ja,oo]}),E=(0,W.Pz)("authTokenSyncURL");if(E){const G=Of(E);(function ns(I,h,p){(0,W.m9)(I).beforeAuthStateChanged(h,p)})(p,G,()=>G(p.currentUser)),function Cr(I,h,p,E){(0,W.m9)(I).onIdTokenChanged(h,p,E)}(p,ue=>G(ue))}const O=(0,W.q4)("auth");return O&&function bo(I,h,p){const E=Tn(I);de(E._canInitEmulator,E,"emulator-config-failed"),de(/^https?:\/\//.test(h),E,"invalid-emulator-scheme");const O=!!p?.disableWarnings,G=Hs(h),{host:ue,port:Re}=function Di(I){const h=Hs(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(E);if(O){const G=O[1];return{host:G,port:pa(E.substr(G.length+1))}}{const[G,ue]=E.split(":");return{host:G,port:pa(ue)}}}(h);E.config.emulator={url:`${G}//${ue}${null===Re?"":`:${Re}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ue,port:Re,protocol:G.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function ci(){function I(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(p,`http://${O}`),p}!function wo(I){(0,pe.Xd)(new re.wA("auth",(h,{options:p})=>{const E=h.getProvider("app").getImmediate(),O=h.getProvider("heartbeat"),G=h.getProvider("app-check-internal"),{apiKey:ue,authDomain:Re}=E.options;de(ue&&!ue.includes(":"),"invalid-api-key",{appName:E.name});const Je={apiKey:ue,authDomain:Re,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pr(I)},Ot=new Ns(E,O,G,Je);return function Li(I,h){const p=h?.persistence||[],E=(Array.isArray(p)?p:[p]).map(H);h?.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(E,h?.popupRedirectResolver)}(Ot,p),Ot},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,E)=>{h.getProvider("auth-internal").initialize()})),(0,pe.Xd)(new re.wA("auth-internal",h=>{const p=Tn(h.getProvider("auth").getImmediate());return new ss(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.KN)(Jc,"1.3.2",function tl(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,pe.KN)(Jc,"1.3.2","esm2017")}("Browser")},5861:(St,ke,L)=>{function m(pe,ne,se,re,fe,ie,xe){try{var q=pe[ie](xe),ee=q.value}catch(ve){return void se(ve)}q.done?ne(ee):Promise.resolve(ee).then(re,fe)}function W(pe){return function(){var ne=this,se=arguments;return new Promise(function(re,fe){var ie=pe.apply(ne,se);function xe(ee){m(ie,re,fe,xe,q,"next",ee)}function q(ee){m(ie,re,fe,xe,q,"throw",ee)}xe(void 0)})}}L.d(ke,{Z:()=>W})},7582:(St,ke,L)=>{function ne(ce,_e){var De={};for(var Ie in ce)Object.prototype.hasOwnProperty.call(ce,Ie)&&_e.indexOf(Ie)<0&&(De[Ie]=ce[Ie]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(Ie=Object.getOwnPropertySymbols(ce);Pe<Ie.length;Pe++)_e.indexOf(Ie[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ce,Ie[Pe])&&(De[Ie[Pe]]=ce[Ie[Pe]])}return De}function ve(ce,_e,De,Ie){return new(De||(De=Promise))(function(Xe,Ft){function an(En){try{Lt(Ie.next(En))}catch(It){Ft(It)}}function yn(En){try{Lt(Ie.throw(En))}catch(It){Ft(It)}}function Lt(En){En.done?Xe(En.value):function Pe(Xe){return Xe instanceof De?Xe:new De(function(Ft){Ft(Xe)})}(En.value).then(an,yn)}Lt((Ie=Ie.apply(ce,_e||[])).next())})}function Ae(ce){return this instanceof Ae?(this.v=ce,this):new Ae(ce)}function Ue(ce,_e,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Ie=De.apply(ce,_e||[]),Xe=[];return Pe={},Ft("next"),Ft("throw"),Ft("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function Ft(Pn){Ie[Pn]&&(Pe[Pn]=function(An){return new Promise(function(or,bn){Xe.push([Pn,An,or,bn])>1||an(Pn,An)})})}function an(Pn,An){try{!function yn(Pn){Pn.value instanceof Ae?Promise.resolve(Pn.value.v).then(Lt,En):It(Xe[0][2],Pn)}(Ie[Pn](An))}catch(or){It(Xe[0][3],or)}}function Lt(Pn){an("next",Pn)}function En(Pn){an("throw",Pn)}function It(Pn,An){Pn(An),Xe.shift(),Xe.length&&an(Xe[0][0],Xe[0][1])}}function He(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,_e=ce[Symbol.asyncIterator];return _e?_e.call(ce):(ce=function ut(ce){var _e="function"==typeof Symbol&&Symbol.iterator,De=_e&&ce[_e],Ie=0;if(De)return De.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&Ie>=ce.length&&(ce=void 0),{value:ce&&ce[Ie++],done:!ce}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),De={},Ie("next"),Ie("throw"),Ie("return"),De[Symbol.asyncIterator]=function(){return this},De);function Ie(Xe){De[Xe]=ce[Xe]&&function(Ft){return new Promise(function(an,yn){!function Pe(Xe,Ft,an,yn){Promise.resolve(yn).then(function(Lt){Xe({value:Lt,done:an})},Ft)}(an,yn,(Ft=ce[Xe](Ft)).done,Ft.value)})}}}L.d(ke,{FC:()=>Ue,KL:()=>He,_T:()=>ne,mG:()=>ve,qq:()=>Ae}),"function"==typeof SuppressedError&&SuppressedError}},St=>{St(St.s=6398)}]);