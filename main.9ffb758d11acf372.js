"use strict";(self.webpackChunkpal_huila=self.webpackChunkpal_huila||[]).push([[179],{1717:(It,Ce,M)=>{M.d(Ce,{e:()=>ne});var m=M(5861),q=M(2637),ae=M(3960),ee=M(5592),oe=M(8243),J=M(5816),ue=M(8926);let ne=(()=>{class Ee{constructor(K,se){this.afAuth=K,this.firestore=se,this.storage=(0,oe.cF)(),this.onAuthStateChanged((Me,me)=>{this.uid=Me.uid})}getLoggin(){return new Promise(K=>{(0,q.Aj)(this.afAuth,function(){var se=(0,m.Z)(function*(Me){Me&&(yield Me.emailVerified)?K(!0):K(!1)});return function(Me){return se.apply(this,arguments)}}())})}onAuthStateChanged(K){var se=this;(0,q.Aj)(this.afAuth,function(){var Me=(0,m.Z)(function*(me){if(me){let He=se.getUserDetailsFromLocalStorage(me.uid);He||(He=yield se.fetchUserDetails(me.uid),se.setUserDetailsInLocalStorage(me.uid,He)),K(me,He)}else K(null,null)});return function(me){return Me.apply(this,arguments)}}())}getUID(){return new Promise(K=>{(0,q.Aj)(this.afAuth,function(){var se=(0,m.Z)(function*(Me){K(Me?Me.uid:"")});return function(Me){return se.apply(this,arguments)}}())})}obtenerUsuarios(){const K=(0,ae.hJ)(this.firestore,"users"),se=(0,ae.IO)(K,(0,ae.Xo)("nombre","asc"));return(0,ae.BS)(se,{idField:"uid"})}obtenerUsuario(K){const se=(0,ae.JU)(this.firestore,"users",K);return(0,ae.QT)(se)}obtenerUsuarioPorUserName(K){const se=(0,ae.hJ)(this.firestore,"users"),Me=(0,ae.IO)(se,(0,ae.ar)("userName","==",K));return new ee.y(me=>{(0,ae.PL)(Me).then(He=>{const tt=[];He.forEach(ft=>{tt.push({id:ft.id,...ft.data()})}),me.next(tt)})})}eliminarUsuario(K){const se=(0,ae.JU)(this.firestore,"users",K);return(0,ae.oe)(se)}actualizarUsuario(K,se){const Me=(0,ae.JU)(this.firestore,"users",K);return(0,ae.r7)(Me,se)}actualizarFotoPerfil(K,se){var Me=this;return(0,m.Z)(function*(){const He=(0,oe.iH)(Me.storage,`users/pfp/${K}`);try{const tt=yield(0,oe.KV)(He,se),ft=yield(0,J.Jt)(tt.ref),it=(0,ae.JU)(Me.firestore,"users",K);return yield(0,ae.r7)(it,{fotoUser:ft}),Me.updateUserDetailsInLocalStorage(),alert("Foto actualizada!")}catch(tt){throw console.error("Error al actualizar la foto de perfil:",tt),tt}})()}actualizarBanner(K,se){var Me=this;return(0,m.Z)(function*(){const He=(0,oe.iH)(Me.storage,`users/banner/${K}`);try{const tt=yield(0,oe.KV)(He,se),ft=yield(0,J.Jt)(tt.ref),it=(0,ae.JU)(Me.firestore,"users",K);return yield(0,ae.r7)(it,{bannerImg:ft}),Me.updateUserDetailsInLocalStorage(),alert("Banner actualizado!")}catch(tt){throw console.error("Error al actualizar el banner:",tt),tt}})()}updateUserDetailsInLocalStorage(){var K=this;return(0,m.Z)(function*(){const se=yield K.fetchUserDetails(K.uid);se&&K.setUserDetailsInLocalStorage(se.uid,se)})()}fetchUserDetails(K){var se=this;return(0,m.Z)(function*(){const Me=(0,ae.ad)(),me=(0,ae.JU)(Me,"users",K),He=yield(0,ae.QT)(me);return He.exists()?((0,q.ck)(se.afAuth.currentUser,{displayName:He.data().nombre,photoURL:He.data().fotoUser}),He.data()):(console.error("No se encontraron detalles del usuario."),null)})()}getUserDetailsFromLocalStorage(K){const se=localStorage.getItem(`userDetails-${K}`);return se?JSON.parse(se):null}setUserDetailsInLocalStorage(K,se){localStorage.setItem(`userDetails-${K}`,JSON.stringify(se))}logout(){var K=this;return(0,m.Z)(function*(){try{const se=K.afAuth.currentUser;yield(0,q.w7)(K.afAuth),se&&localStorage.clear(),console.log("Cach\xe9 limpiado despu\xe9s de cerrar sesi\xf3n.")}catch(se){throw console.error("Error al cerrar sesi\xf3n:",se),se}})()}setData(K){this.sharedData=K}getData(){return this.sharedData}static#e=this.\u0275fac=function(se){return new(se||Ee)(ue.LFG(q.gx),ue.LFG(ae.gg))};static#t=this.\u0275prov=ue.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},8565:(It,Ce,M)=>{M.d(Ce,{H:()=>ae});var m=M(5861),q=M(8926);let ae=(()=>{class ee{constructor(){this.dbPromise=new Promise((J,ue)=>{const ne=indexedDB.open("PalhuilaDB",1);ne.onupgradeneeded=Ee=>{const G=ne.result;G.objectStoreNames.contains("imagesMuni")||G.createObjectStore("imagesMuni",{autoIncrement:!0})},ne.onsuccess=()=>{J(ne.result)},ne.onerror=()=>{ue(ne.error)}})}getImages(J){var ue=this;return(0,m.Z)(function*(){try{const K=(yield ue.dbPromise).transaction(J,"readonly").objectStore(J).getAll();return new Promise((se,Me)=>{K.onsuccess=()=>se(K.result),K.onerror=()=>Me(K.error)})}catch(ne){throw new Error(`Error retrieving images: ${ne}`)}})()}saveImages(J,ue){var ne=this;return(0,m.Z)(function*(){const Ee=yield ne.dbPromise;return new Promise((G,K)=>{const se=Ee.transaction(ue,"readwrite"),Me=se.objectStore(ue);"object"==typeof J&&Object.keys(J).length>0?(Object.keys(J).forEach(me=>{Me.put({id:me,url:J[me]})}),se.oncomplete=()=>G(),se.onerror=()=>K(se.error)):K(new Error("Images is either not an object or empty"))})})()}static#e=this.\u0275fac=function(ue){return new(ue||ee)};static#t=this.\u0275prov=q.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})()},3968:(It,Ce,M)=>{M.d(Ce,{H:()=>ae});var m=M(5619),q=M(8926);let ae=(()=>{class ee{constructor(){this.valueSource=new m.X(""),this.currentValue=this.valueSource.asObservable(),this.modalsuichpstSubject=new m.X(!1),this.modalsuich$=this.modalsuichpstSubject.asObservable(),this.modaldataSubject=new m.X(!1),this.modaldata$=this.modaldataSubject.asObservable(),this.warningSubject=new m.X(!1),this.warning$=this.warningSubject.asObservable(),this.warningAllSubject=new m.X(!1),this.warningAll$=this.warningAllSubject.asObservable(),this.modalsuichmuniSubject=new m.X(!1),this.modalsuichmuni$=this.modalsuichmuniSubject.asObservable(),this.modalsuichatracSubject=new m.X(!1),this.modalsuichatrac$=this.modalsuichatracSubject.asObservable(),this.modalsuichrutasSubject=new m.X(!1),this.modalsuichrutas$=this.modalsuichrutasSubject.asObservable(),this.modalsuichtodoSubject=new m.X(!1),this.modalsuichtodo$=this.modalsuichtodoSubject.asObservable(),this.modalPFHeaderSubject=new m.X(!1),this.modalPFHeader$=this.modalPFHeaderSubject.asObservable(),this.modalTurnMuniSubject=new m.X(!1),this.modalTurnMuni$=this.modalTurnMuniSubject.asObservable(),this.modalTurnSliderPSubject=new m.X(!1),this.modalTurnSliderP$=this.modalTurnSliderPSubject.asObservable()}setTurnSliderP(J){this.modalTurnSliderPSubject.next(J)}setWarningAll(J){this.warningAllSubject.next(J)}setModalSuichPst(J){this.modalsuichpstSubject.next(J)}setWarning(J){this.warningSubject.next(J)}setModalSuichMuni(J){this.modalsuichmuniSubject.next(J)}setValue(J){this.valueSource.next(J)}setModalSuichAtrac(J){this.modalsuichatracSubject.next(J)}setModalSuichRutas(J){this.modalsuichrutasSubject.next(J)}setModalSuichTodo(J){this.modalsuichtodoSubject.next(J)}setData(J){this.modaldataSubject.next(J)}setProfileHeader(J){this.modalPFHeaderSubject.next(J)}setTurnMuni(J){this.modalTurnMuniSubject.next(J)}static#e=this.\u0275fac=function(ue){return new(ue||ee)};static#t=this.\u0275prov=q.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})()},8395:(It,Ce,M)=>{M.d(Ce,{K:()=>ue});var m=M(5861),q=M(2637),ae=M(3446),ee=M(3960),oe=M(5619),J=M(8926);let ue=(()=>{class ne{constructor(G){this.auth=G,this.rolSubject=new oe.X(""),this.rolSubject$=this.rolSubject.asObservable(),this.firestore=(0,ee.ad)()}setRolSubject(G){this.rolSubject.next(G)}register(G,K){var se=this;return(0,m.Z)(function*(){return yield(0,q.Xb)(se.auth,G,K)})()}login(G,K){return this.auth.setPersistence(ae.a$).then(()=>(this.infoUsuario=(0,q.e5)(this.auth,G,K),this.infoUsuario))}getCurrentUser(G){return new Promise((K,se)=>{const Me=G.onAuthStateChanged(me=>{Me(),K(me)},se)})}update(){const G=(0,ee.JU)(this.firestore,`users/${this.auth.currentUser.uid}`);return(0,ee.pl)(G,{fechaUltimoLogin:(new Date).toISOString()},{merge:!0})}recuperar(G){return(0,q.LS)(this.auth,G)}verificarCorreo(G){(0,q.w$)(G)}cerrarSesion(){return this.auth.signOut()}loginConGoogle(){return this.auth.setPersistence(ae.a$).then(()=>(0,q.rh)(this.auth,new ae.hJ))}firebaseError(G){switch(G){case"auth/email-already-in-use":return"El usuario ya ex\xedste";case"auth/weak-password":return"Contrase\xf1a muy debil";case"auth/invalid-email":return"Correo inv\xe1lido";case"auth/wrong-password":return"La contrase\xf1a es Incorrecta";case"auth/user-not-found":return"El usuario no ex\xedste";default:return"Error desconocido"}}static#e=this.\u0275fac=function(K){return new(K||ne)(J.LFG(q.gx))};static#t=this.\u0275prov=J.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})()},108:(It,Ce,M)=>{M.d(Ce,{N:()=>m});const m={firebase:{apiKey:"AIzaSyCNtspEd7b-OB0G4rgueYrNjlDsLoBRHLs",authDomain:"centurhuila-b9e47.firebaseapp.com",databaseURL:"https://centurhuila-b9e47.firebaseio.com",projectId:"centurhuila-b9e47",storageBucket:"centurhuila-b9e47.appspot.com",messagingSenderId:"51926987535",appId:"1:51926987535:web:15d603eaee884a7801c47a",measurementId:"G-WLKL8STB8G"}}},7881:(It,Ce,M)=>{var m=M(6593),q=M(614),ae=M(5861),ee=M(8926),oe=M(1717);let J=(()=>{class _e{constructor(nt,ze){this.authService=nt,this.router=ze}canActivate(){var nt=this;return(0,ae.Z)(function*(){try{const ze=yield nt.authService.getLoggin();return ze||nt.router.navigate(["auth"]),ze}catch(ze){return console.error(ze),!1}})()}static#e=this.\u0275fac=function(ze){return new(ze||_e)(ee.LFG(oe.e),ee.LFG(q.F0))};static#t=this.\u0275prov=ee.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),ue=(()=>{class _e{constructor(nt,ze){this.authService=nt,this.router=ze}canActivate(){var nt=this;return(0,ae.Z)(function*(){try{const ze=yield nt.authService.getLoggin();return!ze||(nt.router.navigate(["home"]),ze)}catch(ze){return console.error(ze),!1}})()}static#e=this.\u0275fac=function(ze){return new(ze||_e)(ee.LFG(oe.e),ee.LFG(q.F0))};static#t=this.\u0275prov=ee.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),ne=(()=>{class _e{constructor(nt){this.router=nt,this.muni=["Acevedo","Aipe","Algeciras","Altamira","Baraya","Campoalegre","Colombia","El\xedas","Agrado","Garz\xf3n","Gigante","Guadalupe","Hobo","\xcdquira","Isnos","La Argentina","La Plata","N\xe1taga","Neiva","Oporapa","Paicol","Palermo","Palestina","El Pital","Pitalito","Rivera","Saladoblanco","Santa Mar\xeda","San Agust\xedn","Suaza","Tarqui","Tello","Teruel","Tesalia","Timan\xe1","Villavieja","Yaguar\xe1"]}canActivate(nt){const ze=nt.paramMap.get("id");return!!this.muni.includes(ze)||(this.router.navigate(["/municipios/Garz\xf3n"]),!1)}static#e=this.\u0275fac=function(ze){return new(ze||_e)(ee.LFG(q.F0))};static#t=this.\u0275prov=ee.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();var Ee=M(2637),G=M(3960);const He=[{path:"home",canActivate:[J],loadChildren:()=>Promise.all([M.e(191),M.e(95),M.e(870),M.e(272),M.e(592),M.e(445)]).then(M.bind(M,9445)).then(_e=>_e.HomeModule)},{path:"dashboard-admin",canActivate:[J,(()=>{class _e{constructor(nt){this.router=nt}canActivate(){var nt=this;return(0,ae.Z)(function*(){try{const ze=(0,Ee.v0)();if(!ze.currentUser)return nt.router.navigate(["/login"]),!1;const bt=(0,G.ad)(),Wt=(0,G.JU)(bt,"users",ze.currentUser.uid),qe=yield(0,G.QT)(Wt);if(qe.exists()&&qe.data()?.rol){const Ct=qe.data().rol;if("admin"===Ct||"superadmin"===Ct)return!0}return nt.router.navigate(["/home"]),!1}catch(ze){return console.error("Error while fetching user data:",ze),nt.router.navigate(["/error"]),!1}})()}static#e=this.\u0275fac=function(ze){return new(ze||_e)(ee.LFG(q.F0))};static#t=this.\u0275prov=ee.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()],loadChildren:()=>Promise.all([M.e(191),M.e(95),M.e(472),M.e(592),M.e(343)]).then(M.bind(M,9343)).then(_e=>_e.DashboardAdminModule)},{path:"municipios/:id",canActivate:[J,ne],loadChildren:()=>Promise.all([M.e(191),M.e(95),M.e(870),M.e(472),M.e(592),M.e(19)]).then(M.bind(M,8019)).then(_e=>_e.MunicipiosModule)},{path:"busqueda-prestador",canActivate:[J],loadChildren:()=>Promise.all([M.e(191),M.e(95),M.e(472),M.e(272),M.e(592),M.e(7)]).then(M.bind(M,7007)).then(_e=>_e.BusquedaPrestadorModule)},{path:"busqueda-atractivo",canActivate:[J],loadChildren:()=>Promise.all([M.e(191),M.e(95),M.e(472),M.e(272),M.e(592),M.e(624)]).then(M.bind(M,624)).then(_e=>_e.BusquedaAtractivoModule)},{path:"prestadores/:municipio/:prestador",canActivate:[J,(()=>{class _e{constructor(nt,ze){this.firestore=nt,this.router=ze}canActivate(nt,ze){const bt=nt.paramMap.get("municipio"),Wt=nt.paramMap.get("prestador"),qe=(0,G.hJ)(this.firestore,"prestadores"),Ct=(0,G.IO)(qe,(0,G.ar)("name","==",Wt));return(0,G.PL)(Ct).then(pt=>(pt.empty&&(this.router.navigate(["/municipios/"+bt+"/"+Wt]),console.log("No est\xe1")),!pt.empty)).catch(pt=>(console.error("No est\xe1",pt),!1))}static#e=this.\u0275fac=function(ze){return new(ze||_e)(ee.LFG(G.gg),ee.LFG(q.F0))};static#t=this.\u0275prov=ee.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()],loadChildren:()=>Promise.all([M.e(191),M.e(870),M.e(866),M.e(592),M.e(531)]).then(M.bind(M,3531)).then(_e=>_e.PrestadoresModule)},{path:"atractivos/:municipio/:atractivo",canActivate:[J,(()=>{class _e{constructor(nt,ze){this.firestore=nt,this.router=ze}canActivate(nt,ze){const bt=nt.paramMap.get("municipio"),Wt=nt.paramMap.get("atractivo"),qe=(0,G.hJ)(this.firestore,"atractivos"),Ct=(0,G.IO)(qe,(0,G.ar)("name","==",Wt));return(0,G.PL)(Ct).then(pt=>(pt.empty&&(this.router.navigate(["/municipios/"+bt+"/"+Wt]),console.log("No est\xe1")),!pt.empty)).catch(pt=>(console.error("No est\xe1",pt),!1))}static#e=this.\u0275fac=function(ze){return new(ze||_e)(ee.LFG(G.gg),ee.LFG(q.F0))};static#t=this.\u0275prov=ee.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()],loadChildren:()=>Promise.all([M.e(191),M.e(870),M.e(866),M.e(254)]).then(M.bind(M,254)).then(_e=>_e.AtractivosModule)},{path:"profile/:id",canActivate:[J,(()=>{class _e{constructor(nt,ze){this.firestore=nt,this.router=ze}canActivate(nt,ze){const bt=nt.paramMap.get("id"),Wt=(0,G.hJ)(this.firestore,"users"),qe=(0,G.IO)(Wt,(0,G.ar)("userName","==",bt));return(0,G.PL)(qe).then(Ct=>(Ct.empty&&(this.router.navigate(["/home"]),console.log("No est\xe1")),!Ct.empty)).catch(Ct=>(console.error("No est\xe1",Ct),!1))}static#e=this.\u0275fac=function(ze){return new(ze||_e)(ee.LFG(G.gg),ee.LFG(q.F0))};static#t=this.\u0275prov=ee.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()],loadChildren:()=>Promise.all([M.e(191),M.e(95),M.e(721)]).then(M.bind(M,8721)).then(_e=>_e.PerfilModule)},{path:"auth",canActivate:[ue],loadChildren:()=>Promise.all([M.e(191),M.e(95),M.e(592),M.e(327)]).then(M.bind(M,9327)).then(_e=>_e.AuthModule)},{path:"**",redirectTo:"home",pathMatch:"full"}];let tt=(()=>{class _e{static#e=this.\u0275fac=function(ze){return new(ze||_e)};static#t=this.\u0275mod=ee.oAB({type:_e});static#n=this.\u0275inj=ee.cJS({imports:[q.Bz.forRoot(He,{preloadingStrategy:q.wm}),q.Bz]})}return _e})();var ft=M(3968),it=M(8395),jt=M(8565),We=M(6814);function Le(_e,st){if(1&_e){const nt=ee.EpF();ee.TgZ(0,"button",2),ee.NdJ("click",function(){ee.CHM(nt);const bt=ee.oxw();return ee.KtG(bt.toTop())}),ee.O4$(),ee.TgZ(1,"svg",3),ee._UZ(2,"path",4),ee.qZA()()}}let Fe=(()=>{class _e{constructor(nt,ze,bt,Wt,qe,Ct){this.modal=nt,this.router=ze,this.userService=bt,this.renderer=Wt,this.indexedDBService=qe,this.authService=Ct,this.firestore=(0,G.ad)(),this.auth=(0,Ee.v0)(),this.mostrarBoton=!1,this.title="Pa'lHuila",this.hasExecuted=!1,this.updateFechaUltimoLoginBeforeUnload=()=>{this.updateFechaUltimoLogin()}}ngOnInit(){this.router.events.subscribe(nt=>{nt instanceof q.m2&&window.scrollTo(0,0)}),window.addEventListener("beforeunload",this.updateFechaUltimoLoginBeforeUnload),this.authService.onAuthStateChanged((nt,ze)=>{nt&&(this.uid=nt.uid),this.authService.updateUserDetailsInLocalStorage()})}ngAfterViewChecked(){var nt=this;this.hasExecuted||(this.userService.getCurrentUser(this.auth).then(function(){var ze=(0,ae.Z)(function*(bt){if(bt){const Wt=(0,G.JU)(nt.firestore,`users/${bt.uid}`),qe=yield(0,G.QT)(Wt);nt.userService.setRolSubject(qe.data().rol),Wt&&(0,G.pl)(Wt,{fechaUltimoLogin:(new Date).toISOString()},{merge:!0})}});return function(bt){return ze.apply(this,arguments)}}()),this.hasExecuted=!0)}ngOnDestroy(){window.removeEventListener("beforeunload",this.updateFechaUltimoLoginBeforeUnload)}onScroll(nt){const ze=window.scrollY;this.mostrarBoton=ze>500}updateFechaUltimoLogin(){this.userService.getCurrentUser(this.auth).then(nt=>{if(nt){const ze=(0,G.JU)(this.firestore,`users/${nt.uid}`);ze&&(0,G.pl)(ze,{fechaUltimoLogin:(new Date).toISOString()},{merge:!0})}})}toTop(){window.scrollTo({top:0,left:0,behavior:"smooth"})}onKeyDown(nt){const ze=nt.target;!ze.classList.contains("no-close")&&"svg"!==ze.tagName&&"li"!==ze.tagName&&"path"!==ze.tagName&&"span"!==ze.tagName&&"ul"!==ze.tagName&&"Escape"===nt.key&&(this.modal.setProfileHeader(!1),this.modal.setTurnMuni(!1),this.modal.setTurnSliderP(!0))}handleKeydown(nt){const ze=nt.target;!ze.classList.contains("no-close")&&"svg"!==ze.tagName&&"li"!==ze.tagName&&"path"!==ze.tagName&&"span"!==ze.tagName&&"ul"!==ze.tagName&&"button"!==ze.tagName&&!ze.id.includes("buttonProfile")&&!ze.id.includes("buttonTurn")&&(this.modal.setProfileHeader(!1),this.modal.setTurnMuni(!1)),ze.id.includes("buttonProfile")&&this.modal.setProfileHeader(!0),ze.id.includes("buttonTurn")&&this.modal.setTurnMuni(!0)}static#e=this.\u0275fac=function(ze){return new(ze||_e)(ee.Y36(ft.H),ee.Y36(q.F0),ee.Y36(it.K),ee.Y36(ee.Qsj),ee.Y36(jt.H),ee.Y36(oe.e))};static#t=this.\u0275cmp=ee.Xpm({type:_e,selectors:[["app-root"]],hostBindings:function(ze,bt){1&ze&&ee.NdJ("keydown",function(qe){return bt.onKeyDown(qe)},!1,ee.evT)("scroll",function(qe){return bt.onScroll(qe)},!1,ee.Jf7)},decls:3,vars:1,consts:[[1,".paila",3,"keydown","mousedown"],["class"," transition-opacity  delay-500 ease-in-out pr-2 fixed bottom-[140px] flex flex-row font-Blinker  text-white items-center text-xl  right-0 rounded-tl-2xl rounded-bl-2xl bg-primary-500 opacity-60",3,"click",4,"ngIf"],[1,"transition-opacity","delay-500","ease-in-out","pr-2","fixed","bottom-[140px]","flex","flex-row","font-Blinker","text-white","items-center","text-xl","right-0","rounded-tl-2xl","rounded-bl-2xl","bg-primary-500","opacity-60",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","48","viewBox","0 -960 960 960","width","48",1,"fill-white"],["d","m284-324-66-66 262-261 262 260-65 66-197-198-196 199Z"]],template:function(ze,bt){1&ze&&(ee.TgZ(0,"Div",0),ee.NdJ("keydown",function(qe){return bt.onKeyDown(qe)})("mousedown",function(qe){return bt.handleKeydown(qe)}),ee._UZ(1,"router-outlet"),ee.YNc(2,Le,3,0,"button",1),ee.qZA()),2&ze&&(ee.xp6(2),ee.Q6J("ngIf",bt.mostrarBoton))},dependencies:[We.O5,q.lC]})}return _e})();var Ve=M(721),Ye=M(108),ke=M(5816);let ge=(()=>{class _e{static#e=this.\u0275fac=function(ze){return new(ze||_e)};static#t=this.\u0275mod=ee.oAB({type:_e,bootstrap:[Fe]});static#n=this.\u0275inj=ee.cJS({imports:[m.b2,tt,q.Bz,(0,Ve.hX)(()=>(0,Ve.ZF)(Ye.N.firebase)),(0,Ee.AR)(()=>(0,Ee.v0)()),(0,G.Cm)(()=>(0,G.ad)()),(0,ke.Vq)(()=>(0,ke.cF)())]})}return _e})();m.q6().bootstrapModule(ge).catch(_e=>console.error(_e))},5776:(It,Ce,M)=>{M.d(Ce,{ET:()=>bg,hJ:()=>_g,oe:()=>pv,JU:()=>yg,QT:()=>hv,PL:()=>Ag,ad:()=>u_,b9:()=>__,cf:()=>gv,Xo:()=>m_,IO:()=>jl,pl:()=>HE,TQ:()=>y_,r7:()=>fv,ar:()=>$l});var ne,m=M(5861),q=M(534),ae=M(4537),ee=M(7879),oe=M(9058),J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ue={},Ee=Ee||{},G=J||self;function K(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function se(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var me="closure_uid_"+(1e9*Math.random()>>>0),He=0;function tt(i,e,n){return i.call.apply(i.bind,arguments)}function ft(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function it(i,e,n){return(it=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tt:ft).apply(null,arguments)}function jt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function We(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[u].apply(o,f)}}function Le(){this.s=this.s,this.o=this.o}Le.prototype.s=!1,Le.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Me(i){Object.prototype.hasOwnProperty.call(i,me)&&i[me]||(i[me]=++He)}(this)},Le.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ve=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Ye(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function ke(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(K(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function ge(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{G.addEventListener("test",()=>{},e),G.removeEventListener("test",()=>{},e)}catch{}return i}();function st(i){return/^[\s\xa0]*$/.test(i)}function nt(){var i=G.navigator;return i&&(i=i.userAgent)?i:""}function ze(i){return-1!=nt().indexOf(i)}function bt(i){return bt[" "](i),i}bt[" "]=function(){};var Be,i,qe=ze("Opera"),Ct=ze("Trident")||ze("MSIE"),pt=ze("Edge"),pe=pt||Ct,ye=ze("Gecko")&&!(-1!=nt().toLowerCase().indexOf("webkit")&&!ze("Edge"))&&!(ze("Trident")||ze("MSIE"))&&!ze("Edge"),xe=-1!=nt().toLowerCase().indexOf("webkit")&&!ze("Edge");function we(){var i=G.document;return i?i.documentMode:void 0}e:{var Ze="",Ft=(i=nt(),ye?/rv:([^\);]+)(\)|;)/.exec(i):pt?/Edge\/([\d\.]+)/.exec(i):Ct?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):xe?/WebKit\/(\S+)/.exec(i):qe?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ft&&(Ze=Ft?Ft[1]:""),Ct){var sn=we();if(null!=sn&&sn>parseFloat(Ze)){Be=String(sn);break e}}Be=Ze}var Vt=G.document&&Ct&&(we()||parseInt(Be,10))||void 0;function vt(i,e){if(ge.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ye){e:{try{bt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:xn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&vt.$.h.call(this)}}We(vt,ge);var xn={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var jn="closure_listenable_"+(1e6*Math.random()|0),zr=0;function Lt(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++zr,this.fa=this.ia=!1}function wr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Er(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Ri(i){const e={};for(const n in i)e[n]=i[n];return e}const ri="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ii(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<ri.length;l++)n=ri[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function hr(i){this.src=i,this.g={},this.h=0}function Dn(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=Ve(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(wr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function en(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}hr.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=en(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new Lt(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var qt="closure_lm_"+(1e6*Math.random()|0),Ar={};function Bt(i,e,n,o,u){if(o&&o.once)return dn(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Bt(i,e[l],n,o,u);return null}return n=$n(n),i&&i[jn]?i.O(e,n,se(o)?!!o.capture:!!o,u):pr(i,e,n,!1,o,u)}function pr(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=se(u)?!!u.capture:!!u,D=Pi(i);if(D||(i[qt]=D=new hr(i)),(n=D.add(e,n,o,f,l)).proxy)return n;if(o=function un(){const e=$t;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)_e||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(An(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function dn(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)dn(i,e[l],n,o,u);return null}return n=$n(n),i&&i[jn]?i.P(e,n,se(o)?!!o.capture:!!o,u):pr(i,e,n,!0,o,u)}function Vi(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)Vi(i,e[l],n,o,u);else o=se(o)?!!o.capture:!!o,n=$n(n),i&&i[jn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=en(l=i.g[e],n,o,u))&&(wr(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Pi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=en(e,n,o,u)),(n=-1<i?e[i]:null)&&vn(n))}function vn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[jn])Dn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(An(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Pi(e))?(Dn(n,i),0==n.h&&(n.src=null,e[qt]=null)):wr(i)}}}function An(i){return i in Ar?Ar[i]:Ar[i]="on"+i}function $t(i,e){if(i.fa)i=!0;else{e=new vt(e,this);var n=i.listener,o=i.la||i.src;i.ia&&vn(i),i=n.call(o,e)}return i}function Pi(i){return(i=i[qt])instanceof hr?i:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function $n(i){return"function"==typeof i?i:(i[cn]||(i[cn]=function(e){return i.handleEvent(e)}),i[cn])}function fn(){Le.call(this),this.i=new hr(this),this.S=this,this.J=null}function Kt(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new ge(e,i);else if(e instanceof ge)e.target=e.target||i;else{var u=e;ii(e=new ge(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=ir(f,o,!0,e)&&u}if(u=ir(f=e.g=i,o,!0,e)&&u,u=ir(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=ir(f=e.g=n[l],o,!1,e)&&u}function ir(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var D=f.listener,S=f.la||f.src;f.ia&&Dn(i.i,f),u=!1!==D.call(S,o)&&u}}return u&&!o.defaultPrevented}We(fn,Le),fn.prototype[jn]=!0,fn.prototype.removeEventListener=function(i,e,n,o){Vi(this,i,e,n,o)},fn.prototype.N=function(){if(fn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)wr(n[o]);delete i.g[e],i.h--}}this.J=null},fn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},fn.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var vi=G.JSON.stringify;function Gi(){var i=H;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Wi=new class gr{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Es,i=>i.reset());class Es{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function re(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function B(i){G.setTimeout(()=>{throw i},0)}let z,$=!1,H=new class Rs{constructor(){this.h=this.g=null}add(e,n){const o=Wi.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},he=()=>{const i=G.Promise.resolve(void 0);z=()=>{i.then(je)}};var je=()=>{for(var i;i=Gi();){try{i.h.call(i.g)}catch(n){B(n)}var e=Wi;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}$=!1};function ht(i,e){fn.call(this),this.h=i||1,this.g=e||G,this.j=it(this.qb,this),this.l=Date.now()}function Ht(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function tn(i,e,n){if("function"==typeof i)n&&(i=it(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=it(i.handleEvent,i)}return 2147483647<Number(e)?-1:G.setTimeout(i,e||0)}function on(i){i.g=tn(()=>{i.g=null,i.i&&(i.i=!1,on(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}We(ht,fn),(ne=ht.prototype).ga=!1,ne.T=null,ne.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kt(this,"tick"),this.ga&&(Ht(this),this.start()))}},ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ne.N=function(){ht.$.N.call(this),Ht(this),delete this.g};class Yt extends Le{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:on(this)}N(){super.N(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hn(i){Le.call(this),this.h=i,this.g={}}We(hn,Le);var xr=[];function Cn(i,e,n,o){Array.isArray(n)||(n&&(xr[0]=n.toString()),n=xr);for(var u=0;u<n.length;u++){var l=Bt(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function qi(i){Er(i.g,function(e,n){this.g.hasOwnProperty(n)&&vn(e)},i),i.g={}}function Oe(){this.g=!0}function Rt(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zt(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return vi(n)}catch{return e}}(i,n)+(o?" "+o:"")})}hn.prototype.N=function(){hn.$.N.call(this),qi(this)},hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Oe.prototype.Ea=function(){this.g=!1},Oe.prototype.info=function(){};var pn={},Hn=null;function Nn(){return Hn=Hn||new fn}function mn(i){ge.call(this,pn.Ta,i)}function si(i){const e=Nn();Kt(e,new mn(e))}function Ps(i,e){ge.call(this,pn.STAT_EVENT,i),this.stat=e}function Sn(i){const e=Nn();Kt(e,new Ps(e,i))}function Ms(i,e){ge.call(this,pn.Ua,i),this.size=e}function bn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){i()},e)}pn.Ta="serverreachability",We(mn,ge),pn.STAT_EVENT="statevent",We(Ps,ge),pn.Ua="timingevent",We(Ms,ge);var oi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Bs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function es(){}function Ir(){}es.prototype.h=null;var et,xi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ai(){ge.call(this,"d")}function gt(){ge.call(this,"c")}function xt(){}function Pt(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new hn(this),this.P=Gr,this.V=new ht(i=pe?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Vr}function Vr(){this.i=null,this.g="",this.h=!1}We(ai,ge),We(gt,ge),We(xt,es),xt.prototype.g=function(){return new XMLHttpRequest},xt.prototype.i=function(){return{}},et=new xt;var Gr=45e3,mr={},js={};function $s(i,e,n){i.L=1,i.v=Qr(Ni(e)),i.s=n,i.S=!0,lo(i,null)}function lo(i,e){i.G=Date.now(),Hs(i),i.A=Ni(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),Is(n.i,"t",o),i.C=0,n=i.l.J,i.h=new Vr,i.g=Oo(i.l,n?e:null,!i.s),0<i.O&&(i.M=new Yt(it(i.Pa,i,i.g),i.O)),Cn(i.U,i.g,"readystatechange",i.nb),e=i.I?Ri(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),si(),function ve(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",D=l.split("&"),S=0;S<D.length;S++){var x=D[S].split("=");if(1<x.length){var V=x[0];x=x[1];var Z=V.split("_");f=2<=Z.length&&"type"==Z[1]?f+(V+"=")+x+"&":f+(V+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function xs(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function mi(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=Po(i,n),u==js){4==e&&(i.o=4,Sn(14),o=!1),Rt(i.j,i.m,null,"[Incomplete Response]");break}if(u==mr){i.o=4,Sn(15),Rt(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Rt(i.j,i.m,u,null),Js(i,u)}xs(i)&&u!=js&&u!=mr&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Sn(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),No(e),e.M=!0,Sn(11))):(Rt(i.j,i.m,n,"[Invalid Chunked Response]"),ns(i),ts(i))}function Po(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?js:(n=Number(e.substring(n,o)),isNaN(n)?mr:(o+=1)+n>e.length?js:(e=e.slice(o,o+n),i.C=o+n,e))}function Hs(i){i.Y=Date.now()+i.P,Qs(i,i.P)}function Qs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=bn(it(i.lb,i),e)}function Ns(i){i.B&&(G.clearTimeout(i.B),i.B=null)}function ts(i){0==i.l.H||i.J||mo(i.l,i)}function ns(i){Ns(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Ht(i.V),qi(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Js(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Re(n.i,i)))if(!i.K&&Re(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;ro(n),xo(n)}ou(n),Sn(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=bn(it(n.ib,n),6e3));if(1>=fe(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else us(n,11)}else if((i.K||n.g==i)&&ro(n),!st(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let x=u[e];if(n.V=x[0],x=x[1],2==n.H)if("c"==x[0]){n.K=x[1],n.pa=x[2];const V=x[3];null!=V&&(n.ra=V,n.l.info("VER="+n.ra));const Z=x[4];null!=Z&&(n.Ga=Z,n.l.info("SVER="+n.Ga));const ce=x[5];null!=ce&&"number"==typeof ce&&0<ce&&(n.L=o=1.5*ce,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const be=i.g;if(be){const ut=be.g?be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ut){var l=o.i;l.g||-1==ut.indexOf("spdy")&&-1==ut.indexOf("quic")&&-1==ut.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(lt(l,l.h),l.h=null))}if(o.F){const _t=be.g?be.g.getResponseHeader("X-HTTP-Session-Id"):null;_t&&(o.Da=_t,Fn(o.I,o.F,_t))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=fi(o,o.J?o.pa:null,o.Y),f.K){Nt(o.i,f);var D=f,S=o.L;S&&D.setTimeout(S),D.B&&(Ns(D),Hs(D)),o.g=f}else Ca(o);0<n.j.length&&Ts(n)}else"stop"!=x[0]&&"close"!=x[0]||us(n,7);else 3==n.H&&("stop"==x[0]||"close"==x[0]?"stop"==x[0]?us(n,7):Aa(n):"noop"!=x[0]&&n.h&&n.h.Aa(x),n.A=0)}si()}catch{}}function zs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(K(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function eo(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(K(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function Xs(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(K(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(ne=Pt.prototype).setTimeout=function(i){this.P=i},ne.nb=function(i){i=i.target;const e=this.M;e&&3==as(i)?e.l():this.Pa(i)},ne.Pa=function(i){try{if(i==this.g)e:{const V=as(this.g);var e=this.g.Ia();if(this.g.da(),!(3>V)&&(3!=V||pe||this.g&&(this.h.h||this.g.ja()||Ko(this.g)))){this.J||4!=V||7==e||si(),Ns(this);var n=this.g.da();this.ca=n;t:if(xs(this)){var o=Ko(this.g);i="";var u=o.length,l=4==as(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ns(this),ts(this);var f="";break t}this.h.i=new G.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function Xe(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,V,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,S=this.g;if((D=S.g?S.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(D)){var x=D;break t}}x=null}if(!(n=x)){this.i=!1,this.o=3,Sn(12),ns(this),ts(this);break e}Rt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Js(this,n)}this.S?(mi(this,V,f),pe&&this.i&&3==V&&(Cn(this.U,this.V,"tick",this.mb),this.V.start())):(Rt(this.j,this.m,f,null),Js(this,f)),4==V&&ns(this),this.i&&!this.J&&(4==V?mo(this.l,this):(this.i=!1,Hs(this)))}else(function wa(i){const e={};i=(i.g&&2<=as(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(st(i[o]))continue;var n=re(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function Fr(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,Sn(12)):(this.o=0,Sn(13)),ns(this),ts(this)}}}catch{}},ne.mb=function(){if(this.g){var i=as(this.g),e=this.g.ja();this.C<e.length&&(Ns(this),mi(this,i,e),this.i&&4!=i&&Hs(this))}},ne.cancel=function(){this.J=!0,ns(this)},ne.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function nn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(si(),Sn(17)),ns(this),this.o=2,ts(this)):Qs(this,this.Y-i)};var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Wr){this.h=i.h,_n(this,i.j),this.s=i.s,this.g=i.g,Cr(this,i.m),this.l=i.l;var e=i.i,n=new On;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),_r(this,n),this.o=i.o}else i&&(e=String(i).match(Os))?(this.h=!1,_n(this,e[1]||"",!0),this.s=rs(e[2]||""),this.g=rs(e[3]||"",!0),Cr(this,e[4]),this.l=rs(e[5]||"",!0),_r(this,e[6]||"",!0),this.o=rs(e[7]||"")):(this.h=!1,this.i=new On(null,this.h))}function Ni(i){return new Wr(i)}function _n(i,e,n){i.j=n?rs(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Cr(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function _r(i,e,n){e instanceof On?(i.i=e,function Ii(i,e){e&&!i.j&&(Nr(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(Ui(this,o),Is(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=is(e,mt)),i.i=new On(e,i.h))}function Fn(i,e,n){i.i.set(e,n)}function Qr(i){return Fn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function rs(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function is(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,to),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function to(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Wr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(is(e,ho,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(is(e,ho,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(is(n,"/"==n.charAt(0)?Qn:fo,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",is(n,Zt)),i.join("")};var ho=/[#\/\?@]/g,fo=/[#\?:]/g,Qn=/[#\?]/g,mt=/[#\?@]/g,Zt=/#/g;function On(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Nr(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ei(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ui(i,e){Nr(i),e=ur(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Or(i,e){return Nr(i),e=ur(i,e),i.g.has(e)}function Is(i,e,n){Ui(i,e),0<n.length&&(i.i=null,i.g.set(ur(i,e),Ye(n)),i.h+=n.length)}function ur(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function N(i){this.l=i||te,i=G.PerformanceNavigationTiming?0<(i=G.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(G.g&&G.g.Ka&&G.g.Ka()&&G.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ne=On.prototype).add=function(i,e){Nr(this),this.i=null,i=ur(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},ne.forEach=function(i,e){Nr(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},ne.ta=function(){Nr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},ne.Z=function(i){Nr(this);let e=[];if("string"==typeof i)Or(this,i)&&(e=e.concat(this.g.get(ur(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},ne.set=function(i,e){return Nr(this),this.i=null,Or(this,i=ur(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ne.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var te=10;function ie(i){return!!i.h||!!i.g&&i.g.size>=i.j}function fe(i){return i.h?1:i.g?i.g.size:0}function Re(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function lt(i,e){i.g?i.g.add(e):i.h=e}function Nt(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function yt(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Ye(i.i)}N.prototype.cancel=function(){if(this.i=yt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var ln=class{stringify(i){return G.JSON.stringify(i,void 0)}parse(i){return G.JSON.parse(i,void 0)}};function Rn(){this.g=new ln}function Mn(i,e,n){const o=n||"";try{zs(i,function(u,l){let f=u;se(u)&&(f=vi(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Xn(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Vn(i){this.l=i.ec||null,this.j=i.ob||!1}function Ot(i,e){fn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Ur,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}We(Vn,es),Vn.prototype.g=function(){return new Ot(this.l,this.j)},Vn.prototype.i=function(i){return function(){return i}}({}),We(Ot,fn);var Ur=0;function ui(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Jr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,er(i)}function er(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ne=Ot.prototype).open=function(i,e){if(this.readyState!=Ur)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,er(this)},ne.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||G).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jr(this)),this.readyState=Ur},ne.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ui(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ne.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Jr(this):er(this),3==this.readyState&&ui(this)}},ne.Za=function(i){this.g&&(this.response=this.responseText=i,Jr(this))},ne.Ya=function(i){this.g&&(this.response=i,Jr(this))},ne.ka=function(){this.g&&Jr(this)},ne.setRequestHeader=function(i,e){this.v.append(i,e)},ne.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ne.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Sr=G.JSON.parse;function kn(i){fn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hi,this.L=this.M=!1}We(kn,fn);var hi="",br=/^https?$/i,_i=["POST","PUT"];function Xr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,po(i),os(i)}function po(i){i.F||(i.F=!0,Kt(i,"complete"),Kt(i,"error"))}function ss(i){if(i.h&&typeof Ee<"u"&&(!i.C[1]||4!=as(i)||2!=i.da()))if(i.v&&4==as(i))tn(i.La,0,i);else if(Kt(i,"readystatechange"),4==as(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(Os)[1]||null;!u&&G.self&&G.self.location&&(u=G.self.location.protocol.slice(0,-1)),o=!br.test(u?u.toLowerCase():"")}n=o}if(n)Kt(i,"complete"),Kt(i,"success");else{i.m=6;try{var l=2<as(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",po(i)}}finally{os(i)}}}function os(i,e){if(i.g){yi(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Kt(i,"ready");try{n.onreadystatechange=o}catch{}}}function yi(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(G.clearTimeout(i.A),i.A=null)}function as(i){return i.g?i.g.readyState:0}function Ko(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case hi:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ru(i){let e="";return Er(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Mo(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=ru(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Fn(i,e,n))}function sr(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function iu(i){this.Ga=0,this.j=[],this.l=new Oe,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sr("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sr("baseRetryDelayMs",5e3,i),this.hb=sr("retryDelaySeedMs",1e4,i),this.eb=sr("forwardChannelMaxRetries",2,i),this.xa=sr("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new N(i&&i.concurrentRequestLimit),this.Ja=new Rn,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Aa(i){if(go(i),3==i.H){var e=i.W++,n=Ni(i.I);if(Fn(n,"SID",i.K),Fn(n,"RID",e),Fn(n,"TYPE","terminate"),no(i,n),(e=new Pt(i,i.l,e)).L=2,e.v=Qr(Ni(n)),n=!1,G.navigator&&G.navigator.sendBeacon)try{n=G.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&G.Image&&((new Image).src=e.v,n=!0),n||(e.g=Oo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Hs(e)}Ki(i)}function xo(i){i.g&&(No(i),i.g.cancel(),i.g=null)}function go(i){xo(i),i.u&&(G.clearTimeout(i.u),i.u=null),ro(i),i.i.cancel(),i.m&&("number"==typeof i.m&&G.clearTimeout(i.m),i.m=null)}function Ts(i){if(!ie(i.i)&&!i.m){i.m=!0;var e=i.Na;z||he(),$||(z(),$=!0),H.add(e,i),i.C=0}}function Vc(i,e){var n;n=e?e.m:i.W++;const o=Ni(i.I);Fn(o,"SID",i.K),Fn(o,"RID",n),Fn(o,"AID",i.V),no(i,o),i.o&&i.s&&Mo(o,i.o,i.s),n=new Pt(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Uc(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),lt(i.i,n),$s(n,o,e)}function no(i,e){i.na&&Er(i.na,function(n,o){Fn(e,o,n)}),i.h&&zs({},function(n,o){Fn(e,o,n)})}function Uc(i,e,n){n=Math.min(i.j.length,n);var o=i.h?it(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let D=!0;for(let S=0;S<n;S++){let x=u[S].g;const V=u[S].map;if(x-=l,0>x)l=Math.max(0,u[S].g-100),D=!1;else try{Mn(V,f,"req"+x+"_")}catch{o&&o(V)}}if(D){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function Ca(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;z||he(),$||(z(),$=!0),H.add(e,i),i.A=0}}function ou(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=bn(it(i.Ma,i),io(i,i.A)),i.A++,0))}function No(i){null!=i.B&&(G.clearTimeout(i.B),i.B=null)}function Sa(i){i.g=new Pt(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Ni(i.wa);Fn(e,"RID","rpc"),Fn(e,"SID",i.K),Fn(e,"AID",i.V),Fn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Fn(e,"TO",i.qa),Fn(e,"TYPE","xmlhttp"),no(i,e),i.o&&i.s&&Mo(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=Qr(Ni(e)),n.s=null,n.S=!0,lo(n,i)}function ro(i){null!=i.v&&(G.clearTimeout(i.v),i.v=null)}function mo(i,e){var n=null;if(i.g==e){ro(i),No(i),i.g=null;var o=2}else{if(!Re(i.i,e))return;n=e.F,Nt(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;Kt(o=Nn(),new Ms(o,n)),Ts(i)}else Ca(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function su(i,e){return!(fe(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=bn(it(i.Na,i,e),io(i,i.C)),i.C++,0)))}(i,e)||2==o&&ou(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:us(i,5);break;case 4:us(i,10);break;case 3:us(i,6);break;default:us(i,2)}}function io(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function us(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=it(i.pb,i);n||(n=new Wr("//www.google.com/images/cleardot.gif"),G.location&&"http"==G.location.protocol||_n(n,"https"),Qr(n)),function Jn(i,e){const n=new Oe;if(G.Image){const o=new Image;o.onload=jt(Xn,n,o,"TestLoadImage: loaded",!0,e),o.onerror=jt(Xn,n,o,"TestLoadImage: error",!1,e),o.onabort=jt(Xn,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=jt(Xn,n,o,"TestLoadImage: timeout",!1,e),G.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Sn(2);i.H=0,i.h&&i.h.za(e),Ki(i),go(i)}function Ki(i){if(i.H=0,i.ma=[],i.h){const e=yt(i.i);(0!=e.length||0!=i.j.length)&&(ke(i.ma,e),ke(i.ma,i.j),i.i.i.length=0,Ye(i.j),i.j.length=0),i.h.ya()}}function fi(i,e,n){var o=n instanceof Wr?Ni(n):new Wr(n);if(""!=o.g)e&&(o.g=e+"."+o.g),Cr(o,o.m);else{var u=G.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new Wr(null);o&&_n(l,o),e&&(l.g=e),u&&Cr(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&Fn(o,n,e),Fn(o,"VER",i.ra),no(i,o),o}function Oo(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new kn(n&&i.Ha&&!i.va?new Vn({ob:!0}):i.va)).Oa(i.J),e}function qu(){}function kr(){if(Ct&&!(10<=Number(Vt)))throw Error("Environmental error: no available transport.")}function Ti(i,e){fn.call(this),this.g=new iu(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!st(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!st(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new cs(this)}function ci(i){ai.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function au(){gt.call(this),this.status=1}function cs(i){this.g=i}function Bi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ra(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function Wn(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(ne=kn.prototype).Oa=function(i){this.M=i},ne.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():et.g(),this.C=function Mi(i){return i.h||(i.h=i.i())}(this.u?this.u:et),this.g.onreadystatechange=it(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void Xr(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=G.FormData&&i instanceof G.FormData,!(0<=Ve(_i,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yi(this),0<this.B&&((this.L=function Rr(i){return Ct&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=it(this.ua,this)):this.A=tn(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){Xr(this,l)}},ne.ua=function(){typeof Ee<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},ne.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Kt(this,"complete"),Kt(this,"abort"),os(this))},ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),os(this,!0)),kn.$.N.call(this)},ne.La=function(){this.s||(this.G||this.v||this.l?ss(this):this.kb())},ne.kb=function(){ss(this)},ne.isActive=function(){return!!this.g},ne.da=function(){try{return 2<as(this)?this.g.status:-1}catch{return-1}},ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ne.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Sr(e)}},ne.Ia=function(){return this.m},ne.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ne=iu.prototype).ra=8,ne.H=1,ne.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Pt(this,this.l,i);let l=this.s;if(this.U&&(l?(l=Ri(l),ii(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Uc(this,u,e),Fn(n=Ni(this.I),"RID",i),Fn(n,"CVER",22),this.F&&Fn(n,"X-HTTP-Session-Id",this.F),no(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(ru(l)))+"&"+e:this.o&&Mo(n,this.o,l)),lt(this.i,u),this.bb&&Fn(n,"TYPE","init"),this.P?(Fn(n,"$req",e),Fn(n,"SID","null"),u.aa=!0,$s(u,n,null)):$s(u,n,e),this.H=2}}else 3==this.H&&(i?Vc(this,i):0==this.j.length||ie(this.i)||Vc(this))},ne.Ma=function(){if(this.u=null,Sa(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=bn(it(this.jb,this),i)}},ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sn(10),xo(this),Sa(this))},ne.ib=function(){null!=this.v&&(this.v=null,xo(this),ou(this),Sn(19))},ne.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Sn(2)):(this.l.info("Failed to ping google.com"),Sn(1))},ne.isActive=function(){return!!this.h&&this.h.isActive(this)},(ne=qu.prototype).Ba=function(){},ne.Aa=function(){},ne.za=function(){},ne.ya=function(){},ne.isActive=function(){return!0},ne.Va=function(){},kr.prototype.g=function(i,e){return new Ti(i,e)},We(Ti,fn),Ti.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Sn(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=fi(i,null,i.Y),Ts(i)},Ti.prototype.close=function(){Aa(this.g)},Ti.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=vi(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Ts(e)},Ti.prototype.N=function(){this.g.h=null,delete this.j,Aa(this.g),delete this.g,Ti.$.N.call(this)},We(ci,ai),We(au,gt),We(cs,qu),cs.prototype.Ba=function(){Kt(this.g,"a")},cs.prototype.Aa=function(i){Kt(this.g,new ci(i))},cs.prototype.za=function(i){Kt(this.g,new au)},cs.prototype.ya=function(){Kt(this.g,"b")},We(Bi,function ba(){this.blockSize=-1}),Bi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Bi.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)Ra(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){Ra(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){Ra(this,o),u=0;break}}this.h=u,this.i+=e},Bi.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var uu={};function ks(i){return-128<=i&&128>i?function Wt(i,e){var n=uu;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new Wn([0|e],0>e?-1:0)}):new Wn([0|i],0>i?-1:0)}function ls(i){if(isNaN(i)||!isFinite(i))return Gs;if(0>i)return Di(ls(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=_o;return new Wn(e,0)}var _o=4294967296,Gs=ks(0),ko=ks(1),Ws=ks(16777216);function Ds(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function ds(i){return-1==i.h}function Di(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new Wn(n,~i.h).add(ko)}function Lo(i,e){return i.add(Di(e))}function Pa(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function yo(i,e){this.g=i,this.h=e}function Yu(i,e){if(Ds(e))throw Error("division by zero");if(Ds(i))return new yo(Gs,Gs);if(ds(i))return e=Yu(Di(i),e),new yo(Di(e.g),Di(e.h));if(ds(e))return e=Yu(i,Di(e)),new yo(Di(e.g),e.h);if(30<i.g.length){if(ds(i)||ds(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ko,o=e;0>=o.X(i);)n=Yo(n),o=Yo(o);var u=hs(n,1),l=hs(o,1);for(o=hs(o,2),n=hs(n,2);!Ds(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=hs(o,1),n=hs(n,1)}return e=Lo(i,u.R(e)),new yo(u,e)}for(u=Gs;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=ls(n)).R(e);ds(f)||0<f.X(i);)f=(l=ls(n-=o)).R(e);Ds(l)&&(l=ko),u=u.add(l),i=Lo(i,f)}return new yo(u,i)}function Yo(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new Wn(n,i.h)}function hs(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new Wn(u,i.h)}(ne=Wn.prototype).ea=function(){if(ds(this))return-Di(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:_o+o)*e,e*=_o}return i},ne.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Ds(this))return"0";if(ds(this))return"-"+Di(this).toString(i);for(var e=ls(Math.pow(i,6)),n=this,o="";;){var u=Yu(n,e).g,l=((0<(n=Lo(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Ds(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},ne.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ne.X=function(i){return ds(i=Lo(this,i))?-1:Ds(i)?0:1},ne.abs=function(){return ds(this)?Di(this):this},ne.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new Wn(n,-2147483648&n[n.length-1]?-1:0)},ne.R=function(i){if(Ds(this)||Ds(i))return Gs;if(ds(this))return ds(i)?Di(this).R(Di(i)):Di(Di(this).R(i));if(ds(i))return Di(this.R(Di(i)));if(0>this.X(Ws)&&0>i.X(Ws))return ls(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),D=i.D(u)>>>16,S=65535&i.D(u);n[2*o+2*u]+=f*S,Pa(n,2*o+2*u),n[2*o+2*u+1]+=l*S,Pa(n,2*o+2*u+1),n[2*o+2*u+1]+=f*D,Pa(n,2*o+2*u+1),n[2*o+2*u+2]+=l*D,Pa(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new Wn(n,0)},ne.gb=function(i){return Yu(this,i).h},ne.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new Wn(n,this.h&i.h)},ne.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new Wn(n,this.h|i.h)},ne.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new Wn(n,this.h^i.h)},kr.prototype.createWebChannel=kr.prototype.g,Ti.prototype.send=Ti.prototype.u,Ti.prototype.open=Ti.prototype.m,Ti.prototype.close=Ti.prototype.close,oi.NO_ERROR=0,oi.TIMEOUT=8,oi.HTTP_ERROR=6,Bs.COMPLETE="complete",Ir.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",fn.prototype.listen=fn.prototype.O,kn.prototype.listenOnce=kn.prototype.P,kn.prototype.getLastError=kn.prototype.Sa,kn.prototype.getLastErrorCode=kn.prototype.Ia,kn.prototype.getStatus=kn.prototype.da,kn.prototype.getResponseJson=kn.prototype.Wa,kn.prototype.getResponseText=kn.prototype.ja,kn.prototype.send=kn.prototype.ha,kn.prototype.setWithCredentials=kn.prototype.Oa,Bi.prototype.digest=Bi.prototype.l,Bi.prototype.reset=Bi.prototype.reset,Bi.prototype.update=Bi.prototype.j,Wn.prototype.add=Wn.prototype.add,Wn.prototype.multiply=Wn.prototype.R,Wn.prototype.modulo=Wn.prototype.gb,Wn.prototype.compare=Wn.prototype.X,Wn.prototype.toNumber=Wn.prototype.ea,Wn.prototype.toString=Wn.prototype.toString,Wn.prototype.getBits=Wn.prototype.D,Wn.fromNumber=ls,Wn.fromString=function Ku(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Di(Ku(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ls(Math.pow(e,8)),o=Gs,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=ls(Math.pow(e,l)),o=o.R(l).add(ls(f))):o=(o=o.R(n)).add(ls(f))}return o};var Ma=ue.createWebChannelTransport=function(){return new kr},I=ue.getStatEventTarget=function(){return Nn()},F=ue.ErrorCode=oi,b=ue.EventType=Bs,O=ue.Event=pn,Y=ue.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ae=ue.FetchXmlHttpFactory=Vn,Ue=ue.WebChannel=Ir,At=ue.XhrIo=kn,cr=ue.Md5=Bi,Un=ue.Integer=Wn;const qn="@firebase/firestore";class Gt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");let fr="10.5.2";const Kn=new ee.Yd("@firebase/firestore");function yr(){return Kn.logLevel}function Ge(i,...e){if(Kn.logLevel<=ee.in.DEBUG){const n=e.map(ws);Kn.debug(`Firestore (${fr}): ${i}`,...n)}}function zn(i,...e){if(Kn.logLevel<=ee.in.ERROR){const n=e.map(ws);Kn.error(`Firestore (${fr}): ${i}`,...n)}}function Tr(i,...e){if(Kn.logLevel<=ee.in.WARN){const n=e.map(ws);Kn.warn(`Firestore (${fr}): ${i}`,...n)}}function ws(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Dt(i="Unexpected state"){const e=`FIRESTORE (${fr}) INTERNAL ASSERTION FAILED: `+i;throw zn(e),new Error(e)}function kt(i,e){i||Dt()}function dt(i,e){return i}const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends oe.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class dr{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}}class xa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Yi{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=x=>this.i!==u?(u=this.i,n(x)):Promise.resolve();let f=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new lr,e.enqueueRetryable(()=>l(this.currentUser))};const D=()=>{const x=f;e.enqueueRetryable((0,m.Z)(function*(){yield x.promise,yield l(o.currentUser)}))},S=x=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(x=>S(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?S(x):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new lr)}},0),D()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(kt("string"==typeof o.accessToken),new dr(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(null===e||"string"==typeof e),new Gt(e)}}class Ff{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jc{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new Ff(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class so{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Oi{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const o=l=>{null!=l.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.R;return this.R=l.token,Ge("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?u(l):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt("string"==typeof n.token),this.R=n.token,new so(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ql(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class fs{static newId(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=ql(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function Qt(i,e){return i<e?-1:i>e?1:0}function Zo(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class Br{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Qe(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Qe(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Qe(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Br.fromMillis(Date.now())}static fromDate(e){return Br.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Br(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new Br(0,0))}static max(){return new Ut(new Br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vo{constructor(e,n,o){void 0===n?n=0:n>e.length&&Dt(),void 0===o?o=e.length-n:o>e.length-n&&Dt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===vo.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vo?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bn extends vo{construct(e,n,o){return new Bn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Qe(Pe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Bn(n)}static emptyPath(){return new Bn([])}}const an=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends vo{construct(e,n,o){return new Pr(e,n,o)}static isValidIdentifier(e){return an.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new Qe(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const D=e[u];if("\\"===D){if(u+1===e.length)throw new Qe(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const S=e[u+1];if("\\"!==S&&"."!==S&&"`"!==S)throw new Qe(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=S,u+=2}else"`"===D?(f=!f,u++):"."!==D||f?(o+=D,u++):(l(),u++)}if(l(),f)throw new Qe(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(n)}static emptyPath(){return new Pr([])}}class wt{constructor(e){this.path=e}static fromPath(e){return new wt(Bn.fromString(e))}static fromName(e){return new wt(Bn.fromString(e).popFirst(5))}static empty(){return new wt(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new Bn(e.slice()))}}function $c(i){return new Zi(i.readTime,i.key,-1)}class Zi{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Zi(Ut.min(),wt.empty(),-1)}static max(){return new Zi(Ut.max(),wt.empty(),-1)}}function Ke(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=wt.comparator(i.documentKey,e.documentKey),0!==n?n:Qt(i.largestBatchId,e.largestBatchId))}const Pn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ju{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function gs(i){return qr.apply(this,arguments)}function qr(){return qr=(0,m.Z)(function*(i){if(i.code!==Pe.FAILED_PRECONDITION||i.message!==Pn)throw i;Ge("LocalStore","Unexpectedly lost primary lease")}),qr.apply(this,arguments)}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new De((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof De?n:De.resolve(n)}catch(n){return De.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):De.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):De.reject(n)}static resolve(e){return new De((n,o)=>{n(e)})}static reject(e){return new De((n,o)=>{o(e)})}static waitFor(e){return new De((n,o)=>{let u=0,l=0,f=!1;e.forEach(D=>{++u,D.next(()=>{++l,f&&l===u&&n()},S=>o(S))}),f=!0,l===u&&n()})}static or(e){let n=De.resolve(!1);for(const o of e)n=n.next(u=>u?De.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new De((o,u)=>{const l=e.length,f=new Array(l);let D=0;for(let S=0;S<l;S++){const x=S;n(e[x]).next(V=>{f[x]=V,++D,D===l&&o(f)},V=>u(V))}})}static doWhile(e,n){return new De((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function oo(i){return"IndexedDbTransactionError"===i.name}let w=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.se(u),this.oe=u=>o.writeSequenceNumber(u))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function R(i){return null==i}function j(i){return 0===i&&1/i==-1/0}function ec(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Io(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function tc(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Dr{constructor(e,n){this.comparator=e,this.root=n||di.EMPTY}insert(e,n){return new Dr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,di.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,di.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class di{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??di.RED,this.left=u??di.EMPTY,this.right=l??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new di(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return di.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1,di.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(e,n,o,u,l){return this}insert(e,n,o){return new di(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tr{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bf(this.data.getIterator())}getIteratorFrom(e){return new Bf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tr(this.comparator);return n.data=e,n}}class Bf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ms{constructor(e){this.fields=e,e.sort(Pr.comparator)}static empty(){return new ms([])}unionWith(e){let n=new tr(Pr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new ms(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Xl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Xl("Invalid base64 string: "+l):l}}(e);return new wi(n)}static fromUint8Array(e){const n=function(u){let l="";for(let f=0;f<u.length;++f)l+=String.fromCharCode(u[f]);return l}(e);return new wi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const qc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(i){if(kt(!!i),"string"==typeof i){let e=0;const n=qc.exec(i);if(kt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Kr(i.seconds),nanos:Kr(i.nanos)}}function Kr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function _s(i){return"string"==typeof i?wi.fromBase64String(i):wi.fromUint8Array(i)}function du(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function To(i){const e=i.mapValue.fields.__previous_value__;return du(e)?To(e):e}function hu(i){const e=La(i.mapValue.fields.__local_write_time__.timestampValue);return new Br(e.seconds,e.nanos)}class Kc{constructor(e,n,o,u,l,f,D,S,x){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=S,this.useFetchStreams=x}}class Fa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}const Do={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ta(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?du(i)?4:ia(i)?9007199254740991:10:Dt()}function gi(i,e){if(i===e)return!0;const n=ta(i);if(n!==ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return hu(i).isEqual(hu(e));case 3:return function(u,l){if("string"==typeof u.timestampValue&&"string"==typeof l.timestampValue&&u.timestampValue.length===l.timestampValue.length)return u.timestampValue===l.timestampValue;const f=La(u.timestampValue),D=La(l.timestampValue);return f.seconds===D.seconds&&f.nanos===D.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,_s(i.bytesValue).isEqual(_s(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,l){return Kr(u.geoPointValue.latitude)===Kr(l.geoPointValue.latitude)&&Kr(u.geoPointValue.longitude)===Kr(l.geoPointValue.longitude)}(i,e);case 2:return function(u,l){if("integerValue"in u&&"integerValue"in l)return Kr(u.integerValue)===Kr(l.integerValue);if("doubleValue"in u&&"doubleValue"in l){const f=Kr(u.doubleValue),D=Kr(l.doubleValue);return f===D?j(f)===j(D):isNaN(f)&&isNaN(D)}return!1}(i,e);case 9:return Zo(i.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:return function(u,l){const f=u.mapValue.fields||{},D=l.mapValue.fields||{};if(ec(f)!==ec(D))return!1;for(const S in f)if(f.hasOwnProperty(S)&&(void 0===D[S]||!gi(f[S],D[S])))return!1;return!0}(i,e);default:return Dt()}var l}function Zc(i,e){return void 0!==(i.values||[]).find(n=>gi(n,e))}function ao(i,e){if(i===e)return 0;const n=ta(i),o=ta(e);if(n!==o)return Qt(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(i.booleanValue,e.booleanValue);case 2:return function(l,f){const D=Kr(l.integerValue||l.doubleValue),S=Kr(f.integerValue||f.doubleValue);return D<S?-1:D>S?1:D===S?0:isNaN(D)?isNaN(S)?0:-1:1}(i,e);case 3:return fu(i.timestampValue,e.timestampValue);case 4:return fu(hu(i),hu(e));case 5:return Qt(i.stringValue,e.stringValue);case 6:return function(l,f){const D=_s(l),S=_s(f);return D.compareTo(S)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const D=l.split("/"),S=f.split("/");for(let x=0;x<D.length&&x<S.length;x++){const V=Qt(D[x],S[x]);if(0!==V)return V}return Qt(D.length,S.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const D=Qt(Kr(l.latitude),Kr(f.latitude));return 0!==D?D:Qt(Kr(l.longitude),Kr(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,f){const D=l.values||[],S=f.values||[];for(let x=0;x<D.length&&x<S.length;++x){const V=ao(D[x],S[x]);if(V)return V}return Qt(D.length,S.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,f){if(l===Do.mapValue&&f===Do.mapValue)return 0;if(l===Do.mapValue)return 1;if(f===Do.mapValue)return-1;const D=l.fields||{},S=Object.keys(D),x=f.fields||{},V=Object.keys(x);S.sort(),V.sort();for(let Z=0;Z<S.length&&Z<V.length;++Z){const ce=Qt(S[Z],V[Z]);if(0!==ce)return ce;const be=ao(D[S[Z]],x[V[Z]]);if(0!==be)return be}return Qt(S.length,V.length)}(i.mapValue,e.mapValue);default:throw Dt()}}function fu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Qt(i,e);const n=La(i),o=La(e),u=Qt(n.seconds,o.seconds);return 0!==u?u:Qt(n.nanos,o.nanos)}function pu(i){return gu(i)}function gu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const o=La(n);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?_s(i.bytesValue).toBase64():"referenceValue"in i?wt.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let o="[",u=!0;for(const l of n.values||[])u?u=!1:o+=",",o+=gu(l);return o+"]"}(i.arrayValue):"mapValue"in i?function(n){const o=Object.keys(n.fields||{}).sort();let u="{",l=!0;for(const f of o)l?l=!1:u+=",",u+=`${f}:${gu(n.fields[f])}`;return u+"}"}(i.mapValue):Dt()}function mu(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function _u(i){return!!i&&"integerValue"in i}function Va(i){return!!i&&"arrayValue"in i}function nc(i){return!!i&&"nullValue"in i}function Qc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function yu(i){return!!i&&"mapValue"in i}function ra(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Io(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=ra(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ra(i.arrayValue.values[n]);return e}return Object.assign({},i)}function ia(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ai{constructor(e){this.value=e}static empty(){return new Ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!yu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ra(n)}setAll(e){let n=Pr.emptyPath(),o={},u=[];e.forEach((f,D)=>{if(!n.isImmediateParentOf(D)){const S=this.getFieldsMap(n);this.applyChanges(S,o,u),o={},u=[],n=D.popLast()}f?o[D.lastSegment()]=ra(f):u.push(D.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());yu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];yu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Io(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Ai(ra(this.value))}}function Qi(i){const e=[];return Io(i.fields,(n,o)=>{const u=new Pr([n]);if(yu(o)){const l=Qi(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new ms(e)}class jr{constructor(e,n,o,u,l,f,D){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=D}static newInvalidDocument(e){return new jr(e,0,Ut.min(),Ut.min(),Ut.min(),Ai.empty(),0)}static newFoundDocument(e,n,o,u){return new jr(e,1,n,Ut.min(),o,u,0)}static newNoDocument(e,n){return new jr(e,2,n,Ut.min(),Ut.min(),Ai.empty(),0)}static newUnknownDocument(e,n){return new jr(e,3,n,Ut.min(),Ut.min(),Ai.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jo{constructor(e,n){this.position=e,this.inclusive=n}}function Eu(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?wt.comparator(wt.fromName(f.referenceValue),n.key):ao(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function eh(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!gi(i.position[n],e.position[n]))return!1;return!0}class Iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Jc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Ua{}class In extends Ua{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Wg(e,n,o):"array-contains"===n?new zf(e,o):"in"===n?new id(e,o):"not-in"===n?new Ci(e,o):"array-contains-any"===n?new Gf(e,o):new In(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new qg(e,o):new Kg(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ao(n,this.value)):null!==n&&ta(this.value)===ta(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends Ua{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new nr(e,n)}matches(e){return Ba(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ba(i){return"and"===i.op}function sa(i){return function jf(i){for(const e of i.filters)if(e instanceof nr)return!1;return!0}(i)&&Ba(i)}function nd(i){if(i instanceof In)return i.field.canonicalString()+i.op.toString()+pu(i.value);if(sa(i))return i.filters.map(e=>nd(e)).join(",");{const e=i.filters.map(n=>nd(n)).join(",");return`${i.op}(${e})`}}function $f(i,e){return i instanceof In?(o=i,(u=e)instanceof In&&o.op===u.op&&o.field.isEqual(u.field)&&gi(o.value,u.value)):i instanceof nr?function(o,u){return u instanceof nr&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((l,f,D)=>l&&$f(f,u.filters[D]),!0)}(i,e):void Dt();var o,u}function rd(i){return i instanceof In?`${(n=i).field.canonicalString()} ${n.op} ${pu(n.value)}`:i instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(rd).join(" ,")+"}"}(i):"Filter";var n}class Wg extends In{constructor(e,n,o){super(e,n,o),this.key=wt.fromName(o.referenceValue)}matches(e){const n=wt.comparator(e.key,this.key);return this.matchesComparison(n)}}class qg extends In{constructor(e,n){super(e,"in",n),this.keys=ja(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Kg extends In{constructor(e,n){super(e,"not-in",n),this.keys=ja(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ja(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>wt.fromName(o.referenceValue))}class zf extends In{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Va(n)&&Zc(n.arrayValue,this.value)}}class id extends In{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Zc(this.value.arrayValue,n)}}class Ci extends In{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Zc(this.value.arrayValue,n)}}class Gf extends In{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Va(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Zc(this.value.arrayValue,o))}}class ic{constructor(e,n=null,o=[],u=[],l=null,f=null,D=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=D,this.ce=null}}function sd(i,e=null,n=[],o=[],u=null,l=null,f=null){return new ic(i,e,n,o,u,l,f)}function ki(i){const e=dt(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>nd(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),R(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>pu(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>pu(o)).join(",")),e.ce=n}return e.ce}function uo(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Jc(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!$f(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!eh(i.startAt,e.startAt)&&eh(i.endAt,e.endAt)}function $a(i){return wt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class aa{constructor(e,n=null,o=[],u=[],l=null,f="F",D=null,S=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=D,this.endAt=S,this.le=null,this.he=null,this.Pe=null}}function Tu(i){return new aa(i)}function Vs(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Xc(i){return null!==i.collectionGroup}function Us(i){const e=dt(i);if(null===e.le){e.le=[];const n=new Set;for(const l of e.explicitOrderBy)e.le.push(l),n.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let D=new tr(Pr.comparator);return f.filters.forEach(S=>{S.getFlattenedFilters().forEach(x=>{x.isInequality()&&(D=D.add(x.field))})}),D})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.le.push(new Iu(l,o))}),n.has(Pr.keyField().canonicalString())||e.le.push(new Iu(Pr.keyField(),o))}return e.le}function ys(i){const e=dt(i);return e.he||(e.he=function Du(i,e){if("F"===i.limitType)return sd(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new Iu(u.field,"desc"===u.dir?"asc":"desc"));const n=i.endAt?new jo(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new jo(i.startAt.position,i.startAt.inclusive):null;return sd(i.path,i.collectionGroup,e,i.filters,i.limit,n,o)}}(e,Us(i))),e.he}function el(i,e){const n=i.filters.concat([e]);return new aa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function sc(i,e,n){return new aa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function oc(i,e){return uo(ys(i),ys(e))&&i.limitType===e.limitType}function nh(i){return`${ki(ys(i))}|lt:${i.limitType}`}function wu(i){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(u=>rd(u)).join(", ")}]`),R(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(u=>{return`${(f=u).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(u=>pu(u)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(u=>pu(u)).join(",")),`Target(${o})`}(ys(i))}; limitType=${i.limitType})`}function ac(i,e){return e.isFoundDocument()&&function(o,u){const l=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):wt.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(i,e)&&function(o,u){for(const l of Us(o))if(!l.field.isKeyField()&&null===u.data.field(l.field))return!1;return!0}(i,e)&&function(o,u){for(const l of o.filters)if(!l.matches(u))return!1;return!0}(i,e)&&(u=e,!((o=i).startAt&&!function(f,D,S){const x=Eu(f,D,S);return f.inclusive?x<=0:x<0}(o.startAt,Us(o),u)||o.endAt&&!function(f,D,S){const x=Eu(f,D,S);return f.inclusive?x>=0:x>0}(o.endAt,Us(o),u)));var o,u}function Au(i){return(e,n)=>{let o=!1;for(const u of Us(i)){const l=qf(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function qf(i,e,n){const o=i.field.isKeyField()?wt.comparator(e.key,n.key):function(l,f,D){const S=f.data.field(l),x=D.data.field(l);return null!==S&&null!==x?ao(S,x):Dt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Dt()}}class Ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return tc(this.inner)}size(){return this.innerSize}}const E=new Dr(wt.comparator);function h(){return E}const p=new Dr(wt.comparator);function T(...i){let e=p;for(const n of i)e=e.insert(n.key,n);return e}function k(i){let e=p;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function W(){return Ne()}function le(){return Ne()}function Ne(){return new Ys(i=>i.toString(),(i,e)=>i.isEqual(e))}const rt=new Dr(wt.comparator),Mt=new tr(wt.comparator);function at(...i){let e=Mt;for(const n of i)e=e.add(n);return e}const Yn=new tr(Qt);function wo(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:j(e)?"-0":e}}function uc(i){return{integerValue:""+i}}function rh(i,e){return function X(i){return"number"==typeof i&&Number.isInteger(i)&&!j(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?uc(e):wo(i,e)}class Cu{constructor(){this._=void 0}}function ih(i,e,n){return i instanceof ua?function(u,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return l&&du(l)&&(l=To(l)),l&&(f.fields.__previous_value__=l),{mapValue:f}}(n,e):i instanceof ca?cc(i,e):i instanceof Ga?od(i,e):function(u,l){const f=za(u,l),D=oh(f)+oh(u.Ie);return _u(f)&&_u(u.Ie)?uc(D):wo(u.serializer,D)}(i,e)}function sh(i,e,n){return i instanceof ca?cc(i,e):i instanceof Ga?od(i,e):n}function za(i,e){return i instanceof Wa?_u(o=e)||(l=o)&&"doubleValue"in l?e:{integerValue:0}:null;var o,l}class ua extends Cu{}class ca extends Cu{constructor(e){super(),this.elements=e}}function cc(i,e){const n=Yg(e);for(const o of i.elements)n.some(u=>gi(u,o))||n.push(o);return{arrayValue:{values:n}}}class Ga extends Cu{constructor(e){super(),this.elements=e}}function od(i,e){let n=Yg(e);for(const o of i.elements)n=n.filter(u=>!gi(u,o));return{arrayValue:{values:n}}}class Wa extends Cu{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function oh(i){return Kr(i.integerValue||i.doubleValue)}function Yg(i){return Va(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class IE{constructor(e,n){this.version=e,this.transformResults=n}}class Yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kf(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Yf{}function Y_(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new hc(i.key,Yr.none()):new qa(i.key,i.data,Yr.none());{const n=i.data,o=Ai.empty();let u=new tr(Pr.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new la(i.key,o,new ms(u.toArray()),Yr.none())}}function TE(i,e,n){i instanceof qa?function(u,l,f){const D=u.value.clone(),S=Qf(u.fieldTransforms,l,f.transformResults);D.setAll(S),l.convertToFoundDocument(f.version,D).setHasCommittedMutations()}(i,e,n):i instanceof la?function(u,l,f){if(!Kf(u.precondition,l))return void l.convertToUnknownDocument(f.version);const D=Qf(u.fieldTransforms,l,f.transformResults),S=l.data;S.setAll(Zf(u)),S.setAll(D),l.convertToFoundDocument(f.version,S).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ah(i,e,n,o){return i instanceof qa?function(l,f,D,S){if(!Kf(l.precondition,f))return D;const x=l.value.clone(),V=dc(l.fieldTransforms,S,f);return x.setAll(V),f.convertToFoundDocument(f.version,x).setHasLocalMutations(),null}(i,e,n,o):i instanceof la?function(l,f,D,S){if(!Kf(l.precondition,f))return D;const x=dc(l.fieldTransforms,S,f),V=f.data;return V.setAll(Zf(l)),V.setAll(x),f.convertToFoundDocument(f.version,V).setHasLocalMutations(),null===D?null:D.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(Z=>Z.field))}(i,e,n,o):(D=n,Kf(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):D);var f,D}function Z_(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=za(o.transform,u||null);null!=l&&(null===n&&(n=Ai.empty()),n.set(o.field,l))}return n||null}function ad(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=i.fieldTransforms)&&void 0===u||o&&u&&Zo(o,u,(l,f)=>function EE(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(o=i.transform)instanceof ca&&u instanceof ca||o instanceof Ga&&u instanceof Ga?Zo(o.elements,u.elements,gi):o instanceof Wa&&u instanceof Wa?gi(o.Ie,u.Ie):o instanceof ua&&u instanceof ua);var o,u}(l,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var o,u}class qa extends Yf{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class la extends Yf{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Zf(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Qf(i,e,n){const o=new Map;kt(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,D=e.data.field(l.field);o.set(l.field,sh(f,D,n[u]))}return o}function dc(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,ih(l,f,e))}return o}class hc extends Yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uh extends Yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nl{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&TE(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=ah(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=ah(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=le();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let D=this.applyToLocalView(f,l.mutatedFields);D=n.has(u.key)?null:D;const S=Y_(f,D);null!==S&&o.set(u.key,S),f.isValidDocument()||f.convertToNoDocument(Ut.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),at())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,(n,o)=>ad(n,o))&&Zo(this.baseMutations,e.baseMutations,(n,o)=>ad(n,o))}}class rl{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){kt(e.mutations.length===o.length);let u=rt;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new rl(e,n,o,u)}}class il{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class J_{constructor(e,n){this.count=e,this.unchangedNames=n}}var Li,ar;function Zg(i){if(void 0===i)return zn("GRPC error has no .code"),Pe.UNKNOWN;switch(i){case Li.OK:return Pe.OK;case Li.CANCELLED:return Pe.CANCELLED;case Li.UNKNOWN:return Pe.UNKNOWN;case Li.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case Li.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case Li.INTERNAL:return Pe.INTERNAL;case Li.UNAVAILABLE:return Pe.UNAVAILABLE;case Li.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case Li.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case Li.NOT_FOUND:return Pe.NOT_FOUND;case Li.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case Li.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case Li.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case Li.ABORTED:return Pe.ABORTED;case Li.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case Li.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case Li.DATA_LOSS:return Pe.DATA_LOSS;default:return Dt()}}(ar=Li||(Li={}))[ar.OK=0]="OK",ar[ar.CANCELLED=1]="CANCELLED",ar[ar.UNKNOWN=2]="UNKNOWN",ar[ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ar[ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ar[ar.NOT_FOUND=5]="NOT_FOUND",ar[ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",ar[ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",ar[ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",ar[ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ar[ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ar[ar.ABORTED=10]="ABORTED",ar[ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",ar[ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",ar[ar.INTERNAL=13]="INTERNAL",ar[ar.UNAVAILABLE=14]="UNAVAILABLE",ar[ar.DATA_LOSS=15]="DATA_LOSS";const Jg=new Un([4294967295,4294967295],0);function Xg(i){const e=function Qg(){return new TextEncoder}().encode(i),n=new cr;return n.update(e),new Uint8Array(n.digest())}function em(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Un([n,o],0),new Un([u,l],0)]}class Cs{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new fc(`Invalid padding: ${n}`);if(o<0)throw new fc(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new fc(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new fc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Un.fromNumber(this.Te)}de(e,n,o){let u=e.add(n.multiply(Un.fromNumber(o)));return 1===u.compare(Jg)&&(u=new Un([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Xg(e),[o,u]=em(n);for(let l=0;l<this.hashCount;l++){const f=this.de(o,u,l);if(!this.Ae(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Cs(l,u,n);return o.forEach(D=>f.insert(D)),f}insert(e){if(0===this.Te)return;const n=Xg(e),[o,u]=em(n);for(let l=0;l<this.hashCount;l++){const f=this.de(o,u,l);this.Re(f)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sl{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new sl(Ut.min(),u,new Dr(Qt),h(),at())}}class pc{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new pc(o,n,at(),at(),at())}}class $i{constructor(e,n,o,u){this.Ve=e,this.removedTargetIds=n,this.key=o,this.me=u}}class ol{constructor(e,n){this.targetId=e,this.fe=n}}class Jf{constructor(e,n,o=wi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Xf{constructor(){this.ge=0,this.pe=tm(),this.ye=wi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=at(),n=at(),o=at();return this.pe.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Dt()}}),new pc(this.ye,this.we,e,n,o)}Fe(){this.Se=!1,this.pe=tm()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class X_{constructor(e){this.Le=e,this.ke=new Map,this.qe=h(),this.Qe=ep(),this.Ke=new Dr(Qt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(n);break;case 3:this.je(n)&&(o.Be(),o.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.Ce(e.resumeToken));break;default:Dt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((o,u)=>{this.je(u)&&n(u)})}Je(e){const n=e.targetId,o=e.fe.count,u=this.Ye(n);if(u){const l=u.target;if($a(l))if(0===o){const f=new wt(l.path);this.We(n,f,jr.newNoDocument(f,Ut.min()))}else kt(1===o);else{const f=this.Ze(n);if(f!==o){const D=this.Xe(e),S=D?this.et(D,e,f):1;0!==S&&(this.He(n),this.Ke=this.Ke.insert(n,2===S?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:l=0}=n;let f,D;try{f=_s(o).toUint8Array()}catch(S){if(S instanceof Xl)return Tr("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw S}try{D=new Cs(f,u,l)}catch(S){return Tr(S instanceof fc?"BloomFilter error: ":"Applying bloom filter failed: ",S),null}return 0===D.Te?null:D}et(e,n,o){return n.fe.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Le.getRemoteKeysForTarget(n);let u=0;return o.forEach(l=>{const f=this.Le.nt(),D=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(D)||(this.We(n,l,null),u++)}),u}it(e){const n=new Map;this.ke.forEach((l,f)=>{const D=this.Ye(f);if(D){if(l.current&&$a(D.target)){const S=new wt(D.target.path);null!==this.qe.get(S)||this.st(f,S)||this.We(f,S,jr.newNoDocument(S,e))}l.De&&(n.set(f,l.ve()),l.Fe())}});let o=at();this.Qe.forEach((l,f)=>{let D=!0;f.forEachWhile(S=>{const x=this.Ye(S);return!x||"TargetPurposeLimboResolution"===x.purpose||(D=!1,!1)}),D&&(o=o.add(l))}),this.qe.forEach((l,f)=>f.setReadTime(e));const u=new sl(e,n,this.Ke,this.qe,o);return this.qe=h(),this.Qe=ep(),this.Ke=new Dr(Qt),u}Ue(e,n){if(!this.je(e))return;const o=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,o),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const u=this.ze(e);this.st(e,n)?u.Me(n,1):u.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),o&&(this.qe=this.qe.insert(n,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Xf,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new tr(Qt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Ge("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Xf),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ep(){return new Dr(wt.comparator)}function tm(){return new Dr(wt.comparator)}const nm={asc:"ASCENDING",desc:"DESCENDING"},ey={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rm={and:"AND",or:"OR"};class ty{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tp(i,e){return i.useProto3Json||R(e)?e:{value:e}}function Su(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dh(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ny(i,e){return Su(i,e.toTimestamp())}function ti(i){return kt(!!i),Ut.fromTimestamp(function(n){const o=La(n);return new Br(o.seconds,o.nanos)}(i))}function np(i,e){return(o=i,new Bn(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function im(i){const e=Bn.fromString(i);return kt(am(e)),e}function al(i,e){return np(i.databaseId,e.path)}function $o(i,e){const n=im(e);if(n.get(1)!==i.databaseId.projectId)throw new Qe(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Qe(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new wt(rp(n))}function hh(i,e){return np(i.databaseId,e)}function bu(i){return new Bn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function rp(i){return kt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function fh(i,e,n){return{name:al(i,e),fields:n.value.mapValue.fields}}function sm(i,e){return{documents:[hh(i,e.path)]}}function ph(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=hh(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=hh(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(S){if(0!==S.length)return ap(nr.create(S,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(S){if(0!==S.length)return S.map(x=>{return{field:Ka((Z=x).field),direction:oy(Z.dir)};var Z})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=tp(i,e.limit);return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(n.structuredQuery.endAt=function(S){return{before:!S.inclusive,values:S.position}}(e.endAt)),n;var S}function ld(i){let e=function gc(i){const e=im(i);return 4===e.length?Bn.emptyPath():rp(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){kt(1===o);const V=n.from[0];V.allDescendants?u=V.collectionId:e=e.child(V.collectionId)}let l=[];n.where&&(l=function(Z){const ce=gh(Z);return ce instanceof nr&&sa(ce)?ce.getFilters():[ce]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(ce=>{return new Iu(Ao((ut=ce).field),function(Et){switch(Et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ut.direction));var ut}));let D=null;n.limit&&(D=function(Z){let ce;return ce="object"==typeof Z?Z.value:Z,R(ce)?null:ce}(n.limit));let S=null;var Z;n.startAt&&(S=new jo((Z=n.startAt).values||[],!!Z.before));let x=null;return n.endAt&&(x=function(Z){return new jo(Z.values||[],!Z.before)}(n.endAt)),function Wf(i,e,n,o,u,l,f,D){return new aa(i,e,n,o,u,l,f,D)}(e,u,f,l,D,"F",S,x)}function gh(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Ao(n.unaryFilter.field);return In.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Ao(n.unaryFilter.field);return In.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ao(n.unaryFilter.field);return In.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ao(n.unaryFilter.field);return In.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(i):void 0!==i.fieldFilter?In.create(Ao((n=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return nr.create(n.compositeFilter.filters.map(o=>gh(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Dt()}}(n.compositeFilter.op))}(i):Dt();var n}function oy(i){return nm[i]}function ay(i){return ey[i]}function op(i){return rm[i]}function Ka(i){return{fieldPath:i.canonicalString()}}function Ao(i){return Pr.fromServerFormat(i.fieldPath)}function ap(i){return i instanceof In?function(n){if("=="===n.op){if(Qc(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NAN"}};if(nc(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Qc(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NAN"}};if(nc(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(n.field),op:ay(n.op),value:n.value}}}(i):i instanceof nr?function(n){const o=n.getFilters().map(u=>ap(u));return 1===o.length?o[0]:{compositeFilter:{op:op(n.op),filters:o}}}(i):Dt()}function om(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function am(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Ru{constructor(e,n,o,u,l=Ut.min(),f=Ut.min(),D=wi.EMPTY_BYTE_STRING,S=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=S}withSequenceNumber(e){return new Ru(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dd{constructor(e){this.ut=e}}function mh(i){const e=ld({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?sc(e,e.limit,"L"):e}class mc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Kr(e.integerValue));else if("doubleValue"in e){const o=Kr(e.doubleValue);isNaN(o)?this.Tt(n,13):(this.Tt(n,15),j(o)?n.Et(0):n.Et(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Tt(n,20),"string"==typeof o?n.dt(o):(n.dt(`${o.seconds||""}`),n.Et(o.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(_s(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.Tt(n,45),n.Et(o.latitude||0),n.Et(o.longitude||0)}else"mapValue"in e?ia(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Dt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const o=e.fields||{};this.Tt(n,55);for(const u of Object.keys(o))this.At(u,n),this.Pt(o[u],n)}yt(e,n){const o=e.values||[];this.Tt(n,50);for(const u of o)this.Pt(u,n)}ft(e,n){this.Tt(n,37),wt.fromName(e).path.forEach(o=>{this.Tt(n,60),this.wt(o,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}mc.St=new mc;class hy{constructor(){this.on=new pp}addToCollectionParentIndex(e,n){return this.on.add(n),De.resolve()}getCollectionParents(e,n){return De.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return De.resolve()}deleteFieldIndex(e,n){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,n){return De.resolve()}getDocumentsMatchingTarget(e,n){return De.resolve(null)}getIndexType(e,n){return De.resolve(0)}getFieldIndexes(e,n){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,n){return De.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return De.resolve(Zi.min())}updateCollectionGroup(e,n,o){return De.resolve()}updateIndexEntries(e,n){return De.resolve()}}class pp{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new tr(Bn.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new tr(Bn.comparator)).toArray()}}new Uint8Array(0);class Ss{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ss(e,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ss.DEFAULT_COLLECTION_PERCENTILE=10,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ss.DEFAULT=new Ss(41943040,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ss.DISABLED=new Ss(-1,0,0);class pa{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new pa(0)}static Nn(){return new pa(-1)}}class AE{constructor(){this.changes=new Ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?De.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ep{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Em{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&ah(o.mutation,u,ms.empty(),Br.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,at()).next(()=>o))}getLocalViewOfDocuments(e,n,o=at()){const u=W();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=T();return l.forEach((D,S)=>{f=f.insert(D,S.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=W();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,at()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,D)=>{n.set(f,D)})})}computeViews(e,n,o,u){let l=h();const f=Ne(),D=Ne();return n.forEach((S,x)=>{const V=o.get(x.key);u.has(x.key)&&(void 0===V||V.mutation instanceof la)?l=l.insert(x.key,x):void 0!==V?(f.set(x.key,V.mutation.getFieldMask()),ah(V.mutation,x,V.mutation.getFieldMask(),Br.now())):f.set(x.key,ms.empty())}),this.recalculateAndSaveOverlays(e,l).next(S=>(S.forEach((x,V)=>f.set(x,V)),n.forEach((x,V)=>{var Z;return D.set(x,new Ep(V,null!==(Z=f.get(x))&&void 0!==Z?Z:null))}),D))}recalculateAndSaveOverlays(e,n){const o=Ne();let u=new Dr((f,D)=>f-D),l=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const D of f)D.keys().forEach(S=>{const x=n.get(S);if(null===x)return;let V=o.get(S)||ms.empty();V=D.applyToLocalView(x,V),o.set(S,V);const Z=(u.get(D.batchId)||at()).add(S);u=u.insert(D.batchId,Z)})}).next(()=>{const f=[],D=u.getReverseIterator();for(;D.hasNext();){const S=D.getNext(),x=S.key,V=S.value,Z=le();V.forEach(ce=>{if(!l.has(ce)){const be=Y_(n.get(ce),o.get(ce));null!==be&&Z.set(ce,be),l=l.add(ce)}}),f.push(this.documentOverlayCache.saveOverlays(e,x,Z))}return De.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,u){return wt.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Xc(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,u):this.getDocumentsMatchingCollectionQuery(e,n,o,u);var f}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):De.resolve(W());let D=-1,S=l;return f.next(x=>De.forEach(x,(V,Z)=>(D<Z.largestBatchId&&(D=Z.largestBatchId),l.get(V)?De.resolve():this.remoteDocumentCache.getEntry(e,V).next(ce=>{S=S.insert(V,ce)}))).next(()=>this.populateOverlays(e,x,l)).next(()=>this.computeViews(e,S,x,at())).next(V=>({batchId:D,changes:k(V)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new wt(n)).next(o=>{let u=T();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o,u){const l=n.collectionGroup;let f=T();return this.indexManager.getCollectionParents(e,l).next(D=>De.forEach(D,S=>{const x=(Z=n,ce=S.child(l),new aa(ce,null,Z.explicitOrderBy.slice(),Z.filters.slice(),Z.limit,Z.limitType,Z.startAt,Z.endAt));var Z,ce;return this.getDocumentsMatchingCollectionQuery(e,x,o,u).next(V=>{V.forEach((Z,ce)=>{f=f.insert(Z,ce)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,o,u){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,l,u))).next(f=>{l.forEach((S,x)=>{const V=x.getKey();null===f.get(V)&&(f=f.insert(V,jr.newInvalidDocument(V)))});let D=T();return f.forEach((S,x)=>{const V=l.get(S);void 0!==V&&ah(V.mutation,x,ms.empty(),Br.now()),ac(n,x)&&(D=D.insert(S,x))}),D})}}class vc{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return De.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(u=n).id,version:u.version,createTime:ti(u.createTime)}),De.resolve();var u}getNamedQuery(e,n){return De.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(u=n).name,query:mh(u.bundledQuery),readTime:ti(u.readTime)}),De.resolve();var u}}class my{constructor(){this.overlays=new Dr(wt.comparator),this.lr=new Map}getOverlay(e,n){return De.resolve(this.overlays.get(n))}getOverlays(e,n){const o=W();return De.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.lt(e,n,l)}),De.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.lr.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.lr.delete(o)),De.resolve()}getOverlaysForCollection(e,n,o){const u=W(),l=n.length+1,f=new wt(n.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const S=D.getNext().value,x=S.getKey();if(!n.isPrefixOf(x.path))break;x.path.length===l&&S.largestBatchId>o&&u.set(S.getKey(),S)}return De.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new Dr((x,V)=>x-V);const f=this.overlays.getIterator();for(;f.hasNext();){const x=f.getNext().value;if(x.getKey().getCollectionGroup()===n&&x.largestBatchId>o){let V=l.get(x.largestBatchId);null===V&&(V=W(),l=l.insert(x.largestBatchId,V)),V.set(x.getKey(),x)}}const D=W(),S=l.getIterator();for(;S.hasNext()&&(S.getNext().value.forEach((x,V)=>D.set(x,V)),!(D.size()>=u)););return De.resolve(D)}lt(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.lr.get(u.largestBatchId).delete(o.key);this.lr.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new il(n,o));let l=this.lr.get(n);void 0===l&&(l=at(),this.lr.set(n,l)),this.lr.set(n,l.add(o.key))}}class Ip{constructor(){this.hr=new tr(Fi.Pr),this.Ir=new tr(Fi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const o=new Fi(e,n);this.hr=this.hr.add(o),this.Ir=this.Ir.add(o)}Er(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.dr(new Fi(e,n))}Ar(e,n){e.forEach(o=>this.removeReference(o,n))}Rr(e){const n=new wt(new Bn([])),o=new Fi(n,e),u=new Fi(n,e+1),l=[];return this.Ir.forEachInRange([o,u],f=>{this.dr(f),l.push(f.key)}),l}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new wt(new Bn([])),o=new Fi(n,e),u=new Fi(n,e+1);let l=at();return this.Ir.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new Fi(e,0),o=this.hr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Fi{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return wt.comparator(e.key,n.key)||Qt(e.gr,n.gr)}static Tr(e,n){return Qt(e.gr,n.gr)||wt.comparator(e.key,n.key)}}class Im{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new tr(Fi.Pr)}checkEmpty(e){return De.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.pr;this.pr++;const f=new nl(l,n,o,u);this.mutationQueue.push(f);for(const D of u)this.yr=this.yr.add(new Fi(D.key,l)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return De.resolve(f)}lookupMutationBatch(e,n){return De.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Sr(n+1),l=u<0?0:u;return De.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Fi(n,0),u=new Fi(n,Number.POSITIVE_INFINITY),l=[];return this.yr.forEachInRange([o,u],f=>{const D=this.wr(f.gr);l.push(D)}),De.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new tr(Qt);return n.forEach(u=>{const l=new Fi(u,0),f=new Fi(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([l,f],D=>{o=o.add(D.gr)})}),De.resolve(this.br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;wt.isDocumentKey(l)||(l=l.child(""));const f=new Fi(new wt(l),0);let D=new tr(Qt);return this.yr.forEachWhile(S=>{const x=S.key.path;return!!o.isPrefixOf(x)&&(x.length===u&&(D=D.add(S.gr)),!0)},f),De.resolve(this.br(D))}br(e){const n=[];return e.forEach(o=>{const u=this.wr(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){kt(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.yr;return De.forEach(n.mutations,u=>{const l=new Fi(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=o})}Fn(e){}containsKey(e,n){const o=new Fi(n,0),u=this.yr.firstAfterOrEqual(o);return De.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return De.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class _y{constructor(e){this.Cr=e,this.docs=new Dr(wt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Cr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return De.resolve(o?o.document.mutableCopy():jr.newInvalidDocument(n))}getEntries(e,n){let o=h();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():jr.newInvalidDocument(u))}),De.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=h();const f=n.path,D=new wt(f.child("")),S=this.docs.getIteratorFrom(D);for(;S.hasNext();){const{key:x,value:{document:V}}=S.getNext();if(!f.isPrefixOf(x.path))break;x.path.length>f.length+1||Ke($c(V),o)<=0||(u.has(V.key)||ac(n,V))&&(l=l.insert(V.key,V.mutableCopy()))}return De.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Dt()}vr(e,n){return De.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new yy(this)}getSize(e){return De.resolve(this.size)}}class yy extends AE{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this._r.addEntry(e,u)):this._r.removeEntry(o)}),De.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class vy{constructor(e){this.persistence=e,this.Fr=new Ys(n=>ki(n),uo),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Ip,this.targetCount=0,this.Nr=pa.On()}forEachTarget(e,n){return this.Fr.forEach((o,u)=>n(u)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Mr&&(this.Mr=n),De.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new pa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,De.resolve()}updateTargetData(e,n){return this.kn(n),De.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.Fr.forEach((f,D)=>{D.sequenceNumber<=n&&null===o.get(D.targetId)&&(this.Fr.delete(f),l.push(this.removeMatchingKeysForTargetId(e,D.targetId)),u++)}),De.waitFor(l).next(()=>u)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fr.get(n)||null;return De.resolve(o)}addMatchingKeys(e,n,o){return this.Or.Er(n,o),De.resolve()}removeMatchingKeys(e,n,o){this.Or.Ar(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),De.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),De.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Or.mr(n);return De.resolve(o)}containsKey(e,n){return De.resolve(this.Or.containsKey(n))}}class Tp{constructor(e,n){this.Br={},this.overlays={},this.Lr=new w(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new vy(this),this.indexManager=new hy,this.remoteDocumentCache=new _y(o=>this.referenceDelegate.Qr(o)),this.serializer=new dd(n),this.Kr=new vc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new my,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Br[e.toKey()];return o||(o=new Im(n,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,o){Ge("MemoryPersistence","Starting transaction:",e);const u=new Tm(this.Lr.next());return this.referenceDelegate.$r(),o(u).next(l=>this.referenceDelegate.Ur(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Wr(e,n){return De.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,n)))}}class Tm extends Ju{constructor(e){super(),this.currentSequenceNumber=e}}class Dp{constructor(e){this.persistence=e,this.Gr=new Ip,this.zr=null}static jr(e){return new Dp(e)}get Hr(){if(this.zr)return this.zr;throw Dt()}addReference(e,n,o){return this.Gr.addReference(o,n),this.Hr.delete(o.toString()),De.resolve()}removeReference(e,n,o){return this.Gr.removeReference(o,n),this.Hr.add(o.toString()),De.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),De.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(u=>this.Hr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Hr.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Hr,o=>{const u=wt.fromPath(o);return this.Jr(e,u).next(l=>{l||n.removeEntry(u,Ut.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(o=>{o?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return De.or([()=>De.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Sh{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.ki=o,this.qi=u}static Qi(e,n){let o=at(),u=at();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new Sh(e,n.fromCache,o,u)}}class Dm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Id{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,o,u){const l={result:null};return this.zi(e,n).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.ji(e,n,u,o).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new Dm;return this.Hi(e,n,f).next(D=>{if(l.result=D,this.$i)return this.Ji(e,n,f,D.size)})}).next(()=>l.result)}Ji(e,n,o,u){return o.documentReadCount<this.Ui?(yr()<=ee.in.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",wu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),De.resolve()):(yr()<=ee.in.DEBUG&&Ge("QueryEngine","Query:",wu(n),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Wi*u?(yr()<=ee.in.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",wu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(n))):De.resolve())}zi(e,n){if(Vs(n))return De.resolve(null);let o=ys(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=sc(n,null,"F"),o=ys(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=at(...l);return this.Gi.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,o).next(S=>{const x=this.Yi(n,D);return this.Zi(n,x,f,S.readTime)?this.zi(e,sc(n,null,"F")):this.Xi(e,x,n,S)}))})))}ji(e,n,o,u){return Vs(n)||u.isEqual(Ut.min())?De.resolve(null):this.Gi.getDocuments(e,o).next(l=>{const f=this.Yi(n,l);return this.Zi(n,f,o,u)?De.resolve(null):(yr()<=ee.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),wu(n)),this.Xi(e,f,n,function Qu(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Ut.fromTimestamp(1e9===o?new Br(n+1,0):new Br(n,o));return new Zi(u,wt.empty(),e)}(u,-1)).next(D=>D))})}Yi(e,n){let o=new tr(Au(e));return n.forEach((u,l)=>{ac(e,l)&&(o=o.add(l))}),o}Zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Hi(e,n,o){return yr()<=ee.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",wu(n)),this.Gi.getDocumentsMatchingQuery(e,n,Zi.min(),o)}Xi(e,n,o,u){return this.Gi.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class CE{constructor(e,n,o,u){this.persistence=e,this.es=n,this.serializer=u,this.ts=new Dr(Qt),this.ns=new Ys(l=>ki(l),uo),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(o)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Em(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function wm(i,e){return Td.apply(this,arguments)}function Td(){return Td=(0,m.Z)(function*(i,e){const n=dt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.os(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],D=[];let S=at();for(const x of u){f.push(x.batchId);for(const V of x.mutations)S=S.add(V.key)}for(const x of l){D.push(x.batchId);for(const V of x.mutations)S=S.add(V.key)}return n.localDocuments.getDocuments(o,S).next(x=>({_s:x,removedBatchIds:f,addedBatchIds:D}))})})}),Td.apply(this,arguments)}function Cp(i){const e=dt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Sp(i,e){const n=dt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function gl(i,e,n){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,m.Z)(function*(i,e,n){const o=dt(i),u=o.ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!oo(f))throw f;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.ts=o.ts.remove(e),o.ns.delete(u.target)}),Dd.apply(this,arguments)}function Tc(i,e,n){const o=dt(i);let u=Ut.min(),l=at();return o.persistence.runTransaction("Execute query","readwrite",f=>function(S,x,V){const Z=dt(S),ce=Z.ns.get(V);return void 0!==ce?De.resolve(Z.ts.get(ce)):Z.qr.getTargetData(x,V)}(o,f,ys(e)).next(D=>{if(D)return u=D.lastLimboFreeSnapshotVersion,o.qr.getMatchingKeysForTargetId(f,D.targetId).next(S=>{l=S})}).next(()=>o.es.getDocumentsMatchingQuery(f,e,n?u:Ut.min(),n?l:at())).next(D=>(function Rh(i,e,n){let o=i.rs.get(e)||Ut.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.rs.set(e,o)}(o,function tl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),D),{documents:D,ls:l})))}class wd{constructor(){this.activeTargetIds=function vs(){return Yn}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mm{constructor(){this.eo=new wd,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,o){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new wd,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Iy{ro(e){}shutdown(){}}class xm{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pp=null;function Nm(){return null===Pp?Pp=268435456+Math.round(2147483648*Math.random()):Pp++,"0x"+Pp.toString(16)}const xh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ty{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ji="WebChannelConnection";class Mp extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.mo=o+"://"+n.host,this.fo=`projects/${u}/databases/${l}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${l}`}get yo(){return!1}wo(n,o,u,l,f){const D=Nm(),S=this.So(n,o);Ge("RestConnection",`Sending RPC '${n}' ${D}:`,S,u);const x={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(x,l,f),this.Do(n,S,x,u).then(V=>(Ge("RestConnection",`Received RPC '${n}' ${D}: `,V),V),V=>{throw Tr("RestConnection",`RPC '${n}' ${D} failed with error: `,V,"url: ",S,"request:",u),V})}Co(n,o,u,l,f,D){return this.wo(n,o,u,l,f)}bo(n,o,u){n["X-Goog-Api-Client"]="gl-js/ fire/"+fr,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((l,f)=>n[f]=l),u&&u.headers.forEach((l,f)=>n[f]=l)}So(n,o){return`${this.mo}/v1/${o}:${xh[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,o,u){const l=Nm();return new Promise((f,D)=>{const S=new At;S.setWithCredentials(!0),S.listenOnce(b.COMPLETE,()=>{try{switch(S.getLastErrorCode()){case F.NO_ERROR:const V=S.getResponseJson();Ge(Ji,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(V)),f(V);break;case F.TIMEOUT:Ge(Ji,`RPC '${e}' ${l} timed out`),D(new Qe(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case F.HTTP_ERROR:const Z=S.getStatus();if(Ge(Ji,`RPC '${e}' ${l} failed with status:`,Z,"response text:",S.getResponseText()),Z>0){let ce=S.getResponseJson();Array.isArray(ce)&&(ce=ce[0]);const be=ce?.error;if(be&&be.status&&be.message){const ut=function(Et){const rn=Et.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(rn)>=0?rn:Pe.UNKNOWN}(be.status);D(new Qe(ut,be.message))}else D(new Qe(Pe.UNKNOWN,"Server responded with status "+S.getStatus()))}else D(new Qe(Pe.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{Ge(Ji,`RPC '${e}' ${l} completed.`)}});const x=JSON.stringify(u);Ge(Ji,`RPC '${e}' ${l} sending request:`,u),S.send(n,"POST",x,o,15)})}vo(e,n,o){const u=Nm(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Ma(),D=I(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;void 0!==x&&(S.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(S.xmlHttpFactory=new Ae({})),this.bo(S.initMessageHeaders,n,o),S.encodeInitMessageHeaders=!0;const V=l.join("");Ge(Ji,`Creating RPC '${e}' stream ${u}: ${V}`,S);const Z=f.createWebChannel(V,S);let ce=!1,be=!1;const ut=new Ty({co:Et=>{be?Ge(Ji,`Not sending because RPC '${e}' stream ${u} is closed:`,Et):(ce||(Ge(Ji,`Opening RPC '${e}' stream ${u} transport.`),Z.open(),ce=!0),Ge(Ji,`RPC '${e}' stream ${u} sending:`,Et),Z.send(Et))},lo:()=>Z.close()}),_t=(Et,rn,En)=>{Et.listen(rn,gn=>{try{En(gn)}catch(rr){setTimeout(()=>{throw rr},0)}})};return _t(Z,Ue.EventType.OPEN,()=>{be||Ge(Ji,`RPC '${e}' stream ${u} transport opened.`)}),_t(Z,Ue.EventType.CLOSE,()=>{be||(be=!0,Ge(Ji,`RPC '${e}' stream ${u} transport closed`),ut.Ro())}),_t(Z,Ue.EventType.ERROR,Et=>{be||(be=!0,Tr(Ji,`RPC '${e}' stream ${u} transport errored:`,Et),ut.Ro(new Qe(Pe.UNAVAILABLE,"The operation could not be completed")))}),_t(Z,Ue.EventType.MESSAGE,Et=>{var rn;if(!be){const En=Et.data[0];kt(!!En);const rr=En.error||(null===(rn=En[0])||void 0===rn?void 0:rn.error);if(rr){Ge(Ji,`RPC '${e}' stream ${u} received error:`,rr);const $r=rr.status;let vr=function(M_){const x_=Li[M_];if(void 0!==x_)return Zg(x_)}($r),Xi=rr.message;void 0===vr&&(vr=Pe.INTERNAL,Xi="Unknown error status: "+$r+" with message "+rr.message),be=!0,ut.Ro(new Qe(vr,Xi)),Z.close()}else Ge(Ji,`RPC '${e}' stream ${u} received:`,En),ut.Vo(En)}}),_t(D,O.STAT_EVENT,Et=>{Et.stat===Y.PROXY?Ge(Ji,`RPC '${e}' stream ${u} detected buffering proxy`):Et.stat===Y.NOPROXY&&Ge(Ji,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{ut.Ao()},0),ut}}function yl(){return typeof document<"u"?document:null}function Ac(i){return new ty(i,!0)}class Cc{constructor(e,n,o=1e3,u=1.5,l=6e4){this.si=e,this.timerId=n,this.Fo=o,this.Mo=u,this.xo=l,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),o=Math.max(0,Date.now()-this.Bo),u=Math.max(0,n-o);u>0&&Ge("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Ad{constructor(e,n,o,u,l,f,D,S){this.si=e,this.Ko=o,this.$o=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=S,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Cc(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,m.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,m.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var o=this;return(0,m.Z)(function*(){o.t_(),o.n_(),o.zo.cancel(),o.Uo++,4!==e?o.zo.reset():n&&n.code===Pe.RESOURCE_EXHAUSTED?(zn(n.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),o.zo.Lo()):n&&n.code===Pe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.r_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Uo===n&&this.s_(o,u)},o=>{e(()=>{const u=new Qe(Pe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.o_(u)})})}s_(e,n){const o=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{o(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{o(()=>this.o_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,m.Z)(function*(){e.state=0,e.start()}))}o_(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vl extends Ad{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function iy(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(x=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===x?1:"REMOVE"===x?2:"CURRENT"===x?3:"RESET"===x?4:Dt(),u=e.targetChange.targetIds||[],l=function(x,V){return x.useProto3Json?(kt(void 0===V||"string"==typeof V),wi.fromBase64String(V||"")):(kt(void 0===V||V instanceof Uint8Array),wi.fromUint8Array(V||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(x){const V=void 0===x.code?Pe.UNKNOWN:Zg(x.code);return new Qe(V,x.message||"")}(f);n=new Jf(o,u,l,D||null)}else if("documentChange"in e){const o=e.documentChange,u=$o(i,o.document.name),l=ti(o.document.updateTime),f=o.document.createTime?ti(o.document.createTime):Ut.min(),D=new Ai({mapValue:{fields:o.document.fields}}),S=jr.newFoundDocument(u,l,f,D);n=new $i(o.targetIds||[],o.removedTargetIds||[],S.key,S)}else if("documentDelete"in e){const o=e.documentDelete,u=$o(i,o.document),l=o.readTime?ti(o.readTime):Ut.min(),f=jr.newNoDocument(u,l);n=new $i([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=$o(i,o.document);n=new $i([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Dt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new J_(u,l);n=new ol(o.targetId,f)}}var x;return n}(this.serializer,e),o=function(l){if(!("targetChange"in l))return Ut.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?Ut.min():f.readTime?ti(f.readTime):Ut.min()}(e);return this.listener.a_(n,o)}u_(e){const n={};n.database=bu(this.serializer),n.addTarget=function(l,f){let D;const S=f.target;if(D=$a(S)?{documents:sm(l,S)}:{query:ph(l,S)},D.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){D.resumeToken=dh(l,f.resumeToken);const x=tp(l,f.expectedCount);null!==x&&(D.expectedCount=x)}else if(f.snapshotVersion.compareTo(Ut.min())>0){D.readTime=Su(l,f.snapshotVersion.toTimestamp());const x=tp(l,f.expectedCount);null!==x&&(D.expectedCount=x)}return D}(this.serializer,e);const o=function sp(i,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.e_(n)}c_(e){const n={};n.database=bu(this.serializer),n.removeTarget=e,this.e_(n)}}class xp extends Ad{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function sy(i,e){return i&&i.length>0?(kt(void 0!==e),i.map(n=>function(u,l){let f=ti(u.updateTime?u.updateTime:l);return f.isEqual(Ut.min())&&(f=ti(l)),new IE(f,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=ti(e.commitTime);return this.listener.I_(o,n)}return kt(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=bu(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function cd(i,e){let n;if(e instanceof qa)n={update:fh(i,e.key,e.value)};else if(e instanceof hc)n={delete:al(i,e.key)};else if(e instanceof la)n={update:fh(i,e.key,e.data),updateMask:om(e.fieldMask)};else{if(!(e instanceof uh))return Dt();n={verify:al(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,f){const D=f.transform;if(D instanceof ua)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof ca)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Ga)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Wa)return{fieldPath:f.field.canonicalString(),increment:D.Ie};throw Dt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:ny(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Dt()),n;var l}(this.serializer,o))};this.e_(n)}}class Np extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new Qe(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.wo(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Qe(Pe.UNKNOWN,u.toString())})}Co(e,n,o,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.Co(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Qe(Pe.UNKNOWN,l.toString())})}terminate(){this.d_=!0}}class Op{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(zn(n),this.f_=!1):Ge("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Cd{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=l,this.F_.ro(D=>{o.enqueueAndForget((0,m.Z)(function*(){var S;zo(f)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(S=(0,m.Z)(function*(V){const Z=dt(V);Z.C_.add(4),yield El(Z),Z.M_.set("Unknown"),Z.C_.delete(4),yield Sd(Z)}),function x(V){return S.apply(this,arguments)})(f))}))}),this.M_=new Op(o,u)}}function Sd(i){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,m.Z)(function*(i){if(zo(i))for(const e of i.v_)yield e(!0)}),Oh.apply(this,arguments)}function El(i){return kp.apply(this,arguments)}function kp(){return kp=(0,m.Z)(function*(i){for(const e of i.v_)yield e(!1)}),kp.apply(this,arguments)}function Il(i,e){const n=dt(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Fp(n)?Lm(n):Sc(n).Ho()&&Lp(n,e))}function Tl(i,e){const n=dt(i),o=Sc(n);n.D_.delete(e),o.Ho()&&km(n,e),0===n.D_.size&&(o.Ho()?o.Zo():zo(n)&&n.M_.set("Unknown"))}function Lp(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sc(i).u_(e)}function km(i,e){i.x_.Oe(e),Sc(i).c_(e)}function Lm(i){i.x_=new X_({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Sc(i).start(),i.M_.g_()}function Fp(i){return zo(i)&&!Sc(i).jo()&&i.D_.size>0}function zo(i){return 0===dt(i).C_.size}function kh(i){i.x_=void 0}function Dy(i){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,m.Z)(function*(i){i.D_.forEach((e,n)=>{Lp(i,e)})}),Lh.apply(this,arguments)}function Vp(i,e){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,m.Z)(function*(i,e){kh(i),Fp(i)?(i.M_.w_(e),Lm(i)):i.M_.set("Unknown")}),Dl.apply(this,arguments)}function wy(i,e,n){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,m.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof Jf&&2===e.state&&e.cause)try{yield(o=(0,m.Z)(function*(l,f){const D=f.cause;for(const S of f.targetIds)l.D_.has(S)&&(yield l.remoteSyncer.rejectListen(S,D),l.D_.delete(S),l.x_.removeTarget(S))}),function u(l,f){return o.apply(this,arguments)})(i,e)}catch(o){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Vh(i,o)}else if(e instanceof $i?i.x_.$e(e):e instanceof ol?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(Ut.min()))try{const o=yield Cp(i.localStore);n.compareTo(o)>=0&&(yield function(l,f){const D=l.x_.it(f);return D.targetChanges.forEach((S,x)=>{if(S.resumeToken.approximateByteSize()>0){const V=l.D_.get(x);V&&l.D_.set(x,V.withResumeToken(S.resumeToken,f))}}),D.targetMismatches.forEach((S,x)=>{const V=l.D_.get(S);if(!V)return;l.D_.set(S,V.withResumeToken(wi.EMPTY_BYTE_STRING,V.snapshotVersion)),km(l,S);const Z=new Ru(V.target,S,x,V.sequenceNumber);Lp(l,Z)}),l.remoteSyncer.applyRemoteEvent(D)}(i,n))}catch(o){Ge("RemoteStore","Failed to raise snapshot:",o),yield Vh(i,o)}var o}),Fh.apply(this,arguments)}function Vh(i,e,n){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,m.Z)(function*(i,e,n){if(!oo(e))throw e;i.C_.add(1),yield El(i),i.M_.set("Offline"),n||(n=()=>Cp(i.localStore)),i.asyncQueue.enqueueRetryable((0,m.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield Sd(i)}))}),Uh.apply(this,arguments)}function Ay(i,e){return e().catch(n=>Vh(i,n,e))}function wl(i){return Al.apply(this,arguments)}function Al(){return Al=(0,m.Z)(function*(i){const e=dt(i),n=Fu(e);let o=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Cy(e);)try{const u=yield Sp(e.localStore,o);if(null===u){0===e.b_.length&&n.Zo();break}o=u.batchId,Cl(e,u)}catch(u){yield Vh(e,u)}Sl(e)&&Fm(e)}),Al.apply(this,arguments)}function Cy(i){return zo(i)&&i.b_.length<10}function Cl(i,e){i.b_.push(e);const n=Fu(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function Sl(i){return zo(i)&&!Fu(i).jo()&&i.b_.length>0}function Fm(i){Fu(i).start()}function Vm(i){return Up.apply(this,arguments)}function Up(){return Up=(0,m.Z)(function*(i){Fu(i).E_()}),Up.apply(this,arguments)}function Sy(i){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,m.Z)(function*(i){const e=Fu(i);for(const n of i.b_)e.P_(n.mutations)}),Bp.apply(this,arguments)}function Um(i,e,n){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,m.Z)(function*(i,e,n){const o=i.b_.shift(),u=rl.from(o,e,n);yield Ay(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield wl(i)}),Bh.apply(this,arguments)}function jp(i,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,m.Z)(function*(i,e){var n;e&&Fu(i).h_&&(yield(n=(0,m.Z)(function*(u,l){if(function ch(i){switch(i){default:return Dt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}(D=l.code)&&D!==Pe.ABORTED){const f=u.b_.shift();Fu(u).Yo(),yield Ay(u,()=>u.remoteSyncer.rejectFailedWrite(f.batchId,l)),yield wl(u)}var D}),function o(u,l){return n.apply(this,arguments)})(i,e)),Sl(i)&&Fm(i)}),Bm.apply(this,arguments)}function jh(i,e){return $h.apply(this,arguments)}function $h(){return $h=(0,m.Z)(function*(i,e){const n=dt(i);n.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const o=zo(n);n.C_.add(3),yield El(n),o&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Sd(n)}),$h.apply(this,arguments)}function Hp(){return Hp=(0,m.Z)(function*(i,e){const n=dt(i);e?(n.C_.delete(2),yield Sd(n)):e||(n.C_.add(2),yield El(n),n.M_.set("Unknown"))}),Hp.apply(this,arguments)}function Sc(i){return i.O_||(i.O_=function(n,o,u){const l=dt(n);return l.A_(),new vl(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(i.datastore,i.asyncQueue,{ho:Dy.bind(null,i),Io:Vp.bind(null,i),a_:wy.bind(null,i)}),i.v_.push(function(){var e=(0,m.Z)(function*(n){n?(i.O_.Yo(),Fp(i)?Lm(i):i.M_.set("Unknown")):(yield i.O_.stop(),kh(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function Fu(i){return i.N_||(i.N_=function(n,o,u){const l=dt(n);return l.A_(),new xp(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(i.datastore,i.asyncQueue,{ho:Vm.bind(null,i),Io:jp.bind(null,i),T_:Sy.bind(null,i),I_:Um.bind(null,i)}),i.v_.push(function(){var e=(0,m.Z)(function*(n){n?(i.N_.Yo(),yield wl(i)):(yield i.N_.stop(),i.b_.length>0&&(Ge("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class Hh{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,D=new Hh(e,n,f,u,l);return D.start(o),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qe(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bl(i,e){if(zn("AsyncQueue",`${e}: ${i}`),oo(i))return new Qe(Pe.UNAVAILABLE,`${e}: ${i}`);throw i}class Rl{constructor(e){this.comparator=e?(n,o)=>e(n,o)||wt.comparator(n.key,o.key):(n,o)=>wt.comparator(n.key,o.key),this.keyedMap=T(),this.sortedSet=new Dr(this.comparator)}static emptySet(e){return new Rl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Rl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class by{constructor(){this.B_=new Dr(wt.comparator)}track(e){const n=e.doc.key,o=this.B_.get(n);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(n):1===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Dt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,o)=>{e.push(o)}),e}}class bc{constructor(e,n,o,u,l,f,D,S,x){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=S,this.hasCachedResults=x}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(D=>{f.push({type:0,doc:D})}),new bc(e,n,Rl.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class jm{constructor(){this.k_=void 0,this.listeners=[]}}class Go{constructor(){this.queries=new Ys(e=>nh(e),oc),this.onlineState="Unknown",this.q_=new Set}}function zh(i,e){return $m.apply(this,arguments)}function $m(){return $m=(0,m.Z)(function*(i,e){const n=dt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new jm),u)try{l.k_=yield n.onListen(o)}catch(f){const D=bl(f,`Initialization of query '${wu(e.query)}' failed`);return void e.onError(D)}n.queries.set(o,l),l.listeners.push(e),e.Q_(n.onlineState),l.k_&&e.K_(l.k_)&&Hm(n)}),$m.apply(this,arguments)}function bd(i,e){return ma.apply(this,arguments)}function ma(){return ma=(0,m.Z)(function*(i,e){const n=dt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),ma.apply(this,arguments)}function zp(i,e){const n=dt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const D of f.listeners)D.K_(u)&&(o=!0);f.k_=u}}o&&Hm(n)}function Ry(i,e,n){const o=dt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function Hm(i){i.q_.forEach(e=>{e.next()})}class Gp{constructor(e,n,o){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=o||{}}K_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new bc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Py{constructor(e){this.key=e}}class Hi{constructor(e){this.key=e}}class Wm{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=at(),this.mutatedKeys=at(),this._a=Au(e),this.aa=new Rl(this._a)}get ua(){return this.ia}ca(e,n){const o=n?n.la:new by,u=n?n.aa:this.aa;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,D=!1;const S="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,x="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((V,Z)=>{const ce=u.get(V),be=ac(this.query,Z)?Z:null,ut=!!ce&&this.mutatedKeys.has(ce.key),_t=!!be&&(be.hasLocalMutations||this.mutatedKeys.has(be.key)&&be.hasCommittedMutations);let Et=!1;ce&&be?ce.data.isEqual(be.data)?ut!==_t&&(o.track({type:3,doc:be}),Et=!0):this.ha(ce,be)||(o.track({type:2,doc:be}),Et=!0,(S&&this._a(be,S)>0||x&&this._a(be,x)<0)&&(D=!0)):!ce&&be?(o.track({type:0,doc:be}),Et=!0):ce&&!be&&(o.track({type:1,doc:ce}),Et=!0,(S||x)&&(D=!0)),Et&&(be?(f=f.add(be),l=_t?l.add(V):l.delete(V)):(f=f.delete(V),l=l.delete(V)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const V="F"===this.query.limitType?f.last():f.first();f=f.delete(V.key),l=l.delete(V.key),o.track({type:1,doc:V})}return{aa:f,la:o,Zi:D,mutatedKeys:l}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const l=e.la.L_();l.sort((x,V)=>function(ce,be){const ut=_t=>{switch(_t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return ut(ce)-ut(be)}(x.type,V.type)||this._a(x.doc,V.doc)),this.Pa(o);const f=n?this.Ia():[],D=0===this.oa.size&&this.current?1:0,S=D!==this.sa;return this.sa=D,0!==l.length||S?{snapshot:new bc(this.query,e.aa,u,l,e.mutatedKeys,0===D,S,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ta:f}:{Ta:f}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new by,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=at(),this.aa.forEach(o=>{this.Ea(o.key)&&(this.oa=this.oa.add(o.key))});const n=[];return e.forEach(o=>{this.oa.has(o)||n.push(new Hi(o))}),this.oa.forEach(o=>{e.has(o)||n.push(new Py(o))}),n}da(e){this.ia=e.ls,this.oa=at();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return bc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class qp{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class My{constructor(e){this.key=e,this.Ra=!1}}class xy{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.Va={},this.ma=new Ys(D=>nh(D),oc),this.fa=new Map,this.ga=new Set,this.pa=new Dr(wt.comparator),this.ya=new Map,this.wa=new Ip,this.Sa={},this.ba=new Map,this.Da=pa.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Kp(i,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,m.Z)(function*(i,e){const n=function Uu(i){const e=dt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xa.bind(null,e),e.Va.a_=zp.bind(null,e.eventManager),e.Va.Fa=Ry.bind(null,e.eventManager),e}(i);let o,u;const l=n.ma.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.Aa();else{const f=yield function Ja(i,e){const n=dt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.qr.getTargetData(o,e).next(l=>l?(u=l,De.resolve(u)):n.qr.allocateTargetId(o).next(f=>(u=new Ru(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.ts.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ts=n.ts.insert(o.targetId,o),n.ns.set(e,o.targetId)),o})}(n.localStore,ys(e)),D=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function Wh(i,e,n,o,u){return Yp.apply(this,arguments)}(n,e,o,"current"===D,f.resumeToken),n.isPrimaryClient&&Il(n.remoteStore,f)}return u}),Gh.apply(this,arguments)}function Yp(){return Yp=(0,m.Z)(function*(i,e,n,o,u){i.va=(Z,ce,be)=>{return(ut=(0,m.Z)(function*(Et,rn,En,gn){let rr=rn.view.ca(En);rr.Zi&&(rr=yield Tc(Et.localStore,rn.query,!1).then(({documents:Xi})=>rn.view.ca(Xi,rr)));const $r=gn&&gn.targetChanges.get(rn.targetId),vr=rn.view.applyChanges(rr,Et.isPrimaryClient,$r);return Xp(Et,rn.targetId,vr.Ta),vr.snapshot}),function _t(Et,rn,En,gn){return ut.apply(this,arguments)})(i,Z,ce,be);var ut};const l=yield Tc(i.localStore,e,!0),f=new Wm(e,l.ls),D=f.ca(l.documents),S=pc.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),x=f.applyChanges(D,i.isPrimaryClient,S);Xp(i,n,x.Ta);const V=new qp(e,n,f);return i.ma.set(e,V),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),x.snapshot}),Yp.apply(this,arguments)}function qm(i,e){return qh.apply(this,arguments)}function qh(){return qh=(0,m.Z)(function*(i,e){const n=dt(i),o=n.ma.get(e),u=n.fa.get(o.targetId);if(u.length>1)return n.fa.set(o.targetId,u.filter(l=>!oc(l,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield gl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Tl(n.remoteStore,o.targetId),Mc(n,o.targetId)}).catch(gs))):(Mc(n,o.targetId),yield gl(n.localStore,o.targetId,!0))}),qh.apply(this,arguments)}function Kh(){return Kh=(0,m.Z)(function*(i,e,n){const o=function Rd(i){const e=dt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Oy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Km.bind(null,e),e}(i);try{const u=yield function(f,D){const S=dt(f),x=Br.now(),V=D.reduce((be,ut)=>be.add(ut.key),at());let Z,ce;return S.persistence.runTransaction("Locally write mutations","readwrite",be=>{let ut=h(),_t=at();return S.ss.getEntries(be,V).next(Et=>{ut=Et,ut.forEach((rn,En)=>{En.isValidDocument()||(_t=_t.add(rn))})}).next(()=>S.localDocuments.getOverlayedDocuments(be,ut)).next(Et=>{Z=Et;const rn=[];for(const En of D){const gn=Z_(En,Z.get(En.key).overlayedDocument);null!=gn&&rn.push(new la(En.key,gn,Qi(gn.value.mapValue),Yr.exists(!0)))}return S.mutationQueue.addMutationBatch(be,x,rn,D)}).next(Et=>{ce=Et;const rn=Et.applyToLocalDocumentSet(Z,_t);return S.documentOverlayCache.saveOverlays(be,Et.batchId,rn)})}).then(()=>({batchId:ce.batchId,changes:k(Z)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(f,D,S){let x=f.Sa[f.currentUser.toKey()];x||(x=new Dr(Qt)),x=x.insert(D,S),f.Sa[f.currentUser.toKey()]=x}(o,u.batchId,n),yield _a(o,u.changes),yield wl(o.remoteStore)}catch(u){const l=bl(u,"Failed to persist write");n.reject(l)}}),Kh.apply(this,arguments)}function Zp(i,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,m.Z)(function*(i,e){const n=dt(i);try{const o=yield function Ic(i,e){const n=dt(i),o=e.snapshotVersion;let u=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.ss.newChangeBuffer({trackRemovals:!0});u=n.ts;const D=[];e.targetChanges.forEach((V,Z)=>{const ce=u.get(Z);if(!ce)return;D.push(n.qr.removeMatchingKeys(l,V.removedDocuments,Z).next(()=>n.qr.addMatchingKeys(l,V.addedDocuments,Z)));let be=ce.withSequenceNumber(l.currentSequenceNumber);var _t,Et,rn;null!==e.targetMismatches.get(Z)?be=be.withResumeToken(wi.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):V.resumeToken.approximateByteSize()>0&&(be=be.withResumeToken(V.resumeToken,o)),u=u.insert(Z,be),Et=be,rn=V,(0===(_t=ce).resumeToken.approximateByteSize()||Et.snapshotVersion.toMicroseconds()-_t.snapshotVersion.toMicroseconds()>=3e8||rn.addedDocuments.size+rn.modifiedDocuments.size+rn.removedDocuments.size>0)&&D.push(n.qr.updateTargetData(l,be))});let S=h(),x=at();if(e.documentUpdates.forEach(V=>{e.resolvedLimboDocuments.has(V)&&D.push(n.persistence.referenceDelegate.updateLimboDocument(l,V))}),D.push(function Cm(i,e,n){let o=at(),u=at();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=h();return n.forEach((D,S)=>{const x=l.get(D);S.isFoundDocument()!==x.isFoundDocument()&&(u=u.add(D)),S.isNoDocument()&&S.version.isEqual(Ut.min())?(e.removeEntry(D,S.readTime),f=f.insert(D,S)):!x.isValidDocument()||S.version.compareTo(x.version)>0||0===S.version.compareTo(x.version)&&x.hasPendingWrites?(e.addEntry(S),f=f.insert(D,S)):Ge("LocalStore","Ignoring outdated watch update for ",D,". Current version:",x.version," Watch version:",S.version)}),{us:f,cs:u}})}(l,f,e.documentUpdates).next(V=>{S=V.us,x=V.cs})),!o.isEqual(Ut.min())){const V=n.qr.getLastRemoteSnapshotVersion(l).next(Z=>n.qr.setTargetsMetadata(l,l.currentSequenceNumber,o));D.push(V)}return De.waitFor(D).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,S,x)).next(()=>S)}).then(l=>(n.ts=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.ya.get(l);f&&(kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.Ra=!0:u.modifiedDocuments.size>0?kt(f.Ra):u.removedDocuments.size>0&&(kt(f.Ra),f.Ra=!1))}),yield _a(n,o,e)}catch(o){yield gs(o)}}),Yh.apply(this,arguments)}function Rc(i,e,n){const o=dt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ma.forEach((l,f)=>{const D=f.view.Q_(e);D.snapshot&&u.push(D.snapshot)}),function(f,D){const S=dt(f);S.onlineState=D;let x=!1;S.queries.forEach((V,Z)=>{for(const ce of Z.listeners)ce.Q_(D)&&(x=!0)}),x&&Hm(S)}(o.eventManager,e),u.length&&o.Va.a_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Xa(i,e,n){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,m.Z)(function*(i,e,n){const o=dt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.ya.get(e),l=u&&u.key;if(l){let f=new Dr(wt.comparator);f=f.insert(l,jr.newNoDocument(l,Ut.min()));const D=at().add(l),S=new sl(Ut.min(),new Map,new Dr(Qt),f,D);yield Zp(o,S),o.pa=o.pa.remove(l),o.ya.delete(e),eg(o)}else yield gl(o.localStore,e,!1).then(()=>Mc(o,e,n)).catch(gs)}),Vu.apply(this,arguments)}function Oy(i,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,m.Z)(function*(i,e){const n=dt(i),o=e.batch.batchId;try{const u=yield function Am(i,e){const n=dt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.ss.newChangeBuffer({trackRemovals:!0});return function(D,S,x,V){const Z=x.batch,ce=Z.keys();let be=De.resolve();return ce.forEach(ut=>{be=be.next(()=>V.getEntry(S,ut)).next(_t=>{const Et=x.docVersions.get(ut);kt(null!==Et),_t.version.compareTo(Et)<0&&(Z.applyToRemoteDocument(_t,x),_t.isValidDocument()&&(_t.setReadTime(x.commitVersion),V.addEntry(_t)))})}),be.next(()=>D.mutationQueue.removeMutationBatch(S,Z))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(D){let S=at();for(let x=0;x<D.mutationResults.length;++x)D.mutationResults[x].transformResults.length>0&&(S=S.add(D.batch.mutations[x].key));return S}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);Qh(n,o,null),Pl(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield _a(n,u)}catch(u){yield gs(u)}}),Qp.apply(this,arguments)}function Km(i,e,n){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,m.Z)(function*(i,e,n){const o=dt(i);try{const u=yield function(f,D){const S=dt(f);return S.persistence.runTransaction("Reject batch","readwrite-primary",x=>{let V;return S.mutationQueue.lookupMutationBatch(x,D).next(Z=>(kt(null!==Z),V=Z.keys(),S.mutationQueue.removeMutationBatch(x,Z))).next(()=>S.mutationQueue.performConsistencyCheck(x)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(x,V,D)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,V)).next(()=>S.localDocuments.getDocuments(x,V))})}(o.localStore,e);Qh(o,e,n),Pl(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield _a(o,u)}catch(u){yield gs(u)}}),Zh.apply(this,arguments)}function Pl(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function Qh(i,e,n){const o=dt(i);let u=o.Sa[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Sa[o.currentUser.toKey()]=u}}function Mc(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.fa.get(e))i.ma.delete(o),n&&i.Va.Fa(o,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(o=>{i.wa.containsKey(o)||Ym(i,o)})}function Ym(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(Tl(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),eg(i))}function Xp(i,e,n){for(const o of n)o instanceof Py?(i.wa.addReference(o.key,e),ky(i,o)):o instanceof Hi?(Ge("SyncEngine","Document no longer in limbo: "+o.key),i.wa.removeReference(o.key,e),i.wa.containsKey(o.key)||Ym(i,o.key)):Dt()}function ky(i,e){const n=e.key,o=n.path.canonicalString();i.pa.get(n)||i.ga.has(o)||(Ge("SyncEngine","New document in limbo: "+n),i.ga.add(o),eg(i))}function eg(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new wt(Bn.fromString(e)),o=i.Da.next();i.ya.set(o,new My(n)),i.pa=i.pa.insert(n,o),Il(i.remoteStore,new Ru(ys(Tu(n.path)),o,"TargetPurposeLimboResolution",w._e))}}function _a(i,e,n){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,m.Z)(function*(i,e,n){const o=dt(i),u=[],l=[],f=[];var D;o.ma.isEmpty()||(o.ma.forEach((D,S)=>{f.push(o.va(S,e,n).then(x=>{if((x||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(S.targetId,x?.fromCache?"not-current":"current"),x){u.push(x);const V=Sh.Qi(S.targetId,x);l.push(V)}}))}),yield Promise.all(f),o.Va.a_(u),yield(D=(0,m.Z)(function*(x,V){const Z=dt(x);try{yield Z.persistence.runTransaction("notifyLocalViewChanges","readwrite",ce=>De.forEach(V,be=>De.forEach(be.ki,ut=>Z.persistence.referenceDelegate.addReference(ce,be.targetId,ut)).next(()=>De.forEach(be.qi,ut=>Z.persistence.referenceDelegate.removeReference(ce,be.targetId,ut)))))}catch(ce){if(!oo(ce))throw ce;Ge("LocalStore","Failed to update sequence numbers: "+ce)}for(const ce of V){const be=ce.targetId;if(!ce.fromCache){const ut=Z.ts.get(be),Et=ut.withLastLimboFreeSnapshotVersion(ut.snapshotVersion);Z.ts=Z.ts.insert(be,Et)}}}),function S(x,V){return D.apply(this,arguments)})(o.localStore,l))}),Zm.apply(this,arguments)}function Ly(i,e){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,m.Z)(function*(i,e){const n=dt(i);if(!n.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const o=yield wm(n.localStore,e);n.currentUser=e,(l=n).ba.forEach(D=>{D.forEach(S=>{S.reject(new Qe(Pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ba.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield _a(n,o._s)}var l}),Qm.apply(this,arguments)}function SE(i,e){const n=dt(i),o=n.ya.get(e);if(o&&o.Ra)return at().add(o.key);{let u=at();const l=n.fa.get(e);if(!l)return u;for(const f of l){const D=n.ma.get(f);u=u.unionWith(D.view.ua)}return u}}class Md{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,m.Z)(function*(){n.serializer=Ac(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function bh(i,e,n,o){return new CE(i,e,n,o)}(this.persistence,new Id,e.initialUser,this.serializer)}createPersistence(e){return new Tp(Dp.jr,this.serializer)}createSharedClientState(e){return new Mm}terminate(){var e=this;return(0,m.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xc{initialize(e,n){var o=this;return(0,m.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Rc(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Ly.bind(null,o.syncEngine),yield function $p(i,e){return Hp.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Go}createDatastore(e){const n=Ac(e.databaseInfo.databaseId),o=new Mp(e.databaseInfo);return new Np(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return o=this.localStore,u=this.datastore,l=e.asyncQueue,f=n=>Rc(this.syncEngine,n,0),D=xm.D()?new xm:new Iy,new Cd(o,u,l,f,D);var o,u,l,f,D}createSyncEngine(e,n){return function(u,l,f,D,S,x,V){const Z=new xy(u,l,f,D,S,x);return V&&(Z.Ca=!0),Z}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,m.Z)(function*(o){const u=dt(o);Ge("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield El(u),u.F_.shutdown(),u.M_.set("Unknown")}),function n(o){return e.apply(this,arguments)})(this.remoteStore);var e}}class af{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):zn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class jy{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Gt.UNAUTHENTICATED,this.clientId=fs.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,m.Z)(function*(D){Ge("FirestoreClient","Received user=",D.uid),yield l.authCredentialListener(D),l.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(Ge("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,m.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qe(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=bl(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function uf(i,e){return ig.apply(this,arguments)}function ig(){return ig=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,m.Z)(function*(l){o.isEqual(l)||(yield wm(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),ig.apply(this,arguments)}function sg(i,e){return cf.apply(this,arguments)}function cf(){return cf=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function ag(i){return ug.apply(this,arguments)}(i);Ge("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>jh(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>jh(e.remoteStore,l)),i._onlineComponents=e}),cf.apply(this,arguments)}function ug(){return ug=(0,m.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ge("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function og(i){return"FirebaseError"===i.name?i.code===Pe.FAILED_PRECONDITION||i.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Tr("Error using user provided cache. Falling back to memory cache: "+n),yield uf(i,new Md)}}else Ge("FirestoreClient","Using default OfflineComponentProvider"),yield uf(i,new Md);return i._offlineComponents}),ug.apply(this,arguments)}function bs(i){return cg.apply(this,arguments)}function cg(){return cg=(0,m.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ge("FirestoreClient","Using user provided OnlineComponentProvider"),yield sg(i,i._uninitializedComponentsProvider._online)):(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield sg(i,new xc))),i._onlineComponents}),cg.apply(this,arguments)}function Ol(i){return lg.apply(this,arguments)}function lg(){return lg=(0,m.Z)(function*(i){const e=yield bs(i),n=e.eventManager;return n.onListen=Kp.bind(null,e.syncEngine),n.onUnlisten=qm.bind(null,e.syncEngine),n}),lg.apply(this,arguments)}function hg(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const o_=new Map;function ff(i,e,n){if(!n)throw new Qe(Pe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Nd(i){if(!wt.isDocumentKey(i))throw new Qe(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function pf(i){if(wt.isDocumentKey(i))throw new Qe(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function fg(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(o=i).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof i?"a function":Dt()}function Zn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Qe(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fg(i);throw new Qe(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class gg{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Qe(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qe(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function a_(i,e,n,o){if(!0===e&&!0===o)throw new Qe(Pe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=hg(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new Qe(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Qe(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Qe(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kl{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Qe(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qe(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gg(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Bc;switch(o.type){case"firstParty":return new jc(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Qe(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=o_.get(n);o&&(Ge("ComponentProvider","Removing Datastore"),o_.delete(n),o.terminate())}(this),Promise.resolve()}}class ni{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ni(this.firestore,e,this._query)}}class Si{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Si(this.firestore,e,this._key)}}class va extends ni{constructor(e,n,o){super(e,n,Tu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Si(this.firestore,null,new wt(e))}withConverter(e){return new va(this.firestore,e,this._path)}}function _g(i,e,...n){if(i=(0,oe.m9)(i),ff("collection","path",e),i instanceof kl){const o=Bn.fromString(e,...n);return pf(o),new va(i,null,o)}{if(!(i instanceof Si||i instanceof va))throw new Qe(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Bn.fromString(e,...n));return pf(o),new va(i.firestore,null,o)}}function yg(i,e,...n){if(i=(0,oe.m9)(i),1===arguments.length&&(e=fs.newId()),ff("doc","path",e),i instanceof kl){const o=Bn.fromString(e,...n);return Nd(o),new Si(i,null,new wt(o))}{if(!(i instanceof Si||i instanceof va))throw new Qe(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Bn.fromString(e,...n));return Nd(o),new Si(i.firestore,i instanceof va?i.converter:null,new wt(o))}}class kd{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Cc(this,"async_queue_retry"),this.iu=()=>{const n=yl();n&&Ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=yl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=yl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new lr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,m.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!oo(n))throw n;Ge("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(o=>{throw this.eu=o,this.tu=!1,zn("INTERNAL UNHANDLED ERROR: ",function(f){let D=f.message||"";return f.stack&&(D=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),D}(o)),o}).then(o=>(this.tu=!1,o))));return this.Ja=n,n}enqueueAfterDelay(e,n,o){this.su(),this.ru.indexOf(e)>-1&&(n=0);const u=Hh.createAndSchedule(this,e,n,o,l=>this.au(l));return this.Xa.push(u),u}su(){this.eu&&Dt()}verifyOperationInProgress(){}uu(){var e=this;return(0,m.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function gf(i){return function(n,o){if("object"!=typeof n||null===n)return!1;const u=n;for(const l of["next","error","complete"])if(l in u&&"function"==typeof u[l])return!0;return!1}(i)}class Zr extends kl{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new kd,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||c_(this),this._firestoreClient.terminate()}}function u_(i,e){const n="object"==typeof i?i:(0,q.getApp)(),o="string"==typeof i?i:e||"(default)",u=(0,q._getProvider)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,oe.P0)("firestore");l&&function mg(i,e,n,o={}){var u;const l=(i=Zn(i,kl))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let D,S;if("string"==typeof o.mockUserToken)D=o.mockUserToken,S=Gt.MOCK_USER;else{D=(0,oe.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const x=o.mockUserToken.sub||o.mockUserToken.user_id;if(!x)throw new Qe(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Gt(x)}i._authCredentials=new xa(new dr(D,S))}}(u,...l)}return u}function bi(i){return i._firestoreClient||c_(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function c_(i){var e,n,o;const u=i._freezeSettings(),l=(S=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Kc(i._databaseId,S,i._persistenceKey,(V=u).host,V.ssl,V.experimentalForceLongPolling,V.experimentalAutoDetectLongPolling,hg(V.experimentalLongPollingOptions),V.useFetchStreams));var S,V;i._firestoreClient=new jy(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}class Nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nc(wi.fromBase64String(e))}catch(n){throw new Qe(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nc(wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Qe(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vg{constructor(e){this._methodName=e}}class yf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Qe(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Qe(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}const Eg=/^__.*__$/;class tv{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new la(e,this.data,this.fieldMask,n,this.fieldTransforms):new qa(e,this.data,n,this.fieldTransforms)}}class Fd{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new la(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function d_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class vf{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.Pu(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new vf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Au(e),u}Ru(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return zi(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(d_(this.Iu)&&Eg.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class nv{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||Ac(e)}pu(e,n,o,u=!1){return new vf({Iu:e,methodName:n,gu:o,path:Pr.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vl(i){const e=i._freezeSettings(),n=Ac(i._databaseId);return new nv(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Ig(i,e,n,o,u,l={}){const f=i.pu(l.merge||l.mergeFields?2:0,e,n,u);Ud("Data must be an object, but it was:",f,o);const D=p_(o,f);let S,x;if(l.merge)S=new ms(f.fieldMask),x=f.fieldTransforms;else if(l.mergeFields){const V=[];for(const Z of l.mergeFields){const ce=Bd(e,Z,n);if(!f.contains(ce))throw new Qe(Pe.INVALID_ARGUMENT,`Field '${ce}' is specified in your field mask but missing from your input data.`);ju(V,ce)||V.push(ce)}S=new ms(V),x=f.fieldTransforms.filter(Z=>S.covers(Z.field))}else S=null,x=f.fieldTransforms;return new tv(new Ai(D),S,x)}class Vd extends vg{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vd}}function iv(i,e,n,o=!1){return Ea(n,i.pu(o?4:3,e))}function Ea(i,e){if(g_(i=(0,oe.m9)(i)))return Ud("Unsupported field value:",e,i),p_(i,e);if(i instanceof vg)return function(o,u){if(!d_(u.Iu))throw u.mu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(u);l&&u.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(o,u){const l=[];let f=0;for(const D of o){let S=Ea(D,u.Vu(f));null==S&&(S={nullValue:"NULL_VALUE"}),l.push(S),f++}return{arrayValue:{values:l}}}(i,e)}return function(o,u){if(null===(o=(0,oe.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return rh(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const l=Br.fromDate(o);return{timestampValue:Su(u.serializer,l)}}if(o instanceof Br){const l=new Br(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Su(u.serializer,l)}}if(o instanceof yf)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Nc)return{bytesValue:dh(u.serializer,o._byteString)};if(o instanceof Si){const l=u.databaseId,f=o.firestore._databaseId;if(!f.isEqual(l))throw u.mu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:np(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.mu(`Unsupported field value: ${fg(o)}`)}(i,e)}function p_(i,e){const n={};return tc(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(i,(o,u)=>{const l=Ea(u,e.Eu(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function g_(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Br||i instanceof yf||i instanceof Nc||i instanceof Si||i instanceof vg)}function Ud(i,e,n){if(!g_(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=fg(n);throw e.mu("an object"===o?i+" a custom object":i+" "+o)}var u}function Bd(i,e,n){if((e=(0,oe.m9)(e))instanceof Fl)return e._internalPath;if("string"==typeof e)return Bu(i,e);throw zi("Field path arguments must be of type string or ",i,!1,void 0,n)}const Ia=new RegExp("[~\\*/\\[\\]]");function Bu(i,e,n){if(e.search(Ia)>=0)throw zi(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Fl(...e.split("."))._internalPath}catch{throw zi(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function zi(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let D=`Function ${e}() called with invalid data`;n&&(D+=" (via `toFirestore()`)"),D+=". ";let S="";return(l||f)&&(S+=" (found",l&&(S+=` in field ${o}`),f&&(S+=` in document ${u}`),S+=")"),new Qe(Pe.INVALID_ARGUMENT,D+i+S)}function ju(i,e){return i.some(n=>n.isEqual(e))}class Ul{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Si(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Co(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Co extends Ul{data(){return super.data()}}function Bl(i,e){return"string"==typeof e?Bu(i,e):e instanceof Fl?e._internalPath:e._delegate._internalPath}function Oc(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Qe(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $u{}class eu extends $u{}function jl(i,e,...n){let o=[];e instanceof $u&&o.push(e),o=o.concat(n),function(l){const f=l.filter(S=>S instanceof qo).length,D=l.filter(S=>S instanceof Ta).length;if(f>1||f>0&&D>0)throw new Qe(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Ta extends eu{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Ta(e,n,o)}_apply(e){const n=this._parse(e);return I_(e._query,n),new ni(e.firestore,e.converter,el(e._query,n))}_parse(e){const n=Vl(e.firestore);return function(l,f,D,S,x,V,Z){let ce;if(x.isKeyField()){if("array-contains"===V||"array-contains-any"===V)throw new Qe(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${V}' queries on documentId().`);if("in"===V||"not-in"===V){E_(Z,V);const be=[];for(const ut of Z)be.push(uv(S,l,ut));ce={arrayValue:{values:be}}}else ce=uv(S,l,Z)}else"in"!==V&&"not-in"!==V&&"array-contains-any"!==V||E_(Z,V),ce=iv(D,"where",Z,"in"===V||"not-in"===V);return In.create(x,V,ce)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function $l(i,e,n){const o=e,u=Bl("where",i);return Ta._create(u,o,n)}class qo extends $u{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qo(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,l){let f=u;const D=l.getFlattenedFilters();for(const S of D)I_(f,S),f=el(f,S)}(e._query,n),new ni(e.firestore,e.converter,el(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class If extends eu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new If(e,n)}_apply(e){const n=function(u,l,f){if(null!==u.startAt)throw new Qe(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Qe(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iu(l,f)}(e._query,this._field,this._direction);return new ni(e.firestore,e.converter,function(u,l){const f=u.explicitOrderBy.concat([l]);return new aa(u.path,u.collectionGroup,f,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,n))}}function m_(i,e="asc"){const n=e,o=Bl("orderBy",i);return If._create(o,n)}class Hd extends eu{constructor(e,n,o){super(),this.type=e,this._limit=n,this._limitType=o}static _create(e,n,o){return new Hd(e,n,o)}_apply(e){return new ni(e.firestore,e.converter,sc(e._query,this._limit,this._limitType))}}function __(i){return function pg(i,e){if(e<=0)throw new Qe(Pe.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}("limit",i),Hd._create("limit",i,"F")}class zd extends eu{constructor(e,n,o){super(),this.type=e,this._docOrFields=n,this._inclusive=o}static _create(e,n,o){return new zd(e,n,o)}_apply(e){const n=function av(i,e,n,o){if(n[0]=(0,oe.m9)(n[0]),n[0]instanceof Ul)return function(l,f,D,S,x){if(!S)throw new Qe(Pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const V=[];for(const Z of Us(l))if(Z.field.isKeyField())V.push(mu(f,S.key));else{const ce=S.data.field(Z.field);if(du(ce))throw new Qe(Pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Z.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ce){const be=Z.field.canonicalString();throw new Qe(Pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${be}' (used as the orderBy) does not exist.`)}V.push(ce)}return new jo(V,x)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const u=Vl(i.firestore);return function(f,D,S,x,V,Z){const ce=f.explicitOrderBy;if(V.length>ce.length)throw new Qe(Pe.INVALID_ARGUMENT,`Too many arguments provided to ${x}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const be=[];for(let ut=0;ut<V.length;ut++){const _t=V[ut];if(ce[ut].field.isKeyField()){if("string"!=typeof _t)throw new Qe(Pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${x}(), but got a ${typeof _t}`);if(!Xc(f)&&-1!==_t.indexOf("/"))throw new Qe(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${x}() must be a plain document ID, but '${_t}' contains a slash.`);const Et=f.path.child(Bn.fromString(_t));if(!wt.isDocumentKey(Et))throw new Qe(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${x}() must result in a valid document path, but '${Et}' is not because it contains an odd number of segments.`);const rn=new wt(Et);be.push(mu(D,rn))}else{const Et=iv(S,x,_t);be.push(Et)}}return new jo(be,Z)}(i._query,i.firestore._databaseId,u,e,n,o)}}(e,this.type,this._docOrFields,this._inclusive);return new ni(e.firestore,e.converter,(l=n,new aa((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,l,u.endAt)));var u,l}}function y_(...i){return zd._create("startAfter",i,!1)}function uv(i,e,n){if("string"==typeof(n=(0,oe.m9)(n))){if(""===n)throw new Qe(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xc(e)&&-1!==n.indexOf("/"))throw new Qe(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Bn.fromString(n));if(!wt.isDocumentKey(o))throw new Qe(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return mu(i,new wt(o))}if(n instanceof Si)return mu(i,n._key);throw new Qe(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fg(n)}.`)}function E_(i,e){if(!Array.isArray(i)||0===i.length)throw new Qe(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I_(i,e){const n=function(u,l){for(const f of u)for(const D of f.getFlattenedFilters())if(l.indexOf(D.op)>=0)return D.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Qe(Pe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lv{convertValue(e,n="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Dt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Io(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new yf(Kr(e.latitude),Kr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=To(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=La(e);return new Br(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Bn.fromString(e);kt(am(o));const u=new Fa(o.get(1),o.get(3)),l=new wt(o.popFirst(5));return u.isEqual(n)||zn(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function T_(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class Da{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kc extends Ul{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Bl("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Hu extends kc{data(e={}){return super.data(e)}}class Lc{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Da(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Hu(this._firestore,this._userDataWriter,o.key,o,new Da(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Qe(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,l){if(u._snapshot.oldDocs.isEmpty()){let f=0;return u._snapshot.docChanges.map(D=>({type:"added",doc:new Hu(u._firestore,u._userDataWriter,D.doc.key,D.doc,new Da(u._snapshot.mutatedKeys.has(D.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:f++}))}{let f=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(D=>l||3!==D.type).map(D=>{const S=new Hu(u._firestore,u._userDataWriter,D.doc.key,D.doc,new Da(u._snapshot.mutatedKeys.has(D.doc.key),u._snapshot.fromCache),u.query.converter);let x=-1,V=-1;return 0!==D.type&&(x=f.indexOf(D.doc.key),f=f.delete(D.doc.key)),1!==D.type&&(f=f.add(D.doc),V=f.indexOf(D.doc.key)),{type:dv(D.type),doc:S,oldIndex:x,newIndex:V}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}function hv(i){i=Zn(i,Si);const e=Zn(i.firestore,Zr);return function hf(i,e,n={}){const o=new lr;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(l,f,D,S,x){const V=new af({next:ce=>{f.enqueueAndForget(()=>bd(l,Z));const be=ce.docs.has(D);!be&&ce.fromCache?x.reject(new Qe(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):be&&ce.fromCache&&S&&"server"===S.source?x.reject(new Qe(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(ce)},error:ce=>x.reject(ce)}),Z=new Gp(Tu(D.path),V,{includeMetadataChanges:!0,J_:!0});return zh(l,Z)}(yield Ol(i),i.asyncQueue,e,n,o)})),o.promise}(bi(e),i._key).then(n=>Rg(e,i,n))}class zu extends lv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Si(this.firestore,null,n)}}function Ag(i){i=Zn(i,ni);const e=Zn(i.firestore,Zr),n=bi(e),o=new zu(e);return Oc(i._query),function s_(i,e,n={}){const o=new lr;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(l,f,D,S,x){const V=new af({next:ce=>{f.enqueueAndForget(()=>bd(l,Z)),ce.fromCache&&"server"===S.source?x.reject(new Qe(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(ce)},error:ce=>x.reject(ce)}),Z=new Gp(D,V,{includeMetadataChanges:!0,J_:!0});return zh(l,Z)}(yield Ol(i),i.asyncQueue,e,n,o)})),o.promise}(n,i._query).then(u=>new Lc(e,o,i,u))}function HE(i,e,n){i=Zn(i,Si);const o=Zn(i.firestore,Zr),u=T_(i.converter,e,n);return Wd(o,[Ig(Vl(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Yr.none())])}function fv(i,e,n,...o){i=Zn(i,Si);const u=Zn(i.firestore,Zr),l=Vl(u);let f;return f="string"==typeof(e=(0,oe.m9)(e))||e instanceof Fl?function Dg(i,e,n,o,u,l){const f=i.pu(1,e,n),D=[Bd(e,o,n)],S=[u];if(l.length%2!=0)throw new Qe(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ce=0;ce<l.length;ce+=2)D.push(Bd(e,l[ce])),S.push(l[ce+1]);const x=[],V=Ai.empty();for(let ce=D.length-1;ce>=0;--ce)if(!ju(x,D[ce])){const be=D[ce];let ut=S[ce];ut=(0,oe.m9)(ut);const _t=f.Ru(be);if(ut instanceof Vd)x.push(be);else{const Et=Ea(ut,_t);null!=Et&&(x.push(be),V.set(be,Et))}}const Z=new ms(x);return new Fd(V,Z,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function Tg(i,e,n,o){const u=i.pu(1,e,n);Ud("Data must be an object, but it was:",u,o);const l=[],f=Ai.empty();Io(o,(S,x)=>{const V=Bu(e,S,n);x=(0,oe.m9)(x);const Z=u.Ru(V);if(x instanceof Vd)l.push(V);else{const ce=Ea(x,Z);null!=ce&&(l.push(V),f.set(V,ce))}});const D=new ms(l);return new Fd(f,D,u.fieldTransforms)}(l,"updateDoc",i._key,e),Wd(u,[f.toMutation(i._key,Yr.exists(!0))])}function pv(i){return Wd(Zn(i.firestore,Zr),[new hc(i._key,Yr.none())])}function bg(i,e){const n=Zn(i.firestore,Zr),o=yg(i),u=T_(i.converter,e);return Wd(n,[Ig(Vl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Yr.exists(!1))]).then(()=>o)}function gv(i,...e){var n,o,u;i=(0,oe.m9)(i);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||gf(e[f])||(l=e[f],f++);const D={includeMetadataChanges:l.includeMetadataChanges};if(gf(e[f])){const Z=e[f];e[f]=null===(n=Z.next)||void 0===n?void 0:n.bind(Z),e[f+1]=null===(o=Z.error)||void 0===o?void 0:o.bind(Z),e[f+2]=null===(u=Z.complete)||void 0===u?void 0:u.bind(Z)}let S,x,V;if(i instanceof Si)x=Zn(i.firestore,Zr),V=Tu(i._key.path),S={next:Z=>{e[f]&&e[f](Rg(x,i,Z))},error:e[f+1],complete:e[f+2]};else{const Z=Zn(i,ni);x=Zn(Z.firestore,Zr),V=Z._query;const ce=new zu(x);S={next:be=>{e[f]&&e[f](new Lc(x,ce,Z,be))},error:e[f+1],complete:e[f+2]},Oc(i._query)}return function(ce,be,ut,_t){const Et=new af(_t),rn=new Gp(be,Et,ut);return ce.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return zh(yield Ol(ce),rn)})),()=>{Et.Na(),ce.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return bd(yield Ol(ce),rn)}))}}(bi(x),V,D,S)}function Wd(i,e){return function(o,u){const l=new lr;return o.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function Ny(i,e,n){return Kh.apply(this,arguments)}(yield function df(i){return bs(i).then(e=>e.syncEngine)}(o),u,l)})),l.promise}(bi(i),e)}function Rg(i,e,n){const o=n.docs.get(e._key),u=new zu(i);return new kc(i,u,e._key,o,new Da(n.hasPendingWrites,n.fromCache),e.converter)}!function(e,n=!0){fr=q.SDK_VERSION,(0,q._registerComponent)(new ae.wA("firestore",(o,{instanceIdentifier:u,options:l})=>{const f=o.getProvider("app").getImmediate(),D=new Zr(new Yi(o.getProvider("auth-internal")),new Oi(o.getProvider("app-check-internal")),function(x,V){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new Qe(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(x.options.projectId,V)}(f,u),f);return l=Object.assign({useFetchStreams:n},l),D._setSettings(l),D},"PUBLIC").setMultipleInstances(!0)),(0,q.registerVersion)(qn,"4.3.2",e),(0,q.registerVersion)(qn,"4.3.2","esm2017")}()},9058:(It,Ce,M)=>{M.d(Ce,{BH:()=>Ve,L:()=>Ee,LL:()=>Ze,P0:()=>We,Pz:()=>Fe,Sg:()=>Ye,UG:()=>_e,ZB:()=>se,ZR:()=>Be,aH:()=>Le,b$:()=>ze,eu:()=>ye,hl:()=>pe,jU:()=>st,m9:()=>Es,ne:()=>Ar,pd:()=>en,q4:()=>jt,r3:()=>Lt,ru:()=>nt,tV:()=>G,uI:()=>ge,vZ:()=>Ri,w1:()=>Wt,xO:()=>hr,xb:()=>Er,z$:()=>ke,zd:()=>Dn});const ee=function(re){const B=[];let z=0;for(let $=0;$<re.length;$++){let H=re.charCodeAt($);H<128?B[z++]=H:H<2048?(B[z++]=H>>6|192,B[z++]=63&H|128):55296==(64512&H)&&$+1<re.length&&56320==(64512&re.charCodeAt($+1))?(H=65536+((1023&H)<<10)+(1023&re.charCodeAt(++$)),B[z++]=H>>18|240,B[z++]=H>>12&63|128,B[z++]=H>>6&63|128,B[z++]=63&H|128):(B[z++]=H>>12|224,B[z++]=H>>6&63|128,B[z++]=63&H|128)}return B},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,B){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let H=0;H<re.length;H+=3){const he=re[H],je=H+1<re.length,ht=je?re[H+1]:0,Ht=H+2<re.length,tn=Ht?re[H+2]:0;let hn=(15&ht)<<2|tn>>6,xr=63&tn;Ht||(xr=64,je||(hn=64)),$.push(z[he>>2],z[(3&he)<<4|ht>>4],z[hn],z[xr])}return $.join("")},encodeString(re,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(re):this.encodeByteArray(ee(re),B)},decodeString(re,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(re):function(re){const B=[];let z=0,$=0;for(;z<re.length;){const H=re[z++];if(H<128)B[$++]=String.fromCharCode(H);else if(H>191&&H<224){const he=re[z++];B[$++]=String.fromCharCode((31&H)<<6|63&he)}else if(H>239&&H<365){const Ht=((7&H)<<18|(63&re[z++])<<12|(63&re[z++])<<6|63&re[z++])-65536;B[$++]=String.fromCharCode(55296+(Ht>>10)),B[$++]=String.fromCharCode(56320+(1023&Ht))}else{const he=re[z++],je=re[z++];B[$++]=String.fromCharCode((15&H)<<12|(63&he)<<6|63&je)}}return B.join("")}(this.decodeStringToByteArray(re,B))},decodeStringToByteArray(re,B){this.init_();const z=B?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let H=0;H<re.length;){const he=z[re.charAt(H++)],ht=H<re.length?z[re.charAt(H)]:0;++H;const tn=H<re.length?z[re.charAt(H)]:64;++H;const Yt=H<re.length?z[re.charAt(H)]:64;if(++H,null==he||null==ht||null==tn||null==Yt)throw new ue;$.push(he<<2|ht>>4),64!==tn&&($.push(ht<<4&240|tn>>2),64!==Yt&&$.push(tn<<6&192|Yt))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}};class ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(re){return function(re){const B=ee(re);return J.encodeByteArray(B,!0)}(re).replace(/\./g,"")},G=function(re){try{return J.decodeString(re,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function se(re,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===re&&(re={});break;case Array:re=[];break;default:return B}for(const z in B)!B.hasOwnProperty(z)||!Me(z)||(re[z]=se(re[z],B[z]));return re}function Me(re){return"__proto__"!==re}const it=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=re&&G(re[1]);return B&&JSON.parse(B)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},jt=re=>{var B,z;return null===(z=null===(B=it())||void 0===B?void 0:B.emulatorHosts)||void 0===z?void 0:z[re]},We=re=>{const B=jt(re);if(!B)return;const z=B.lastIndexOf(":");if(z<=0||z+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const $=parseInt(B.substring(z+1),10);return"["===B[0]?[B.substring(1,z-1),$]:[B.substring(0,z),$]},Le=()=>{var re;return null===(re=it())||void 0===re?void 0:re.config},Fe=re=>{var B;return null===(B=it())||void 0===B?void 0:B[`_${re}`]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,z)=>{this.resolve=B,this.reject=z})}wrapCallback(B){return(z,$)=>{z?this.reject(z):this.resolve($),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(z):B(z,$))}}}function Ye(re,B){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=B||"demo-project",H=re.iat||0,he=re.sub||re.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:H,exp:H+3600,auth_time:H,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},re);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(je)),""].join(".")}function ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function _e(){var re;const B=null===(re=it())||void 0===re?void 0:re.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function st(){return"object"==typeof self&&self.self===self}function nt(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wt(){const re=ke();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function pe(){try{return"object"==typeof indexedDB}catch{return!1}}function ye(){return new Promise((re,B)=>{try{let z=!0;const $="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open($);H.onsuccess=()=>{H.result.close(),z||self.indexedDB.deleteDatabase($),re(!0)},H.onupgradeneeded=()=>{z=!1},H.onerror=()=>{var he;B((null===(he=H.error)||void 0===he?void 0:he.message)||"")}}catch(z){B(z)}})}class Be extends Error{constructor(B,z,$){super(z),this.code=B,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ze.prototype.create)}}class Ze{constructor(B,z,$){this.service=B,this.serviceName=z,this.errors=$}create(B,...z){const $=z[0]||{},H=`${this.service}/${B}`,he=this.errors[B],je=he?function Ft(re,B){return re.replace(sn,(z,$)=>{const H=B[$];return null!=H?String(H):`<${$}?>`})}(he,$):"Error";return new Be(H,`${this.serviceName}: ${je} (${H}).`,$)}}const sn=/\{\$([^}]+)}/g;function Lt(re,B){return Object.prototype.hasOwnProperty.call(re,B)}function Er(re){for(const B in re)if(Object.prototype.hasOwnProperty.call(re,B))return!1;return!0}function Ri(re,B){if(re===B)return!0;const z=Object.keys(re),$=Object.keys(B);for(const H of z){if(!$.includes(H))return!1;const he=re[H],je=B[H];if(ri(he)&&ri(je)){if(!Ri(he,je))return!1}else if(he!==je)return!1}for(const H of $)if(!z.includes(H))return!1;return!0}function ri(re){return null!==re&&"object"==typeof re}function hr(re){const B=[];for(const[z,$]of Object.entries(re))Array.isArray($)?$.forEach(H=>{B.push(encodeURIComponent(z)+"="+encodeURIComponent(H))}):B.push(encodeURIComponent(z)+"="+encodeURIComponent($));return B.length?"&"+B.join("&"):""}function Dn(re){const B={};return re.replace(/^\?/,"").split("&").forEach($=>{if($){const[H,he]=$.split("=");B[decodeURIComponent(H)]=decodeURIComponent(he)}}),B}function en(re){const B=re.indexOf("?");if(!B)return"";const z=re.indexOf("#",B);return re.substring(B,z>0?z:void 0)}function Ar(re,B){const z=new Bt(re,B);return z.subscribe.bind(z)}class Bt{constructor(B,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{B(this)}).catch($=>{this.error($)})}next(B){this.forEachObserver(z=>{z.next(B)})}error(B){this.forEachObserver(z=>{z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,z,$){let H;if(void 0===B&&void 0===z&&void 0===$)throw new Error("Missing Observer.");H=function un(re,B){if("object"!=typeof re||null===re)return!1;for(const z of B)if(z in re&&"function"==typeof re[z])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:z,complete:$},void 0===H.next&&(H.next=dn),void 0===H.error&&(H.error=dn),void 0===H.complete&&(H.complete=dn);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch{}}),this.observers.push(H),he}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,B)}sendOne(B,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{z(this.observers[B])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}function Es(re){return re&&re._delegate?re._delegate:re}},5619:(It,Ce,M)=>{M.d(Ce,{X:()=>q});var m=M(8645);class q extends m.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const oe=super._subscribe(ee);return!oe.closed&&ee.next(this._value),oe}getValue(){const{hasError:ee,thrownError:oe,_value:J}=this;if(ee)throw oe;return this._throwIfClosed(),J}next(ee){super.next(this._value=ee)}}},5592:(It,Ce,M)=>{M.d(Ce,{y:()=>ne});var m=M(305),q=M(7394),ae=M(4850),ee=M(8407),oe=M(2653),J=M(4674),ue=M(1441);let ne=(()=>{class se{constructor(me){me&&(this._subscribe=me)}lift(me){const He=new se;return He.source=this,He.operator=me,He}subscribe(me,He,tt){const ft=function K(se){return se&&se instanceof m.Lv||function G(se){return se&&(0,J.m)(se.next)&&(0,J.m)(se.error)&&(0,J.m)(se.complete)}(se)&&(0,q.Nn)(se)}(me)?me:new m.Hp(me,He,tt);return(0,ue.x)(()=>{const{operator:it,source:jt}=this;ft.add(it?it.call(ft,jt):jt?this._subscribe(ft):this._trySubscribe(ft))}),ft}_trySubscribe(me){try{return this._subscribe(me)}catch(He){me.error(He)}}forEach(me,He){return new(He=Ee(He))((tt,ft)=>{const it=new m.Hp({next:jt=>{try{me(jt)}catch(We){ft(We),it.unsubscribe()}},error:ft,complete:tt});this.subscribe(it)})}_subscribe(me){var He;return null===(He=this.source)||void 0===He?void 0:He.subscribe(me)}[ae.L](){return this}pipe(...me){return(0,ee.U)(me)(this)}toPromise(me){return new(me=Ee(me))((He,tt)=>{let ft;this.subscribe(it=>ft=it,it=>tt(it),()=>He(ft))})}}return se.create=Me=>new se(Me),se})();function Ee(se){var Me;return null!==(Me=se??oe.config.Promise)&&void 0!==Me?Me:Promise}},8645:(It,Ce,M)=>{M.d(Ce,{x:()=>ue});var m=M(5592),q=M(7394);const ee=(0,M(2306).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=M(9039),J=M(1441);let ue=(()=>{class Ee extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const se=new ne(this,this);return se.operator=K,se}_throwIfClosed(){if(this.closed)throw new ee}next(K){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(K)}})}error(K){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:se}=this;for(;se.length;)se.shift().error(K)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:se,isStopped:Me,observers:me}=this;return se||Me?q.Lc:(this.currentObservers=null,me.push(K),new q.w0(()=>{this.currentObservers=null,(0,oe.P)(me,K)}))}_checkFinalizedStatuses(K){const{hasError:se,thrownError:Me,isStopped:me}=this;se?K.error(Me):me&&K.complete()}asObservable(){const K=new m.y;return K.source=this,K}}return Ee.create=(G,K)=>new ne(G,K),Ee})();class ne extends ue{constructor(G,K){super(),this.destination=G,this.source=K}next(G){var K,se;null===(se=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===se||se.call(K,G)}error(G){var K,se;null===(se=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===se||se.call(K,G)}complete(){var G,K;null===(K=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===K||K.call(G)}_subscribe(G){var K,se;return null!==(se=null===(K=this.source)||void 0===K?void 0:K.subscribe(G))&&void 0!==se?se:q.Lc}}},305:(It,Ce,M)=>{M.d(Ce,{Hp:()=>tt,Lv:()=>se});var m=M(4674),q=M(7394),ae=M(2653),ee=M(3894),oe=M(2420);const J=Ee("C",void 0,void 0);function Ee(Le,Fe,Ve){return{kind:Le,value:Fe,error:Ve}}var G=M(7599),K=M(1441);class se extends q.w0{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,q.Nn)(Fe)&&Fe.add(this)):this.destination=We}static create(Fe,Ve,Ye){return new tt(Fe,Ve,Ye)}next(Fe){this.isStopped?jt(function ne(Le){return Ee("N",Le,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?jt(function ue(Le){return Ee("E",void 0,Le)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?jt(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function me(Le,Fe){return Me.call(Le,Fe)}class He{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(Fe)}catch(Ye){ft(Ye)}}error(Fe){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(Fe)}catch(Ye){ft(Ye)}else ft(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(Ve){ft(Ve)}}}class tt extends se{constructor(Fe,Ve,Ye){let ke;if(super(),(0,m.m)(Fe)||!Fe)ke={next:Fe??void 0,error:Ve??void 0,complete:Ye??void 0};else{let ge;this&&ae.config.useDeprecatedNextContext?(ge=Object.create(Fe),ge.unsubscribe=()=>this.unsubscribe(),ke={next:Fe.next&&me(Fe.next,ge),error:Fe.error&&me(Fe.error,ge),complete:Fe.complete&&me(Fe.complete,ge)}):ke=Fe}this.destination=new He(ke)}}function ft(Le){ae.config.useDeprecatedSynchronousErrorHandling?(0,K.O)(Le):(0,ee.h)(Le)}function jt(Le,Fe){const{onStoppedNotification:Ve}=ae.config;Ve&&G.z.setTimeout(()=>Ve(Le,Fe))}const We={closed:!0,next:oe.Z,error:function it(Le){throw Le},complete:oe.Z}},7394:(It,Ce,M)=>{M.d(Ce,{Lc:()=>J,w0:()=>oe,Nn:()=>ue});var m=M(4674);const ae=(0,M(2306).d)(Ee=>function(K){Ee(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((se,Me)=>`${Me+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var ee=M(9039);class oe{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const me of K)me.remove(this);else K.remove(this);const{initialTeardown:se}=this;if((0,m.m)(se))try{se()}catch(me){G=me instanceof ae?me.errors:[me]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const me of Me)try{ne(me)}catch(He){G=G??[],He instanceof ae?G=[...G,...He.errors]:G.push(He)}}if(G)throw new ae(G)}}add(G){var K;if(G&&G!==this)if(this.closed)ne(G);else{if(G instanceof oe){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(G)}}_hasParent(G){const{_parentage:K}=this;return K===G||Array.isArray(K)&&K.includes(G)}_addParent(G){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(G),K):K?[K,G]:G}_removeParent(G){const{_parentage:K}=this;K===G?this._parentage=null:Array.isArray(K)&&(0,ee.P)(K,G)}remove(G){const{_finalizers:K}=this;K&&(0,ee.P)(K,G),G instanceof oe&&G._removeParent(this)}}oe.EMPTY=(()=>{const Ee=new oe;return Ee.closed=!0,Ee})();const J=oe.EMPTY;function ue(Ee){return Ee instanceof oe||Ee&&"closed"in Ee&&(0,m.m)(Ee.remove)&&(0,m.m)(Ee.add)&&(0,m.m)(Ee.unsubscribe)}function ne(Ee){(0,m.m)(Ee)?Ee():Ee.unsubscribe()}},2653:(It,Ce,M)=>{M.d(Ce,{config:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(It,Ce,M)=>{M.d(Ce,{a:()=>G});var m=M(5592),q=M(7453),ae=M(2459),ee=M(2737),oe=M(7400),J=M(4564),ue=M(2714),ne=M(8251),Ee=M(7103);function G(...Me){const me=(0,J.yG)(Me),He=(0,J.jO)(Me),{args:tt,keys:ft}=(0,q.D)(Me);if(0===tt.length)return(0,ae.D)([],me);const it=new m.y(function K(Me,me,He=ee.y){return tt=>{se(me,()=>{const{length:ft}=Me,it=new Array(ft);let jt=ft,We=ft;for(let Le=0;Le<ft;Le++)se(me,()=>{const Fe=(0,ae.D)(Me[Le],me);let Ve=!1;Fe.subscribe((0,ne.x)(tt,Ye=>{it[Le]=Ye,Ve||(Ve=!0,We--),We||tt.next(He(it.slice()))},()=>{--jt||tt.complete()}))},tt)},tt)}}(tt,me,ft?jt=>(0,ue.n)(ft,jt):ee.y));return He?it.pipe((0,oe.Z)(He)):it}function se(Me,me,He){Me?(0,Ee.f)(He,Me,me):me()}},5211:(It,Ce,M)=>{M.d(Ce,{z:()=>oe});var m=M(7537),ae=M(4564),ee=M(2459);function oe(...J){return function q(){return(0,m.J)(1)}()((0,ee.D)(J,(0,ae.yG)(J)))}},6232:(It,Ce,M)=>{M.d(Ce,{E:()=>q});const q=new(M(5592).y)(oe=>oe.complete())},2459:(It,Ce,M)=>{M.d(Ce,{D:()=>Fe});var m=M(4829),q=M(3093),ae=M(5137),J=M(5592),ne=M(4971),Ee=M(4674),G=M(7103);function se(Ve,Ye){if(!Ve)throw new Error("Iterable cannot be null");return new J.y(ke=>{(0,G.f)(ke,Ye,()=>{const ge=Ve[Symbol.asyncIterator]();(0,G.f)(ke,Ye,()=>{ge.next().then(_e=>{_e.done?ke.complete():ke.next(_e.value)})},0,!0)})})}var Me=M(8382),me=M(4026),He=M(4266),tt=M(3664),ft=M(5726),it=M(9853),jt=M(541);function Fe(Ve,Ye){return Ye?function Le(Ve,Ye){if(null!=Ve){if((0,Me.c)(Ve))return function ee(Ve,Ye){return(0,m.Xf)(Ve).pipe((0,ae.R)(Ye),(0,q.Q)(Ye))}(Ve,Ye);if((0,He.z)(Ve))return function ue(Ve,Ye){return new J.y(ke=>{let ge=0;return Ye.schedule(function(){ge===Ve.length?ke.complete():(ke.next(Ve[ge++]),ke.closed||this.schedule())})})}(Ve,Ye);if((0,me.t)(Ve))return function oe(Ve,Ye){return(0,m.Xf)(Ve).pipe((0,ae.R)(Ye),(0,q.Q)(Ye))}(Ve,Ye);if((0,ft.D)(Ve))return se(Ve,Ye);if((0,tt.T)(Ve))return function K(Ve,Ye){return new J.y(ke=>{let ge;return(0,G.f)(ke,Ye,()=>{ge=Ve[ne.h](),(0,G.f)(ke,Ye,()=>{let _e,st;try{({value:_e,done:st}=ge.next())}catch(nt){return void ke.error(nt)}st?ke.complete():ke.next(_e)},0,!0)}),()=>(0,Ee.m)(ge?.return)&&ge.return()})}(Ve,Ye);if((0,jt.L)(Ve))return function We(Ve,Ye){return se((0,jt.Q)(Ve),Ye)}(Ve,Ye)}throw(0,it.z)(Ve)}(Ve,Ye):(0,m.Xf)(Ve)}},4829:(It,Ce,M)=>{M.d(Ce,{Xf:()=>Me});var m=M(7582),q=M(4266),ae=M(4026),ee=M(5592),oe=M(8382),J=M(5726),ue=M(9853),ne=M(3664),Ee=M(541),G=M(4674),K=M(3894),se=M(4850);function Me(Le){if(Le instanceof ee.y)return Le;if(null!=Le){if((0,oe.c)(Le))return function me(Le){return new ee.y(Fe=>{const Ve=Le[se.L]();if((0,G.m)(Ve.subscribe))return Ve.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,q.z)(Le))return function He(Le){return new ee.y(Fe=>{for(let Ve=0;Ve<Le.length&&!Fe.closed;Ve++)Fe.next(Le[Ve]);Fe.complete()})}(Le);if((0,ae.t)(Le))return function tt(Le){return new ee.y(Fe=>{Le.then(Ve=>{Fe.closed||(Fe.next(Ve),Fe.complete())},Ve=>Fe.error(Ve)).then(null,K.h)})}(Le);if((0,J.D)(Le))return it(Le);if((0,ne.T)(Le))return function ft(Le){return new ee.y(Fe=>{for(const Ve of Le)if(Fe.next(Ve),Fe.closed)return;Fe.complete()})}(Le);if((0,Ee.L)(Le))return function jt(Le){return it((0,Ee.Q)(Le))}(Le)}throw(0,ue.z)(Le)}function it(Le){return new ee.y(Fe=>{(function We(Le,Fe){var Ve,Ye,ke,ge;return(0,m.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,m.KL)(Le);!(Ye=yield Ve.next()).done;)if(Fe.next(Ye.value),Fe.closed)return}catch(_e){ke={error:_e}}finally{try{Ye&&!Ye.done&&(ge=Ve.return)&&(yield ge.call(Ve))}finally{if(ke)throw ke.error}}Fe.complete()})})(Le,Fe).catch(Ve=>Fe.error(Ve))})}},3019:(It,Ce,M)=>{M.d(Ce,{T:()=>J});var m=M(7537),q=M(4829),ae=M(6232),ee=M(4564),oe=M(2459);function J(...ue){const ne=(0,ee.yG)(ue),Ee=(0,ee._6)(ue,1/0),G=ue;return G.length?1===G.length?(0,q.Xf)(G[0]):(0,m.J)(Ee)((0,oe.D)(G,ne)):ae.E}},2096:(It,Ce,M)=>{M.d(Ce,{of:()=>ae});var m=M(4564),q=M(2459);function ae(...ee){const oe=(0,m.yG)(ee);return(0,q.D)(ee,oe)}},8251:(It,Ce,M)=>{M.d(Ce,{x:()=>q});var m=M(305);function q(ee,oe,J,ue,ne){return new ae(ee,oe,J,ue,ne)}class ae extends m.Lv{constructor(oe,J,ue,ne,Ee,G){super(oe),this.onFinalize=Ee,this.shouldUnsubscribe=G,this._next=J?function(K){try{J(K)}catch(se){oe.error(se)}}:super._next,this._error=ne?function(K){try{ne(K)}catch(se){oe.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(K){oe.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},3572:(It,Ce,M)=>{M.d(Ce,{d:()=>ae});var m=M(9360),q=M(8251);function ae(ee){return(0,m.e)((oe,J)=>{let ue=!1;oe.subscribe((0,q.x)(J,ne=>{ue=!0,J.next(ne)},()=>{ue||J.next(ee),J.complete()}))})}},2181:(It,Ce,M)=>{M.d(Ce,{h:()=>ae});var m=M(9360),q=M(8251);function ae(ee,oe){return(0,m.e)((J,ue)=>{let ne=0;J.subscribe((0,q.x)(ue,Ee=>ee.call(oe,Ee,ne++)&&ue.next(Ee)))})}},1374:(It,Ce,M)=>{M.d(Ce,{P:()=>ue});var m=M(6973),q=M(2181),ae=M(8180),ee=M(3572),oe=M(3026),J=M(2737);function ue(ne,Ee){const G=arguments.length>=2;return K=>K.pipe(ne?(0,q.h)((se,Me)=>ne(se,Me,K)):J.y,(0,ae.q)(1),G?(0,ee.d)(Ee):(0,oe.T)(()=>new m.K))}},7398:(It,Ce,M)=>{M.d(Ce,{U:()=>ae});var m=M(9360),q=M(8251);function ae(ee,oe){return(0,m.e)((J,ue)=>{let ne=0;J.subscribe((0,q.x)(ue,Ee=>{ue.next(ee.call(oe,Ee,ne++))}))})}},7537:(It,Ce,M)=>{M.d(Ce,{J:()=>ae});var m=M(1631),q=M(2737);function ae(ee=1/0){return(0,m.z)(q.y,ee)}},1631:(It,Ce,M)=>{M.d(Ce,{z:()=>ne});var m=M(7398),q=M(4829),ae=M(9360),ee=M(7103),oe=M(8251),ue=M(4674);function ne(Ee,G,K=1/0){return(0,ue.m)(G)?ne((se,Me)=>(0,m.U)((me,He)=>G(se,me,Me,He))((0,q.Xf)(Ee(se,Me))),K):("number"==typeof G&&(K=G),(0,ae.e)((se,Me)=>function J(Ee,G,K,se,Me,me,He,tt){const ft=[];let it=0,jt=0,We=!1;const Le=()=>{We&&!ft.length&&!it&&G.complete()},Fe=Ye=>it<se?Ve(Ye):ft.push(Ye),Ve=Ye=>{me&&G.next(Ye),it++;let ke=!1;(0,q.Xf)(K(Ye,jt++)).subscribe((0,oe.x)(G,ge=>{Me?.(ge),me?Fe(ge):G.next(ge)},()=>{ke=!0},void 0,()=>{if(ke)try{for(it--;ft.length&&it<se;){const ge=ft.shift();He?(0,ee.f)(G,He,()=>Ve(ge)):Ve(ge)}Le()}catch(ge){G.error(ge)}}))};return Ee.subscribe((0,oe.x)(G,Fe,()=>{We=!0,Le()})),()=>{tt?.()}}(se,Me,Ee,K)))}},3093:(It,Ce,M)=>{M.d(Ce,{Q:()=>ee});var m=M(7103),q=M(9360),ae=M(8251);function ee(oe,J=0){return(0,q.e)((ue,ne)=>{ue.subscribe((0,ae.x)(ne,Ee=>(0,m.f)(ne,oe,()=>ne.next(Ee),J),()=>(0,m.f)(ne,oe,()=>ne.complete(),J),Ee=>(0,m.f)(ne,oe,()=>ne.error(Ee),J)))})}},3020:(It,Ce,M)=>{M.d(Ce,{B:()=>oe});var m=M(4829),q=M(8645),ae=M(305),ee=M(9360);function oe(ue={}){const{connector:ne=(()=>new q.x),resetOnError:Ee=!0,resetOnComplete:G=!0,resetOnRefCountZero:K=!0}=ue;return se=>{let Me,me,He,tt=0,ft=!1,it=!1;const jt=()=>{me?.unsubscribe(),me=void 0},We=()=>{jt(),Me=He=void 0,ft=it=!1},Le=()=>{const Fe=Me;We(),Fe?.unsubscribe()};return(0,ee.e)((Fe,Ve)=>{tt++,!it&&!ft&&jt();const Ye=He=He??ne();Ve.add(()=>{tt--,0===tt&&!it&&!ft&&(me=J(Le,K))}),Ye.subscribe(Ve),!Me&&tt>0&&(Me=new ae.Hp({next:ke=>Ye.next(ke),error:ke=>{it=!0,jt(),me=J(We,Ee,ke),Ye.error(ke)},complete:()=>{ft=!0,jt(),me=J(We,G),Ye.complete()}}),(0,m.Xf)(Fe).subscribe(Me))})(se)}}function J(ue,ne,...Ee){if(!0===ne)return void ue();if(!1===ne)return;const G=new ae.Hp({next:()=>{G.unsubscribe(),ue()}});return(0,m.Xf)(ne(...Ee)).subscribe(G)}},7921:(It,Ce,M)=>{M.d(Ce,{O:()=>ee});var m=M(5211),q=M(4564),ae=M(9360);function ee(...oe){const J=(0,q.yG)(oe);return(0,ae.e)((ue,ne)=>{(J?(0,m.z)(oe,ue,J):(0,m.z)(oe,ue)).subscribe(ne)})}},5137:(It,Ce,M)=>{M.d(Ce,{R:()=>q});var m=M(9360);function q(ae,ee=0){return(0,m.e)((oe,J)=>{J.add(ae.schedule(()=>oe.subscribe(J),ee))})}},4664:(It,Ce,M)=>{M.d(Ce,{w:()=>ee});var m=M(4829),q=M(9360),ae=M(8251);function ee(oe,J){return(0,q.e)((ue,ne)=>{let Ee=null,G=0,K=!1;const se=()=>K&&!Ee&&ne.complete();ue.subscribe((0,ae.x)(ne,Me=>{Ee?.unsubscribe();let me=0;const He=G++;(0,m.Xf)(oe(Me,He)).subscribe(Ee=(0,ae.x)(ne,tt=>ne.next(J?J(Me,tt,He,me++):tt),()=>{Ee=null,se()}))},()=>{K=!0,se()}))})}},8180:(It,Ce,M)=>{M.d(Ce,{q:()=>ee});var m=M(6232),q=M(9360),ae=M(8251);function ee(oe){return oe<=0?()=>m.E:(0,q.e)((J,ue)=>{let ne=0;J.subscribe((0,ae.x)(ue,Ee=>{++ne<=oe&&(ue.next(Ee),oe<=ne&&ue.complete())}))})}},9773:(It,Ce,M)=>{M.d(Ce,{R:()=>oe});var m=M(9360),q=M(8251),ae=M(4829),ee=M(2420);function oe(J){return(0,m.e)((ue,ne)=>{(0,ae.Xf)(J).subscribe((0,q.x)(ne,()=>ne.complete(),ee.Z)),!ne.closed&&ue.subscribe(ne)})}},9397:(It,Ce,M)=>{M.d(Ce,{b:()=>oe});var m=M(4674),q=M(9360),ae=M(8251),ee=M(2737);function oe(J,ue,ne){const Ee=(0,m.m)(J)||ue||ne?{next:J,error:ue,complete:ne}:J;return Ee?(0,q.e)((G,K)=>{var se;null===(se=Ee.subscribe)||void 0===se||se.call(Ee);let Me=!0;G.subscribe((0,ae.x)(K,me=>{var He;null===(He=Ee.next)||void 0===He||He.call(Ee,me),K.next(me)},()=>{var me;Me=!1,null===(me=Ee.complete)||void 0===me||me.call(Ee),K.complete()},me=>{var He;Me=!1,null===(He=Ee.error)||void 0===He||He.call(Ee,me),K.error(me)},()=>{var me,He;Me&&(null===(me=Ee.unsubscribe)||void 0===me||me.call(Ee)),null===(He=Ee.finalize)||void 0===He||He.call(Ee)}))}):ee.y}},3026:(It,Ce,M)=>{M.d(Ce,{T:()=>ee});var m=M(6973),q=M(9360),ae=M(8251);function ee(J=oe){return(0,q.e)((ue,ne)=>{let Ee=!1;ue.subscribe((0,ae.x)(ne,G=>{Ee=!0,ne.next(G)},()=>Ee?ne.complete():ne.error(J())))})}function oe(){return new m.K}},1954:(It,Ce,M)=>{M.d(Ce,{o:()=>oe});var m=M(7394);class q extends m.w0{constructor(ue,ne){super()}schedule(ue,ne=0){return this}}const ae={setInterval(J,ue,...ne){const{delegate:Ee}=ae;return Ee?.setInterval?Ee.setInterval(J,ue,...ne):setInterval(J,ue,...ne)},clearInterval(J){const{delegate:ue}=ae;return(ue?.clearInterval||clearInterval)(J)},delegate:void 0};var ee=M(9039);class oe extends q{constructor(ue,ne){super(ue,ne),this.scheduler=ue,this.work=ne,this.pending=!1}schedule(ue,ne=0){var Ee;if(this.closed)return this;this.state=ue;const G=this.id,K=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(K,G,ne)),this.pending=!0,this.delay=ne,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(K,this.id,ne),this}requestAsyncId(ue,ne,Ee=0){return ae.setInterval(ue.flush.bind(ue,this),Ee)}recycleAsyncId(ue,ne,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return ne;null!=ne&&ae.clearInterval(ne)}execute(ue,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(ue,ne);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,ne){let G,Ee=!1;try{this.work(ue)}catch(K){Ee=!0,G=K||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ue,scheduler:ne}=this,{actions:Ee}=ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(Ee,this),null!=ue&&(this.id=this.recycleAsyncId(ne,ue,null)),this.delay=null,super.unsubscribe()}}}},2631:(It,Ce,M)=>{M.d(Ce,{v:()=>ae});var m=M(4552);class q{constructor(oe,J=q.now){this.schedulerActionCtor=oe,this.now=J}schedule(oe,J=0,ue){return new this.schedulerActionCtor(this,oe).schedule(ue,J)}}q.now=m.l.now;class ae extends q{constructor(oe,J=q.now){super(oe,J),this.actions=[],this._active=!1}flush(oe){const{actions:J}=this;if(this._active)return void J.push(oe);let ue;this._active=!0;do{if(ue=oe.execute(oe.state,oe.delay))break}while(oe=J.shift());if(this._active=!1,ue){for(;oe=J.shift();)oe.unsubscribe();throw ue}}}},6321:(It,Ce,M)=>{M.d(Ce,{z:()=>ae});var m=M(1954);const ae=new(M(2631).v)(m.o)},4552:(It,Ce,M)=>{M.d(Ce,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},7599:(It,Ce,M)=>{M.d(Ce,{z:()=>m});const m={setTimeout(q,ae,...ee){const{delegate:oe}=m;return oe?.setTimeout?oe.setTimeout(q,ae,...ee):setTimeout(q,ae,...ee)},clearTimeout(q){const{delegate:ae}=m;return(ae?.clearTimeout||clearTimeout)(q)},delegate:void 0}},4971:(It,Ce,M)=>{M.d(Ce,{h:()=>q});const q=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(It,Ce,M)=>{M.d(Ce,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(It,Ce,M)=>{M.d(Ce,{K:()=>q});const q=(0,M(2306).d)(ae=>function(){ae(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(It,Ce,M)=>{M.d(Ce,{_6:()=>J,jO:()=>ee,yG:()=>oe});var m=M(4674);function ae(ue){return ue[ue.length-1]}function ee(ue){return(0,m.m)(ae(ue))?ue.pop():void 0}function oe(ue){return function q(ue){return ue&&(0,m.m)(ue.schedule)}(ae(ue))?ue.pop():void 0}function J(ue,ne){return"number"==typeof ae(ue)?ue.pop():ne}},7453:(It,Ce,M)=>{M.d(Ce,{D:()=>oe});const{isArray:m}=Array,{getPrototypeOf:q,prototype:ae,keys:ee}=Object;function oe(ue){if(1===ue.length){const ne=ue[0];if(m(ne))return{args:ne,keys:null};if(function J(ue){return ue&&"object"==typeof ue&&q(ue)===ae}(ne)){const Ee=ee(ne);return{args:Ee.map(G=>ne[G]),keys:Ee}}}return{args:ue,keys:null}}},9039:(It,Ce,M)=>{function m(q,ae){if(q){const ee=q.indexOf(ae);0<=ee&&q.splice(ee,1)}}M.d(Ce,{P:()=>m})},2306:(It,Ce,M)=>{function m(q){const ee=q(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}M.d(Ce,{d:()=>m})},2714:(It,Ce,M)=>{function m(q,ae){return q.reduce((ee,oe,J)=>(ee[oe]=ae[J],ee),{})}M.d(Ce,{n:()=>m})},1441:(It,Ce,M)=>{M.d(Ce,{O:()=>ee,x:()=>ae});var m=M(2653);let q=null;function ae(oe){if(m.config.useDeprecatedSynchronousErrorHandling){const J=!q;if(J&&(q={errorThrown:!1,error:null}),oe(),J){const{errorThrown:ue,error:ne}=q;if(q=null,ue)throw ne}}else oe()}function ee(oe){m.config.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=oe)}},7103:(It,Ce,M)=>{function m(q,ae,ee,oe=0,J=!1){const ue=ae.schedule(function(){ee(),J?q.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(q.add(ue),!J)return ue}M.d(Ce,{f:()=>m})},2737:(It,Ce,M)=>{function m(q){return q}M.d(Ce,{y:()=>m})},4266:(It,Ce,M)=>{M.d(Ce,{z:()=>m});const m=q=>q&&"number"==typeof q.length&&"function"!=typeof q},5726:(It,Ce,M)=>{M.d(Ce,{D:()=>q});var m=M(4674);function q(ae){return Symbol.asyncIterator&&(0,m.m)(ae?.[Symbol.asyncIterator])}},4674:(It,Ce,M)=>{function m(q){return"function"==typeof q}M.d(Ce,{m:()=>m})},8382:(It,Ce,M)=>{M.d(Ce,{c:()=>ae});var m=M(4850),q=M(4674);function ae(ee){return(0,q.m)(ee[m.L])}},3664:(It,Ce,M)=>{M.d(Ce,{T:()=>ae});var m=M(4971),q=M(4674);function ae(ee){return(0,q.m)(ee?.[m.h])}},4026:(It,Ce,M)=>{M.d(Ce,{t:()=>q});var m=M(4674);function q(ae){return(0,m.m)(ae?.then)}},541:(It,Ce,M)=>{M.d(Ce,{L:()=>ee,Q:()=>ae});var m=M(7582),q=M(4674);function ae(oe){return(0,m.FC)(this,arguments,function*(){const ue=oe.getReader();try{for(;;){const{value:ne,done:Ee}=yield(0,m.qq)(ue.read());if(Ee)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(ne)}}finally{ue.releaseLock()}})}function ee(oe){return(0,q.m)(oe?.getReader)}},9360:(It,Ce,M)=>{M.d(Ce,{A:()=>q,e:()=>ae});var m=M(4674);function q(ee){return(0,m.m)(ee?.lift)}function ae(ee){return oe=>{if(q(oe))return oe.lift(function(J){try{return ee(J,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(It,Ce,M)=>{M.d(Ce,{Z:()=>ee});var m=M(7398);const{isArray:q}=Array;function ee(oe){return(0,m.U)(J=>function ae(oe,J){return q(J)?oe(...J):oe(J)}(oe,J))}},2420:(It,Ce,M)=>{function m(){}M.d(Ce,{Z:()=>m})},8407:(It,Ce,M)=>{M.d(Ce,{U:()=>ae,z:()=>q});var m=M(2737);function q(...ee){return ae(ee)}function ae(ee){return 0===ee.length?m.y:1===ee.length?ee[0]:function(J){return ee.reduce((ue,ne)=>ne(ue),J)}}},3894:(It,Ce,M)=>{M.d(Ce,{h:()=>ae});var m=M(2653),q=M(7599);function ae(ee){q.z.setTimeout(()=>{const{onUnhandledError:oe}=m.config;if(!oe)throw ee;oe(ee)})}},9853:(It,Ce,M)=>{function m(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(Ce,{z:()=>m})},6814:(It,Ce,M)=>{M.d(Ce,{Do:()=>tt,EM:()=>ie,HT:()=>ee,JF:()=>Nt,JJ:()=>is,K0:()=>J,Mx:()=>si,NF:()=>ur,O5:()=>xi,OU:()=>mt,PM:()=>Ii,S$:()=>Me,V_:()=>ne,Ye:()=>ft,Zd:()=>cs,b0:()=>He,bD:()=>Nr,ez:()=>On,mk:()=>Ms,q:()=>ae,sg:()=>es,uU:()=>Wr,w_:()=>oe});var m=M(8926);let q=null;function ae(){return q}function ee(I){q||(q=I)}class oe{}const J=new m.OlP("DocumentToken");let ue=(()=>{class I{historyGo(b){throw new Error("Not implemented")}static#e=this.\u0275fac=function(O){return new(O||I)};static#t=this.\u0275prov=m.Yz7({token:I,factory:function(){return(0,m.f3M)(Ee)},providedIn:"platform"})}return I})();const ne=new m.OlP("Location Initialized");let Ee=(()=>{class I extends ue{constructor(){super(),this._doc=(0,m.f3M)(J),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ae().getBaseHref(this._doc)}onPopState(b){const O=ae().getGlobalEventTarget(this._doc,"window");return O.addEventListener("popstate",b,!1),()=>O.removeEventListener("popstate",b)}onHashChange(b){const O=ae().getGlobalEventTarget(this._doc,"window");return O.addEventListener("hashchange",b,!1),()=>O.removeEventListener("hashchange",b)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(b){this._location.pathname=b}pushState(b,O,Y){this._history.pushState(b,O,Y)}replaceState(b,O,Y){this._history.replaceState(b,O,Y)}forward(){this._history.forward()}back(){this._history.back()}historyGo(b=0){this._history.go(b)}getState(){return this._history.state}static#e=this.\u0275fac=function(O){return new(O||I)};static#t=this.\u0275prov=m.Yz7({token:I,factory:function(){return new I},providedIn:"platform"})}return I})();function G(I,F){if(0==I.length)return F;if(0==F.length)return I;let b=0;return I.endsWith("/")&&b++,F.startsWith("/")&&b++,2==b?I+F.substring(1):1==b?I+F:I+"/"+F}function K(I){const F=I.match(/#|\?|$/),b=F&&F.index||I.length;return I.slice(0,b-("/"===I[b-1]?1:0))+I.slice(b)}function se(I){return I&&"?"!==I[0]?"?"+I:I}let Me=(()=>{class I{historyGo(b){throw new Error("Not implemented")}static#e=this.\u0275fac=function(O){return new(O||I)};static#t=this.\u0275prov=m.Yz7({token:I,factory:function(){return(0,m.f3M)(He)},providedIn:"root"})}return I})();const me=new m.OlP("appBaseHref");let He=(()=>{class I extends Me{constructor(b,O){super(),this._platformLocation=b,this._removeListenerFns=[],this._baseHref=O??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}prepareExternalUrl(b){return G(this._baseHref,b)}path(b=!1){const O=this._platformLocation.pathname+se(this._platformLocation.search),Y=this._platformLocation.hash;return Y&&b?`${O}${Y}`:O}pushState(b,O,Y,Ae){const Ue=this.prepareExternalUrl(Y+se(Ae));this._platformLocation.pushState(b,O,Ue)}replaceState(b,O,Y,Ae){const Ue=this.prepareExternalUrl(Y+se(Ae));this._platformLocation.replaceState(b,O,Ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(b=0){this._platformLocation.historyGo?.(b)}static#e=this.\u0275fac=function(O){return new(O||I)(m.LFG(ue),m.LFG(me,8))};static#t=this.\u0275prov=m.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),tt=(()=>{class I extends Me{constructor(b,O){super(),this._platformLocation=b,this._baseHref="",this._removeListenerFns=[],null!=O&&(this._baseHref=O)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}path(b=!1){let O=this._platformLocation.hash;return null==O&&(O="#"),O.length>0?O.substring(1):O}prepareExternalUrl(b){const O=G(this._baseHref,b);return O.length>0?"#"+O:O}pushState(b,O,Y,Ae){let Ue=this.prepareExternalUrl(Y+se(Ae));0==Ue.length&&(Ue=this._platformLocation.pathname),this._platformLocation.pushState(b,O,Ue)}replaceState(b,O,Y,Ae){let Ue=this.prepareExternalUrl(Y+se(Ae));0==Ue.length&&(Ue=this._platformLocation.pathname),this._platformLocation.replaceState(b,O,Ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(b=0){this._platformLocation.historyGo?.(b)}static#e=this.\u0275fac=function(O){return new(O||I)(m.LFG(ue),m.LFG(me,8))};static#t=this.\u0275prov=m.Yz7({token:I,factory:I.\u0275fac})}return I})(),ft=(()=>{class I{constructor(b){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=b;const O=this._locationStrategy.getBaseHref();this._basePath=function Le(I){if(new RegExp("^(https?:)?//").test(I)){const[,b]=I.split(/\/\/[^\/]+/);return b}return I}(K(We(O))),this._locationStrategy.onPopState(Y=>{this._subject.emit({url:this.path(!0),pop:!0,state:Y.state,type:Y.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(b=!1){return this.normalize(this._locationStrategy.path(b))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(b,O=""){return this.path()==this.normalize(b+se(O))}normalize(b){return I.stripTrailingSlash(function jt(I,F){if(!I||!F.startsWith(I))return F;const b=F.substring(I.length);return""===b||["/",";","?","#"].includes(b[0])?b:F}(this._basePath,We(b)))}prepareExternalUrl(b){return b&&"/"!==b[0]&&(b="/"+b),this._locationStrategy.prepareExternalUrl(b)}go(b,O="",Y=null){this._locationStrategy.pushState(Y,"",b,O),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+se(O)),Y)}replaceState(b,O="",Y=null){this._locationStrategy.replaceState(Y,"",b,O),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+se(O)),Y)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(b=0){this._locationStrategy.historyGo?.(b)}onUrlChange(b){return this._urlChangeListeners.push(b),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(O=>{this._notifyUrlChangeListeners(O.url,O.state)})),()=>{const O=this._urlChangeListeners.indexOf(b);this._urlChangeListeners.splice(O,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(b="",O){this._urlChangeListeners.forEach(Y=>Y(b,O))}subscribe(b,O,Y){return this._subject.subscribe({next:b,error:O,complete:Y})}static#e=this.normalizeQueryParams=se;static#t=this.joinWithSlash=G;static#n=this.stripTrailingSlash=K;static#r=this.\u0275fac=function(O){return new(O||I)(m.LFG(Me))};static#i=this.\u0275prov=m.Yz7({token:I,factory:function(){return function it(){return new ft((0,m.LFG)(Me))}()},providedIn:"root"})}return I})();function We(I){return I.replace(/\/index.html$/,"")}var Ve=function(I){return I[I.Decimal=0]="Decimal",I[I.Percent=1]="Percent",I[I.Currency=2]="Currency",I[I.Scientific=3]="Scientific",I}(Ve||{}),ke=function(I){return I[I.Format=0]="Format",I[I.Standalone=1]="Standalone",I}(ke||{}),ge=function(I){return I[I.Narrow=0]="Narrow",I[I.Abbreviated=1]="Abbreviated",I[I.Wide=2]="Wide",I[I.Short=3]="Short",I}(ge||{}),_e=function(I){return I[I.Short=0]="Short",I[I.Medium=1]="Medium",I[I.Long=2]="Long",I[I.Full=3]="Full",I}(_e||{}),st=function(I){return I[I.Decimal=0]="Decimal",I[I.Group=1]="Group",I[I.List=2]="List",I[I.PercentSign=3]="PercentSign",I[I.PlusSign=4]="PlusSign",I[I.MinusSign=5]="MinusSign",I[I.Exponential=6]="Exponential",I[I.SuperscriptingExponent=7]="SuperscriptingExponent",I[I.PerMille=8]="PerMille",I[I.Infinity=9]="Infinity",I[I.NaN=10]="NaN",I[I.TimeSeparator=11]="TimeSeparator",I[I.CurrencyDecimal=12]="CurrencyDecimal",I[I.CurrencyGroup=13]="CurrencyGroup",I}(st||{});function ye(I,F){return Lt((0,m.cg1)(I)[m.wAp.DateFormat],F)}function xe(I,F){return Lt((0,m.cg1)(I)[m.wAp.TimeFormat],F)}function we(I,F){return Lt((0,m.cg1)(I)[m.wAp.DateTimeFormat],F)}function Be(I,F){const b=(0,m.cg1)(I),O=b[m.wAp.NumberSymbols][F];if(typeof O>"u"){if(F===st.CurrencyDecimal)return b[m.wAp.NumberSymbols][st.Decimal];if(F===st.CurrencyGroup)return b[m.wAp.NumberSymbols][st.Group]}return O}function vt(I){if(!I[m.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${I[m.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Lt(I,F){for(let b=F;b>-1;b--)if(typeof I[b]<"u")return I[b];throw new Error("Locale data API: locale data undefined")}function wr(I){const[F,b]=I.split(":");return{hours:+F,minutes:+b}}const ri=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ii={},hr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Dn=function(I){return I[I.Short=0]="Short",I[I.ShortGMT=1]="ShortGMT",I[I.Long=2]="Long",I[I.Extended=3]="Extended",I}(Dn||{}),en=function(I){return I[I.FullYear=0]="FullYear",I[I.Month=1]="Month",I[I.Date=2]="Date",I[I.Hours=3]="Hours",I[I.Minutes=4]="Minutes",I[I.Seconds=5]="Seconds",I[I.FractionalSeconds=6]="FractionalSeconds",I[I.Day=7]="Day",I}(en||{}),qt=function(I){return I[I.DayPeriods=0]="DayPeriods",I[I.Days=1]="Days",I[I.Months=2]="Months",I[I.Eras=3]="Eras",I}(qt||{});function Ar(I,F,b,O){let Y=function B(I){if($(I))return I;if("number"==typeof I&&!isNaN(I))return new Date(I);if("string"==typeof I){if(I=I.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(I)){const[Y,Ae=1,Ue=1]=I.split("-").map(At=>+At);return Bt(Y,Ae-1,Ue)}const b=parseFloat(I);if(!isNaN(I-b))return new Date(b);let O;if(O=I.match(ri))return function z(I){const F=new Date(0);let b=0,O=0;const Y=I[8]?F.setUTCFullYear:F.setFullYear,Ae=I[8]?F.setUTCHours:F.setHours;I[9]&&(b=Number(I[9]+I[10]),O=Number(I[9]+I[11])),Y.call(F,Number(I[1]),Number(I[2])-1,Number(I[3]));const Ue=Number(I[4]||0)-b,At=Number(I[5]||0)-O,cr=Number(I[6]||0),Un=Math.floor(1e3*parseFloat("0."+(I[7]||0)));return Ae.call(F,Ue,At,cr,Un),F}(O)}const F=new Date(I);if(!$(F))throw new Error(`Unable to convert "${I}" into a date`);return F}(I);F=pr(b,F)||F;let At,Ue=[];for(;F;){if(At=hr.exec(F),!At){Ue.push(F);break}{Ue=Ue.concat(At.slice(1));const qn=Ue.pop();if(!qn)break;F=qn}}let cr=Y.getTimezoneOffset();O&&(cr=Wi(O,cr),Y=function re(I,F,b){const O=b?-1:1,Y=I.getTimezoneOffset();return function Es(I,F){return(I=new Date(I.getTime())).setMinutes(I.getMinutes()+F),I}(I,O*(Wi(F,Y)-Y))}(Y,O,!0));let Un="";return Ue.forEach(qn=>{const Gt=function Rs(I){if(Gi[I])return Gi[I];let F;switch(I){case"G":case"GG":case"GGG":F=$t(qt.Eras,ge.Abbreviated);break;case"GGGG":F=$t(qt.Eras,ge.Wide);break;case"GGGGG":F=$t(qt.Eras,ge.Narrow);break;case"y":F=vn(en.FullYear,1,0,!1,!0);break;case"yy":F=vn(en.FullYear,2,0,!0,!0);break;case"yyy":F=vn(en.FullYear,3,0,!1,!0);break;case"yyyy":F=vn(en.FullYear,4,0,!1,!0);break;case"Y":F=gr(1);break;case"YY":F=gr(2,!0);break;case"YYY":F=gr(3);break;case"YYYY":F=gr(4);break;case"M":case"L":F=vn(en.Month,1,1);break;case"MM":case"LL":F=vn(en.Month,2,1);break;case"MMM":F=$t(qt.Months,ge.Abbreviated);break;case"MMMM":F=$t(qt.Months,ge.Wide);break;case"MMMMM":F=$t(qt.Months,ge.Narrow);break;case"LLL":F=$t(qt.Months,ge.Abbreviated,ke.Standalone);break;case"LLLL":F=$t(qt.Months,ge.Wide,ke.Standalone);break;case"LLLLL":F=$t(qt.Months,ge.Narrow,ke.Standalone);break;case"w":F=vi(1);break;case"ww":F=vi(2);break;case"W":F=vi(1,!0);break;case"d":F=vn(en.Date,1);break;case"dd":F=vn(en.Date,2);break;case"c":case"cc":F=vn(en.Day,1);break;case"ccc":F=$t(qt.Days,ge.Abbreviated,ke.Standalone);break;case"cccc":F=$t(qt.Days,ge.Wide,ke.Standalone);break;case"ccccc":F=$t(qt.Days,ge.Narrow,ke.Standalone);break;case"cccccc":F=$t(qt.Days,ge.Short,ke.Standalone);break;case"E":case"EE":case"EEE":F=$t(qt.Days,ge.Abbreviated);break;case"EEEE":F=$t(qt.Days,ge.Wide);break;case"EEEEE":F=$t(qt.Days,ge.Narrow);break;case"EEEEEE":F=$t(qt.Days,ge.Short);break;case"a":case"aa":case"aaa":F=$t(qt.DayPeriods,ge.Abbreviated);break;case"aaaa":F=$t(qt.DayPeriods,ge.Wide);break;case"aaaaa":F=$t(qt.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":F=$t(qt.DayPeriods,ge.Abbreviated,ke.Standalone,!0);break;case"bbbb":F=$t(qt.DayPeriods,ge.Wide,ke.Standalone,!0);break;case"bbbbb":F=$t(qt.DayPeriods,ge.Narrow,ke.Standalone,!0);break;case"B":case"BB":case"BBB":F=$t(qt.DayPeriods,ge.Abbreviated,ke.Format,!0);break;case"BBBB":F=$t(qt.DayPeriods,ge.Wide,ke.Format,!0);break;case"BBBBB":F=$t(qt.DayPeriods,ge.Narrow,ke.Format,!0);break;case"h":F=vn(en.Hours,1,-12);break;case"hh":F=vn(en.Hours,2,-12);break;case"H":F=vn(en.Hours,1);break;case"HH":F=vn(en.Hours,2);break;case"m":F=vn(en.Minutes,1);break;case"mm":F=vn(en.Minutes,2);break;case"s":F=vn(en.Seconds,1);break;case"ss":F=vn(en.Seconds,2);break;case"S":F=vn(en.FractionalSeconds,1);break;case"SS":F=vn(en.FractionalSeconds,2);break;case"SSS":F=vn(en.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":F=cn(Dn.Short);break;case"ZZZZZ":F=cn(Dn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":F=cn(Dn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":F=cn(Dn.Long);break;default:return null}return Gi[I]=F,F}(qn);Un+=Gt?Gt(Y,b,cr):"''"===qn?"'":qn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Un}function Bt(I,F,b){const O=new Date(0);return O.setFullYear(I,F,b),O.setHours(0,0,0),O}function pr(I,F){const b=function ze(I){return(0,m.cg1)(I)[m.wAp.LocaleId]}(I);if(ii[b]=ii[b]||{},ii[b][F])return ii[b][F];let O="";switch(F){case"shortDate":O=ye(I,_e.Short);break;case"mediumDate":O=ye(I,_e.Medium);break;case"longDate":O=ye(I,_e.Long);break;case"fullDate":O=ye(I,_e.Full);break;case"shortTime":O=xe(I,_e.Short);break;case"mediumTime":O=xe(I,_e.Medium);break;case"longTime":O=xe(I,_e.Long);break;case"fullTime":O=xe(I,_e.Full);break;case"short":const Y=pr(I,"shortTime"),Ae=pr(I,"shortDate");O=un(we(I,_e.Short),[Y,Ae]);break;case"medium":const Ue=pr(I,"mediumTime"),At=pr(I,"mediumDate");O=un(we(I,_e.Medium),[Ue,At]);break;case"long":const cr=pr(I,"longTime"),Un=pr(I,"longDate");O=un(we(I,_e.Long),[cr,Un]);break;case"full":const qn=pr(I,"fullTime"),Gt=pr(I,"fullDate");O=un(we(I,_e.Full),[qn,Gt])}return O&&(ii[b][F]=O),O}function un(I,F){return F&&(I=I.replace(/\{([^}]+)}/g,function(b,O){return null!=F&&O in F?F[O]:b})),I}function dn(I,F,b="-",O,Y){let Ae="";(I<0||Y&&I<=0)&&(Y?I=1-I:(I=-I,Ae=b));let Ue=String(I);for(;Ue.length<F;)Ue="0"+Ue;return O&&(Ue=Ue.slice(Ue.length-F)),Ae+Ue}function vn(I,F,b=0,O=!1,Y=!1){return function(Ae,Ue){let At=function An(I,F){switch(I){case en.FullYear:return F.getFullYear();case en.Month:return F.getMonth();case en.Date:return F.getDate();case en.Hours:return F.getHours();case en.Minutes:return F.getMinutes();case en.Seconds:return F.getSeconds();case en.FractionalSeconds:return F.getMilliseconds();case en.Day:return F.getDay();default:throw new Error(`Unknown DateType value "${I}".`)}}(I,Ae);if((b>0||At>-b)&&(At+=b),I===en.Hours)0===At&&-12===b&&(At=12);else if(I===en.FractionalSeconds)return function Vi(I,F){return dn(I,3).substring(0,F)}(At,F);const cr=Be(Ue,st.MinusSign);return dn(At,F,cr,O,Y)}}function $t(I,F,b=ke.Format,O=!1){return function(Y,Ae){return function Pi(I,F,b,O,Y,Ae){switch(b){case qt.Months:return function qe(I,F,b){const O=(0,m.cg1)(I),Ae=Lt([O[m.wAp.MonthsFormat],O[m.wAp.MonthsStandalone]],F);return Lt(Ae,b)}(F,Y,O)[I.getMonth()];case qt.Days:return function Wt(I,F,b){const O=(0,m.cg1)(I),Ae=Lt([O[m.wAp.DaysFormat],O[m.wAp.DaysStandalone]],F);return Lt(Ae,b)}(F,Y,O)[I.getDay()];case qt.DayPeriods:const Ue=I.getHours(),At=I.getMinutes();if(Ae){const Un=function xn(I){const F=(0,m.cg1)(I);return vt(F),(F[m.wAp.ExtraData][2]||[]).map(O=>"string"==typeof O?wr(O):[wr(O[0]),wr(O[1])])}(F),qn=function jn(I,F,b){const O=(0,m.cg1)(I);vt(O);const Ae=Lt([O[m.wAp.ExtraData][0],O[m.wAp.ExtraData][1]],F)||[];return Lt(Ae,b)||[]}(F,Y,O),Gt=Un.findIndex(fr=>{if(Array.isArray(fr)){const[Kn,yr]=fr,qs=Ue>=Kn.hours&&At>=Kn.minutes,Ge=Ue<yr.hours||Ue===yr.hours&&At<yr.minutes;if(Kn.hours<yr.hours){if(qs&&Ge)return!0}else if(qs||Ge)return!0}else if(fr.hours===Ue&&fr.minutes===At)return!0;return!1});if(-1!==Gt)return qn[Gt]}return function bt(I,F,b){const O=(0,m.cg1)(I),Ae=Lt([O[m.wAp.DayPeriodsFormat],O[m.wAp.DayPeriodsStandalone]],F);return Lt(Ae,b)}(F,Y,O)[Ue<12?0:1];case qt.Eras:return function Ct(I,F){return Lt((0,m.cg1)(I)[m.wAp.Eras],F)}(F,O)[I.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${b}`)}}(Y,Ae,I,F,b,O)}}function cn(I){return function(F,b,O){const Y=-1*O,Ae=Be(b,st.MinusSign),Ue=Y>0?Math.floor(Y/60):Math.ceil(Y/60);switch(I){case Dn.Short:return(Y>=0?"+":"")+dn(Ue,2,Ae)+dn(Math.abs(Y%60),2,Ae);case Dn.ShortGMT:return"GMT"+(Y>=0?"+":"")+dn(Ue,1,Ae);case Dn.Long:return"GMT"+(Y>=0?"+":"")+dn(Ue,2,Ae)+":"+dn(Math.abs(Y%60),2,Ae);case Dn.Extended:return 0===O?"Z":(Y>=0?"+":"")+dn(Ue,2,Ae)+":"+dn(Math.abs(Y%60),2,Ae);default:throw new Error(`Unknown zone width "${I}"`)}}}const $n=0,fn=4;function ir(I){return Bt(I.getFullYear(),I.getMonth(),I.getDate()+(fn-I.getDay()))}function vi(I,F=!1){return function(b,O){let Y;if(F){const Ae=new Date(b.getFullYear(),b.getMonth(),1).getDay()-1,Ue=b.getDate();Y=1+Math.floor((Ue+Ae)/7)}else{const Ae=ir(b),Ue=function Kt(I){const F=Bt(I,$n,1).getDay();return Bt(I,0,1+(F<=fn?fn:fn+7)-F)}(Ae.getFullYear()),At=Ae.getTime()-Ue.getTime();Y=1+Math.round(At/6048e5)}return dn(Y,I,Be(O,st.MinusSign))}}function gr(I,F=!1){return function(b,O){return dn(ir(b).getFullYear(),I,Be(O,st.MinusSign),F)}}const Gi={};function Wi(I,F){I=I.replace(/:/g,"");const b=Date.parse("Jan 01, 1970 00:00:00 "+I)/6e4;return isNaN(b)?F:b}function $(I){return I instanceof Date&&!isNaN(I.valueOf())}const H=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function zt(I){const F=parseInt(I);if(isNaN(F))throw new Error("Invalid integer literal when parsing "+I);return F}function si(I,F){F=encodeURIComponent(F);for(const b of I.split(";")){const O=b.indexOf("="),[Y,Ae]=-1==O?[b,""]:[b.slice(0,O),b.slice(O+1)];if(Y.trim()===F)return decodeURIComponent(Ae)}return null}const Ps=/\s+/,Sn=[];let Ms=(()=>{class I{constructor(b,O,Y,Ae){this._iterableDiffers=b,this._keyValueDiffers=O,this._ngEl=Y,this._renderer=Ae,this.initialClasses=Sn,this.stateMap=new Map}set klass(b){this.initialClasses=null!=b?b.trim().split(Ps):Sn}set ngClass(b){this.rawClass="string"==typeof b?b.trim().split(Ps):b}ngDoCheck(){for(const O of this.initialClasses)this._updateState(O,!0);const b=this.rawClass;if(Array.isArray(b)||b instanceof Set)for(const O of b)this._updateState(O,!0);else if(null!=b)for(const O of Object.keys(b))this._updateState(O,!!b[O]);this._applyStateDiff()}_updateState(b,O){const Y=this.stateMap.get(b);void 0!==Y?(Y.enabled!==O&&(Y.changed=!0,Y.enabled=O),Y.touched=!0):this.stateMap.set(b,{enabled:O,changed:!0,touched:!0})}_applyStateDiff(){for(const b of this.stateMap){const O=b[0],Y=b[1];Y.changed?(this._toggleClass(O,Y.enabled),Y.changed=!1):Y.touched||(Y.enabled&&this._toggleClass(O,!1),this.stateMap.delete(O)),Y.touched=!1}}_toggleClass(b,O){(b=b.trim()).length>0&&b.split(Ps).forEach(Y=>{O?this._renderer.addClass(this._ngEl.nativeElement,Y):this._renderer.removeClass(this._ngEl.nativeElement,Y)})}static#e=this.\u0275fac=function(O){return new(O||I)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))};static#t=this.\u0275dir=m.lG2({type:I,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return I})();class Bs{constructor(F,b,O,Y){this.$implicit=F,this.ngForOf=b,this.index=O,this.count=Y}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let es=(()=>{class I{set ngForOf(b){this._ngForOf=b,this._ngForOfDirty=!0}set ngForTrackBy(b){this._trackByFn=b}get ngForTrackBy(){return this._trackByFn}constructor(b,O,Y){this._viewContainer=b,this._template=O,this._differs=Y,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(b){b&&(this._template=b)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const b=this._ngForOf;!this._differ&&b&&(this._differ=this._differs.find(b).create(this.ngForTrackBy))}if(this._differ){const b=this._differ.diff(this._ngForOf);b&&this._applyChanges(b)}}_applyChanges(b){const O=this._viewContainer;b.forEachOperation((Y,Ae,Ue)=>{if(null==Y.previousIndex)O.createEmbeddedView(this._template,new Bs(Y.item,this._ngForOf,-1,-1),null===Ue?void 0:Ue);else if(null==Ue)O.remove(null===Ae?void 0:Ae);else if(null!==Ae){const At=O.get(Ae);O.move(At,Ue),Mi(At,Y)}});for(let Y=0,Ae=O.length;Y<Ae;Y++){const At=O.get(Y).context;At.index=Y,At.count=Ae,At.ngForOf=this._ngForOf}b.forEachIdentityChange(Y=>{Mi(O.get(Y.currentIndex),Y)})}static ngTemplateContextGuard(b,O){return!0}static#e=this.\u0275fac=function(O){return new(O||I)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))};static#t=this.\u0275dir=m.lG2({type:I,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return I})();function Mi(I,F){I.context.$implicit=F.item}let xi=(()=>{class I{constructor(b,O){this._viewContainer=b,this._context=new ai,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=O}set ngIf(b){this._context.$implicit=this._context.ngIf=b,this._updateView()}set ngIfThen(b){gt("ngIfThen",b),this._thenTemplateRef=b,this._thenViewRef=null,this._updateView()}set ngIfElse(b){gt("ngIfElse",b),this._elseTemplateRef=b,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(b,O){return!0}static#e=this.\u0275fac=function(O){return new(O||I)(m.Y36(m.s_b),m.Y36(m.Rgc))};static#t=this.\u0275dir=m.lG2({type:I,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return I})();class ai{constructor(){this.$implicit=null,this.ngIf=null}}function gt(I,F){if(F&&!F.createEmbeddedView)throw new Error(`${I} must be a TemplateRef, but received '${(0,m.AaK)(F)}'.`)}function mi(I,F){return new m.vHH(2100,!1)}const Os=new m.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ei=new m.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Wr=(()=>{class I{constructor(b,O,Y){this.locale=b,this.defaultTimezone=O,this.defaultOptions=Y}transform(b,O,Y,Ae){if(null==b||""===b||b!=b)return null;try{return Ar(b,O??this.defaultOptions?.dateFormat??"mediumDate",Ae||this.locale,Y??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ue){throw mi()}}static#e=this.\u0275fac=function(O){return new(O||I)(m.Y36(m.soG,16),m.Y36(Os,24),m.Y36(Ei,24))};static#t=this.\u0275pipe=m.Yjl({name:"date",type:I,pure:!0,standalone:!0})}return I})(),is=(()=>{class I{constructor(b){this._locale=b}transform(b,O,Y){if(!function fo(I){return!(null==I||""===I||I!=I)}(b))return null;Y=Y||this._locale;try{return function Oe(I,F,b){return function xr(I,F,b,O,Y,Ae,Ue=!1){let At="",cr=!1;if(isFinite(I)){let Un=function Rt(I){let O,Y,Ae,Ue,At,F=Math.abs(I)+"",b=0;for((Y=F.indexOf("."))>-1&&(F=F.replace(".","")),(Ae=F.search(/e/i))>0?(Y<0&&(Y=Ae),Y+=+F.slice(Ae+1),F=F.substring(0,Ae)):Y<0&&(Y=F.length),Ae=0;"0"===F.charAt(Ae);Ae++);if(Ae===(At=F.length))O=[0],Y=1;else{for(At--;"0"===F.charAt(At);)At--;for(Y-=Ae,O=[],Ue=0;Ae<=At;Ae++,Ue++)O[Ue]=Number(F.charAt(Ae))}return Y>22&&(O=O.splice(0,21),b=Y-1,Y=1),{digits:O,exponent:b,integerLen:Y}}(I);Ue&&(Un=function Xe(I){if(0===I.digits[0])return I;const F=I.digits.length-I.integerLen;return I.exponent?I.exponent+=2:(0===F?I.digits.push(0,0):1===F&&I.digits.push(0),I.integerLen+=2),I}(Un));let qn=F.minInt,Gt=F.minFrac,fr=F.maxFrac;if(Ae){const Tr=Ae.match(H);if(null===Tr)throw new Error(`${Ae} is not a valid digit info`);const ws=Tr[1],Dt=Tr[3],kt=Tr[5];null!=ws&&(qn=zt(ws)),null!=Dt&&(Gt=zt(Dt)),null!=kt?fr=zt(kt):null!=Dt&&Gt>fr&&(fr=Gt)}!function nn(I,F,b){if(F>b)throw new Error(`The minimum number of digits after fraction (${F}) is higher than the maximum (${b}).`);let O=I.digits,Y=O.length-I.integerLen;const Ae=Math.min(Math.max(F,Y),b);let Ue=Ae+I.integerLen,At=O[Ue];if(Ue>0){O.splice(Math.max(I.integerLen,Ue));for(let Gt=Ue;Gt<O.length;Gt++)O[Gt]=0}else{Y=Math.max(0,Y),I.integerLen=1,O.length=Math.max(1,Ue=Ae+1),O[0]=0;for(let Gt=1;Gt<Ue;Gt++)O[Gt]=0}if(At>=5)if(Ue-1<0){for(let Gt=0;Gt>Ue;Gt--)O.unshift(0),I.integerLen++;O.unshift(1),I.integerLen++}else O[Ue-1]++;for(;Y<Math.max(0,Ae);Y++)O.push(0);let cr=0!==Ae;const Un=F+I.integerLen,qn=O.reduceRight(function(Gt,fr,Kn,yr){return yr[Kn]=(fr+=Gt)<10?fr:fr-10,cr&&(0===yr[Kn]&&Kn>=Un?yr.pop():cr=!1),fr>=10?1:0},0);qn&&(O.unshift(qn),I.integerLen++)}(Un,Gt,fr);let Kn=Un.digits,yr=Un.integerLen;const qs=Un.exponent;let Ge=[];for(cr=Kn.every(Tr=>!Tr);yr<qn;yr++)Kn.unshift(0);for(;yr<0;yr++)Kn.unshift(0);yr>0?Ge=Kn.splice(yr,Kn.length):(Ge=Kn,Kn=[0]);const zn=[];for(Kn.length>=F.lgSize&&zn.unshift(Kn.splice(-F.lgSize,Kn.length).join(""));Kn.length>F.gSize;)zn.unshift(Kn.splice(-F.gSize,Kn.length).join(""));Kn.length&&zn.unshift(Kn.join("")),At=zn.join(Be(b,O)),Ge.length&&(At+=Be(b,Y)+Ge.join("")),qs&&(At+=Be(b,st.Exponential)+"+"+qs)}else At=Be(b,st.Infinity);return At=I<0&&!cr?F.negPre+At+F.negSuf:F.posPre+At+F.posSuf,At}(I,function ve(I,F="-"){const b={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},O=I.split(";"),Y=O[0],Ae=O[1],Ue=-1!==Y.indexOf(".")?Y.split("."):[Y.substring(0,Y.lastIndexOf("0")+1),Y.substring(Y.lastIndexOf("0")+1)],At=Ue[0],cr=Ue[1]||"";b.posPre=At.substring(0,At.indexOf("#"));for(let qn=0;qn<cr.length;qn++){const Gt=cr.charAt(qn);"0"===Gt?b.minFrac=b.maxFrac=qn+1:"#"===Gt?b.maxFrac=qn+1:b.posSuf+=Gt}const Un=At.split(",");if(b.gSize=Un[1]?Un[1].length:0,b.lgSize=Un[2]||Un[1]?(Un[2]||Un[1]).length:0,Ae){const qn=Y.length-b.posPre.length-b.posSuf.length,Gt=Ae.indexOf("#");b.negPre=Ae.substring(0,Gt).replace(/'/g,""),b.negSuf=Ae.slice(Gt+qn).replace(/'/g,"")}else b.negPre=F+b.posPre,b.negSuf=b.posSuf;return b}(function Ze(I,F){return(0,m.cg1)(I)[m.wAp.NumberFormats][F]}(F,Ve.Decimal),Be(F,st.MinusSign)),F,st.Group,st.Decimal,b)}(function Qn(I){if("string"==typeof I&&!isNaN(Number(I)-parseFloat(I)))return Number(I);if("number"!=typeof I)throw new Error(`${I} is not a number`);return I}(b),Y,O)}catch(Ae){throw mi()}}static#e=this.\u0275fac=function(O){return new(O||I)(m.Y36(m.soG,16))};static#t=this.\u0275pipe=m.Yjl({name:"number",type:I,pure:!0,standalone:!0})}return I})();let mt=(()=>{class I{transform(b,O,Y){if(null==b)return null;if(!this.supports(b))throw mi();return b.slice(O,Y)}supports(b){return"string"==typeof b||Array.isArray(b)}static#e=this.\u0275fac=function(O){return new(O||I)};static#t=this.\u0275pipe=m.Yjl({name:"slice",type:I,pure:!1,standalone:!0})}return I})(),On=(()=>{class I{static#e=this.\u0275fac=function(O){return new(O||I)};static#t=this.\u0275mod=m.oAB({type:I});static#n=this.\u0275inj=m.cJS({})}return I})();const Nr="browser",Ui="server";function ur(I){return I===Nr}function Ii(I){return I===Ui}let ie=(()=>{class I{static#e=this.\u0275prov=(0,m.Yz7)({token:I,providedIn:"root",factory:()=>new fe((0,m.LFG)(J),window)})}return I})();class fe{constructor(F,b){this.document=F,this.window=b,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const b=function Re(I,F){const b=I.getElementById(F)||I.getElementsByName(F)[0];if(b)return b;if("function"==typeof I.createTreeWalker&&I.body&&"function"==typeof I.body.attachShadow){const O=I.createTreeWalker(I.body,NodeFilter.SHOW_ELEMENT);let Y=O.currentNode;for(;Y;){const Ae=Y.shadowRoot;if(Ae){const Ue=Ae.getElementById(F)||Ae.querySelector(`[name="${F}"]`);if(Ue)return Ue}Y=O.nextNode()}}return null}(this.document,F);b&&(this.scrollToElement(b),b.focus())}setHistoryScrollRestoration(F){this.supportsScrolling()&&(this.window.history.scrollRestoration=F)}scrollToElement(F){const b=F.getBoundingClientRect(),O=b.left+this.window.pageXOffset,Y=b.top+this.window.pageYOffset,Ae=this.offset();this.window.scrollTo(O-Ae[0],Y-Ae[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Nt{}const Vn=I=>I.src,Ot=new m.OlP("ImageLoader",{providedIn:"root",factory:()=>Vn}),Ca=new m.OlP("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let ou=(()=>{class I{constructor(){this.preloadedImages=(0,m.f3M)(Ca),this.document=(0,m.f3M)(J)}createPreloadLinkTag(b,O,Y,Ae){if(this.preloadedImages.has(O))return;this.preloadedImages.add(O);const Ue=b.createElement("link");b.setAttribute(Ue,"as","image"),b.setAttribute(Ue,"href",O),b.setAttribute(Ue,"rel","preload"),b.setAttribute(Ue,"fetchpriority","high"),Ae&&b.setAttribute(Ue,"imageSizes",Ae),Y&&b.setAttribute(Ue,"imageSrcset",Y),b.appendChild(this.document.head,Ue)}static#e=this.\u0275fac=function(O){return new(O||I)};static#t=this.\u0275prov=m.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();const Sa=/^((\s*\d+w\s*(,|$)){1,})$/,us=[1,2],ci={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},au=new m.OlP("ImageConfig",{providedIn:"root",factory:()=>ci});let cs=(()=>{class I{constructor(){this.imageLoader=(0,m.f3M)(Ot),this.config=function ba(I){let F={};return I.breakpoints&&(F.breakpoints=I.breakpoints.sort((b,O)=>b-O)),Object.assign({},ci,I,F)}((0,m.f3M)(au)),this.renderer=(0,m.f3M)(m.Qsj),this.imgElement=(0,m.f3M)(m.SBq).nativeElement,this.injector=(0,m.f3M)(m.zs3),this.isServer=Ii((0,m.f3M)(m.Lbi)),this.preloadLinkCreator=(0,m.f3M)(ou),this.lcpObserver=null,this._renderedSrc=null,this.priority=!1,this.disableOptimizedSrcset=!1,this.fill=!1}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const b=this.updateSrcAndSrcset();this.sizes&&this.setHostAttribute("sizes",this.sizes),this.isServer&&this.priority&&this.preloadLinkCreator.createPreloadLinkTag(this.renderer,this.getRewrittenSrc(),b,this.sizes)}ngOnChanges(b){if(b.ngSrc&&!b.ngSrc.isFirstChange()){const O=this._renderedSrc;this.updateSrcAndSrcset(!0);const Y=this._renderedSrc;null!==this.lcpObserver&&O&&Y&&O!==Y&&this.injector.get(m.R0b).runOutsideAngular(()=>{this.lcpObserver?.updateImage(O,Y)})}}callImageLoader(b){let O=b;return this.loaderParams&&(O.loaderParams=this.loaderParams),this.imageLoader(O)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const b=Sa.test(this.ngSrcset);return this.ngSrcset.split(",").filter(Y=>""!==Y).map(Y=>{Y=Y.trim();const Ae=b?parseFloat(Y):parseFloat(Y)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:Ae})} ${Y}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:b}=this.config;let O=b;return"100vw"===this.sizes?.trim()&&(O=b.filter(Ae=>Ae>=640)),O.map(Ae=>`${this.callImageLoader({src:this.ngSrc,width:Ae})} ${Ae}w`).join(", ")}updateSrcAndSrcset(b=!1){b&&(this._renderedSrc=null);const O=this.getRewrittenSrc();let Y;return this.setHostAttribute("src",O),this.ngSrcset?Y=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(Y=this.getAutomaticSrcset()),Y&&this.setHostAttribute("srcset",Y),Y}getFixedSrcset(){return us.map(O=>`${this.callImageLoader({src:this.ngSrc,width:this.width*O})} ${O}x`).join(", ")}shouldGenerateAutomaticSrcset(){return!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Vn&&!(this.width>1920||this.height>1080)}ngOnDestroy(){}setHostAttribute(b,O){this.renderer.setAttribute(this.imgElement,b,O)}static#e=this.\u0275fac=function(O){return new(O||I)};static#t=this.\u0275dir=m.lG2({type:I,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(O,Y){2&O&&m.Udp("position",Y.fill?"absolute":null)("width",Y.fill?"100%":null)("height",Y.fill?"100%":null)("inset",Y.fill?"0px":null)},inputs:{ngSrc:["ngSrc","ngSrc",Ma],ngSrcset:"ngSrcset",sizes:"sizes",width:["width","width",m.Cb_],height:["height","height",m.Cb_],loading:"loading",priority:["priority","priority",m.VuI],loaderParams:"loaderParams",disableOptimizedSrcset:["disableOptimizedSrcset","disableOptimizedSrcset",m.VuI],fill:["fill","fill",m.VuI],src:"src",srcset:"srcset"},standalone:!0,features:[m.Xq5,m.TTD]})}return I})();function Ma(I){return"string"==typeof I?I:(0,m.z3N)(I)}},8926:(It,Ce,M)=>{M.d(Ce,{QbO:()=>Mm,tb:()=>lE,AFp:()=>_l,ip1:()=>s0,hGG:()=>LC,z2F:()=>kf,Ojb:()=>Iy,sBO:()=>EC,Sil:()=>UA,EJc:()=>LA,Xts:()=>pl,SBq:()=>Sl,lqb:()=>Ho,qLn:()=>ma,vpe:()=>Wo,XFs:()=>Bt,OlP:()=>cn,zs3:()=>Go,ZZ4:()=>mE,aQg:()=>_E,soG:()=>H_,YKP:()=>rT,h0i:()=>Kd,PXZ:()=>dC,R0b:()=>Hi,FiY:()=>Ys,Lbi:()=>wd,g9A:()=>Mh,Qsj:()=>Up,FYo:()=>Vm,JOm:()=>il,q3G:()=>vc,tp0:()=>h,Rgc:()=>$g,dDg:()=>aC,eoX:()=>f0,q4F:()=>Bh,GfV:()=>Um,s_b:()=>j_,ifc:()=>Hn,VuI:()=>qC,MMx:()=>sT,Lck:()=>ww,eFA:()=>_0,Gpc:()=>jt,f3M:()=>Cn,X6Q:()=>vC,$WT:()=>Fn,Cb_:()=>KC,_c5:()=>kC,qFp:()=>ZC,rg0:()=>Un,c2e:()=>o0,zSh:()=>Sp,HDt:()=>a0,wAp:()=>Mf,vHH:()=>ke,lri:()=>d0,rWj:()=>h0,JZr:()=>Ye,EiD:()=>vp,mCW:()=>pa,qzn:()=>fa,JVY:()=>hm,pB0:()=>Dh,eBb:()=>Ss,L6k:()=>fm,LAX:()=>pm,cg1:()=>Fv,kuF:()=>ge,kL8:()=>bI,dqk:()=>An,Z0I:()=>Ri,eJc:()=>eE,QGY:()=>b_,F4k:()=>bv,RDi:()=>dy,AaK:()=>tt,z3N:()=>Zs,qOj:()=>Eg,Xq5:()=>Dg,TTD:()=>qs,_Bn:()=>nT,jDz:()=>oT,xp6:()=>ng,uIk:()=>Bl,Tol:()=>eI,ekj:()=>Nv,Suo:()=>FT,Xpm:()=>ns,lG2:()=>Wr,Yz7:()=>Lt,cJS:()=>Er,oAB:()=>zs,Yjl:()=>Ni,Y36:()=>xl,_UZ:()=>Pg,BQk:()=>Mg,ynx:()=>Sf,qZA:()=>Af,TgZ:()=>wf,EpF:()=>Sv,n5z:()=>jo,LFG:()=>hn,$8M:()=>Jc,$Z:()=>tf,NdJ:()=>bf,CRH:()=>VT,kcU:()=>Gc,O4$:()=>zc,oxw:()=>xg,ALo:()=>IT,xi3:()=>TT,Dn7:()=>DT,Q6J:()=>C_,s9C:()=>Hl,MGl:()=>i,DdM:()=>fT,VKq:()=>pT,WLB:()=>gT,iGM:()=>kT,MAs:()=>Iv,KtG:()=>gs,evT:()=>Zp,Jf7:()=>Kh,CHM:()=>Ju,LSH:()=>Fi,P3R:()=>Tm,Jzz:()=>mI,Udp:()=>xv,YNc:()=>_v,_uU:()=>aI,Oqu:()=>kv,hij:()=>O_,AsE:()=>Lv,Gf:()=>LT});var m=M(8645),q=M(7394),ae=M(5592),ee=M(3019),oe=M(5619),J=M(2096),ue=M(3020),ne=M(4664),Ee=M(2737),G=M(9360),K=M(8251);function Me(t,r){return t===r}function me(t){for(let r in t)if(t[r]===me)return r;throw Error("Could not find renamed property on target object.")}function He(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function tt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(tt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function ft(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const it=me({__forward_ref__:me});function jt(t){return t.__forward_ref__=jt,t.toString=function(){return tt(this())},t}function We(t){return Le(t)?t():t}function Le(t){return"function"==typeof t&&t.hasOwnProperty(it)&&t.__forward_ref__===jt}function Fe(t){return t&&!!t.\u0275providers}const Ye="https://g.co/ng/security#xss";class ke extends Error{constructor(r,s){super(ge(r,s)),this.code=r}}function ge(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}function _e(t){return"string"==typeof t?t:null==t?"":String(t)}function Wt(t,r){throw new ke(-201,!1)}function Vt(t,r){null==t&&function vt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Lt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Er(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fr(t){return ri(t,Dn)||ri(t,qt)}function Ri(t){return null!==Fr(t)}function ri(t,r){return t.hasOwnProperty(r)?t[r]:null}function hr(t){return t&&(t.hasOwnProperty(en)||t.hasOwnProperty(Ar))?t[en]:null}const Dn=me({\u0275prov:me}),en=me({\u0275inj:me}),qt=me({ngInjectableDef:me}),Ar=me({ngInjectorDef:me});var Bt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Bt||{});let pr;function dn(t){const r=pr;return pr=t,r}function Vi(t,r,s){const a=Fr(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Bt.Optional?null:void 0!==r?r:void Wt(tt(t))}const An=globalThis;class cn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Lt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const B={},z="__NG_DI_FLAG__",$="ngTempTokenPath",he=/\n/gm,ht="__source";let Ht;function on(t){const r=Ht;return Ht=t,r}function Yt(t,r=Bt.Default){if(void 0===Ht)throw new ke(-203,!1);return null===Ht?Vi(t,void 0,r):Ht.get(t,r&Bt.Optional?null:void 0,r)}function hn(t,r=Bt.Default){return(function un(){return pr}()||Yt)(We(t),r)}function Cn(t,r=Bt.Default){return hn(t,qi(r))}function qi(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Oe(t){const r=[];for(let s=0;s<t.length;s++){const a=We(t[s]);if(Array.isArray(a)){if(0===a.length)throw new ke(900,!1);let c,d=Bt.Default;for(let g=0;g<a.length;g++){const v=a[g],A=Xe(v);"number"==typeof A?-1===A?c=v.token:d|=A:c=v}r.push(hn(c,d))}else r.push(hn(a))}return r}function ve(t,r){return t[z]=r,t.prototype[z]=r,t}function Xe(t){return t[z]}function zt(t){return{toString:t}.toString()}var pn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(pn||{}),Hn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Hn||{});const Nn={},mn=[],si=me({\u0275cmp:me}),Ps=me({\u0275dir:me}),Sn=me({\u0275pipe:me}),Ms=me({\u0275mod:me}),bn=me({\u0275fac:me}),oi=me({__NG_ELEMENT_ID__:me}),Bs=me({__NG_ENV_ID__:me});function es(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function Mi(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],v=s[a++];t.setAttribute(r,g,v,d)}else{const d=c,g=s[++a];xi(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function Ir(t){return 3===t||4===t||6===t}function xi(t){return 64===t.charCodeAt(0)}function ai(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||gt(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function gt(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const v=t[d++];if("number"==typeof v){if(v===r){g=-1;break}if(v>r){g=d-1;break}}}for(;d<t.length;){const v=t[d];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const et="ng-template";function xt(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==es(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Pt(t){return 4===t.type&&t.value!==et}function Vr(t,r,s){return r===(4!==t.type||s?t.value:et)}function Gr(t,r,s){let a=4;const c=t.attrs||[],d=function xs(t){for(let r=0;r<t.length;r++)if(Ir(t[r]))return r;return t.length}(c);let g=!1;for(let v=0;v<r.length;v++){const A=r[v];if("number"!=typeof A){if(!g)if(4&a){if(a=2|1&a,""!==A&&!Vr(t,A,s)||""===A&&1===r.length){if(mr(a))return!1;g=!0}}else{const P=8&a?A:r[++v];if(8&a&&null!==t.attrs){if(!xt(t.attrs,P,s)){if(mr(a))return!1;g=!0}continue}const Q=js(8&a?"class":A,c,Pt(t),s);if(-1===Q){if(mr(a))return!1;g=!0;continue}if(""!==P){let de;de=Q>d?"":c[Q+1].toLowerCase();const Ie=8&a?de:null;if(Ie&&-1!==es(Ie,P,0)||2&a&&P!==de){if(mr(a))return!1;g=!0}}}}else{if(!g&&!mr(a)&&!mr(A))return!1;if(g&&mr(A))continue;g=!1,a=A|1&a}}return mr(a)||g}function mr(t){return 0==(1&t)}function js(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let v=r[++c];for(;"string"==typeof v;)v=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function mi(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function $s(t,r,s=!1){for(let a=0;a<r.length;a++)if(Gr(t,r[a],s))return!0;return!1}function Hs(t,r){return t?":not("+r.trim()+")":r}function Qs(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const v=t[++s];c+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!mr(g)&&(r+=Hs(d,c),c=""),a=g,d=d||!mr(a);s++}return""!==c&&(r+=Hs(d,c)),r}function ns(t){return zt(()=>{const r=rs(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Hn.Emulated,styles:t.styles||mn,_:null,schemas:t.schemas||null,tView:null,id:""};is(s);const a=t.dependencies;return s.directiveDefs=to(a,!1),s.pipeDefs=to(a,!0),s.id=function fo(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function Xs(t){return _n(t)||Cr(t)}function eo(t){return null!==t}function zs(t){return zt(()=>({type:t.type,bootstrap:t.bootstrap||mn,declarations:t.declarations||mn,imports:t.imports||mn,exports:t.exports||mn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ei(t,r){if(null==t)return Nn;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function Wr(t){return zt(()=>{const r=rs(t);return is(r),r})}function Ni(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function _n(t){return t[si]||null}function Cr(t){return t[Ps]||null}function _r(t){return t[Sn]||null}function Fn(t){const r=_n(t)||Cr(t)||_r(t);return null!==r&&r.standalone}function Qr(t,r){const s=t[Ms]||null;if(!s&&!0===r)throw new Error(`Type ${tt(t)} does not have '\u0275mod' property.`);return s}function rs(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Nn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||mn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ei(t.inputs,r),outputs:Ei(t.outputs)}}function is(t){t.features?.forEach(r=>r(t))}function to(t,r){if(!t)return null;const s=r?_r:Xs;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(eo)}const Qn=0,mt=1,Zt=2,On=3,Nr=4,Ui=5,Or=6,Is=7,ur=8,Ii=9,L=10,N=11,te=12,ie=13,fe=14,Re=15,lt=16,Nt=17,yt=18,ln=19,Rn=20,Mn=21,Jn=22,Xn=23,Vn=24,Ot=25,ui=1,Jr=2,er=7,kn=9,br=11;function Rr(t){return Array.isArray(t)&&"object"==typeof t[ui]}function Xr(t){return Array.isArray(t)&&!0===t[ui]}function po(t){return 0!=(4&t.flags)}function ss(t){return t.componentOffset>-1}function os(t){return 1==(1&t.flags)}function yi(t){return!!t.template}function as(t){return 0!=(512&t[Zt])}function Ki(t,r){return t.hasOwnProperty(bn)?t[bn]:null}let kr=null,Ti=!1;function ci(t){const r=kr;return kr=t,r}const au={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ba(t){if(!ko(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ls(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Wn(t){t.dirty=!0,function Bi(t){if(void 0===t.liveConsumerNode)return;const r=Ti;Ti=!0;try{for(const s of t.liveConsumerNode)s.dirty||Wn(s)}finally{Ti=r}}(t),t.consumerMarkedDirty?.(t)}function uu(t){return t&&(t.nextProducerIndex=0),ci(t)}function ks(t,r){if(ci(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ko(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Gs(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ls(t){Ws(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(ba(s),a!==s.version))return!0}return!1}function Ku(t){if(Ws(t),ko(t))for(let r=0;r<t.producerNode.length;r++)Gs(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Gs(t,r){if(function Ds(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ws(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Gs(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Ws(c),c.producerIndexOfThis[a]=r}}function ko(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ws(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Yo=null;function Un(t){const r=ci(null);try{return t()}finally{ci(r)}}const Gt=()=>{},fr=(()=>({...au,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Gt}))();class yr{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function qs(){return Ge}function Ge(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tr),zn}function zn(){const t=Dt(this),r=t?.current;if(r){const s=t.previous;if(s===Nn)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Tr(t,r,s,a){const c=this.declaredInputs[s],d=Dt(t)||function kt(t,r){return t[ws]=r}(t,{previous:Nn,current:null}),g=d.current||(d.current={}),v=d.previous,A=v[c];g[c]=new yr(A&&A.currentValue,r,v===Nn),t[a]=r}qs.ngInherit=!0;const ws="__ngSimpleChanges__";function Dt(t){return t[ws]||null}const Pe=function(t,r,s){},Qe="svg";function dr(t){for(;Array.isArray(t);)t=t[Qn];return t}function xa(t,r){return dr(r[t])}function Yi(t,r){return dr(r[t.index])}function jc(t,r){return t.data[r]}function so(t,r){return t[r]}function Oi(t,r){const s=r[t];return Rr(s)?s:s[Qn]}function Qt(t,r){return null==r?null:t[r]}function Zo(t){t[Nt]=0}function Kl(t){1024&t[Zt]||(t[Zt]|=1024,Ut(t,1))}function Br(t){1024&t[Zt]&&(t[Zt]&=-1025,Ut(t,-1))}function Ut(t,r){let s=t[On];if(null===s)return;s[Ui]+=r;let a=s;for(s=s[On];null!==s&&(1===r&&1===a[Ui]||-1===r&&0===a[Ui]);)s[Ui]+=r,a=s,s=s[On]}const an={lFrame:lu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Yl(){return an.bindingsEnabled}function Ke(){return an.lFrame.lView}function Pn(){return an.lFrame.tView}function Ju(t){return an.lFrame.contextLView=t,t[ur]}function gs(t){return an.lFrame.contextLView=null,t}function qr(){let t=De();for(;null!==t&&64===t.type;)t=t.parent;return t}function De(){return an.lFrame.currentTNode}function ei(t,r){const s=an.lFrame;s.currentTNode=t,s.isParent=r}function cu(){return an.lFrame.isParent}function Qo(){an.lFrame.isParent=!1}function ji(){const t=an.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function _(){return an.lFrame.bindingIndex++}function w(t){const r=an.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function X(t,r){const s=an.lFrame;s.bindingIndex=s.bindingRootIndex=t,Se(r)}function Se(t){an.lFrame.currentDirectiveIndex=t}function Jt(){return an.lFrame.currentQueryIndex}function or(t){an.lFrame.currentQueryIndex=t}function Ln(t){const r=t[mt];return 2===r.type?r.declTNode:1===r.type?t[Or]:null}function Fs(t,r,s){if(s&Bt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&Bt.Host||(c=Ln(d),null===c||(d=d[fe],10&c.type))););if(null===c)return!1;r=c,t=d}const a=an.lFrame=Jo();return a.currentTNode=r,a.lView=t,!0}function Uo(t){const r=Jo(),s=t[mt];an.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Jo(){const t=an.lFrame,r=null===t?null:t.child;return null===r?lu(t):r}function lu(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Eo(){const t=an.lFrame;return an.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Hc=Eo;function Qd(){const t=Eo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function As(){return an.lFrame.selectedIndex}function Bo(t){an.lFrame.selectedIndex=t}function li(){const t=an.lFrame;return jc(t.tView,t.selectedIndex)}function zc(){an.lFrame.currentNamespace=Qe}function Gc(){!function Jl(){an.lFrame.currentNamespace=null}()}let Uf=!0;function Na(){return Uf}function Xo(t){Uf=t}function ea(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:A,ngAfterViewChecked:P,ngOnDestroy:U}=d;g&&(t.contentHooks??=[]).push(-s,g),v&&((t.contentHooks??=[]).push(s,v),(t.contentCheckHooks??=[]).push(s,v)),A&&(t.viewHooks??=[]).push(-s,A),P&&((t.viewHooks??=[]).push(s,P),(t.viewCheckHooks??=[]).push(s,P)),null!=U&&(t.destroyHooks??=[]).push(s,U)}}function pi(t,r,s){tc(t,r,3,s)}function ec(t,r,s,a){(3&t[Zt])===s&&tc(t,r,s,a)}function Io(t,r){let s=t[Zt];(3&s)===r&&(s&=8191,s+=1,t[Zt]=s)}function tc(t,r,s,a){const d=a??-1,g=r.length-1;let v=0;for(let A=void 0!==a?65535&t[Nt]:0;A<g;A++)if("number"==typeof r[A+1]){if(v=r[A],null!=a&&v>=a)break}else r[A]<0&&(t[Nt]+=65536),(v<d||-1==d)&&(Wc(t,s,r,A),t[Nt]=(4294901760&t[Nt])+A+2),A++}function Dr(t,r){Pe(4,t,r);const s=ci(null);try{r.call(t)}finally{ci(s),Pe(5,t,r)}}function Wc(t,r,s,a){const c=s[a]<0,d=s[a+1],v=t[c?-s[a]:s[a]];c?t[Zt]>>13<t[Nt]>>16&&(3&t[Zt])===r&&(t[Zt]+=8192,Dr(v,d)):Dr(v,d)}const di=-1;class tr{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Kr(t){return t!==di}function _s(t){return 32767&t}function To(t,r){let s=function du(t){return t>>16}(t),a=r;for(;s>0;)a=a[fe],s--;return a}let hu=!0;function Kc(t){const r=hu;return hu=t,r}const Do=255,Yc=5;let ta=0;const gi={};function ao(t,r){const s=pu(t,r);if(-1!==s)return s;const a=r[mt];a.firstCreatePass&&(t.injectorIndex=r.length,fu(a.data,t),fu(r,null),fu(a.blueprint,null));const c=gu(t,r),d=t.injectorIndex;if(Kr(c)){const g=_s(c),v=To(c,r),A=v[mt].data;for(let P=0;P<8;P++)r[d+P]=v[g+P]|A[g+P]}return r[d+8]=c,d}function fu(t,r){t.push(0,0,0,0,0,0,0,0,r)}function pu(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function gu(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Iu(c),null===a)return di;if(s++,c=c[fe],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return di}function na(t,r,s){!function Zc(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(oi)&&(a=s[oi]),null==a&&(a=s[oi]=ta++);const c=a&Do;r.data[t+(c>>Yc)]|=1<<c}(t,r,s)}function _u(t,r,s){if(s&Bt.Optional||void 0!==t)return t;Wt()}function Va(t,r,s,a){if(s&Bt.Optional&&void 0===a&&(a=null),!(s&(Bt.Self|Bt.Host))){const c=t[Ii],d=dn(void 0);try{return c?c.get(r,a,s&Bt.Optional):Vi(r,a,s&Bt.Optional)}finally{dn(d)}}return _u(a,0,s)}function nc(t,r,s,a=Bt.Default,c){if(null!==t){if(2048&r[Zt]&&!(a&Bt.Self)){const g=function eh(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[Zt]&&!(512&g[Zt]);){const v=Qc(d,g,s,a|Bt.Self,gi);if(v!==gi)return v;let A=d.parent;if(!A){const P=g[Rn];if(P){const U=P.get(s,gi,a);if(U!==gi)return U}A=Iu(g),g=g[fe]}d=A}return c}(t,r,s,a,gi);if(g!==gi)return g}const d=Qc(t,r,s,a,gi);if(d!==gi)return d}return Va(r,s,a,c)}function Qc(t,r,s,a,c){const d=function Xd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(oi)?t[oi]:void 0;return"number"==typeof r?r>=0?r&Do:jr:r}(s);if("function"==typeof d){if(!Fs(r,t,a))return a&Bt.Host?_u(c,0,a):Va(r,s,a,c);try{let g;if(g=d(a),null!=g||a&Bt.Optional)return g;Wt()}finally{Hc()}}else if("number"==typeof d){let g=null,v=pu(t,r),A=di,P=a&Bt.Host?r[Re][Or]:null;for((-1===v||a&Bt.SkipSelf)&&(A=-1===v?gu(t,r):r[v+8],A!==di&&td(a,!1)?(g=r[mt],v=_s(A),r=To(A,r)):v=-1);-1!==v;){const U=r[mt];if(ed(d,v,U.data)){const Q=yu(v,r,s,g,a,P);if(Q!==gi)return Q}A=r[v+8],A!==di&&td(a,r[mt].data[v+8]===P)&&ed(d,v,r)?(g=U,v=_s(A),r=To(A,r)):v=-1}}return c}function yu(t,r,s,a,c,d){const g=r[mt],v=g.data[t+8],U=ra(v,g,s,null==a?ss(v)&&hu:a!=g&&0!=(3&v.type),c&Bt.Host&&d===v);return null!==U?ia(r,g,U,v):gi}function ra(t,r,s,a,c){const d=t.providerIndexes,g=r.data,v=1048575&d,A=t.directiveStart,U=d>>20,de=c?v+U:t.directiveEnd;for(let Ie=a?v:v+U;Ie<de;Ie++){const $e=g[Ie];if(Ie<A&&s===$e||Ie>=A&&$e.type===s)return Ie}if(c){const Ie=g[A];if(Ie&&yi(Ie)&&Ie.type===s)return A}return null}function ia(t,r,s,a){let c=t[s];const d=r.data;if(function Bf(t){return t instanceof tr}(c)){const g=c;g.resolving&&function nt(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new ke(-200,`Circular dependency in DI detected for ${t}${s}`)}(function st(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_e(t)}(d[s]));const v=Kc(g.canSeeViewProviders);g.resolving=!0;const P=g.injectImpl?dn(g.injectImpl):null;Fs(t,a,Bt.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Oa(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=Ge(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==P&&dn(P),Kc(v),g.resolving=!1,Hc()}}return c}function ed(t,r,s){return!!(s[r+(t>>Yc)]&1<<t)}function td(t,r){return!(t&Bt.Self||t&Bt.Host&&r)}class Qi{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return nc(this._tNode,this._lView,r,qi(a),s)}}function jr(){return new Qi(qr(),Ke())}function jo(t){return zt(()=>{const r=t.prototype.constructor,s=r[bn]||Eu(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[bn]||Eu(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Eu(t){return Le(t)?()=>{const r=Eu(We(t));return r&&r()}:Ki(t)}function Iu(t){const r=t[mt],s=r.type;return 2===s?r.declTNode:1===s?t[Or]:null}function Jc(t){return function mu(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(Ir(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(qr(),t)}const In="__parameters__";function sa(t,r,s){return zt(()=>{const a=function rc(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return v.annotation=g,v;function v(A,P,U){const Q=A.hasOwnProperty(In)?A[In]:Object.defineProperty(A,In,{value:[]})[In];for(;Q.length<=U;)Q.push(null);return(Q[U]=Q[U]||[]).push(g),A}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function uo(t,r){t.forEach(s=>Array.isArray(s)?uo(s,r):r(s))}function $a(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Ha(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Vs(t,r,s){let a=Us(t,r);return a>=0?t[1|a]=s:(a=~a,function Wf(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Xc(t,r){const s=Us(t,r);if(s>=0)return t[1|s]}function Us(t,r){return function Du(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const Ys=ve(sa("Optional"),8),h=ve(sa("SkipSelf"),4);function nl(t){return 128==(128&t.flags)}var il=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(il||{});const Q_=/^>|^->|<!--|-->|--!>|<!-$/g,J_=/(<|>)/g,Li="\u200b$1\u200b";const ch=new Map;let Zg=0;const pc="__ngContext__";function $i(t,r){Rr(r)?(t[pc]=r[ln],function Qg(t){ch.set(t[ln],t)}(r)):t[pc]=r}let Su;function dh(t,r){return Su(t,r)}function ti(t){const r=t[On];return Xr(r)?r[On]:r}function al(t){return hh(t[te])}function $o(t){return hh(t[Nr])}function hh(t){for(;null!==t&&!Xr(t);)t=t[Nr];return t}function gc(t,r,s,a,c){if(null!=a){let d,g=!1;Xr(a)?d=a:Rr(a)&&(g=!0,a=a[Qn]);const v=dr(a);0===t&&null!==s?null==c?ap(r,s,v):Ao(r,s,v,c||null,!0):1===t&&null!==s?Ao(r,s,v,c||null,!0):2===t?function pd(t,r,s){const a=dd(t,r);a&&function am(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,v,g):3===t&&r.destroyNode(v),null!=d&&function md(t,r,s,a,c){const d=s[er];d!==dr(s)&&gc(r,t,a,d,c);for(let v=br;v<s.length;v++){const A=s[v];cl(A[mt],A,t,r,a,d)}}(r,t,d,s,c)}}function fh(t,r){return t.createComment(function ar(t){return t.replace(Q_,r=>r.replace(J_,Li))}(r))}function ud(t,r,s){return t.createElement(r,s)}function ph(t,r){const s=t[kn],a=s.indexOf(r);Br(r),s.splice(a,1)}function ld(t,r){if(t.length<=br)return;const s=br+r,a=t[s];if(a){const c=a[lt];null!==c&&c!==t&&ph(c,a),r>0&&(t[s-1][Nr]=a[Nr]);const d=Ha(t,br+r);!function ry(t,r){cl(t,r,r[N],2,null,null),r[Qn]=null,r[Or]=null}(a[mt],a);const g=d[yt];null!==g&&g.detachView(d[mt]),a[On]=null,a[Nr]=null,a[Zt]&=-129}return a}function sp(t,r){if(!(256&r[Zt])){const s=r[N];r[Xn]&&Ku(r[Xn]),r[Vn]&&Ku(r[Vn]),s.destroyNode&&cl(t,r,s,3,null,null),function ip(t){let r=t[te];if(!r)return gh(t[mt],t);for(;r;){let s=null;if(Rr(r))s=r[te];else{const a=r[br];a&&(s=a)}if(!s){for(;r&&!r[Nr]&&r!==t;)Rr(r)&&gh(r[mt],r),r=r[On];null===r&&(r=t),Rr(r)&&gh(r[mt],r),s=r&&r[Nr]}r=s}}(r)}}function gh(t,r){if(!(256&r[Zt])){r[Zt]&=-129,r[Zt]|=256,function ay(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof tr)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const v=c[d[g]],A=d[g+1];Pe(4,v,A);try{A.call(v)}finally{Pe(5,v,A)}}else{Pe(4,c,d);try{d.call(c)}finally{Pe(5,c,d)}}}}}(t,r),function oy(t,r){const s=t.cleanup,a=r[Is];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[Is]=null);const c=r[Mn];if(null!==c){r[Mn]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[mt].type&&r[N].destroy();const s=r[lt];if(null!==s&&Xr(r[On])){s!==r[On]&&ph(s,r);const a=r[yt];null!==a&&a.detachView(t)}!function Xg(t){ch.delete(t[ln])}(r)}}function op(t,r,s){return function Ka(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Qn];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Hn.None||d===Hn.Emulated)return null}return Yi(a,s)}}(t,r.parent,s)}function Ao(t,r,s,a,c){t.insertBefore(r,s,a,c)}function ap(t,r,s){t.appendChild(r,s)}function om(t,r,s,a,c){null!==a?Ao(t,r,s,a,c):ap(t,r,s)}function dd(t,r){return t.parentNode(r)}let Ya,_h,yh,ll,Pu=function hd(t,r,s){return 40&t.type?Yi(t,s):null};function xu(t,r,s,a){const c=op(t,a,r),d=r[N],v=function up(t,r,s){return Pu(t,r,s)}(a.parent||r[Or],a,r);if(null!=c)if(Array.isArray(s))for(let A=0;A<s.length;A++)om(d,c,s[A],v,!1);else om(d,c,s,v,!1);void 0!==Ya&&Ya(d,a,r,s,c)}function ul(t,r){if(null!==r){const s=r.type;if(3&s)return Yi(r,t);if(4&s)return fd(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return ul(t,a);{const c=t[r.index];return Xr(c)?fd(-1,c):dr(c)}}if(32&s)return dh(r,t)()||dr(t[r.index]);{const a=mh(t,r);return null!==a?Array.isArray(a)?a[0]:ul(ti(t[Re]),a):ul(t,r.next)}}return null}function mh(t,r){return null!==r?t[Re][Or].projection[r.projection]:null}function fd(t,r){const s=br+t+1;if(s<r.length){const a=r[s],c=a[mt].firstChild;if(null!==c)return ul(a,c)}return r[er]}function lp(t,r,s,a,c,d,g){for(;null!=s;){const v=a[s.index],A=s.type;if(g&&0===r&&(v&&$i(dr(v),a),s.flags|=2),32!=(32&s.flags))if(8&A)lp(t,r,s.child,a,c,d,!1),gc(r,t,c,v,d);else if(32&A){const P=dh(s,a);let U;for(;U=P();)gc(r,t,c,U,d);gc(r,t,c,v,d)}else 16&A?gd(t,r,a,s,c,d):gc(r,t,c,v,d);s=g?s.projectionNext:s.next}}function cl(t,r,s,a,c,d){lp(s,a,t.firstChild,r,c,d,!1)}function gd(t,r,s,a,c,d){const g=s[Re],A=g[Or].projection[a.projection];if(Array.isArray(A))for(let P=0;P<A.length;P++)gc(r,t,c,A[P],d);else{let P=A;const U=g[On];nl(a)&&(P.flags|=128),lp(t,r,P,U,c,d,!0)}}function dp(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function cm(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&Mi(t,r,a),null!==c&&dp(t,r,c),null!==d&&function cy(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function da(t){return function hp(){if(void 0===_h&&(_h=null,An.trustedTypes))try{_h=An.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _h}()?.createHTML(t)||t}function dy(t){yh=t}function fp(t){return function vh(){if(void 0===ll&&(ll=null,An.trustedTypes))try{ll=An.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ll}()?.createScriptURL(t)||t}class ha{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ye})`}}class hy extends ha{getTypeName(){return"HTML"}}class pp extends ha{getTypeName(){return"Style"}}class Th extends ha{getTypeName(){return"Script"}}class fy extends ha{getTypeName(){return"URL"}}class dm extends ha{getTypeName(){return"ResourceURL"}}function Zs(t){return t instanceof ha?t.changingThisBreaksApplicationSecurity:t}function fa(t,r){const s=function dl(t){return t instanceof ha&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Ye})`)}return s===r}function hm(t){return new hy(t)}function fm(t){return new pp(t)}function Ss(t){return new Th(t)}function pm(t){return new fy(t)}function Dh(t){return new dm(t)}class gm{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(da(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class ku{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=da(r),s}}const mm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pa(t){return(t=String(t)).match(mm)?t:"unsafe:"+t}function Za(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function ga(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const gp=Za("area,br,col,hr,img,wbr"),Qa=Za("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mp=Za("rp,rt"),wh=ga(gp,ga(Qa,Za("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ga(mp,Za("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ga(mp,Qa)),_p=Za("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_m=ga(_p,Za("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Za("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ym=Za("script,style,template");class gy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!wh.hasOwnProperty(s))return this.sanitizedSomething=!0,!ym.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),g=d.name,v=g.toLowerCase();if(!_m.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let A=d.value;_p[v]&&(A=pa(A)),this.buf.push(" ",g,'="',fl(A),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();wh.hasOwnProperty(s)&&!gp.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(fl(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const vm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yc=/([^\#-~ |!])/g;function fl(t){return t.replace(/&/g,"&amp;").replace(vm,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(yc,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yd;function vp(t,r){let s=null;try{yd=yd||function _d(t){const r=new ku(t);return function hl(){try{return!!(new window.DOMParser).parseFromString(da(""),"text/html")}catch{return!1}}()?new gm(r):r}(t);let a=r?String(r):"";s=yd.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=s.innerHTML,s=yd.getInertBodyElement(a)}while(a!==d);return da((new gy).sanitizeChildren(Ep(s)||s))}finally{if(s){const a=Ep(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Ep(t){return"content"in t&&function Em(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vc||{});function Fi(t){const r=vd();return r?r.sanitize(vc.URL,t)||"":fa(t,"URL")?Zs(t):pa(_e(t))}function Im(t){const r=vd();if(r)return fp(r.sanitize(vc.RESOURCE_URL,t)||"");if(fa(t,"ResourceURL"))return fp(Zs(t));throw new ke(904,!1)}function Tm(t,r,s){return function Tp(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Im:Fi}(r,s)(t)}function vd(){const t=Ke();return t&&t[L].sanitizer}const pl=new cn("ENVIRONMENT_INITIALIZER"),Ah=new cn("INJECTOR",-1),Ch=new cn("INJECTOR_DEF_TYPES");class Ec{get(r,s=B){if(s===B){const a=new Error(`NullInjectorError: No provider for ${tt(r)}!`);throw a.name="NullInjectorError",a}return s}}function Ap(...t){return{\u0275providers:Sh(0,t),\u0275fromNgModule:!0}}function Sh(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return uo(r,g=>{const v=g;Id(v,d,[],a)&&(c||=[],c.push(v))}),void 0!==c&&Dm(c,d),s}function Dm(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];bh(c,d=>{r(d,a)})}}function Id(t,r,s,a){if(!(t=We(t)))return!1;let c=null,d=hr(t);const g=!d&&_n(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const A=t.ngModule;if(d=hr(A),!d)return!1;c=A}const v=a.has(c);if(g){if(v)return!1;if(a.add(c),g.dependencies){const A="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const P of A)Id(P,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let P;a.add(c);try{uo(d.imports,U=>{Id(U,r,s,a)&&(P||=[],P.push(U))})}finally{}void 0!==P&&Dm(P,r)}if(!v){const P=Ki(c)||(()=>new c);r({provide:c,useFactory:P,deps:mn},c),r({provide:Ch,useValue:c,multi:!0},c),r({provide:pl,useValue:()=>hn(c),multi:!0},c)}const A=d.providers;if(null!=A&&!v){const P=t;bh(A,U=>{r(U,P)})}}}return c!==t&&void 0!==t.providers}function bh(t,r){for(let s of t)Fe(s)&&(s=s.\u0275providers),Array.isArray(s)?bh(s,r):r(s)}const wm=me({provide:String,useValue:me});function Td(t){return null!==t&&"object"==typeof t&&wm in t}function Ic(t){return"function"==typeof t}const Sp=new cn("Set Injector scope."),Ja={},gl={};let Dd;function Tc(){return void 0===Dd&&(Dd=new Ec),Dd}class Ho{}class Dc extends Ho{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ml(r,g=>this.processProvider(g)),this.records.set(Ah,Lu(void 0,this)),c.has("environment")&&this.records.set(Ho,Lu(void 0,this));const d=this.records.get(Sp);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Ch.multi,mn,Bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=on(this),a=dn(void 0);try{return r()}finally{on(s),dn(a)}}get(r,s=B,a=Bt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Bs))return r[Bs](this);a=qi(a);const d=on(this),g=dn(void 0);try{if(!(a&Bt.SkipSelf)){let A=this.records.get(r);if(void 0===A){const P=function Rp(t){return"function"==typeof t||"object"==typeof t&&t instanceof cn}(r)&&Fr(r);A=P&&this.injectableDefInScope(P)?Lu(Rh(r),Ja):null,this.records.set(r,A)}if(null!=A)return this.hydrate(r,A)}return(a&Bt.Self?Tc():this.parent).get(r,s=a&Bt.Optional&&s===B?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[$]=v[$]||[]).unshift(tt(r)),d)throw v;return function Rt(t,r,s,a){const c=t[$];throw r[ht]&&c.unshift(r[ht]),t.message=function nn(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=tt(r);if(Array.isArray(r))c=r.map(tt).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let v=r[g];d.push(g+":"+("string"==typeof v?JSON.stringify(v):tt(v)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(he,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[$]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{dn(g),on(d)}}resolveInjectorInitializers(){const r=on(this),s=dn(void 0);try{const c=this.get(pl.multi,mn,Bt.Self);for(const d of c)d()}finally{on(r),dn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(tt(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processProvider(r){let s=Ic(r=We(r))?r:We(r&&r.provide);const a=function bp(t){return Td(t)?Lu(void 0,t.useValue):Lu(Sm(t),Ja)}(r);if(Ic(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Lu(void 0,Ja,!0),c.factory=()=>Oe(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Ja&&(s.value=gl,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Rm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=We(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Rh(t){const r=Fr(t),s=null!==r?r.factory:Ki(t);if(null!==s)return s;if(t instanceof cn)throw new ke(204,!1);if(t instanceof Function)return function Ey(t){const r=t.length;if(r>0)throw function oa(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new ke(204,!1);const s=function ii(t){return t&&(t[Dn]||t[qt])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new ke(204,!1)}function Sm(t,r,s){let a;if(Ic(t)){const c=We(t);return Ki(c)||Rh(c)}if(Td(t))a=()=>We(t.useValue);else if(function Cp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Oe(t.deps||[]));else if(function Am(t){return!(!t||!t.useExisting)}(t))a=()=>hn(We(t.useExisting));else{const c=We(t&&(t.useClass||t.provide));if(!function bm(t){return!!t.deps}(t))return Ki(c)||Rh(c);a=()=>new c(...Oe(t.deps))}return a}function Lu(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function ml(t,r){for(const s of t)Array.isArray(s)?ml(s,r):s&&Fe(s)?ml(s.\u0275providers,r):r(s)}const _l=new cn("AppId",{providedIn:"root",factory:()=>Ph}),Ph="ng",Mh=new cn("Platform Initializer"),wd=new cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Mm=new cn("AnimationModuleType"),Iy=new cn("CSP nonce",{providedIn:"root",factory:()=>function Ou(){if(void 0!==yh)return yh;if(typeof document<"u")return document;throw new ke(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Oh=(t,r,s)=>null;function Il(t,r,s=!1){return Oh(t,r,s)}class wy{}class Fh{}class wl{resolveComponentFactory(r){throw function Vh(t){const r=Error(`No component factory found for ${tt(t)}.`);return r.ngComponent=t,r}(r)}}let Al=(()=>{class t{static#e=this.NULL=new wl}return t})();function Cy(){return Cl(qr(),Ke())}function Cl(t,r){return new Sl(Yi(t,r))}let Sl=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=Cy}return t})();function Fm(t){return t instanceof Sl?t.nativeElement:t}class Vm{}let Up=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Sy(){const t=Ke(),s=Oi(qr().index,t);return(Rr(s)?s:t)[N]}()}return t})(),Bp=(()=>{class t{static#e=this.\u0275prov=Lt({token:t,providedIn:"root",factory:()=>null})}return t})();class Um{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Bh=new Um("16.2.12"),jp={};function bc(t,r=null,s=null,a){const c=jm(t,r,s,a);return c.resolveInjectorInitializers(),c}function jm(t,r=null,s=null,a,c=new Set){const d=[s||mn,Ap(t)];return a=a||("object"==typeof t?void 0:tt(t)),new Dc(d,r||Tc(),a||null,c)}let Go=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=B;static#t=this.NULL=new Ec;static create(s,a){if(Array.isArray(s))return bc({name:""},a,s,"");{const c=s.name??"";return bc({name:c},s.parent,s.providers,c)}}static#n=this.\u0275prov=Lt({token:t,providedIn:"any",factory:()=>hn(Ah)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function bd(t){return t.ngOriginalError}class ma{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&bd(r);for(;s&&bd(s);)s=bd(s);return s||null}}function Wp(t){return r=>{setTimeout(t,void 0,r)}}const Wo=class Gp extends m.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const A=r;c=A.next?.bind(A),d=A.error?.bind(A),g=A.complete?.bind(A)}this.__isAsync&&(d=Wp(d),c&&(c=Wp(c)),g&&(g=Wp(g)));const v=super.subscribe({next:c,error:d,complete:g});return r instanceof q.w0&&r.add(v),v}};function zm(...t){}class Hi{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wo(!1),this.onMicrotaskEmpty=new Wo(!1),this.onStable=new Wo(!1),this.onError=new Wo(!1),typeof Zone>"u")throw new ke(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Gm(){const t="function"==typeof An.requestAnimationFrame;let r=An[t?"requestAnimationFrame":"setTimeout"],s=An[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function xy(t){const r=()=>{!function My(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(An,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Kp(t),t.isCheckStableRunning=!0,qp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Kp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,v)=>{if(function Ny(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return s.invokeTask(c,d,g,v);try{return Gh(t),s.invokeTask(c,d,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),Wh(t)}},onInvoke:(s,a,c,d,g,v,A)=>{try{return Gh(t),s.invoke(c,d,g,v,A)}finally{t.shouldCoalesceRunChangeDetection&&r(),Wh(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,Kp(t),qp(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hi.isInAngularZone())throw new ke(909,!1)}static assertNotInAngularZone(){if(Hi.isInAngularZone())throw new ke(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,Wm,zm,zm);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Wm={};function qp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Kp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Gh(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Wh(t){t._nesting--,qp(t)}class Yp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wo,this.onMicrotaskEmpty=new Wo,this.onStable=new Wo,this.onError=new Wo}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const qm=new cn("",{providedIn:"root",factory:qh});function qh(){const t=Cn(Hi);let r=!0;const s=new ae.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new ae.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Hi.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{Hi.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});return(0,ee.T)(s,a.pipe((0,ue.B)()))}function Kh(t){return t.ownerDocument.defaultView}function Zp(t){return t.ownerDocument}function Xa(t){return t instanceof Function?t():t}let Jp=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Lt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Pc(t){for(;t;){t[Zt]|=64;const r=ti(t);if(as(t)&&!r)return t;t=r}return null}const Mc=new cn("",{providedIn:"root",factory:()=>!1});let Ml=null;function Xm(t,r){return t[r]??tg()}function Xh(t,r){const s=tg();s.producerNode?.length&&(t[r]=Ml,s.lView=t,Ml=ef())}const Fy={...au,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Pc(t.lView)},lView:null};function ef(){return Object.create(Fy)}function tg(){return Ml??=ef(),Ml}const Tn={};function ng(t){e_(Pn(),Ke(),As()+t,!1)}function e_(t,r,s,a){if(!a)if(3==(3&r[Zt])){const d=t.preOrderCheckHooks;null!==d&&pi(r,d,s)}else{const d=t.preOrderHooks;null!==d&&ec(r,d,0,s)}Bo(s)}function xl(t,r=Bt.Default){const s=Ke();return null===s?hn(t,r):nc(qr(),s,We(t),r)}function tf(){throw new Error("invalid")}function Nl(t,r,s,a,c,d,g,v,A,P,U){const Q=r.blueprint.slice();return Q[Qn]=c,Q[Zt]=140|a,(null!==P||t&&2048&t[Zt])&&(Q[Zt]|=2048),Zo(Q),Q[On]=Q[fe]=t,Q[ur]=s,Q[L]=g||t&&t[L],Q[N]=v||t&&t[N],Q[Ii]=A||t&&t[Ii]||null,Q[Or]=d,Q[ln]=function lh(){return Zg++}(),Q[Jn]=U,Q[Rn]=P,Q[Re]=2==r.type?t[Re]:Q,Q}function Uu(t,r,s,a,c){let d=t.data[r];if(null===d)d=function Rd(t,r,s,a,c){const d=De(),g=cu(),A=t.data[r]=function sg(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,v=0;return function ps(){return null!==an.skipHydrationRootTNode}()&&(v|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=A),null!==d&&(g?null==d.child&&null!==A.parent&&(d.child=A):null===d.next&&(d.next=A,A.prev=d)),A}(t,r,s,a,c),function R(){return an.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function Ls(){const t=an.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return ei(d,!0),d}function Pd(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Md(t,r,s,a,c){const d=Xm(r,Xn),g=As(),v=2&a;try{Bo(-1),v&&r.length>Ot&&e_(t,r,Ot,!1),Pe(v?2:0,c);const P=v?d:null,U=uu(P);try{null!==P&&(P.dirty=!1),s(a,c)}finally{ks(P,U)}}finally{v&&null===r[Xn]&&Xh(r,Xn),Bo(g),Pe(v?3:1,c)}}function rg(t,r,s){if(po(r)){const a=ci(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,s[g],g)}}finally{ci(a)}}}function nf(t,r,s){Yl()&&(function lg(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;ss(s)&&function qy(t,r,s){const a=Yi(r,t),c=xc(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const v=Nd(t,Nl(t,c,null,g,a,r,null,t[L].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=v}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||ao(s,r),$i(a,r);const g=s.initialInputs;for(let v=c;v<d;v++){const A=t.data[v],P=ia(r,t,v,s);$i(P,r),null!==g&&Ky(0,v-c,P,A,0,g),yi(A)&&(Oi(s.index,r)[ur]=ia(r,t,v,s))}}(t,r,s,Yi(s,r)),64==(64&s.flags)&&i_(t,r,s))}function rf(t,r,s=Yi){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],v=-1===g?s(r,t):t[g];t[c++]=v}}}function xc(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=sf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function sf(t,r,s,a,c,d,g,v,A,P,U){const Q=Ot+a,de=Q+c,Ie=function af(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Tn);return s}(Q,de),$e="function"==typeof P?P():P;return Ie[mt]={type:t,blueprint:Ie,template:s,queries:null,viewQuery:v,declTNode:r,data:Ie.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:A,consts:$e,incompleteFirstPass:!1,ssrId:U}}let t_=t=>null;function cf(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?og(s,r,c,d):a.hasOwnProperty(c)&&og(s,r,a[c],d)}return s}function og(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function bs(t,r,s,a,c,d,g,v){const A=Yi(r,s);let U,P=r.inputs;!v&&null!=P&&(U=P[a])?(mg(t,s,U,a,c),ss(r)&&function cg(t,r){const s=Oi(r,t);16&s[Zt]||(s[Zt]|=64)}(s,r.index)):3&r.type&&(a=function ug(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(A,a,c))}function lf(t,r,s,a){if(Yl()){const c=null===a?null:{"":-1},d=function Hy(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if($s(r,g.selectors,!1))if(a||(a=[]),yi(g))if(null!==g.findHostDirectiveDefs){const v=[];c=c||new Map,g.findHostDirectiveDefs(g,v,c),a.unshift(...v,g),hf(t,r,v.length)}else a.unshift(g),hf(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,v;null===d?g=v=null:[g,v]=d,null!==g&&df(t,r,s,g,c,v),c&&function zy(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new ke(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=ai(s.mergedAttrs,s.attrs)}function df(t,r,s,a,c,d){for(let P=0;P<a.length;P++)na(ao(s,r),t,a[P].type);!function Gy(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let P=0;P<a.length;P++){const U=a[P];U.providersResolver&&U.providersResolver(U)}let g=!1,v=!1,A=Pd(t,r,a.length,null);for(let P=0;P<a.length;P++){const U=a[P];s.mergedAttrs=ai(s.mergedAttrs,U.hostAttrs),Wy(t,s,r,A,U),s_(A,U,c),null!==U.contentQueries&&(s.flags|=4),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(s.flags|=64);const Q=U.type.prototype;!g&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!v&&(Q.ngOnChanges||Q.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),v=!0),A++}!function ag(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,v=[];let A=null,P=null;for(let U=r.directiveStart;U<c;U++){const Q=d[U],de=s?s.get(Q):null,$e=de?de.outputs:null;A=cf(Q.inputs,U,A,de?de.inputs:null),P=cf(Q.outputs,U,P,$e);const ct=null===A||null===g||Pt(r)?null:o_(A,U,g);v.push(ct)}null!==A&&(A.hasOwnProperty("class")&&(r.flags|=8),A.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=v,r.inputs=A,r.outputs=P}(t,s,d)}function i_(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function Te(){return an.lFrame.currentDirectiveIndex}();try{Bo(d);for(let v=a;v<c;v++){const A=t.data[v],P=r[v];Se(v),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&$y(A,P)}}finally{Bo(-1),Se(g)}}function $y(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function hf(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function s_(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;yi(r)&&(s[""]=t)}}function Wy(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=Ki(c.type)),g=new tr(d,yi(c),xl);t.blueprint[a]=g,s[a]=g,function r_(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~r.index;(function Ol(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=v&&g.push(v),g.push(s,a,d)}}(t,r,a,Pd(t,s,c.hostVars,Tn),c)}function ya(t,r,s,a,c,d){const g=Yi(t,r);!function dg(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const v=null==g?_e(d):g(d,a||"",c);t.setAttribute(r,c,v,s)}}(r[N],g,d,t.value,s,a,c)}function Ky(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let v=0;v<g.length;)hg(a,s,g[v++],g[v++],g[v++])}function hg(t,r,s,a,c){const d=ci(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{ci(d)}}function o_(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let v=0;v<g.length;v+=2)if(g[v]===r){a.push(d,g[v+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function ff(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function a_(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];or(s[a]),g.contentQueries(2,r[d],d)}}}function Nd(t,r){return t[te]?t[ie][Nr]=r:t[te]=r,t[ie]=r,r}function pf(t,r,s){or(0);const a=ci(null);try{r(t,s)}finally{ci(a)}}function Zn(t){return t[Is]||(t[Is]=[])}function pg(t){return t.cleanup||(t.cleanup=[])}function kl(t,r){const s=t[Ii],a=s?s.get(ma,null):null;a&&a.handleError(r)}function mg(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],v=s[d++];hg(t.data[g],r[g],a,v,c)}}function ni(t,r,s){const a=xa(r,t);!function rp(t,r,s){t.setValue(r,s)}(t[N],a,s)}function Si(t,r){const s=Oi(r,t),a=s[mt];!function va(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[Qn];null!==c&&null===s[Jn]&&(s[Jn]=Il(c,s[Ii])),_g(a,s,s[ur])}function _g(t,r,s){Uo(r);try{const a=t.viewQuery;null!==a&&pf(1,a,s);const c=t.template;null!==c&&Md(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&a_(t,r),t.staticViewQueries&&pf(2,t.viewQuery,s);const d=t.components;null!==d&&function RE(t,r){for(let s=0;s<r.length;s++)Si(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Zt]&=-5,Qd()}}let yg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function qn(t,r,s){const a=Object.create(fr);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>Wn(a),run:()=>{if(a.dirty=!1,a.hasRun&&!ls(a))return;a.hasRun=!0;const g=uu(a);try{a.cleanupFn(),a.cleanupFn=Gt,a.fn(c)}finally{ks(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,P=>{this.all.has(P)&&this.queue.set(P,d)},c);let v;this.all.add(g),g.notify();const A=()=>{g.cleanup(),v?.(),this.all.delete(g),this.queue.delete(g)};return v=a?.onDestroy(A),{destroy:A}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Lt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Od(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const v=r[g];"number"==typeof v?d=v:1==d?c=ft(c,v):2==d&&(a=ft(a,v+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function kd(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(dr(d)),Xr(d)&&gf(d,a);const g=s.type;if(8&g)kd(t,r,s.child,a);else if(32&g){const v=dh(s,r);let A;for(;A=v();)a.push(A)}else if(16&g){const v=mh(r,s);if(Array.isArray(v))a.push(...v);else{const A=ti(r[Re]);kd(A[mt],A,v,a,!0)}}s=c?s.projectionNext:s.next}return a}function gf(t,r){for(let s=br;s<t.length;s++){const a=t[s],c=a[mt].firstChild;null!==c&&kd(a[mt],a,c,r)}t[er]!==t[Qn]&&r.push(t[er])}function mf(t,r,s,a=!0){const c=r[L],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{Yy(t,r,t.template,s)}catch(A){throw a&&kl(r,A),A}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function Yy(t,r,s,a){const c=r[Zt];if(256!=(256&c)){r[L].effectManager?.flush(),Uo(r);try{Zo(r),function C(t){return an.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Md(t,r,s,2,a);const g=3==(3&c);if(g){const P=t.preOrderCheckHooks;null!==P&&pi(r,P,null)}else{const P=t.preOrderHooks;null!==P&&ec(r,P,0,null),Io(r,0)}if(function bi(t){for(let r=al(t);null!==r;r=$o(r)){if(!r[Jr])continue;const s=r[kn];for(let a=0;a<s.length;a++){Kl(s[a])}}}(r),u_(r,2),null!==t.contentQueries&&a_(t,r),g){const P=t.contentCheckHooks;null!==P&&pi(r,P)}else{const P=t.contentHooks;null!==P&&ec(r,P,1),Io(r,1)}!function Vy(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=Xm(r,Vn);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)Bo(~d);else{const g=d,v=s[++c],A=s[++c];X(v,g),a.dirty=!1;const P=uu(a);try{A(2,r[g])}finally{ks(a,P)}}}}finally{null===r[Vn]&&Xh(r,Vn),Bo(-1)}}(t,r);const v=t.components;null!==v&&Qy(r,v,0);const A=t.viewQuery;if(null!==A&&pf(2,A,a),g){const P=t.viewCheckHooks;null!==P&&pi(r,P)}else{const P=t.viewHooks;null!==P&&ec(r,P,2),Io(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Zt]&=-73,Br(r)}finally{Qd()}}}function u_(t,r){for(let s=al(t);null!==s;s=$o(s))for(let a=br;a<s.length;a++)Zy(s[a],r)}function c_(t,r,s){Zy(Oi(r,t),s)}function Zy(t,r){if(!function ql(t){return 128==(128&t[Zt])}(t))return;const s=t[mt],a=t[Zt];if(80&a&&0===r||1024&a||2===r)Yy(s,t,s.template,t[ur]);else if(t[Ui]>0){u_(t,1);const c=s.components;null!==c&&Qy(t,c,1)}}function Qy(t,r,s){for(let a=0;a<r.length;a++)c_(t,r[a],s)}class Ll{get rootNodes(){const r=this._lView,s=r[mt];return kd(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ur]}set context(r){this._lView[ur]=r}get destroyed(){return 256==(256&this._lView[Zt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[On];if(Xr(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(ld(r,a),Ha(s,a))}this._attachedToViewContainer=!1}sp(this._lView[mt],this._lView)}onDestroy(r){!function vo(t,r){if(256==(256&t[Zt]))throw new ke(911,!1);null===t[Mn]&&(t[Mn]=[]),t[Mn].push(r)}(this._lView,r)}markForCheck(){Pc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Zt]&=-129}reattach(){this._lView[Zt]|=128}detectChanges(){mf(this._lView[mt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cd(t,r){cl(t,r,r[N],2,null,null)}(this._lView[mt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ke(902,!1);this._appRef=r}}class ME extends Ll{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;mf(r[mt],r,r[ur],!1)}checkNoChanges(){}get context(){return null}}class Jy extends Al{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=_n(r);return new _f(s,this.ngModule)}}function Xy(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class NE{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=qi(a);const c=this.injector.get(r,jp,a);return c!==jp||s===jp?c:this.parentInjector.get(r,s,a)}}class _f extends Fh{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=Xy(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return Xy(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Ns(t){return t.map(Qs).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof Ho?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new NE(r,d):r,v=g.get(Vm,null);if(null===v)throw new ke(407,!1);const Q={rendererFactory:v,sanitizer:g.get(Bp,null),effectManager:g.get(yg,null),afterRenderEventManager:g.get(Jp,null)},de=v.createRenderer(null,this.componentDef),Ie=this.componentDef.selectors[0][0]||"div",$e=a?function Uy(t,r,s,a){const d=a.get(Mc,!1)||s===Hn.ShadowDom,g=t.selectRootElement(r,d);return function By(t){t_(t)}(g),g}(de,a,this.componentDef.encapsulation,g):ud(de,Ie,function xE(t){const r=t.toLowerCase();return"svg"===r?Qe:"math"===r?"math":null}(Ie)),Xt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Je=null;null!==$e&&(Je=Il($e,g,!0));const wn=sf(0,null,null,1,0,null,null,null,null,null,null),Gn=Nl(null,wn,null,Xt,null,null,Q,de,g,null,Je);let Hr,Ro;Uo(Gn);try{const Fc=this.componentDef;let Lf,vE=null;Fc.findHostDirectiveDefs?(Lf=[],vE=new Map,Fc.findHostDirectiveDefs(Fc,Lf,vE),Lf.push(Fc)):Lf=[Fc];const QC=function l_(t,r){const s=t[mt],a=Ot;return t[a]=r,Uu(s,a,2,"#host",null)}(Gn,$e),JC=function Ld(t,r,s,a,c,d,g){const v=c[mt];!function ev(t,r,s,a){for(const c of t)r.mergedAttrs=ai(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Od(r,r.mergedAttrs,!0),null!==s&&cm(a,s,r))}(a,t,r,g);let A=null;null!==r&&(A=Il(r,c[Ii]));const P=d.rendererFactory.createRenderer(r,s);let U=16;s.signals?U=4096:s.onPush&&(U=64);const Q=Nl(c,xc(s),null,U,c[t.index],t,d,P,null,null,A);return v.firstCreatePass&&hf(v,t,a.length-1),Nd(c,Q),c[t.index]=Q}(QC,$e,Fc,Lf,Gn,Q,de);Ro=jc(wn,Ot),$e&&function Fl(t,r,s,a){if(a)Mi(t,s,["ng-version",Bh.full]);else{const{attrs:c,classes:d}=function ts(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!mr(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&Mi(t,s,c),d&&d.length>0&&dp(t,s,d.join(" "))}}(de,Fc,$e,a),void 0!==s&&function kE(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(Ro,this.ngContentSelectors,s),Hr=function Nc(t,r,s,a,c,d){const g=qr(),v=c[mt],A=Yi(g,c);df(v,c,g,s,null,a);for(let U=0;U<s.length;U++)$i(ia(c,v,g.directiveStart+U,g),c);i_(v,c,g),A&&$i(A,c);const P=ia(c,v,g.directiveStart+g.componentOffset,g);if(t[ur]=c[ur]=P,null!==d)for(const U of d)U(P,r);return rg(v,g,t),P}(JC,Fc,Lf,vE,Gn,[vg]),_g(wn,Gn,null)}finally{Qd()}return new OE(this.componentType,Hr,Cl(Ro,Gn),Gn,Ro)}}class OE extends wy{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new ME(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;mg(d[mt],d,c,r,s),this.previousInputValues.set(r,s),Pc(Oi(this._tNode.index,d))}}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function vg(){const t=qr();ea(Ke()[mt],t)}function Eg(t){let r=function yf(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(yi(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ke(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=Fd(t.inputs),g.inputTransforms=Fd(t.inputTransforms),g.declaredInputs=Fd(t.declaredInputs),g.outputs=Fd(t.outputs);const v=c.hostBindings;v&&nv(t,v);const A=c.viewQuery,P=c.contentQueries;if(A&&d_(t,A),P&&vf(t,P),He(t.inputs,c.inputs),He(t.declaredInputs,c.declaredInputs),He(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),He(g.inputTransforms,c.inputTransforms)),yi(c)&&c.data.animation){const U=t.data;U.animation=(U.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const v=d[g];v&&v.ngInherit&&v(t),v===Eg&&(s=!1)}}r=Object.getPrototypeOf(r)}!function tv(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=ai(c.hostAttrs,s=ai(s,c.hostAttrs))}}(a)}function Fd(t){return t===Nn?{}:t===mn?[]:t}function d_(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function vf(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function nv(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Dg(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function Ea(t){return!!Ud(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ud(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ia(t,r,s){return t[r]=s}function zi(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function ju(t,r,s,a){const c=zi(t,r,s);return zi(t,r+1,a)||c}function Bl(t,r,s,a){const c=Ke();return zi(c,_(),r)&&(Pn(),ya(li(),c,t,r,s,a)),Bl}function $u(t,r,s,a){return zi(t,_(),s)?r+_e(s)+a:Tn}function eu(t,r,s,a,c,d){const v=ju(t,function y(){return an.lFrame.bindingIndex}(),s,c);return w(2),v?r+_e(s)+a+_e(c)+d:Tn}function _v(t,r,s,a,c,d,g,v){const A=Ke(),P=Pn(),U=t+Ot,Q=P.firstCreatePass?function Rg(t,r,s,a,c,d,g,v,A){const P=r.consts,U=Uu(r,t,4,g||null,Qt(P,v));lf(r,s,U,Qt(P,A)),ea(r,U);const Q=U.tView=sf(2,U,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,P,null);return null!==r.queries&&(r.queries.template(r,U),Q.queries=r.queries.embeddedTView(U)),U}(U,P,A,r,s,a,c,d,g):P.data[U];ei(Q,!1);const de=w_(P,A,Q,t);Na()&&xu(P,A,de,Q),$i(de,A),Nd(A,A[U]=ff(de,A,de,Q)),os(Q)&&nf(P,A,Q),null!=g&&rf(A,Q,v)}let w_=function A_(t,r,s,a){return Xo(!0),r[N].createComment("")};function Iv(t){return so(function oo(){return an.lFrame.contextLView}(),Ot+t)}function C_(t,r,s){const a=Ke();return zi(a,_(),r)&&bs(Pn(),li(),a,t,r,a[N],s,!1),C_}function S_(t,r,s,a,c){const g=c?"class":"style";mg(t,s,r.inputs[g],g,a)}function wf(t,r,s,a){const c=Ke(),d=Pn(),g=Ot+t,v=c[N],A=d.firstCreatePass?function zE(t,r,s,a,c,d){const g=r.consts,A=Uu(r,t,2,a,Qt(g,c));return lf(r,s,A,Qt(g,d)),null!==A.attrs&&Od(A,A.attrs,!1),null!==A.mergedAttrs&&Od(A,A.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,A),A}(g,d,c,r,s,a):d.data[g],P=Tv(d,c,A,v,r,t);c[g]=P;const U=os(A);return ei(A,!0),cm(v,P,A),32!=(32&A.flags)&&Na()&&xu(d,c,P,A),0===function Ks(){return an.lFrame.elementDepthCount}()&&$i(P,c),function Zu(){an.lFrame.elementDepthCount++}(),U&&(nf(d,c,A),rg(d,A,c)),null!==a&&rf(c,A),wf}function Af(){let t=qr();cu()?Qo():(t=t.parent,ei(t,!1));const r=t;(function Zl(t){return an.skipHydrationRootTNode===t})(r)&&function Zi(){an.skipHydrationRootTNode=null}(),function Mr(){an.lFrame.elementDepthCount--}();const s=Pn();return s.firstCreatePass&&(ea(s,t),po(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Jd(t){return 0!=(8&t.flags)}(r)&&S_(s,r,Ke(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function wi(t){return 0!=(16&t.flags)}(r)&&S_(s,r,Ke(),r.stylesWithoutHost,!1),Af}function Pg(t,r,s,a){return wf(t,r,s,a),Af(),Pg}let Tv=(t,r,s,a,c,d)=>(Xo(!0),ud(a,c,function Xu(){return an.lFrame.currentNamespace}()));function Sf(t,r,s){const a=Ke(),c=Pn(),d=t+Ot,g=c.firstCreatePass?function Cf(t,r,s,a,c){const d=r.consts,g=Qt(d,a),v=Uu(r,t,8,"ng-container",g);return null!==g&&Od(v,g,!0),lf(r,s,v,Qt(d,c)),null!==r.queries&&r.queries.elementStart(r,v),v}(d,c,a,r,s):c.data[d];ei(g,!0);const v=Cv(c,a,g,t);return a[d]=v,Na()&&xu(c,a,v,g),$i(v,a),os(g)&&(nf(c,a,g),rg(c,g,a)),null!=s&&rf(a,g),Sf}function Mg(){let t=qr();const r=Pn();return cu()?Qo():(t=t.parent,ei(t,!1)),r.firstCreatePass&&(ea(r,t),po(t)&&r.queries.elementEnd(t)),Mg}let Cv=(t,r,s,a)=>(Xo(!0),fh(r[N],""));function Sv(){return Ke()}function b_(t){return!!t&&"function"==typeof t.then}function bv(t){return!!t&&"function"==typeof t.subscribe}function bf(t,r,s,a){const c=Ke(),d=Pn(),g=qr();return function Rv(t,r,s,a,c,d,g){const v=os(a),P=t.firstCreatePass&&pg(t),U=r[ur],Q=Zn(r);let de=!0;if(3&a.type||g){const ct=Yi(a,r),St=g?g(ct):ct,Xt=Q.length,Je=g?Gn=>g(dr(Gn[a.index])):a.index;let wn=null;if(!g&&v&&(wn=function qE(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const v=r[Is],A=c[d+2];return v.length>A?v[A]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==wn)(wn.__ngLastListenerFn__||wn).__ngNextListenerFn__=d,wn.__ngLastListenerFn__=d,de=!1;else{d=Mv(a,r,U,d,!1);const Gn=s.listen(St,c,d);Q.push(d,Gn),P&&P.push(c,Je,Xt,Xt+1)}}else d=Mv(a,r,U,d,!1);const Ie=a.outputs;let $e;if(de&&null!==Ie&&($e=Ie[c])){const ct=$e.length;if(ct)for(let St=0;St<ct;St+=2){const Hr=r[$e[St]][$e[St+1]].subscribe(d),Ro=Q.length;Q.push(d,Hr),P&&P.push(c,a.index,Ro,-(Ro+1))}}}(d,c,c[N],g,t,r,a),bf}function Pv(t,r,s,a){try{return Pe(6,r,s),!1!==s(a)}catch(c){return kl(t,c),!1}finally{Pe(7,r,s)}}function Mv(t,r,s,a,c){return function d(g){if(g===Function)return a;Pc(t.componentOffset>-1?Oi(t.index,r):r);let A=Pv(r,s,a,g),P=d.__ngNextListenerFn__;for(;P;)A=Pv(r,s,P,g)&&A,P=P.__ngNextListenerFn__;return c&&!1===A&&g.preventDefault(),A}}function xg(t=1){return function Vf(t){return(an.lFrame.contextLView=function Ql(t,r){for(;t>0;)r=r[fe],t--;return r}(t,an.lFrame.contextLView))[ur]}(t)}function Hl(t,r,s){return i(t,"",r,"",s),Hl}function i(t,r,s,a,c){const d=Ke(),g=$u(d,r,s,a);return g!==Tn&&bs(Pn(),li(),d,t,g,d[N],c,!1),i}function x(t,r){return t<<17|r<<2}function V(t){return t>>17&32767}function be(t){return 2|t}function ut(t){return(131068&t)>>2}function _t(t,r){return-131069&t|r<<2}function rn(t){return 1|t}function vr(t,r,s,a,c){const d=t[s+1],g=null===r;let v=a?V(d):ut(d),A=!1;for(;0!==v&&(!1===A||g);){const U=t[v+1];Xi(t[v],r)&&(A=!0,t[v+1]=a?rn(U):be(U)),v=a?V(U):ut(U)}A&&(t[s+1]=a?be(d):rn(d))}function Xi(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Us(t,r)>=0}const Lr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function M_(t){return t.substring(Lr.key,Lr.keyEnd)}function x_(t){return t.substring(Lr.value,Lr.valueEnd)}function YE(t,r){const s=Lr.textEnd;return s===r?-1:(r=Lr.keyEnd=function W0(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,Lr.key=r,s),Rf(t,r,s))}function ZE(t,r){const s=Lr.textEnd;let a=Lr.key=Rf(t,r,s);return s===a?-1:(a=Lr.keyEnd=function q0(t,r,s){let a;for(;r<s&&(45===(a=t.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(t,a,s),a=JE(t,a,s),a=Lr.value=Rf(t,a,s),a=Lr.valueEnd=function K0(t,r,s){let a=-1,c=-1,d=-1,g=r,v=g;for(;g<s;){const A=t.charCodeAt(g++);if(59===A)return v;34===A||39===A?v=g=XE(t,A,g,s):r===g-4&&85===d&&82===c&&76===a&&40===A?v=g=XE(t,41,g,s):A>32&&(v=g),d=c,c=a,a=-33&A}return v}(t,a,s),JE(t,a,s))}function QE(t){Lr.key=0,Lr.keyEnd=0,Lr.value=0,Lr.valueEnd=0,Lr.textEnd=t.length}function Rf(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function JE(t,r,s,a){return(r=Rf(t,r,s))<s&&r++,r}function XE(t,r,s,a){let c=-1,d=s;for(;d<a;){const g=t.charCodeAt(d++);if(g==r&&92!==c)return d;c=92==g&&92===c?0:g}throw new Error}function xv(t,r,s){return tu(t,r,s,!1),xv}function Nv(t,r){return tu(t,r,null,!0),Nv}function Y0(t,r){for(let s=function G0(t){return QE(t),ZE(t,Rf(t,0,Lr.textEnd))}(r);s>=0;s=ZE(r,s))rI(t,M_(r),x_(r))}function eI(t){nu(tD,Wu,t,!0)}function Wu(t,r){for(let s=function z0(t){return QE(t),YE(t,Rf(t,0,Lr.textEnd))}(r);s>=0;s=YE(r,s))Vs(t,M_(r),!0)}function tu(t,r,s,a){const c=Ke(),d=Pn(),g=w(2);d.firstUpdatePass&&nI(d,t,g,a),r!==Tn&&zi(c,g,r)&&iI(d,d.data[As()],c,c[N],t,c[g+1]=function rD(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=tt(Zs(t)))),t}(r,s),a,g)}function nu(t,r,s,a){const c=Pn(),d=w(2);c.firstUpdatePass&&nI(c,null,d,a);const g=Ke();if(s!==Tn&&zi(g,d,s)){const v=c.data[As()];if(oI(v,a)&&!tI(c,d)){let A=a?v.classesWithoutHost:v.stylesWithoutHost;null!==A&&(s=ft(A,s||"")),S_(c,v,g,s,a)}else!function nD(t,r,s,a,c,d,g,v){c===Tn&&(c=mn);let A=0,P=0,U=0<c.length?c[0]:null,Q=0<d.length?d[0]:null;for(;null!==U||null!==Q;){const de=A<c.length?c[A+1]:void 0,Ie=P<d.length?d[P+1]:void 0;let ct,$e=null;U===Q?(A+=2,P+=2,de!==Ie&&($e=Q,ct=Ie)):null===Q||null!==U&&U<Q?(A+=2,$e=U):(P+=2,$e=Q,ct=Ie),null!==$e&&iI(t,r,s,a,$e,ct,g,v),U=A<c.length?c[A]:null,Q=P<d.length?d[P]:null}}(c,v,g,g[N],g[d+1],g[d+1]=function eD(t,r,s){if(null==s||""===s)return mn;const a=[],c=Zs(s);if(Array.isArray(c))for(let d=0;d<c.length;d++)t(a,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&t(a,d,c[d]);else"string"==typeof c&&r(a,c);return a}(t,r,s),a,d)}}function tI(t,r){return r>=t.expandoStartIndex}function nI(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[As()],g=tI(t,s);oI(d,a)&&null===r&&!g&&(r=!1),r=function Z0(t,r,s,a){const c=function Tt(t){const r=an.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=Og(s=Ov(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=Ov(c,t,r,s,a),null===d){let A=function Q0(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==ut(a))return t[V(a)]}(t,r,a);void 0!==A&&Array.isArray(A)&&(A=Ov(null,t,r,A[1],a),A=Og(A,r.attrs,a),function J0(t,r,s,a){t[V(s?r.classBindings:r.styleBindings)]=a}(t,r,a,A))}else d=function X0(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=Og(a,t[d].hostAttrs,s);return Og(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function rr(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,v=V(g),A=ut(g);t[a]=s;let U,P=!1;if(Array.isArray(s)?(U=s[1],(null===U||Us(s,U)>0)&&(P=!0)):U=s,c)if(0!==A){const de=V(t[v+1]);t[a+1]=x(de,v),0!==de&&(t[de+1]=_t(t[de+1],a)),t[v+1]=function ce(t,r){return 131071&t|r<<17}(t[v+1],a)}else t[a+1]=x(v,0),0!==v&&(t[v+1]=_t(t[v+1],a)),v=a;else t[a+1]=x(A,0),0===v?v=a:t[A+1]=_t(t[A+1],a),A=a;P&&(t[a+1]=be(t[a+1])),vr(t,U,a,!0),vr(t,U,a,!1),function $r(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&Us(d,r)>=0&&(s[a+1]=rn(s[a+1]))}(r,U,t,a,d),g=x(v,A),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}function Ov(t,r,s,a,c){let d=null;const g=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<g&&(d=r[v],a=Og(a,d.hostAttrs,c),d!==t);)v++;return null!==t&&(s.directiveStylingLast=v),a}function Og(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vs(t,g,!!s||r[++d]))}return void 0===t?null:t}function rI(t,r,s){Vs(t,r,Zs(s))}function tD(t,r,s){const a=String(r);""!==a&&!a.includes(" ")&&Vs(t,a,s)}function iI(t,r,s,a,c,d,g,v){if(!(3&r.type))return;const A=t.data,P=A[v+1],U=function Et(t){return 1==(1&t)}(P)?sI(A,r,s,c,ut(P),g):void 0;N_(U)||(N_(d)||function Z(t){return 2==(2&t)}(P)&&(d=sI(A,null,s,c,v,g)),function mc(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:il.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=il.Important),t.setStyle(s,a,c,d))}}(a,g,xa(As(),s),c,d))}function sI(t,r,s,a,c,d){const g=null===r;let v;for(;c>0;){const A=t[c],P=Array.isArray(A),U=P?A[1]:A,Q=null===U;let de=s[c+1];de===Tn&&(de=Q?mn:void 0);let Ie=Q?Xc(de,a):U===a?de:void 0;if(P&&!N_(Ie)&&(Ie=Xc(A,a)),N_(Ie)&&(v=Ie,g))return v;const $e=t[c+1];c=g?V($e):ut($e)}if(null!==r){let A=d?r.residualClasses:r.residualStyles;null!=A&&(v=Xc(A,a))}return v}function N_(t){return void 0!==t}function oI(t,r){return 0!=(t.flags&(r?8:16))}function aI(t,r=""){const s=Ke(),a=Pn(),c=t+Ot,d=a.firstCreatePass?Uu(a,c,1,r,null):a.data[c],g=uI(a,s,d,r,t);s[c]=g,Na()&&xu(a,s,g,d),ei(d,!1)}let uI=(t,r,s,a,c)=>(Xo(!0),function bu(t,r){return t.createText(r)}(r[N],a));function kv(t){return O_("",t,""),kv}function O_(t,r,s){const a=Ke(),c=$u(a,t,r,s);return c!==Tn&&ni(a,As(),c),O_}function Lv(t,r,s,a,c){const d=Ke(),g=eu(d,t,r,s,a,c);return g!==Tn&&ni(d,As(),g),Lv}function mI(t,r,s){!function Gu(t){nu(rI,Y0,t,!1)}($u(Ke(),t,r,s))}const qd=void 0;var wD=["en",[["a","p"],["AM","PM"],qd],[["AM","PM"],qd,qd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qd,"{1} 'at' {0}",qd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DD(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Pf={};function Fv(t){const r=function AD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=RI(r);if(s)return s;const a=r.split("-")[0];if(s=RI(a),s)return s;if("en"===a)return wD;throw new ke(701,!1)}function bI(t){return Fv(t)[Mf.PluralCase]}function RI(t){return t in Pf||(Pf[t]=An.ng&&An.ng.common&&An.ng.common.locales&&An.ng.common.locales[t]),Pf[t]}var Mf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Mf||{});const xf="en-US";let PI=xf;function Bv(t,r,s,a,c){if(t=We(t),Array.isArray(t))for(let d=0;d<t.length;d++)Bv(t[d],r,s,a,c);else{const d=Pn(),g=Ke(),v=qr();let A=Ic(t)?t:We(t.provide);const P=Sm(t),U=1048575&v.providerIndexes,Q=v.directiveStart,de=v.providerIndexes>>20;if(Ic(t)||!t.multi){const Ie=new tr(P,c,xl),$e=$v(A,r,c?U:U+de,Q);-1===$e?(na(ao(v,g),d,A),jv(d,t,r.length),r.push(A),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(Ie),g.push(Ie)):(s[$e]=Ie,g[$e]=Ie)}else{const Ie=$v(A,r,U+de,Q),$e=$v(A,r,U,U+de),St=$e>=0&&s[$e];if(c&&!St||!c&&!(Ie>=0&&s[Ie])){na(ao(v,g),d,A);const Xt=function Dw(t,r,s,a,c){const d=new tr(t,s,xl);return d.multi=[],d.index=r,d.componentProviders=0,tT(d,c,a&&!s),d}(c?Tw:Iw,s.length,c,a,P);!c&&St&&(s[$e].providerFactory=Xt),jv(d,t,r.length,0),r.push(A),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(Xt),g.push(Xt)}else jv(d,t,Ie>-1?Ie:$e,tT(s[c?$e:Ie],P,!c&&a));!c&&a&&St&&s[$e].componentProviders++}}}function jv(t,r,s,a){const c=Ic(r),d=function Cm(t){return!!t.useClass}(r);if(c||d){const A=(d?We(r.useClass):r).prototype.ngOnDestroy;if(A){const P=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const U=P.indexOf(s);-1===U?P.push(s,[a,A]):P[U+1].push(a,A)}else P.push(s,A)}}}function tT(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function $v(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function Iw(t,r,s,a){return Hv(this.multi,[])}function Tw(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=ia(s,s[mt],this.providerFactory.index,a);d=v.slice(0,g),Hv(c,d);for(let A=g;A<v.length;A++)d.push(v[A])}else d=[],Hv(c,d);return d}function Hv(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function nT(t,r=[]){return s=>{s.providersResolver=(a,c)=>function Ew(t,r,s){const a=Pn();if(a.firstCreatePass){const c=yi(t);Bv(s,a.data,a.blueprint,c,!0),Bv(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Kd{}class rT{}function ww(t,r){return new zv(t,r??null,[])}class zv extends Kd{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jy(this);const c=Qr(r);this._bootstrapComponents=Xa(c.bootstrap),this._r3Injector=jm(r,s,[{provide:Kd,useValue:this},{provide:Al,useValue:this.componentFactoryResolver},...a],tt(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Gv extends rT{constructor(r){super(),this.moduleType=r}create(r){return new zv(this.moduleType,r,[])}}class iT extends Kd{constructor(r){super(),this.componentFactoryResolver=new Jy(this),this.instance=null;const s=new Dc([...r.providers,{provide:Kd,useValue:this},{provide:Al,useValue:this.componentFactoryResolver}],r.parent||Tc(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function sT(t,r,s=null){return new iT({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let Cw=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=Sh(0,s.type),c=a.length>0?sT([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Lt({token:t,providedIn:"environment",factory:()=>new t(hn(Ho))})}return t})();function oT(t){t.getStandaloneInjector=r=>r.get(Cw).getOrCreateStandaloneInjector(t)}function fT(t,r,s){const a=ji()+t,c=Ke();return c[a]===Tn?Ia(c,a,s?r.call(s):r()):function Bu(t,r){return t[r]}(c,a)}function pT(t,r,s,a){return function mT(t,r,s,a,c,d){const g=r+s;return zi(t,g,c)?Ia(t,g+1,d?a.call(d,c):a(c)):Bg(t,g+1)}(Ke(),ji(),t,r,s,a)}function gT(t,r,s,a,c){return _T(Ke(),ji(),t,r,s,a,c)}function Bg(t,r){const s=t[r];return s===Tn?void 0:s}function _T(t,r,s,a,c,d,g){const v=r+s;return ju(t,v,c,d)?Ia(t,v+2,g?a.call(g,c,d):a(c,d)):Bg(t,v+2)}function yT(t,r,s,a,c,d,g,v){const A=r+s;return function Ul(t,r,s,a,c){const d=ju(t,r,s,a);return zi(t,r+2,c)||d}(t,A,c,d,g)?Ia(t,A+3,v?a.call(v,c,d,g):a(c,d,g)):Bg(t,A+3)}function IT(t,r){const s=Pn();let a;const c=t+Ot;s.firstCreatePass?(a=function $w(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=Ki(a.type)),v=dn(xl);try{const A=Kc(!1),P=d();return Kc(A),function Ev(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Ke(),c,P),P}finally{dn(v)}}function TT(t,r,s,a){const c=t+Ot,d=Ke(),g=so(d,c);return jg(d,c)?_T(d,ji(),r,g.transform,s,a,g):g.transform(s,a)}function DT(t,r,s,a,c){const d=t+Ot,g=Ke(),v=so(g,d);return jg(g,d)?yT(g,ji(),r,v.transform,s,a,c,v):v.transform(s,a,c)}function jg(t,r){return t[mt].data[r].pure}function Ww(){return this._results[Symbol.iterator]()}class qv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Wo)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=qv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Ww)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function ki(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function sd(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Kw(t,r,s,a=!0){const c=r[mt];if(function sy(t,r,s,a){const c=br+a,d=s.length;a>0&&(s[c-1][Nr]=r),a<d-br?(r[Nr]=s[c],$a(s,br+a,r)):(s.push(r),r[Nr]=null),r[On]=s;const g=r[lt];null!==g&&s!==g&&function sm(t,r){const s=t[kn];r[Re]!==r[On][On][Re]&&(t[Jr]=!0),null===s?t[kn]=[r]:s.push(r)}(g,r);const v=r[yt];null!==v&&v.insertView(t),r[Zt]|=128}(c,r,t,s),a){const d=fd(s,t),g=r[N],v=dd(g,t[er]);null!==v&&function iy(t,r,s,a,c,d){a[Qn]=c,a[Or]=r,cl(t,a,s,1,c,d)}(c,t[Or],g,r,v,d)}}let $g=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Qw}return t})();const Yw=$g,Zw=class extends Yw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function qw(t,r,s,a){const c=r.tView,v=Nl(t,c,s,4096&t[Zt]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[lt]=t[r.index];const P=t[yt];return null!==P&&(v[yt]=P.createEmbeddedView(c)),_g(c,v,s),v}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Ll(c)}};function Qw(){return U_(qr(),Ke())}function U_(t,r){return 4&t.type?new Zw(r,t,Cl(t,r)):null}let j_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=rA}return t})();function rA(){return PT(qr(),Ke())}const iA=j_,bT=class extends iA{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Cl(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){const r=gu(this._hostTNode,this._hostLView);if(Kr(r)){const s=To(r,this._hostLView),a=_s(r);return new Qi(s[mt].data[a+8],s)}return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=RT(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-br}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const v=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(v,c,false),v}createComponent(r,s,a,c,d){const g=r&&!function ic(t){return"function"==typeof t}(r);let v;if(g)v=s;else{const ct=s||{};v=ct.index,a=ct.injector,c=ct.projectableNodes,d=ct.environmentInjector||ct.ngModuleRef}const A=g?r:new _f(_n(r)),P=a||this.parentInjector;if(!d&&null==A.ngModule){const St=(g?P:this.parentInjector).get(Ho,null);St&&(d=St)}_n(A.componentType??{});const Ie=A.create(P,c,null,d);return this.insertImpl(Ie.hostView,v,false),Ie}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function fs(t){return Xr(t[On])}(c)){const A=this.indexOf(r);if(-1!==A)this.detach(A);else{const P=c[On],U=new bT(P,P[Or],P[On]);U.detach(U.indexOf(r))}}const g=this._adjustIndex(s),v=this._lContainer;return Kw(v,c,g,!a),r.attachToViewContainerRef(),$a(Kv(v),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=RT(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=ld(this._lContainer,s);a&&(Ha(Kv(this._lContainer),s),sp(a[mt],a))}detach(r){const s=this._adjustIndex(r,-1),a=ld(this._lContainer,s);return a&&null!=Ha(Kv(this._lContainer),s)?new Ll(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function RT(t){return t[8]}function Kv(t){return t[8]||(t[8]=[])}function PT(t,r){let s;const a=r[t.index];return Xr(a)?s=a:(s=ff(a,r,null,t),r[t.index]=s,Nd(r,s)),MT(s,r,t,a),new bT(s,t,r)}let MT=function xT(t,r,s,a){if(t[er])return;let c;c=8&s.type?dr(a):function sA(t,r){const s=t[N],a=s.createComment(""),c=Yi(r,t);return Ao(s,dd(s,c),a,function uy(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[er]=c};class Yv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Yv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new Zv(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==jT(r,s).matches&&this.queries[s].setDirty()}}class NT{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Qv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new Qv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Jv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Jv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,uA(s,d)),this.matchTNodeWithReadOption(r,s,ra(s,r,d,!1,!1))}else a===$g?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,ra(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Sl||c===j_||c===$g&&4&s.type)this.addMatch(s.index,-2);else{const d=ra(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function uA(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function lA(t,r,s,a){return-1===s?function cA(t,r){return 11&t.type?Cl(t,r):4&t.type?U_(t,r):null}(r,t):-2===s?function dA(t,r,s){return s===Sl?Cl(r,t):s===$g?U_(r,t):s===j_?PT(r,t):void 0}(t,r,a):ia(t,t[mt],s,r)}function OT(t,r,s,a){const c=r[yt].queries[a];if(null===c.matches){const d=t.data,g=s.matches,v=[];for(let A=0;A<g.length;A+=2){const P=g[A];v.push(P<0?null:lA(r,d[P],g[A+1],s.metadata.read))}c.matches=v}return c.matches}function Xv(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=OT(t,r,c,s);for(let v=0;v<d.length;v+=2){const A=d[v];if(A>0)a.push(g[v/2]);else{const P=d[v+1],U=r[-A];for(let Q=br;Q<U.length;Q++){const de=U[Q];de[lt]===de[On]&&Xv(de[mt],de,P,a)}if(null!==U[kn]){const Q=U[kn];for(let de=0;de<Q.length;de++){const Ie=Q[de];Xv(Ie[mt],Ie,P,a)}}}}}return a}function kT(t){const r=Ke(),s=Pn(),a=Jt();or(a+1);const c=jT(s,a);if(t.dirty&&function Wl(t){return 4==(4&t[Zt])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?Xv(s,r,a,[]):OT(s,r,c,a);t.reset(d,Fm),t.notifyOnChanges()}return!0}return!1}function LT(t,r,s){const a=Pn();a.firstCreatePass&&(BT(a,new NT(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),UT(a,Ke(),r)}function FT(t,r,s,a){const c=Pn();if(c.firstCreatePass){const d=qr();BT(c,new NT(r,s,a),d.index),function fA(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}UT(c,Ke(),s)}function VT(){return function hA(t,r){return t[yt].queries[r].queryList}(Ke(),Jt())}function UT(t,r,s){const a=new qv(4==(4&s));(function ig(t,r,s,a){const c=Zn(r);c.push(s),t.firstCreatePass&&pg(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[yt]&&(r[yt]=new Zv),r[yt].queries.push(new Yv(a))}function BT(t,r,s){null===t.queries&&(t.queries=new Qv),t.queries.track(new Jv(r,s))}function jT(t,r){return t.queries.getByIndex(r)}function eE(t){return!!Qr(t)}const s0=new cn("Application Initializer");let sE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=Cn(s0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(b_(d))s.push(d);else if(bv(d)){const g=new Promise((v,A)=>{d.subscribe({complete:v,error:A})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Lt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),o0=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Lt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const H_=new cn("LocaleId",{providedIn:"root",factory:()=>Cn(H_,Bt.Optional|Bt.SkipSelf)||function kA(){return typeof $localize<"u"&&$localize.locale||xf}()}),LA=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let a0=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new oe.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Lt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class VA{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let UA=(()=>{class t{compileModuleSync(s){return new Gv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Xa(Qr(s).declarations).reduce((g,v)=>{const A=_n(v);return A&&g.push(new _f(A)),g},[]);return new VA(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Lt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const d0=new cn(""),h0=new cn("");let uE,aC=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uE||(function uC(t){uE=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(hn(Hi),hn(f0),hn(h0))};static#t=this.\u0275prov=Lt({token:t,factory:t.\u0275fac})}return t})(),f0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return uE?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Lt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),zl=null;const p0=new cn("AllowMultipleToken"),cE=new cn("PlatformDestroyListeners"),lE=new cn("appBootstrapListener");class dC{constructor(r,s){this.name=r,this.token=s}}function _0(t,r,s=[]){const a=`Platform: ${r}`,c=new cn(a);return(d=[])=>{let g=dE();if(!g||g.injector.get(p0,!1)){const v=[...s,...d,{provide:c,useValue:!0}];t?t(v):function hC(t){if(zl&&!zl.get(p0,!1))throw new ke(400,!1);(function g0(){!function Ma(t){Yo=t}(()=>{throw new ke(600,!1)})})(),zl=t;const r=t.get(v0);(function m0(t){t.get(Mh,null)?.forEach(s=>s())})(t)}(function y0(t=[],r){return Go.create({name:r,providers:[{provide:Sp,useValue:"platform"},{provide:cE,useValue:new Set([()=>zl=null])},...t]})}(v,a))}return function pC(t){const r=dE();if(!r)throw new ke(401,!1);return r}()}}function dE(){return zl?.get(v0)??null}let v0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function gC(t="zone.js",r){return"noop"===t?new Yp:"zone.js"===t?new Hi(r):t}(a?.ngZone,function E0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function Aw(t,r,s){return new zv(t,r,s)}(s.moduleType,this.injector,function A0(t){return[{provide:Hi,useFactory:t},{provide:pl,multi:!0,useFactory:()=>{const r=Cn(_C,{optional:!0});return()=>r.initialize()}},{provide:w0,useFactory:mC},{provide:qm,useFactory:qh}]}(()=>c)),g=d.injector.get(ma,null);return c.runOutsideAngular(()=>{const v=c.onError.subscribe({next:A=>{g.handleError(A)}});d.onDestroy(()=>{G_(this._modules,d),v.unsubscribe()})}),function I0(t,r,s){try{const a=s();return b_(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const v=d.injector.get(sE);return v.runInitializers(),v.donePromise.then(()=>(function MI(t){Vt(t,"Expected localeId to be defined"),"string"==typeof t&&(PI=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(H_,xf)||xf),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=T0({},a);return function cC(t,r,s){const a=new Gv(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(kf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new ke(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(cE,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(hn(Go))};static#t=this.\u0275prov=Lt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function T0(t,r){return Array.isArray(r)?r.reduce(T0,t):{...t,...r}}let kf=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Cn(w0),this.zoneIsStable=Cn(qm),this.componentTypes=[],this.components=[],this.isStable=Cn(a0).hasPendingTasks.pipe((0,ne.w)(s=>s?(0,J.of)(!1):this.zoneIsStable),function se(t,r=Ee.y){return t=t??Me,(0,G.e)((s,a)=>{let c,d=!0;s.subscribe((0,K.x)(a,g=>{const v=r(g);(d||!t(c,v))&&(d=!1,c=v,a.next(g))}))})}(),(0,ue.B)()),this._injector=Cn(Ho)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Fh;if(!this._injector.get(sE).done)throw!c&&Fn(s),new ke(405,!1);let g;g=c?s:this._injector.get(Al).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const v=function lC(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Kd),P=g.create(Go.NULL,[],a||g.selector,v),U=P.location.nativeElement,Q=P.injector.get(d0,null);return Q?.registerApplication(U),P.onDestroy(()=>{this.detachView(P.hostView),G_(this.components,P),Q?.unregisterApplication(U)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new ke(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;G_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(lE,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>G_(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ke(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Lt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function G_(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const w0=new cn("",{providedIn:"root",factory:()=>Cn(ma).handleError.bind(void 0)});function mC(){const t=Cn(Hi),r=Cn(ma);return s=>t.runOutsideAngular(()=>r.handleError(s))}let _C=(()=>{class t{constructor(){this.zone=Cn(Hi),this.applicationRef=Cn(kf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Lt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vC(){return!1}let EC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=IC}return t})();function IC(t){return function TC(t,r,s){if(ss(t)&&!s){const a=Oi(t.index,r);return new Ll(a,a)}return 47&t.type?new Ll(r[Re],r):null}(qr(),Ke(),16==(16&t))}class R0{constructor(){}supports(r){return Ea(r)}create(r){return new bC(r)}}const SC=(t,r)=>r;class bC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||SC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<M0(a,c,d)?s:a,v=M0(g,c,d),A=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const P=v-c,U=A-c;if(P!=U){for(let de=0;de<P;de++){const Ie=de<d.length?d[de]:d[de]=0,$e=Ie+de;U<=$e&&$e<P&&(d[de]=Ie+1)}d[g.previousIndex]=U-P}}v!==A&&r(g,v,A)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Ea(r))throw new ke(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)d=r[v],g=this._trackByFn(v,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,v)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,v),a=!0),s=s._next}else c=0,function g_(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,v=>{g=this._trackByFn(c,v),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,v,g,c)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new RC(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new P0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new P0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class RC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class P0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new PC,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function M0(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class x0{constructor(){}supports(r){return r instanceof Map||Ud(r)}create(){return new MC}}class MC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Ud(r)))throw new ke(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new xC(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class xC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function N0(){return new mE([new R0])}let mE=(()=>{class t{static#e=this.\u0275prov=Lt({token:t,providedIn:"root",factory:N0});constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||N0()),deps:[[t,new h,new Ys]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new ke(901,!1)}}return t})();function O0(){return new _E([new x0])}let _E=(()=>{class t{static#e=this.\u0275prov=Lt({token:t,providedIn:"root",factory:O0});constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||O0()),deps:[[t,new h,new Ys]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new ke(901,!1)}}return t})();const kC=_0(null,"core",[]);let LC=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(hn(kf))};static#t=this.\u0275mod=zs({type:t});static#n=this.\u0275inj=Er({})}return t})();function qC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function KC(t,r=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?r:Number(t)}function ZC(t){const r=_n(t);if(!r)return null;const s=new _f(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},721:(It,Ce,M)=>{M.d(Ce,{Ot:()=>ee,ZF:()=>ft,hX:()=>Me,z6:()=>oe});var m=M(3182),q=M(8926),ae=M(1920);class ee{constructor(Fe){return Fe}}class oe{constructor(){return(0,m.C6)()}}const ne=new q.OlP("angularfire2._apps"),Ee={provide:ee,useFactory:function ue(Le){return Le&&1===Le.length?Le[0]:new ee((0,m.Mq)())},deps:[[new q.FiY,ne]]},G={provide:oe,deps:[[new q.FiY,ne]]};function K(Le){return(Fe,Ve)=>{const Ye=Fe.runOutsideAngular(()=>Le(Ve));return new ee(Ye)}}let se=(()=>{class Le{constructor(Ve){(0,m.KN)("angularfire",ae.q4.full,"core"),(0,m.KN)("angularfire",ae.q4.full,"app"),(0,m.KN)("angular",q.q4F.full,Ve.toString())}static \u0275fac=function(Ye){return new(Ye||Le)(q.LFG(q.Lbi))};static \u0275mod=q.oAB({type:Le});static \u0275inj=q.cJS({providers:[Ee,G]})}return Le})();function Me(Le,...Fe){return{ngModule:se,providers:[{provide:ne,useFactory:K(Le),multi:!0,deps:[q.R0b,q.zs3,ae.HU,...Fe]}]}}const ft=(0,ae.u3)(m.ZF,!0)},2637:(It,Ce,M)=>{M.d(Ce,{AR:()=>tt,Aj:()=>Ft,LS:()=>Lt,Xb:()=>ke,ck:()=>vn,dh:()=>ne,e5:()=>ii,gx:()=>ue,rh:()=>en,v0:()=>nt,w$:()=>zr,w7:()=>Ar});var m=M(1920),q=M(8926),ae=M(721),ee=M(3182),oe=M(3446);const J="auth";class ue{constructor(fn){return fn}}class ne{constructor(){return(0,m.vb)(J)}}const G=new q.OlP("angularfire2.auth-instances");function se($n){return(fn,Kt)=>{const ir=fn.runOutsideAngular(()=>$n(Kt));return new ue(ir)}}const Me={provide:ne,deps:[[new q.FiY,G]]},me={provide:ue,useFactory:function K($n,fn){const Kt=(0,m.JM)(J,$n,fn);return Kt&&new ue(Kt)},deps:[[new q.FiY,G],ae.Ot]};let He=(()=>{class $n{constructor(){(0,ee.KN)("angularfire",m.q4.full,"auth")}static \u0275fac=function(ir){return new(ir||$n)};static \u0275mod=q.oAB({type:$n});static \u0275inj=q.cJS({providers:[me,Me]})}return $n})();function tt($n,...fn){return{ngModule:He,providers:[{provide:G,useFactory:se($n),multi:!0,deps:[q.R0b,q.zs3,m.HU,ae.z6,[new q.FiY,m.Rf],...fn]}]}}const ke=(0,m.u3)(oe.Xb,!0),nt=(0,m.u3)(oe.v0,!0),Ft=(0,m.u3)(oe.Aj,!0),zr=(0,m.u3)(oe.w$,!0),Lt=(0,m.u3)(oe.LS,!0),ii=(0,m.u3)(oe.e5,!0),en=(0,m.u3)(oe.rh,!0),Ar=(0,m.u3)(oe.w7,!0),vn=(0,m.u3)(oe.ck,!0)},3960:(It,Ce,M)=>{M.d(Ce,{gg:()=>bt,ET:()=>Er,hJ:()=>qt,BS:()=>Vt,oe:()=>dn,JU:()=>$t,QT:()=>Rs,PL:()=>re,ad:()=>$,b9:()=>ht,Xo:()=>ve,Cm:()=>Ze,IO:()=>zt,pl:()=>si,TQ:()=>bn,r7:()=>Mi,ar:()=>xi});var m=M(1920),q=M(8926),ae=M(721),ee=M(2637),oe=M(3182),J=M(5776),ue=M(5592),ne=M(7398),Ee=function(){return Ee=Object.assign||function(et){for(var xt,Pt=1,Vr=arguments.length;Pt<Vr;Pt++)for(var Gr in xt=arguments[Pt])Object.prototype.hasOwnProperty.call(xt,Gr)&&(et[Gr]=xt[Gr]);return et},Ee.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var K={includeMetadataChanges:!1};function st(gt,et){return void 0===et&&(et={}),function ke(gt){return function se(gt,et){return void 0===et&&(et=K),new ue.y(function(xt){return{unsubscribe:(0,J.cf)(gt,et,{next:xt.next.bind(xt),error:xt.error.bind(xt),complete:xt.complete.bind(xt)})}})}(gt,{includeMetadataChanges:!0}).pipe((0,ne.U)(function(et){return et.docs}))}(gt).pipe((0,ne.U)(function(xt){return xt.map(function(Pt){return function He(gt,et){var xt;void 0===et&&(et={});var Pt=gt.data(et);return gt.exists()&&"object"==typeof Pt&&null!==Pt&&et.idField?Ee(Ee({},Pt),((xt={})[et.idField]=gt.id,xt)):Pt}(Pt,et)})}))}class bt{constructor(et){return et}}const Wt="firestore",pt=new q.OlP("angularfire2.firestore-instances");function ye(gt){return(et,xt)=>{const Pt=et.runOutsideAngular(()=>gt(xt));return new bt(Pt)}}const xe={provide:class qe{constructor(){return(0,m.vb)(Wt)}},deps:[[new q.FiY,pt]]},we={provide:bt,useFactory:function pe(gt,et){const xt=(0,m.JM)(Wt,gt,et);return xt&&new bt(xt)},deps:[[new q.FiY,pt],ae.Ot]};let Be=(()=>{class gt{constructor(){(0,oe.KN)("angularfire",m.q4.full,"fst")}static \u0275fac=function(Pt){return new(Pt||gt)};static \u0275mod=q.oAB({type:gt});static \u0275inj=q.cJS({providers:[we,xe]})}return gt})();function Ze(gt,...et){return{ngModule:Be,providers:[{provide:pt,useFactory:ye(gt),multi:!0,deps:[q.R0b,q.zs3,m.HU,ae.z6,[new q.FiY,ee.dh],[new q.FiY,m.Rf],...et]}]}}const Vt=(0,m.u3)(st,!0),Er=(0,m.u3)(J.ET,!0),qt=(0,m.u3)(J.hJ,!0),dn=(0,m.u3)(J.oe,!0),$t=(0,m.u3)(J.JU,!0),Rs=(0,m.u3)(J.QT,!0),re=(0,m.u3)(J.PL,!0),$=(0,m.u3)(J.ad,!0),ht=(0,m.u3)(J.b9,!0),ve=(0,m.u3)(J.Xo,!0),zt=(0,m.u3)(J.IO,!0),si=(0,m.u3)(J.pl,!0),bn=(0,m.u3)(J.TQ,!0),Mi=(0,m.u3)(J.r7,!0),xi=(0,m.u3)(J.ar,!0)},5816:(It,Ce,M)=>{M.d(Ce,{Jt:()=>Ye,KV:()=>Wt,Ke:()=>ue,Vq:()=>ft,cF:()=>ge,iH:()=>ze,oq:()=>Le});var m=M(1920),q=M(8926),ae=M(721),ee=M(2637),oe=M(3182),J=M(8243);class ue{constructor(pe){return pe}}const ne="storage",K=new q.OlP("angularfire2.storage-instances");function Me(pt){return(pe,ye)=>{const xe=pe.runOutsideAngular(()=>pt(ye));return new ue(xe)}}const me={provide:class Ee{constructor(){return(0,m.vb)(ne)}},deps:[[new q.FiY,K]]},He={provide:ue,useFactory:function se(pt,pe){const ye=(0,m.JM)(ne,pt,pe);return ye&&new ue(ye)},deps:[[new q.FiY,K],ae.Ot]};let tt=(()=>{class pt{constructor(){(0,oe.KN)("angularfire",m.q4.full,"gcs")}static \u0275fac=function(xe){return new(xe||pt)};static \u0275mod=q.oAB({type:pt});static \u0275inj=q.cJS({providers:[He,me]})}return pt})();function ft(pt,...pe){return{ngModule:tt,providers:[{provide:K,useFactory:Me(pt),multi:!0,deps:[q.R0b,q.zs3,m.HU,ae.z6,[new q.FiY,ee.dh],[new q.FiY,m.Rf],...pe]}]}}const Le=(0,m.u3)(J.oq,!0),Ye=(0,m.u3)(J.Jt,!0),ge=(0,m.u3)(J.cF,!0),ze=(0,m.u3)(J.iH,!0),Wt=(0,m.u3)(J.KV,!0)},1920:(It,Ce,M)=>{M.d(Ce,{q4:()=>me,HU:()=>Ve,Rf:()=>it,vb:()=>ft,JM:()=>tt,u3:()=>Wt});var m=M(8926),q=M(3182),ae=M(1954),oe=M(2631);const ue=new class J extends oe.v{}(class ee extends ae.o{constructor(Ct,pt){super(Ct,pt),this.scheduler=Ct,this.work=pt}schedule(Ct,pt=0){return pt>0?super.schedule(Ct,pt):(this.delay=pt,this.state=Ct,this.scheduler.flush(this),this)}execute(Ct,pt){return pt>0||this.closed?super.execute(Ct,pt):this._execute(Ct,pt)}requestAsyncId(Ct,pt,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(Ct,pt,pe):(Ct.flush(this),0)}});var Ee=M(6321),G=M(5592),K=M(9397),se=M(5137),Me=M(3093);const me=new m.GfV("ANGULARFIRE2_VERSION");function tt(qe,Ct,pt){if(Ct){if(1===Ct.length)return Ct[0];const xe=Ct.filter(we=>we.app===pt);if(1===xe.length)return xe[0]}return pt.container.getProvider(qe).getImmediate({optional:!0})}const ft=(qe,Ct)=>{const pt=Ct?[Ct]:(0,q.C6)(),pe=[];return pt.forEach(ye=>{ye.container.getProvider(qe).instances.forEach(we=>{pe.includes(we)||pe.push(we)})}),pe};class it{constructor(){return ft(jt)}}const jt="app-check";function We(){}class Le{zone;delegate;constructor(Ct,pt=ue){this.zone=Ct,this.delegate=pt}now(){return this.delegate.now()}schedule(Ct,pt,pe){const ye=this.zone;return this.delegate.schedule(function(we){ye.runGuarded(()=>{Ct.apply(this,[we])})},pt,pe)}}class Fe{zone;task=null;constructor(Ct){this.zone=Ct}call(Ct,pt){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",We,{},We,We)),pt.pipe((0,K.b)({next:pe,complete:pe,error:pe})).subscribe(Ct).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ve=(()=>{class qe{ngZone;outsideAngular;insideAngular;constructor(pt){this.ngZone=pt,this.outsideAngular=pt.runOutsideAngular(()=>new Le(Zone.current)),this.insideAngular=pt.run(()=>new Le(Zone.current,Ee.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(pe){return new(pe||qe)(m.LFG(m.R0b))};static \u0275prov=m.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})();function Ye(){const qe=globalThis.\u0275AngularFireScheduler;if(!qe)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return qe}function ge(qe){return Ye().ngZone.run(()=>qe())}function nt(qe){return function ze(qe){return function(pt){return(pt=pt.lift(new Fe(qe.ngZone))).pipe((0,se.R)(qe.outsideAngular),(0,Me.Q)(qe.insideAngular))}}(Ye())(qe)}const bt=(qe,Ct)=>function(){const pe=arguments;return Ct&&setTimeout(()=>{"scheduled"===Ct.state&&Ct.invoke()},10),ge(()=>qe.apply(void 0,pe))},Wt=(qe,Ct)=>function(){let pt;const pe=arguments;for(let xe=0;xe<arguments.length;xe++)"function"==typeof pe[xe]&&(Ct&&(pt||=ge(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",We,{},We,We))),pe[xe]=bt(pe[xe],pt));const ye=function ke(qe){return Ye().ngZone.runOutsideAngular(()=>qe())}(()=>qe.apply(this,pe));if(!Ct){if(ye instanceof G.y){const xe=Ye();return ye.pipe((0,se.R)(xe.outsideAngular),(0,Me.Q)(xe.insideAngular))}return ge(()=>ye)}return ye instanceof G.y?ye.pipe(nt):ye instanceof Promise?ge(()=>new Promise((xe,we)=>ye.then(Be=>ge(()=>xe(Be)),Be=>ge(()=>we(Be))))):"function"==typeof ye&&pt?function(){return setTimeout(()=>{pt&&"scheduled"===pt.state&&pt.invoke()},10),ye.apply(this,arguments)}:ge(()=>ye)}},6593:(It,Ce,M)=>{M.d(Ce,{Dx:()=>ri,H7:()=>$n,b2:()=>Lt,q6:()=>vt,vm:()=>An});var m=M(8926),q=M(6814);class ae extends q.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ee extends ae{static makeCurrent(){(0,q.HT)(new ee)}onAndCancel(z,$,H){return z.addEventListener($,H),()=>{z.removeEventListener($,H)}}dispatchEvent(z,$){z.dispatchEvent($)}remove(z){z.parentNode&&z.parentNode.removeChild(z)}createElement(z,$){return($=$||this.getDefaultDocument()).createElement(z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(z){return z.nodeType===Node.ELEMENT_NODE}isShadowRoot(z){return z instanceof DocumentFragment}getGlobalEventTarget(z,$){return"window"===$?window:"document"===$?z:"body"===$?z.body:null}getBaseHref(z){const $=function J(){return oe=oe||document.querySelector("base"),oe?oe.getAttribute("href"):null}();return null==$?null:function ne(B){ue=ue||document.createElement("a"),ue.setAttribute("href",B);const z=ue.pathname;return"/"===z.charAt(0)?z:`/${z}`}($)}resetBaseElement(){oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(z){return(0,q.Mx)(document.cookie,z)}}let ue,oe=null,G=(()=>{class B{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(H){return new(H||B)};static#t=this.\u0275prov=m.Yz7({token:B,factory:B.\u0275fac})}return B})();const K=new m.OlP("EventManagerPlugins");let se=(()=>{class B{constructor($,H){this._zone=H,this._eventNameToPlugin=new Map,$.forEach(he=>{he.manager=this}),this._plugins=$.slice().reverse()}addEventListener($,H,he){return this._findPluginFor(H).addEventListener($,H,he)}getZone(){return this._zone}_findPluginFor($){let H=this._eventNameToPlugin.get($);if(H)return H;if(H=this._plugins.find(je=>je.supports($)),!H)throw new m.vHH(5101,!1);return this._eventNameToPlugin.set($,H),H}static#e=this.\u0275fac=function(H){return new(H||B)(m.LFG(K),m.LFG(m.R0b))};static#t=this.\u0275prov=m.Yz7({token:B,factory:B.\u0275fac})}return B})();class Me{constructor(z){this._doc=z}}const me="ng-app-id";let He=(()=>{class B{constructor($,H,he,je={}){this.doc=$,this.appId=H,this.nonce=he,this.platformId=je,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,q.PM)(je),this.resetHostNodes()}addStyles($){for(const H of $)1===this.changeUsageCount(H,1)&&this.onStyleAdded(H)}removeStyles($){for(const H of $)this.changeUsageCount(H,-1)<=0&&this.onStyleRemoved(H)}ngOnDestroy(){const $=this.styleNodesInDOM;$&&($.forEach(H=>H.remove()),$.clear());for(const H of this.getAllStyles())this.onStyleRemoved(H);this.resetHostNodes()}addHost($){this.hostNodes.add($);for(const H of this.getAllStyles())this.addStyleToHost($,H)}removeHost($){this.hostNodes.delete($)}getAllStyles(){return this.styleRef.keys()}onStyleAdded($){for(const H of this.hostNodes)this.addStyleToHost(H,$)}onStyleRemoved($){const H=this.styleRef;H.get($)?.elements?.forEach(he=>he.remove()),H.delete($)}collectServerRenderedStyles(){const $=this.doc.head?.querySelectorAll(`style[${me}="${this.appId}"]`);if($?.length){const H=new Map;return $.forEach(he=>{null!=he.textContent&&H.set(he.textContent,he)}),H}return null}changeUsageCount($,H){const he=this.styleRef;if(he.has($)){const je=he.get($);return je.usage+=H,je.usage}return he.set($,{usage:H,elements:[]}),H}getStyleElement($,H){const he=this.styleNodesInDOM,je=he?.get(H);if(je?.parentNode===$)return he.delete(H),je.removeAttribute(me),je;{const ht=this.doc.createElement("style");return this.nonce&&ht.setAttribute("nonce",this.nonce),ht.textContent=H,this.platformIsServer&&ht.setAttribute(me,this.appId),ht}}addStyleToHost($,H){const he=this.getStyleElement($,H);$.appendChild(he);const je=this.styleRef,ht=je.get(H)?.elements;ht?ht.push(he):je.set(H,{elements:[he],usage:1})}resetHostNodes(){const $=this.hostNodes;$.clear(),$.add(this.doc.head)}static#e=this.\u0275fac=function(H){return new(H||B)(m.LFG(q.K0),m.LFG(m.AFp),m.LFG(m.Ojb,8),m.LFG(m.Lbi))};static#t=this.\u0275prov=m.Yz7({token:B,factory:B.\u0275fac})}return B})();const tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ft=/%COMP%/g,Fe=new m.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ke(B,z){return z.map($=>$.replace(ft,B))}let ge=(()=>{class B{constructor($,H,he,je,ht,Ht,tn,on=null){this.eventManager=$,this.sharedStylesHost=H,this.appId=he,this.removeStylesOnCompDestroy=je,this.doc=ht,this.platformId=Ht,this.ngZone=tn,this.nonce=on,this.rendererByCompId=new Map,this.platformIsServer=(0,q.PM)(Ht),this.defaultRenderer=new _e($,ht,tn,this.platformIsServer)}createRenderer($,H){if(!$||!H)return this.defaultRenderer;this.platformIsServer&&H.encapsulation===m.ifc.ShadowDom&&(H={...H,encapsulation:m.ifc.Emulated});const he=this.getOrCreateRenderer($,H);return he instanceof qe?he.applyToHost($):he instanceof Wt&&he.applyStyles(),he}getOrCreateRenderer($,H){const he=this.rendererByCompId;let je=he.get(H.id);if(!je){const ht=this.doc,Ht=this.ngZone,tn=this.eventManager,on=this.sharedStylesHost,Yt=this.removeStylesOnCompDestroy,hn=this.platformIsServer;switch(H.encapsulation){case m.ifc.Emulated:je=new qe(tn,on,H,this.appId,Yt,ht,Ht,hn);break;case m.ifc.ShadowDom:return new bt(tn,on,$,H,ht,Ht,this.nonce,hn);default:je=new Wt(tn,on,H,Yt,ht,Ht,hn)}he.set(H.id,je)}return je}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(H){return new(H||B)(m.LFG(se),m.LFG(He),m.LFG(m.AFp),m.LFG(Fe),m.LFG(q.K0),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(m.Ojb))};static#t=this.\u0275prov=m.Yz7({token:B,factory:B.\u0275fac})}return B})();class _e{constructor(z,$,H,he){this.eventManager=z,this.doc=$,this.ngZone=H,this.platformIsServer=he,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(z,$){return $?this.doc.createElementNS(tt[$]||$,z):this.doc.createElement(z)}createComment(z){return this.doc.createComment(z)}createText(z){return this.doc.createTextNode(z)}appendChild(z,$){(ze(z)?z.content:z).appendChild($)}insertBefore(z,$,H){z&&(ze(z)?z.content:z).insertBefore($,H)}removeChild(z,$){z&&z.removeChild($)}selectRootElement(z,$){let H="string"==typeof z?this.doc.querySelector(z):z;if(!H)throw new m.vHH(-5104,!1);return $||(H.textContent=""),H}parentNode(z){return z.parentNode}nextSibling(z){return z.nextSibling}setAttribute(z,$,H,he){if(he){$=he+":"+$;const je=tt[he];je?z.setAttributeNS(je,$,H):z.setAttribute($,H)}else z.setAttribute($,H)}removeAttribute(z,$,H){if(H){const he=tt[H];he?z.removeAttributeNS(he,$):z.removeAttribute(`${H}:${$}`)}else z.removeAttribute($)}addClass(z,$){z.classList.add($)}removeClass(z,$){z.classList.remove($)}setStyle(z,$,H,he){he&(m.JOm.DashCase|m.JOm.Important)?z.style.setProperty($,H,he&m.JOm.Important?"important":""):z.style[$]=H}removeStyle(z,$,H){H&m.JOm.DashCase?z.style.removeProperty($):z.style[$]=""}setProperty(z,$,H){z[$]=H}setValue(z,$){z.nodeValue=$}listen(z,$,H){if("string"==typeof z&&!(z=(0,q.q)().getGlobalEventTarget(this.doc,z)))throw new Error(`Unsupported event target ${z} for event ${$}`);return this.eventManager.addEventListener(z,$,this.decoratePreventDefault(H))}decoratePreventDefault(z){return $=>{if("__ngUnwrap__"===$)return z;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>z($)):z($))&&$.preventDefault()}}}function ze(B){return"TEMPLATE"===B.tagName&&void 0!==B.content}class bt extends _e{constructor(z,$,H,he,je,ht,Ht,tn){super(z,je,ht,tn),this.sharedStylesHost=$,this.hostEl=H,this.shadowRoot=H.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const on=ke(he.id,he.styles);for(const Yt of on){const hn=document.createElement("style");Ht&&hn.setAttribute("nonce",Ht),hn.textContent=Yt,this.shadowRoot.appendChild(hn)}}nodeOrShadowRoot(z){return z===this.hostEl?this.shadowRoot:z}appendChild(z,$){return super.appendChild(this.nodeOrShadowRoot(z),$)}insertBefore(z,$,H){return super.insertBefore(this.nodeOrShadowRoot(z),$,H)}removeChild(z,$){return super.removeChild(this.nodeOrShadowRoot(z),$)}parentNode(z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(z)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Wt extends _e{constructor(z,$,H,he,je,ht,Ht,tn){super(z,je,ht,Ht),this.sharedStylesHost=$,this.removeStylesOnCompDestroy=he,this.styles=tn?ke(tn,H.styles):H.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qe extends Wt{constructor(z,$,H,he,je,ht,Ht,tn){const on=he+"-"+H.id;super(z,$,H,je,ht,Ht,tn,on),this.contentAttr=function Ve(B){return"_ngcontent-%COMP%".replace(ft,B)}(on),this.hostAttr=function Ye(B){return"_nghost-%COMP%".replace(ft,B)}(on)}applyToHost(z){this.applyStyles(),this.setAttribute(z,this.hostAttr,"")}createElement(z,$){const H=super.createElement(z,$);return super.setAttribute(H,this.contentAttr,""),H}}let Ct=(()=>{class B extends Me{constructor($){super($)}supports($){return!0}addEventListener($,H,he){return $.addEventListener(H,he,!1),()=>this.removeEventListener($,H,he)}removeEventListener($,H,he){return $.removeEventListener(H,he)}static#e=this.\u0275fac=function(H){return new(H||B)(m.LFG(q.K0))};static#t=this.\u0275prov=m.Yz7({token:B,factory:B.\u0275fac})}return B})();const pt=["alt","control","meta","shift"],pe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ye={alt:B=>B.altKey,control:B=>B.ctrlKey,meta:B=>B.metaKey,shift:B=>B.shiftKey};let xe=(()=>{class B extends Me{constructor($){super($)}supports($){return null!=B.parseEventName($)}addEventListener($,H,he){const je=B.parseEventName(H),ht=B.eventCallback(je.fullKey,he,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,q.q)().onAndCancel($,je.domEventName,ht))}static parseEventName($){const H=$.toLowerCase().split("."),he=H.shift();if(0===H.length||"keydown"!==he&&"keyup"!==he)return null;const je=B._normalizeKey(H.pop());let ht="",Ht=H.indexOf("code");if(Ht>-1&&(H.splice(Ht,1),ht="code."),pt.forEach(on=>{const Yt=H.indexOf(on);Yt>-1&&(H.splice(Yt,1),ht+=on+".")}),ht+=je,0!=H.length||0===je.length)return null;const tn={};return tn.domEventName=he,tn.fullKey=ht,tn}static matchEventFullKeyCode($,H){let he=pe[$.key]||$.key,je="";return H.indexOf("code.")>-1&&(he=$.code,je="code."),!(null==he||!he)&&(he=he.toLowerCase()," "===he?he="space":"."===he&&(he="dot"),pt.forEach(ht=>{ht!==he&&(0,ye[ht])($)&&(je+=ht+".")}),je+=he,je===H)}static eventCallback($,H,he){return je=>{B.matchEventFullKeyCode(je,$)&&he.runGuarded(()=>H(je))}}static _normalizeKey($){return"esc"===$?"escape":$}static#e=this.\u0275fac=function(H){return new(H||B)(m.LFG(q.K0))};static#t=this.\u0275prov=m.Yz7({token:B,factory:B.\u0275fac})}return B})();const vt=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:q.bD},{provide:m.g9A,useValue:function sn(){ee.makeCurrent()},multi:!0},{provide:q.K0,useFactory:function ot(){return(0,m.RDi)(document),document},deps:[]}]),xn=new m.OlP(""),jn=[{provide:m.rWj,useClass:class Ee{addToWindow(z){m.dqk.getAngularTestability=(H,he=!0)=>{const je=z.findTestabilityInTree(H,he);if(null==je)throw new m.vHH(5103,!1);return je},m.dqk.getAllAngularTestabilities=()=>z.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>z.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(H=>{const he=m.dqk.getAllAngularTestabilities();let je=he.length,ht=!1;const Ht=function(tn){ht=ht||tn,je--,0==je&&H(ht)};he.forEach(tn=>{tn.whenStable(Ht)})})}findTestabilityInTree(z,$,H){return null==$?null:z.getTestability($)??(H?(0,q.q)().isShadowRoot($)?this.findTestabilityInTree(z,$.host,!0):this.findTestabilityInTree(z,$.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],zr=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function yn(){return new m.qLn},deps:[]},{provide:K,useClass:Ct,multi:!0,deps:[q.K0,m.R0b,m.Lbi]},{provide:K,useClass:xe,multi:!0,deps:[q.K0]},ge,He,se,{provide:m.FYo,useExisting:ge},{provide:q.JF,useClass:G,deps:[]},[]];let Lt=(()=>{class B{constructor($){}static withServerTransition($){return{ngModule:B,providers:[{provide:m.AFp,useValue:$.appId}]}}static#e=this.\u0275fac=function(H){return new(H||B)(m.LFG(xn,12))};static#t=this.\u0275mod=m.oAB({type:B});static#n=this.\u0275inj=m.cJS({providers:[...zr,...jn],imports:[q.ez,m.hGG]})}return B})(),ri=(()=>{class B{constructor($){this._doc=$}getTitle(){return this._doc.title}setTitle($){this._doc.title=$||""}static#e=this.\u0275fac=function(H){return new(H||B)(m.LFG(q.K0))};static#t=this.\u0275prov=m.Yz7({token:B,factory:function(H){let he=null;return he=H?new H:function Ri(){return new ri((0,m.LFG)(q.K0))}(),he},providedIn:"root"})}return B})();typeof window<"u"&&window;const An=new m.OlP("HammerLoader");let $n=(()=>{class B{static#e=this.\u0275fac=function(H){return new(H||B)};static#t=this.\u0275prov=m.Yz7({token:B,factory:function(H){let he=null;return he=H?new(H||B):m.LFG(Kt),he},providedIn:"root"})}return B})(),Kt=(()=>{class B extends $n{constructor($){super(),this._doc=$}sanitize($,H){if(null==H)return null;switch($){case m.q3G.NONE:return H;case m.q3G.HTML:return(0,m.qzn)(H,"HTML")?(0,m.z3N)(H):(0,m.EiD)(this._doc,String(H)).toString();case m.q3G.STYLE:return(0,m.qzn)(H,"Style")?(0,m.z3N)(H):H;case m.q3G.SCRIPT:if((0,m.qzn)(H,"Script"))return(0,m.z3N)(H);throw new m.vHH(5200,!1);case m.q3G.URL:return(0,m.qzn)(H,"URL")?(0,m.z3N)(H):(0,m.mCW)(String(H));case m.q3G.RESOURCE_URL:if((0,m.qzn)(H,"ResourceURL"))return(0,m.z3N)(H);throw new m.vHH(5201,!1);default:throw new m.vHH(5202,!1)}}bypassSecurityTrustHtml($){return(0,m.JVY)($)}bypassSecurityTrustStyle($){return(0,m.L6k)($)}bypassSecurityTrustScript($){return(0,m.eBb)($)}bypassSecurityTrustUrl($){return(0,m.LAX)($)}bypassSecurityTrustResourceUrl($){return(0,m.pB0)($)}static#e=this.\u0275fac=function(H){return new(H||B)(m.LFG(q.K0))};static#t=this.\u0275prov=m.Yz7({token:B,factory:function(H){let he=null;return he=H?new H:function fn(B){return new Kt(B.get(q.K0))}(m.LFG(m.zs3)),he},providedIn:"root"})}return B})()},614:(It,Ce,M)=>{M.d(Ce,{gz:()=>_r,m2:()=>ai,wm:()=>Yi,F0:()=>dt,rH:()=>lr,Bz:()=>Ke,lC:()=>mt});var m=M(8926),q=M(5592),ae=M(4674),oe=M(2459),J=M(2096),ue=M(5619),ne=M(2572),Ee=M(6973),G=M(5211),K=M(4829);function se(y){return new q.y(C=>{(0,K.Xf)(y()).subscribe(C)})}var Me=M(8407);function me(y,C){const _=(0,ae.m)(y)?y:()=>y,w=R=>R.error(_());return new q.y(C?R=>C.schedule(w,0,R):w)}var He=M(6232),tt=M(7394),ft=M(9360),it=M(8251);function jt(){return(0,ft.e)((y,C)=>{let _=null;y._refCount++;const w=(0,it.x)(C,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(_=null);const R=y._connection,j=_;_=null,R&&(!j||R===j)&&R.unsubscribe(),C.unsubscribe()});y.subscribe(w),w.closed||(_=y.connect())})}class We extends q.y{constructor(C,_){super(),this.source=C,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,ft.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,C?.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new tt.w0;const _=this.getSubject();C.add(this.source.subscribe((0,it.x)(_,void 0,()=>{this._teardown(),_.complete()},w=>{this._teardown(),_.error(w)},()=>this._teardown()))),C.closed&&(this._connection=null,C=tt.w0.EMPTY)}return C}refCount(){return jt()(this)}}var Le=M(8645),Fe=M(6814),Ve=M(7398),Ye=M(4664),ke=M(8180),ge=M(7921),_e=M(2181),st=M(1631),nt=M(1374);function ze(y,C){return(0,ae.m)(C)?(0,st.z)(y,C,1):(0,st.z)(y,1)}var bt=M(9397);function Wt(y){return(0,ft.e)((C,_)=>{let j,w=null,R=!1;w=C.subscribe((0,it.x)(_,void 0,void 0,X=>{j=(0,K.Xf)(y(X,Wt(y)(C))),w?(w.unsubscribe(),w=null,j.subscribe(_)):R=!0})),R&&(w.unsubscribe(),w=null,j.subscribe(_))})}var pt=M(3572);function pe(y){return y<=0?()=>He.E:(0,ft.e)((C,_)=>{let w=[];C.subscribe((0,it.x)(_,R=>{w.push(R),y<w.length&&w.shift()},()=>{for(const R of w)_.next(R);_.complete()},void 0,()=>{w=null}))})}var ye=M(3026),xe=M(2737);function Ze(y){return(0,ft.e)((C,_)=>{try{C.subscribe(_)}finally{_.add(y)}})}var Ft=M(9773),sn=M(7537),yn=M(6593);const ot="primary",Vt=Symbol("RouteTitle");class vt{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const _=this.params[C];return Array.isArray(_)?_[0]:_}return null}getAll(C){if(this.has(C)){const _=this.params[C];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function xn(y){return new vt(y)}function jn(y,C,_){const w=_.path.split("/");if(w.length>y.length||"full"===_.pathMatch&&(C.hasChildren()||w.length<y.length))return null;const R={};for(let j=0;j<w.length;j++){const X=w[j],Te=y[j];if(X.startsWith(":"))R[X.substring(1)]=Te;else if(X!==Te.path)return null}return{consumed:y.slice(0,w.length),posParams:R}}function Lt(y,C){const _=y?Object.keys(y):void 0,w=C?Object.keys(C):void 0;if(!_||!w||_.length!=w.length)return!1;let R;for(let j=0;j<_.length;j++)if(R=_[j],!wr(y[R],C[R]))return!1;return!0}function wr(y,C){if(Array.isArray(y)&&Array.isArray(C)){if(y.length!==C.length)return!1;const _=[...y].sort(),w=[...C].sort();return _.every((R,j)=>w[j]===R)}return y===C}function Er(y){return y.length>0?y[y.length-1]:null}function Fr(y){return function ee(y){return!!y&&(y instanceof q.y||(0,ae.m)(y.lift)&&(0,ae.m)(y.subscribe))}(y)?y:(0,m.QGY)(y)?(0,oe.D)(Promise.resolve(y)):(0,J.of)(y)}const Ri={exact:function Dn(y,C,_){if(!vn(y.segments,C.segments)||!Bt(y.segments,C.segments,_)||y.numberOfChildren!==C.numberOfChildren)return!1;for(const w in C.children)if(!y.children[w]||!Dn(y.children[w],C.children[w],_))return!1;return!0},subset:qt},ri={exact:function hr(y,C){return Lt(y,C)},subset:function en(y,C){return Object.keys(C).length<=Object.keys(y).length&&Object.keys(C).every(_=>wr(y[_],C[_]))},ignored:()=>!0};function ii(y,C,_){return Ri[_.paths](y.root,C.root,_.matrixParams)&&ri[_.queryParams](y.queryParams,C.queryParams)&&!("exact"===_.fragment&&y.fragment!==C.fragment)}function qt(y,C,_){return Ar(y,C,C.segments,_)}function Ar(y,C,_,w){if(y.segments.length>_.length){const R=y.segments.slice(0,_.length);return!(!vn(R,_)||C.hasChildren()||!Bt(R,_,w))}if(y.segments.length===_.length){if(!vn(y.segments,_)||!Bt(y.segments,_,w))return!1;for(const R in C.children)if(!y.children[R]||!qt(y.children[R],C.children[R],w))return!1;return!0}{const R=_.slice(0,y.segments.length),j=_.slice(y.segments.length);return!!(vn(y.segments,R)&&Bt(y.segments,R,w)&&y.children[ot])&&Ar(y.children[ot],C,j,w)}}function Bt(y,C,_){return C.every((w,R)=>ri[_](y[R].parameters,w.parameters))}class pr{constructor(C=new un([],{}),_={},w=null){this.root=C,this.queryParams=_,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xn(this.queryParams)),this._queryParamMap}toString(){return cn.serialize(this)}}class un{constructor(C,_){this.segments=C,this.children=_,this.parent=null,Object.values(_).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $n(this)}}class dn{constructor(C,_){this.path=C,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=xn(this.parameters)),this._parameterMap}toString(){return Wi(this)}}function vn(y,C){return y.length===C.length&&y.every((_,w)=>_.path===C[w].path)}let $t=(()=>{class y{static#e=this.\u0275fac=function(w){return new(w||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:function(){return new Pi},providedIn:"root"})}return y})();class Pi{parse(C){const _=new tn(C);return new pr(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(C){const _=`/${fn(C.root,!0)}`,w=function re(y){const C=Object.keys(y).map(_=>{const w=y[_];return Array.isArray(w)?w.map(R=>`${ir(_)}=${ir(R)}`).join("&"):`${ir(_)}=${ir(w)}`}).filter(_=>!!_);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${_}${w}${"string"==typeof C.fragment?`#${function vi(y){return encodeURI(y)}(C.fragment)}`:""}`}}const cn=new Pi;function $n(y){return y.segments.map(C=>Wi(C)).join("/")}function fn(y,C){if(!y.hasChildren())return $n(y);if(C){const _=y.children[ot]?fn(y.children[ot],!1):"",w=[];return Object.entries(y.children).forEach(([R,j])=>{R!==ot&&w.push(`${R}:${fn(j,!1)}`)}),w.length>0?`${_}(${w.join("//")})`:_}{const _=function An(y,C){let _=[];return Object.entries(y.children).forEach(([w,R])=>{w===ot&&(_=_.concat(C(R,w)))}),Object.entries(y.children).forEach(([w,R])=>{w!==ot&&(_=_.concat(C(R,w)))}),_}(y,(w,R)=>R===ot?[fn(y.children[ot],!1)]:[`${R}:${fn(w,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[ot]?`${$n(y)}/${_[0]}`:`${$n(y)}/(${_.join("//")})`}}function Kt(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ir(y){return Kt(y).replace(/%3B/gi,";")}function gr(y){return Kt(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gi(y){return decodeURIComponent(y)}function Rs(y){return Gi(y.replace(/\+/g,"%20"))}function Wi(y){return`${gr(y.path)}${function Es(y){return Object.keys(y).map(C=>`;${gr(C)}=${gr(y[C])}`).join("")}(y.parameters)}`}const B=/^[^\/()?;#]+/;function z(y){const C=y.match(B);return C?C[0]:""}const $=/^[^\/()?;=#]+/,he=/^[^=?&#]+/,ht=/^[^&#]+/;class tn{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(C.length>0||Object.keys(_).length>0)&&(w[ot]=new un(C,_)),w}parseSegment(){const C=z(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(C),new dn(Gi(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const _=function H(y){const C=y.match($);return C?C[0]:""}(this.remaining);if(!_)return;this.capture(_);let w="";if(this.consumeOptional("=")){const R=z(this.remaining);R&&(w=R,this.capture(w))}C[Gi(_)]=Gi(w)}parseQueryParam(C){const _=function je(y){const C=y.match(he);return C?C[0]:""}(this.remaining);if(!_)return;this.capture(_);let w="";if(this.consumeOptional("=")){const X=function Ht(y){const C=y.match(ht);return C?C[0]:""}(this.remaining);X&&(w=X,this.capture(w))}const R=Rs(_),j=Rs(w);if(C.hasOwnProperty(R)){let X=C[R];Array.isArray(X)||(X=[X],C[R]=X),X.push(j)}else C[R]=j}parseParens(C){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=z(this.remaining),R=this.remaining[w.length];if("/"!==R&&")"!==R&&";"!==R)throw new m.vHH(4010,!1);let j;w.indexOf(":")>-1?(j=w.slice(0,w.indexOf(":")),this.capture(j),this.capture(":")):C&&(j=ot);const X=this.parseChildren();_[j]=1===Object.keys(X).length?X[ot]:new un([],X),this.consumeOptional("//")}return _}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new m.vHH(4011,!1)}}function on(y){return y.segments.length>0?new un([],{[ot]:y}):y}function Yt(y){const C={};for(const w of Object.keys(y.children)){const j=Yt(y.children[w]);if(w===ot&&0===j.segments.length&&j.hasChildren())for(const[X,Te]of Object.entries(j.children))C[X]=Te;else(j.segments.length>0||j.hasChildren())&&(C[w]=j)}return function hn(y){if(1===y.numberOfChildren&&y.children[ot]){const C=y.children[ot];return new un(y.segments.concat(C.segments),C.children)}return y}(new un(y.segments,C))}function xr(y){return y instanceof pr}function qi(y){let C;const R=on(function _(j){const X={};for(const Se of j.children){const Tt=_(Se);X[Se.outlet]=Tt}const Te=new un(j.url,X);return j===y&&(C=Te),Te}(y.root));return C??R}function Oe(y,C,_,w){let R=y;for(;R.parent;)R=R.parent;if(0===C.length)return Rt(R,R,R,_,w);const j=function pn(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new zt(!0,0,y);let C=0,_=!1;const w=y.reduce((R,j,X)=>{if("object"==typeof j&&null!=j){if(j.outlets){const Te={};return Object.entries(j.outlets).forEach(([Se,Tt])=>{Te[Se]="string"==typeof Tt?Tt.split("/"):Tt}),[...R,{outlets:Te}]}if(j.segmentPath)return[...R,j.segmentPath]}return"string"!=typeof j?[...R,j]:0===X?(j.split("/").forEach((Te,Se)=>{0==Se&&"."===Te||(0==Se&&""===Te?_=!0:".."===Te?C++:""!=Te&&R.push(Te))}),R):[...R,j]},[]);return new zt(_,C,w)}(C);if(j.toRoot())return Rt(R,R,new un([],{}),_,w);const X=function Nn(y,C,_){if(y.isAbsolute)return new Hn(C,!0,0);if(!_)return new Hn(C,!1,NaN);if(null===_.parent)return new Hn(_,!0,0);const w=ve(y.commands[0])?0:1;return function mn(y,C,_){let w=y,R=C,j=_;for(;j>R;){if(j-=R,w=w.parent,!w)throw new m.vHH(4005,!1);R=w.segments.length}return new Hn(w,!1,R-j)}(_,_.segments.length-1+w,y.numberOfDoubleDots)}(j,R,y),Te=X.processChildren?Sn(X.segmentGroup,X.index,j.commands):Ps(X.segmentGroup,X.index,j.commands);return Rt(R,X.segmentGroup,Te,_,w)}function ve(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Xe(y){return"object"==typeof y&&null!=y&&y.outlets}function Rt(y,C,_,w,R){let X,j={};w&&Object.entries(w).forEach(([Se,Tt])=>{j[Se]=Array.isArray(Tt)?Tt.map(Jt=>`${Jt}`):`${Tt}`}),X=y===C?_:nn(y,C,_);const Te=on(Yt(X));return new pr(Te,j,R)}function nn(y,C,_){const w={};return Object.entries(y.children).forEach(([R,j])=>{w[R]=j===C?_:nn(j,C,_)}),new un(y.segments,w)}class zt{constructor(C,_,w){if(this.isAbsolute=C,this.numberOfDoubleDots=_,this.commands=w,C&&w.length>0&&ve(w[0]))throw new m.vHH(4003,!1);const R=w.find(Xe);if(R&&R!==Er(w))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hn{constructor(C,_,w){this.segmentGroup=C,this.processChildren=_,this.index=w}}function Ps(y,C,_){if(y||(y=new un([],{})),0===y.segments.length&&y.hasChildren())return Sn(y,C,_);const w=function Ms(y,C,_){let w=0,R=C;const j={match:!1,pathIndex:0,commandIndex:0};for(;R<y.segments.length;){if(w>=_.length)return j;const X=y.segments[R],Te=_[w];if(Xe(Te))break;const Se=`${Te}`,Tt=w<_.length-1?_[w+1]:null;if(R>0&&void 0===Se)break;if(Se&&Tt&&"object"==typeof Tt&&void 0===Tt.outlets){if(!es(Se,Tt,X))return j;w+=2}else{if(!es(Se,{},X))return j;w++}R++}return{match:!0,pathIndex:R,commandIndex:w}}(y,C,_),R=_.slice(w.commandIndex);if(w.match&&w.pathIndex<y.segments.length){const j=new un(y.segments.slice(0,w.pathIndex),{});return j.children[ot]=new un(y.segments.slice(w.pathIndex),y.children),Sn(j,0,R)}return w.match&&0===R.length?new un(y.segments,{}):w.match&&!y.hasChildren()?bn(y,C,_):w.match?Sn(y,0,R):bn(y,C,_)}function Sn(y,C,_){if(0===_.length)return new un(y.segments,{});{const w=function si(y){return Xe(y[0])?y[0].outlets:{[ot]:y}}(_),R={};if(Object.keys(w).some(j=>j!==ot)&&y.children[ot]&&1===y.numberOfChildren&&0===y.children[ot].segments.length){const j=Sn(y.children[ot],C,_);return new un(y.segments,j.children)}return Object.entries(w).forEach(([j,X])=>{"string"==typeof X&&(X=[X]),null!==X&&(R[j]=Ps(y.children[j],C,X))}),Object.entries(y.children).forEach(([j,X])=>{void 0===w[j]&&(R[j]=X)}),new un(y.segments,R)}}function bn(y,C,_){const w=y.segments.slice(0,C);let R=0;for(;R<_.length;){const j=_[R];if(Xe(j)){const Se=oi(j.outlets);return new un(w,Se)}if(0===R&&ve(_[0])){w.push(new dn(y.segments[C].path,Bs(_[0]))),R++;continue}const X=Xe(j)?j.outlets[ot]:`${j}`,Te=R<_.length-1?_[R+1]:null;X&&Te&&ve(Te)?(w.push(new dn(X,Bs(Te))),R+=2):(w.push(new dn(X,{})),R++)}return new un(w,{})}function oi(y){const C={};return Object.entries(y).forEach(([_,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(C[_]=bn(new un([],{}),0,w))}),C}function Bs(y){const C={};return Object.entries(y).forEach(([_,w])=>C[_]=`${w}`),C}function es(y,C,_){return y==_.path&&Lt(C,_.parameters)}const Mi="imperative";class Ir{constructor(C,_){this.id=C,this.url=_}}class xi extends Ir{constructor(C,_,w="imperative",R=null){super(C,_),this.type=0,this.navigationTrigger=w,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ai extends Ir{constructor(C,_,w){super(C,_),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gt extends Ir{constructor(C,_,w,R){super(C,_),this.reason=w,this.code=R,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class et extends Ir{constructor(C,_,w,R){super(C,_),this.reason=w,this.code=R,this.type=16}}class xt extends Ir{constructor(C,_,w,R){super(C,_),this.error=w,this.target=R,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pt extends Ir{constructor(C,_,w,R){super(C,_),this.urlAfterRedirects=w,this.state=R,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vr extends Ir{constructor(C,_,w,R){super(C,_),this.urlAfterRedirects=w,this.state=R,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gr extends Ir{constructor(C,_,w,R,j){super(C,_),this.urlAfterRedirects=w,this.state=R,this.shouldActivate=j,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mr extends Ir{constructor(C,_,w,R){super(C,_),this.urlAfterRedirects=w,this.state=R,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class js extends Ir{constructor(C,_,w,R){super(C,_),this.urlAfterRedirects=w,this.state=R,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $s{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lo{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xs{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mi{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Po{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hs{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qs{constructor(C,_,w){this.routerEvent=C,this.position=_,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ns{}class ts{constructor(C){this.url=C}}class Js{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xs,this.attachRef=null}}let Xs=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(_,w){const R=this.getOrCreateContext(_);R.outlet=w,this.contexts.set(_,R)}onChildOutletDestroyed(_){const w=this.getContext(_);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let w=this.getContext(_);return w||(w=new Js,this.contexts.set(_,w)),w}getContext(_){return this.contexts.get(_)||null}static#e=this.\u0275fac=function(w){return new(w||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();class eo{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const _=this.pathFromRoot(C);return _.length>1?_[_.length-2]:null}children(C){const _=zs(C,this._root);return _?_.children.map(w=>w.value):[]}firstChild(C){const _=zs(C,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(C){const _=Os(C,this._root);return _.length<2?[]:_[_.length-2].children.map(R=>R.value).filter(R=>R!==C)}pathFromRoot(C){return Os(C,this._root).map(_=>_.value)}}function zs(y,C){if(y===C.value)return C;for(const _ of C.children){const w=zs(y,_);if(w)return w}return null}function Os(y,C){if(y===C.value)return[C];for(const _ of C.children){const w=Os(y,_);if(w.length)return w.unshift(C),w}return[]}class Ei{constructor(C,_){this.value=C,this.children=_}toString(){return`TreeNode(${this.value})`}}function Wr(y){const C={};return y&&y.children.forEach(_=>C[_.value.outlet]=_),C}class Ni extends eo{constructor(C,_){super(C),this.snapshot=_,to(this,C)}toString(){return this.snapshot.toString()}}function _n(y,C){const _=function Cr(y,C){const X=new rs([],{},{},"",{},ot,C,null,{});return new is("",new Ei(X,[]))}(0,C),w=new ue.X([new dn("",{})]),R=new ue.X({}),j=new ue.X({}),X=new ue.X({}),Te=new ue.X(""),Se=new _r(w,R,X,Te,j,ot,C,_.root);return Se.snapshot=_.root,new Ni(new Ei(Se,[]),_)}class _r{constructor(C,_,w,R,j,X,Te,Se){this.urlSubject=C,this.paramsSubject=_,this.queryParamsSubject=w,this.fragmentSubject=R,this.dataSubject=j,this.outlet=X,this.component=Te,this._futureSnapshot=Se,this.title=this.dataSubject?.pipe((0,Ve.U)(Tt=>Tt[Vt]))??(0,J.of)(void 0),this.url=C,this.params=_,this.queryParams=w,this.fragment=R,this.data=j}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ve.U)(C=>xn(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ve.U)(C=>xn(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fn(y,C="emptyOnly"){const _=y.pathFromRoot;let w=0;if("always"!==C)for(w=_.length-1;w>=1;){const R=_[w],j=_[w-1];if(R.routeConfig&&""===R.routeConfig.path)w--;else{if(j.component)break;w--}}return function Qr(y){return y.reduce((C,_)=>({params:{...C.params,..._.params},data:{...C.data,..._.data},resolve:{..._.data,...C.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(w))}class rs{get title(){return this.data?.[Vt]}constructor(C,_,w,R,j,X,Te,Se,Tt){this.url=C,this.params=_,this.queryParams=w,this.fragment=R,this.data=j,this.outlet=X,this.component=Te,this.routeConfig=Se,this._resolve=Tt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class is extends eo{constructor(C,_){super(_),this.url=C,to(this,_)}toString(){return ho(this._root)}}function to(y,C){C.value._routerState=y,C.children.forEach(_=>to(y,_))}function ho(y){const C=y.children.length>0?` { ${y.children.map(ho).join(", ")} } `:"";return`${y.value}${C}`}function fo(y){if(y.snapshot){const C=y.snapshot,_=y._futureSnapshot;y.snapshot=_,Lt(C.queryParams,_.queryParams)||y.queryParamsSubject.next(_.queryParams),C.fragment!==_.fragment&&y.fragmentSubject.next(_.fragment),Lt(C.params,_.params)||y.paramsSubject.next(_.params),function zr(y,C){if(y.length!==C.length)return!1;for(let _=0;_<y.length;++_)if(!Lt(y[_],C[_]))return!1;return!0}(C.url,_.url)||y.urlSubject.next(_.url),Lt(C.data,_.data)||y.dataSubject.next(_.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function Qn(y,C){const _=Lt(y.params,C.params)&&function Vi(y,C){return vn(y,C)&&y.every((_,w)=>Lt(_.parameters,C[w].parameters))}(y.url,C.url);return _&&!(!y.parent!=!C.parent)&&(!y.parent||Qn(y.parent,C.parent))}let mt=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=ot,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.parentContexts=(0,m.f3M)(Xs),this.location=(0,m.f3M)(m.s_b),this.changeDetector=(0,m.f3M)(m.sBO),this.environmentInjector=(0,m.f3M)(m.lqb),this.inputBinder=(0,m.f3M)(On,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:w,previousValue:R}=_.name;if(w)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,w){this.activated=_,this._activatedRoute=w,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,w){if(this.isActivated)throw new m.vHH(4013,!1);this._activatedRoute=_;const R=this.location,X=_.snapshot.component,Te=this.parentContexts.getOrCreateContext(this.name).children,Se=new Zt(_,Te,R.injector);this.activated=R.createComponent(X,{index:R.length,injector:Se,environmentInjector:w??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(w){return new(w||y)};static#t=this.\u0275dir=m.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.TTD]})}return y})();class Zt{constructor(C,_,w){this.route=C,this.childContexts=_,this.parent=w}get(C,_){return C===_r?this.route:C===Xs?this.childContexts:this.parent.get(C,_)}}const On=new m.OlP("");let Nr=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:w}=_,R=(0,ne.a)([w.queryParams,w.params,w.data]).pipe((0,Ye.w)(([j,X,Te],Se)=>(Te={...j,...X,...Te},0===Se?(0,J.of)(Te):Promise.resolve(Te)))).subscribe(j=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==w||null===w.component)return void this.unsubscribeFromRouteData(_);const X=(0,m.qFp)(w.component);if(X)for(const{templateName:Te}of X.inputs)_.activatedComponentRef.setInput(Te,j[Te]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,R)}static#e=this.\u0275fac=function(w){return new(w||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac})}return y})();function Or(y,C,_){if(_&&y.shouldReuseRoute(C.value,_.value.snapshot)){const w=_.value;w._futureSnapshot=C.value;const R=function Is(y,C,_){return C.children.map(w=>{for(const R of _.children)if(y.shouldReuseRoute(w.value,R.value.snapshot))return Or(y,w,R);return Or(y,w)})}(y,C,_);return new Ei(w,R)}{if(y.shouldAttach(C.value)){const j=y.retrieve(C.value);if(null!==j){const X=j.route;return X.value._futureSnapshot=C.value,X.children=C.children.map(Te=>Or(y,Te)),X}}const w=function ur(y){return new _r(new ue.X(y.url),new ue.X(y.params),new ue.X(y.queryParams),new ue.X(y.fragment),new ue.X(y.data),y.outlet,y.component,y)}(C.value),R=C.children.map(j=>Or(y,j));return new Ei(w,R)}}const Ii="ngNavigationCancelingError";function L(y,C){const{redirectTo:_,navigationBehaviorOptions:w}=xr(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,R=N(!1,0,C);return R.url=_,R.navigationBehaviorOptions=w,R}function N(y,C,_){const w=new Error("NavigationCancelingError: "+(y||""));return w[Ii]=!0,w.cancellationCode=C,_&&(w.url=_),w}function ie(y){return y&&y[Ii]}let fe=(()=>{class y{static#e=this.\u0275fac=function(w){return new(w||y)};static#t=this.\u0275cmp=m.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(w,R){1&w&&m._UZ(0,"router-outlet")},dependencies:[mt],encapsulation:2})}return y})();function Vn(y){const C=y.children&&y.children.map(Vn),_=C?{...y,children:C}:{...y};return!_.component&&!_.loadComponent&&(C||_.loadChildren)&&_.outlet&&_.outlet!==ot&&(_.component=fe),_}function Ot(y){return y.outlet||ot}function ui(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let C=y.parent;C;C=C.parent){const _=C.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class Sr{constructor(C,_,w,R,j){this.routeReuseStrategy=C,this.futureState=_,this.currState=w,this.forwardEvent=R,this.inputBindingEnabled=j}activate(C){const _=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,w,C),fo(this.futureState.root),this.activateChildRoutes(_,w,C)}deactivateChildRoutes(C,_,w){const R=Wr(_);C.children.forEach(j=>{const X=j.value.outlet;this.deactivateRoutes(j,R[X],w),delete R[X]}),Object.values(R).forEach(j=>{this.deactivateRouteAndItsChildren(j,w)})}deactivateRoutes(C,_,w){const R=C.value,j=_?_.value:null;if(R===j)if(R.component){const X=w.getContext(R.outlet);X&&this.deactivateChildRoutes(C,_,X.children)}else this.deactivateChildRoutes(C,_,w);else j&&this.deactivateRouteAndItsChildren(_,w)}deactivateRouteAndItsChildren(C,_){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,_):this.deactivateRouteAndOutlet(C,_)}detachAndStoreRouteSubtree(C,_){const w=_.getContext(C.value.outlet),R=w&&C.value.component?w.children:_,j=Wr(C);for(const X of Object.keys(j))this.deactivateRouteAndItsChildren(j[X],R);if(w&&w.outlet){const X=w.outlet.detach(),Te=w.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:X,route:C,contexts:Te})}}deactivateRouteAndOutlet(C,_){const w=_.getContext(C.value.outlet),R=w&&C.value.component?w.children:_,j=Wr(C);for(const X of Object.keys(j))this.deactivateRouteAndItsChildren(j[X],R);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(C,_,w){const R=Wr(_);C.children.forEach(j=>{this.activateRoutes(j,R[j.value.outlet],w),this.forwardEvent(new Hs(j.value.snapshot))}),C.children.length&&this.forwardEvent(new mi(C.value.snapshot))}activateRoutes(C,_,w){const R=C.value,j=_?_.value:null;if(fo(R),R===j)if(R.component){const X=w.getOrCreateContext(R.outlet);this.activateChildRoutes(C,_,X.children)}else this.activateChildRoutes(C,_,w);else if(R.component){const X=w.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const Te=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),X.children.onOutletReAttached(Te.contexts),X.attachRef=Te.componentRef,X.route=Te.route.value,X.outlet&&X.outlet.attach(Te.componentRef,Te.route.value),fo(Te.route.value),this.activateChildRoutes(C,null,X.children)}else{const Te=ui(R.snapshot);X.attachRef=null,X.route=R,X.injector=Te,X.outlet&&X.outlet.activateWith(R,X.injector),this.activateChildRoutes(C,null,X.children)}}else this.activateChildRoutes(C,null,w)}}class kn{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class hi{constructor(C,_){this.component=C,this.route=_}}function br(y,C,_){const w=y._root;return Xr(w,C?C._root:null,_,[w.value])}function Rr(y,C){const _=Symbol(),w=C.get(y,_);return w===_?"function"!=typeof y||(0,m.Z0I)(y)?C.get(y):y:w}function Xr(y,C,_,w,R={canDeactivateChecks:[],canActivateChecks:[]}){const j=Wr(C);return y.children.forEach(X=>{(function po(y,C,_,w,R={canDeactivateChecks:[],canActivateChecks:[]}){const j=y.value,X=C?C.value:null,Te=_?_.getContext(y.value.outlet):null;if(X&&j.routeConfig===X.routeConfig){const Se=function ss(y,C,_){if("function"==typeof _)return _(y,C);switch(_){case"pathParamsChange":return!vn(y.url,C.url);case"pathParamsOrQueryParamsChange":return!vn(y.url,C.url)||!Lt(y.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qn(y,C)||!Lt(y.queryParams,C.queryParams);default:return!Qn(y,C)}}(X,j,j.routeConfig.runGuardsAndResolvers);Se?R.canActivateChecks.push(new kn(w)):(j.data=X.data,j._resolvedData=X._resolvedData),Xr(y,C,j.component?Te?Te.children:null:_,w,R),Se&&Te&&Te.outlet&&Te.outlet.isActivated&&R.canDeactivateChecks.push(new hi(Te.outlet.component,X))}else X&&os(C,Te,R),R.canActivateChecks.push(new kn(w)),Xr(y,null,j.component?Te?Te.children:null:_,w,R)})(X,j[X.value.outlet],_,w.concat([X.value]),R),delete j[X.value.outlet]}),Object.entries(j).forEach(([X,Te])=>os(Te,_.getContext(X),R)),R}function os(y,C,_){const w=Wr(y),R=y.value;Object.entries(w).forEach(([j,X])=>{os(X,R.component?C?C.children.getContext(j):null:C,_)}),_.canDeactivateChecks.push(new hi(R.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,R))}function yi(y){return"function"==typeof y}function xo(y){return y instanceof Ee.K||"EmptyError"===y?.name}const go=Symbol("INITIAL_VALUE");function Ts(){return(0,Ye.w)(y=>(0,ne.a)(y.map(C=>C.pipe((0,ke.q)(1),(0,ge.O)(go)))).pipe((0,Ve.U)(C=>{for(const _ of C)if(!0!==_){if(_===go)return go;if(!1===_||_ instanceof pr)return _}return!0}),(0,_e.h)(C=>C!==go),(0,ke.q)(1)))}function mo(y){return(0,Me.z)((0,bt.b)(C=>{if(xr(C))throw L(0,C)}),(0,Ve.U)(C=>!0===C))}class us{constructor(C){this.segmentGroup=C||null}}class Ki{constructor(C){this.urlTree=C}}function fi(y){return me(new us(y))}function Oo(y){return me(new Ki(y))}class Ti{constructor(C,_){this.urlSerializer=C,this.urlTree=_}noMatchError(C){return new m.vHH(4002,!1)}lineralizeSegments(C,_){let w=[],R=_.root;for(;;){if(w=w.concat(R.segments),0===R.numberOfChildren)return(0,J.of)(w);if(R.numberOfChildren>1||!R.children[ot])return me(new m.vHH(4e3,!1));R=R.children[ot]}}applyRedirectCommands(C,_,w){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),C,w)}applyRedirectCreateUrlTree(C,_,w,R){const j=this.createSegmentGroup(C,_.root,w,R);return new pr(j,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(C,_){const w={};return Object.entries(C).forEach(([R,j])=>{if("string"==typeof j&&j.startsWith(":")){const Te=j.substring(1);w[R]=_[Te]}else w[R]=j}),w}createSegmentGroup(C,_,w,R){const j=this.createSegments(C,_.segments,w,R);let X={};return Object.entries(_.children).forEach(([Te,Se])=>{X[Te]=this.createSegmentGroup(C,Se,w,R)}),new un(j,X)}createSegments(C,_,w,R){return _.map(j=>j.path.startsWith(":")?this.findPosParam(C,j,R):this.findOrReturn(j,w))}findPosParam(C,_,w){const R=w[_.path.substring(1)];if(!R)throw new m.vHH(4001,!1);return R}findOrReturn(C,_){let w=0;for(const R of _){if(R.path===C.path)return _.splice(w),R;w++}return C}}const ci={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function au(y,C,_,w,R){const j=cs(y,C,_);return j.matched?(w=function Re(y,C){return y.providers&&!y._injector&&(y._injector=(0,m.MMx)(y.providers,C,`Route: ${y.path}`)),y._injector??C}(C,w),function io(y,C,_,w){const R=C.canMatch;if(!R||0===R.length)return(0,J.of)(!0);const j=R.map(X=>{const Te=Rr(X,y);return Fr(function sr(y){return y&&yi(y.canMatch)}(Te)?Te.canMatch(C,_):y.runInContext(()=>Te(C,_)))});return(0,J.of)(j).pipe(Ts(),mo())}(w,C,_).pipe((0,Ve.U)(X=>!0===X?j:{...ci}))):(0,J.of)(j)}function cs(y,C,_){if(""===C.path)return"full"===C.pathMatch&&(y.hasChildren()||_.length>0)?{...ci}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const R=(C.matcher||jn)(_,y,C);if(!R)return{...ci};const j={};Object.entries(R.posParams??{}).forEach(([Te,Se])=>{j[Te]=Se.path});const X=R.consumed.length>0?{...j,...R.consumed[R.consumed.length-1].parameters}:j;return{matched:!0,consumedSegments:R.consumed,remainingSegments:_.slice(R.consumed.length),parameters:X,positionalParamSegments:R.posParams??{}}}function ba(y,C,_,w){return _.length>0&&function Wn(y,C,_){return _.some(w=>ks(y,C,w)&&Ot(w)!==ot)}(y,_,w)?{segmentGroup:new un(C,Ra(w,new un(_,y.children))),slicedSegments:[]}:0===_.length&&function uu(y,C,_){return _.some(w=>ks(y,C,w))}(y,_,w)?{segmentGroup:new un(y.segments,Bi(y,0,_,w,y.children)),slicedSegments:_}:{segmentGroup:new un(y.segments,y.children),slicedSegments:_}}function Bi(y,C,_,w,R){const j={};for(const X of w)if(ks(y,_,X)&&!R[Ot(X)]){const Te=new un([],{});j[Ot(X)]=Te}return{...R,...j}}function Ra(y,C){const _={};_[ot]=C;for(const w of y)if(""===w.path&&Ot(w)!==ot){const R=new un([],{});_[Ot(w)]=R}return _}function ks(y,C,_){return(!(y.hasChildren()||C.length>0)||"full"!==_.pathMatch)&&""===_.path}class Gs{constructor(C,_,w,R,j,X,Te){this.injector=C,this.configLoader=_,this.rootComponentType=w,this.config=R,this.urlTree=j,this.paramsInheritanceStrategy=X,this.urlSerializer=Te,this.allowRedirects=!0,this.applyRedirects=new Ti(this.urlSerializer,this.urlTree)}noMatchError(C){return new m.vHH(4002,!1)}recognize(){const C=ba(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,ot).pipe(Wt(_=>{if(_ instanceof Ki)return this.allowRedirects=!1,this.urlTree=_.urlTree,this.match(_.urlTree);throw _ instanceof us?this.noMatchError(_):_}),(0,Ve.U)(_=>{const w=new rs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ot,this.rootComponentType,null,{}),R=new Ei(w,_),j=new is("",R),X=function Cn(y,C,_=null,w=null){return Oe(qi(y),C,_,w)}(w,[],this.urlTree.queryParams,this.urlTree.fragment);return X.queryParams=this.urlTree.queryParams,j.url=this.urlSerializer.serialize(X),this.inheritParamsAndData(j._root),{state:j,tree:X}}))}match(C){return this.processSegmentGroup(this.injector,this.config,C.root,ot).pipe(Wt(w=>{throw w instanceof us?this.noMatchError(w):w}))}inheritParamsAndData(C){const _=C.value,w=Fn(_,this.paramsInheritanceStrategy);_.params=Object.freeze(w.params),_.data=Object.freeze(w.data),C.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(C,_,w,R){return 0===w.segments.length&&w.hasChildren()?this.processChildren(C,_,w):this.processSegment(C,_,w,w.segments,R,!0)}processChildren(C,_,w){const R=[];for(const j of Object.keys(w.children))"primary"===j?R.unshift(j):R.push(j);return(0,oe.D)(R).pipe(ze(j=>{const X=w.children[j],Te=function Ur(y,C){const _=y.filter(w=>Ot(w)===C);return _.push(...y.filter(w=>Ot(w)!==C)),_}(_,j);return this.processSegmentGroup(C,Te,X,j)}),function Ct(y,C){return(0,ft.e)(function qe(y,C,_,w,R){return(j,X)=>{let Te=_,Se=C,Tt=0;j.subscribe((0,it.x)(X,Jt=>{const or=Tt++;Se=Te?y(Se,Jt,or):(Te=!0,Jt),w&&X.next(Se)},R&&(()=>{Te&&X.next(Se),X.complete()})))}}(y,C,arguments.length>=2,!0))}((j,X)=>(j.push(...X),j)),(0,pt.d)(null),function we(y,C){const _=arguments.length>=2;return w=>w.pipe(y?(0,_e.h)((R,j)=>y(R,j,w)):xe.y,pe(1),_?(0,pt.d)(C):(0,ye.T)(()=>new Ee.K))}(),(0,st.z)(j=>{if(null===j)return fi(w);const X=Ds(j);return function ko(y){y.sort((C,_)=>C.value.outlet===ot?-1:_.value.outlet===ot?1:C.value.outlet.localeCompare(_.value.outlet))}(X),(0,J.of)(X)}))}processSegment(C,_,w,R,j,X){return(0,oe.D)(_).pipe(ze(Te=>this.processSegmentAgainstRoute(Te._injector??C,_,Te,w,R,j,X).pipe(Wt(Se=>{if(Se instanceof us)return(0,J.of)(null);throw Se}))),(0,nt.P)(Te=>!!Te),Wt(Te=>{if(xo(Te))return function Ku(y,C,_){return 0===C.length&&!y.children[_]}(w,R,j)?(0,J.of)([]):fi(w);throw Te}))}processSegmentAgainstRoute(C,_,w,R,j,X,Te){return function ls(y,C,_,w){return!!(Ot(y)===w||w!==ot&&ks(C,_,y))&&("**"===y.path||cs(C,y,_).matched)}(w,R,j,X)?void 0===w.redirectTo?this.matchSegmentAgainstRoute(C,R,w,j,X,Te):Te&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,R,_,w,j,X):fi(R):fi(R)}expandSegmentAgainstRouteUsingRedirect(C,_,w,R,j,X){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,w,R,X):this.expandRegularSegmentAgainstRouteUsingRedirect(C,_,w,R,j,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,_,w,R){const j=this.applyRedirects.applyRedirectCommands([],w.redirectTo,{});return w.redirectTo.startsWith("/")?Oo(j):this.applyRedirects.lineralizeSegments(w,j).pipe((0,st.z)(X=>{const Te=new un(X,{});return this.processSegment(C,_,Te,X,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,_,w,R,j,X){const{matched:Te,consumedSegments:Se,remainingSegments:Tt,positionalParamSegments:Jt}=cs(_,R,j);if(!Te)return fi(_);const or=this.applyRedirects.applyRedirectCommands(Se,R.redirectTo,Jt);return R.redirectTo.startsWith("/")?Oo(or):this.applyRedirects.lineralizeSegments(R,or).pipe((0,st.z)(Ln=>this.processSegment(C,w,_,Ln.concat(Tt),X,!1)))}matchSegmentAgainstRoute(C,_,w,R,j,X){let Te;if("**"===w.path){const Se=R.length>0?Er(R).parameters:{},Tt=new rs(R,Se,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Di(w),Ot(w),w.component??w._loadedComponent??null,w,Lo(w));Te=(0,J.of)({snapshot:Tt,consumedSegments:[],remainingSegments:[]}),_.children={}}else Te=au(_,w,R,C).pipe((0,Ve.U)(({matched:Se,consumedSegments:Tt,remainingSegments:Jt,parameters:or})=>Se?{snapshot:new rs(Tt,or,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Di(w),Ot(w),w.component??w._loadedComponent??null,w,Lo(w)),consumedSegments:Tt,remainingSegments:Jt}:null));return Te.pipe((0,Ye.w)(Se=>null===Se?fi(_):this.getChildConfig(C=w._injector??C,w,R).pipe((0,Ye.w)(({routes:Tt})=>{const Jt=w._loadedInjector??C,{snapshot:or,consumedSegments:Ln,remainingSegments:Fs}=Se,{segmentGroup:Uo,slicedSegments:Jo}=ba(_,Ln,Fs,Tt);if(0===Jo.length&&Uo.hasChildren())return this.processChildren(Jt,Tt,Uo).pipe((0,Ve.U)(Eo=>null===Eo?null:[new Ei(or,Eo)]));if(0===Tt.length&&0===Jo.length)return(0,J.of)([new Ei(or,[])]);const lu=Ot(w)===j;return this.processSegment(Jt,Tt,Uo,Jo,lu?ot:j,!0).pipe((0,Ve.U)(Eo=>[new Ei(or,Eo)]))}))))}getChildConfig(C,_,w){return _.children?(0,J.of)({routes:_.children,injector:C}):_.loadChildren?void 0!==_._loadedRoutes?(0,J.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function ro(y,C,_,w){const R=C.canLoad;if(void 0===R||0===R.length)return(0,J.of)(!0);const j=R.map(X=>{const Te=Rr(X,y);return Fr(function Ko(y){return y&&yi(y.canLoad)}(Te)?Te.canLoad(C,_):y.runInContext(()=>Te(C,_)))});return(0,J.of)(j).pipe(Ts(),mo())}(C,_,w).pipe((0,st.z)(R=>R?this.configLoader.loadChildren(C,_).pipe((0,bt.b)(j=>{_._loadedRoutes=j.routes,_._loadedInjector=j.injector})):function kr(y){return me(N(!1,3))}())):(0,J.of)({routes:[],injector:C})}}function Ws(y){const C=y.value.routeConfig;return C&&""===C.path}function Ds(y){const C=[],_=new Set;for(const w of y){if(!Ws(w)){C.push(w);continue}const R=C.find(j=>w.value.routeConfig===j.value.routeConfig);void 0!==R?(R.children.push(...w.children),_.add(R)):C.push(w)}for(const w of _){const R=Ds(w.children);C.push(new Ei(w.value,R))}return C.filter(w=>!_.has(w))}function Di(y){return y.data||{}}function Lo(y){return y.resolve||{}}function I(y){return"string"==typeof y.title||null===y.title}function F(y){return(0,Ye.w)(C=>{const _=y(C);return _?(0,oe.D)(_).pipe((0,Ve.U)(()=>C)):(0,J.of)(C)})}const b=new m.OlP("ROUTES");let O=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.f3M)(m.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,J.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const w=Fr(_.loadComponent()).pipe((0,Ve.U)(Ue),(0,bt.b)(j=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=j}),Ze(()=>{this.componentLoaders.delete(_)})),R=new We(w,()=>new Le.x).pipe(jt());return this.componentLoaders.set(_,R),R}loadChildren(_,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return(0,J.of)({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);const j=function Y(y,C,_,w){return Fr(y.loadChildren()).pipe((0,Ve.U)(Ue),(0,st.z)(R=>R instanceof m.YKP||Array.isArray(R)?(0,J.of)(R):(0,oe.D)(C.compileModuleAsync(R))),(0,Ve.U)(R=>{w&&w(y);let j,X,Te=!1;return Array.isArray(R)?(X=R,!0):(j=R.create(_).injector,X=j.get(b,[],{optional:!0,self:!0}).flat()),{routes:X.map(Vn),injector:j}}))}(w,this.compiler,_,this.onLoadEndListener).pipe(Ze(()=>{this.childrenLoaders.delete(w)})),X=new We(j,()=>new Le.x).pipe(jt());return this.childrenLoaders.set(w,X),X}static#e=this.\u0275fac=function(w){return new(w||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Ue(y){return function Ae(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let At=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Le.x,this.transitionAbortSubject=new Le.x,this.configLoader=(0,m.f3M)(O),this.environmentInjector=(0,m.f3M)(m.lqb),this.urlSerializer=(0,m.f3M)($t),this.rootContexts=(0,m.f3M)(Xs),this.inputBindingEnabled=null!==(0,m.f3M)(On,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,J.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new lo(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new $s(R))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const w=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:w})}setupNavigations(_,w,R){return this.transitions=new ue.X({id:0,currentUrlTree:w,currentRawUrl:w,currentBrowserUrl:w,extractedUrl:_.urlHandlingStrategy.extract(w),urlAfterRedirects:_.urlHandlingStrategy.extract(w),rawUrl:w,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mi,restoredState:null,currentSnapshot:R.snapshot,targetSnapshot:null,currentRouterState:R,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,_e.h)(j=>0!==j.id),(0,Ve.U)(j=>({...j,extractedUrl:_.urlHandlingStrategy.extract(j.rawUrl)})),(0,Ye.w)(j=>{this.currentTransition=j;let X=!1,Te=!1;return(0,J.of)(j).pipe((0,bt.b)(Se=>{this.currentNavigation={id:Se.id,initialUrl:Se.rawUrl,extractedUrl:Se.extractedUrl,trigger:Se.source,extras:Se.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ye.w)(Se=>{const Tt=Se.currentBrowserUrl.toString(),Jt=!_.navigated||Se.extractedUrl.toString()!==Tt||Tt!==Se.currentUrlTree.toString();if(!Jt&&"reload"!==(Se.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const Ln="";return this.events.next(new et(Se.id,this.urlSerializer.serialize(Se.rawUrl),Ln,0)),Se.resolve(null),He.E}if(_.urlHandlingStrategy.shouldProcessUrl(Se.rawUrl))return(0,J.of)(Se).pipe((0,Ye.w)(Ln=>{const Fs=this.transitions?.getValue();return this.events.next(new xi(Ln.id,this.urlSerializer.serialize(Ln.extractedUrl),Ln.source,Ln.restoredState)),Fs!==this.transitions?.getValue()?He.E:Promise.resolve(Ln)}),function Pa(y,C,_,w,R,j){return(0,st.z)(X=>function _o(y,C,_,w,R,j,X="emptyOnly"){return new Gs(y,C,_,w,R,X,j).recognize()}(y,C,_,w,X.extractedUrl,R,j).pipe((0,Ve.U)(({state:Te,tree:Se})=>({...X,targetSnapshot:Te,urlAfterRedirects:Se}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,bt.b)(Ln=>{j.targetSnapshot=Ln.targetSnapshot,j.urlAfterRedirects=Ln.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ln.urlAfterRedirects};const Fs=new Pt(Ln.id,this.urlSerializer.serialize(Ln.extractedUrl),this.urlSerializer.serialize(Ln.urlAfterRedirects),Ln.targetSnapshot);this.events.next(Fs)}));if(Jt&&_.urlHandlingStrategy.shouldProcessUrl(Se.currentRawUrl)){const{id:Ln,extractedUrl:Fs,source:Uo,restoredState:Jo,extras:lu}=Se,Eo=new xi(Ln,this.urlSerializer.serialize(Fs),Uo,Jo);this.events.next(Eo);const Hc=_n(0,this.rootComponentType).snapshot;return this.currentTransition=j={...Se,targetSnapshot:Hc,urlAfterRedirects:Fs,extras:{...lu,skipLocationChange:!1,replaceUrl:!1}},(0,J.of)(j)}{const Ln="";return this.events.next(new et(Se.id,this.urlSerializer.serialize(Se.extractedUrl),Ln,1)),Se.resolve(null),He.E}}),(0,bt.b)(Se=>{const Tt=new Vr(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot);this.events.next(Tt)}),(0,Ve.U)(Se=>(this.currentTransition=j={...Se,guards:br(Se.targetSnapshot,Se.currentSnapshot,this.rootContexts)},j)),function su(y,C){return(0,st.z)(_=>{const{targetSnapshot:w,currentSnapshot:R,guards:{canActivateChecks:j,canDeactivateChecks:X}}=_;return 0===X.length&&0===j.length?(0,J.of)({..._,guardsResult:!0}):function Vc(y,C,_,w){return(0,oe.D)(y).pipe((0,st.z)(R=>function Sa(y,C,_,w,R){const j=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,J.of)(!0);const X=j.map(Te=>{const Se=ui(C)??R,Tt=Rr(Te,Se);return Fr(function Mo(y){return y&&yi(y.canDeactivate)}(Tt)?Tt.canDeactivate(y,C,_,w):Se.runInContext(()=>Tt(y,C,_,w))).pipe((0,nt.P)())});return(0,J.of)(X).pipe(Ts())}(R.component,R.route,_,C,w)),(0,nt.P)(R=>!0!==R,!0))}(X,w,R,y).pipe((0,st.z)(Te=>Te&&function as(y){return"boolean"==typeof y}(Te)?function no(y,C,_,w){return(0,oe.D)(C).pipe(ze(R=>(0,G.z)(function Ca(y,C){return null!==y&&C&&C(new xs(y)),(0,J.of)(!0)}(R.route.parent,w),function Uc(y,C){return null!==y&&C&&C(new Po(y)),(0,J.of)(!0)}(R.route,w),function No(y,C,_){const w=C[C.length-1],j=C.slice(0,C.length-1).reverse().map(X=>function _i(y){const C=y.routeConfig?y.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:y,guards:C}:null}(X)).filter(X=>null!==X).map(X=>se(()=>{const Te=X.guards.map(Se=>{const Tt=ui(X.node)??_,Jt=Rr(Se,Tt);return Fr(function ru(y){return y&&yi(y.canActivateChild)}(Jt)?Jt.canActivateChild(w,y):Tt.runInContext(()=>Jt(w,y))).pipe((0,nt.P)())});return(0,J.of)(Te).pipe(Ts())}));return(0,J.of)(j).pipe(Ts())}(y,R.path,_),function ou(y,C,_){const w=C.routeConfig?C.routeConfig.canActivate:null;if(!w||0===w.length)return(0,J.of)(!0);const R=w.map(j=>se(()=>{const X=ui(C)??_,Te=Rr(j,X);return Fr(function wa(y){return y&&yi(y.canActivate)}(Te)?Te.canActivate(C,y):X.runInContext(()=>Te(C,y))).pipe((0,nt.P)())}));return(0,J.of)(R).pipe(Ts())}(y,R.route,_))),(0,nt.P)(R=>!0!==R,!0))}(w,j,y,C):(0,J.of)(Te)),(0,Ve.U)(Te=>({..._,guardsResult:Te})))})}(this.environmentInjector,Se=>this.events.next(Se)),(0,bt.b)(Se=>{if(j.guardsResult=Se.guardsResult,xr(Se.guardsResult))throw L(0,Se.guardsResult);const Tt=new Gr(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot,!!Se.guardsResult);this.events.next(Tt)}),(0,_e.h)(Se=>!!Se.guardsResult||(this.cancelNavigationTransition(Se,"",3),!1)),F(Se=>{if(Se.guards.canActivateChecks.length)return(0,J.of)(Se).pipe((0,bt.b)(Tt=>{const Jt=new mr(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),this.urlSerializer.serialize(Tt.urlAfterRedirects),Tt.targetSnapshot);this.events.next(Jt)}),(0,Ye.w)(Tt=>{let Jt=!1;return(0,J.of)(Tt).pipe(function yo(y,C){return(0,st.z)(_=>{const{targetSnapshot:w,guards:{canActivateChecks:R}}=_;if(!R.length)return(0,J.of)(_);let j=0;return(0,oe.D)(R).pipe(ze(X=>function Yu(y,C,_,w){const R=y.routeConfig,j=y._resolve;return void 0!==R?.title&&!I(R)&&(j[Vt]=R.title),function Yo(y,C,_,w){const R=function hs(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===R.length)return(0,J.of)({});const j={};return(0,oe.D)(R).pipe((0,st.z)(X=>function Ma(y,C,_,w){const R=ui(C)??w,j=Rr(y,R);return Fr(j.resolve?j.resolve(C,_):R.runInContext(()=>j(C,_)))}(y[X],C,_,w).pipe((0,nt.P)(),(0,bt.b)(Te=>{j[X]=Te}))),pe(1),function Be(y){return(0,Ve.U)(()=>y)}(j),Wt(X=>xo(X)?He.E:me(X)))}(j,y,C,w).pipe((0,Ve.U)(X=>(y._resolvedData=X,y.data=Fn(y,_).resolve,R&&I(R)&&(y.data[Vt]=R.title),null)))}(X.route,w,y,C)),(0,bt.b)(()=>j++),pe(1),(0,st.z)(X=>j===R.length?(0,J.of)(_):He.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,bt.b)({next:()=>Jt=!0,complete:()=>{Jt||this.cancelNavigationTransition(Tt,"",2)}}))}),(0,bt.b)(Tt=>{const Jt=new js(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),this.urlSerializer.serialize(Tt.urlAfterRedirects),Tt.targetSnapshot);this.events.next(Jt)}))}),F(Se=>{const Tt=Jt=>{const or=[];Jt.routeConfig?.loadComponent&&!Jt.routeConfig._loadedComponent&&or.push(this.configLoader.loadComponent(Jt.routeConfig).pipe((0,bt.b)(Ln=>{Jt.component=Ln}),(0,Ve.U)(()=>{})));for(const Ln of Jt.children)or.push(...Tt(Ln));return or};return(0,ne.a)(Tt(Se.targetSnapshot.root)).pipe((0,pt.d)(),(0,ke.q)(1))}),F(()=>this.afterPreactivation()),(0,Ve.U)(Se=>{const Tt=function Ui(y,C,_){const w=Or(y,C._root,_?_._root:void 0);return new Ni(w,C)}(_.routeReuseStrategy,Se.targetSnapshot,Se.currentRouterState);return this.currentTransition=j={...Se,targetRouterState:Tt},j}),(0,bt.b)(()=>{this.events.next(new Ns)}),((y,C,_,w)=>(0,Ve.U)(R=>(new Sr(C,R.targetRouterState,R.currentRouterState,_,w).activate(y),R)))(this.rootContexts,_.routeReuseStrategy,Se=>this.events.next(Se),this.inputBindingEnabled),(0,ke.q)(1),(0,bt.b)({next:Se=>{X=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ai(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects))),_.titleStrategy?.updateTitle(Se.targetRouterState.snapshot),Se.resolve(!0)},complete:()=>{X=!0}}),(0,Ft.R)(this.transitionAbortSubject.pipe((0,bt.b)(Se=>{throw Se}))),Ze(()=>{X||Te||this.cancelNavigationTransition(j,"",1),this.currentNavigation?.id===j.id&&(this.currentNavigation=null)}),Wt(Se=>{if(Te=!0,ie(Se))this.events.next(new gt(j.id,this.urlSerializer.serialize(j.extractedUrl),Se.message,Se.cancellationCode)),function te(y){return ie(y)&&xr(y.url)}(Se)?this.events.next(new ts(Se.url)):j.resolve(!1);else{this.events.next(new xt(j.id,this.urlSerializer.serialize(j.extractedUrl),Se,j.targetSnapshot??void 0));try{j.resolve(_.errorHandler(Se))}catch(Tt){j.reject(Tt)}}return He.E}))}))}cancelNavigationTransition(_,w,R){const j=new gt(_.id,this.urlSerializer.serialize(_.extractedUrl),w,R);this.events.next(j),_.resolve(!1)}static#e=this.\u0275fac=function(w){return new(w||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function cr(y){return y!==Mi}let Un=(()=>{class y{buildTitle(_){let w,R=_.root;for(;void 0!==R;)w=this.getResolvedTitleForRoute(R)??w,R=R.children.find(j=>j.outlet===ot);return w}getResolvedTitleForRoute(_){return _.data[Vt]}static#e=this.\u0275fac=function(w){return new(w||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:function(){return(0,m.f3M)(qn)},providedIn:"root"})}return y})(),qn=(()=>{class y extends Un{constructor(_){super(),this.title=_}updateTitle(_){const w=this.buildTitle(_);void 0!==w&&this.title.setTitle(w)}static#e=this.\u0275fac=function(w){return new(w||y)(m.LFG(yn.Dx))};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),Gt=(()=>{class y{static#e=this.\u0275fac=function(w){return new(w||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:function(){return(0,m.f3M)(Kn)},providedIn:"root"})}return y})();class fr{shouldDetach(C){return!1}store(C,_){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,_){return C.routeConfig===_.routeConfig}}let Kn=(()=>{class y extends fr{static#e=this.\u0275fac=function(){let _;return function(R){return(_||(_=m.n5z(y)))(R||y)}}();static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const yr=new m.OlP("",{providedIn:"root",factory:()=>({})});let qs=(()=>{class y{static#e=this.\u0275fac=function(w){return new(w||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:function(){return(0,m.f3M)(Ge)},providedIn:"root"})}return y})(),Ge=(()=>{class y{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,w){return _}static#e=this.\u0275fac=function(w){return new(w||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var zn=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(zn||{});function Tr(y,C){y.events.pipe((0,_e.h)(_=>_ instanceof ai||_ instanceof gt||_ instanceof xt||_ instanceof et),(0,Ve.U)(_=>_ instanceof ai||_ instanceof et?zn.COMPLETE:_ instanceof gt&&(0===_.code||1===_.code)?zn.REDIRECTING:zn.FAILED),(0,_e.h)(_=>_!==zn.REDIRECTING),(0,ke.q)(1)).subscribe(()=>{C()})}function ws(y){throw y}function Dt(y,C,_){return C.parse("/")}const kt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dt=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,m.f3M)(m.c2e),this.isNgZoneEnabled=!1,this._events=new Le.x,this.options=(0,m.f3M)(yr,{optional:!0})||{},this.pendingTasks=(0,m.f3M)(m.HDt),this.errorHandler=this.options.errorHandler||ws,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Dt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.f3M)(qs),this.routeReuseStrategy=(0,m.f3M)(Gt),this.titleStrategy=(0,m.f3M)(Un),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,m.f3M)(b,{optional:!0})?.flat()??[],this.navigationTransitions=(0,m.f3M)(At),this.urlSerializer=(0,m.f3M)($t),this.location=(0,m.f3M)(Fe.Ye),this.componentInputBindingEnabled=!!(0,m.f3M)(On,{optional:!0}),this.eventsSubscription=new tt.w0,this.isNgZoneEnabled=(0,m.f3M)(m.R0b)instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new pr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_n(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(w=>{try{const{currentTransition:R}=this.navigationTransitions;if(null===R)return void(Qe(w)&&this._events.next(w));if(w instanceof xi)cr(R.source)&&(this.browserUrlTree=R.extractedUrl);else if(w instanceof et)this.rawUrlTree=R.rawUrl;else if(w instanceof Pt){if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(j,R)}this.browserUrlTree=R.urlAfterRedirects}}else if(w instanceof Ns)this.currentUrlTree=R.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,R),this.browserUrlTree=R.urlAfterRedirects);else if(w instanceof gt)0!==w.code&&1!==w.code&&(this.navigated=!0),(3===w.code||2===w.code)&&this.restoreHistory(R);else if(w instanceof ts){const j=this.urlHandlingStrategy.merge(w.url,R.currentRawUrl),X={skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cr(R.source)};this.scheduleNavigation(j,Mi,null,X,{resolve:R.resolve,reject:R.reject,promise:R.promise})}w instanceof xt&&this.restoreHistory(R,!0),w instanceof ai&&(this.navigated=!0),Qe(w)&&this._events.next(w)}catch(R){this.navigationTransitions.transitionAbortSubject.next(R)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Mi,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const w="popstate"===_.type?"popstate":"hashchange";"popstate"===w&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,w,_.state)},0)}))}navigateToSyncWithBrowser(_,w,R){const j={replaceUrl:!0},X=R?.navigationId?R:null;if(R){const Se={...R};delete Se.navigationId,delete Se.\u0275routerPageId,0!==Object.keys(Se).length&&(j.state=Se)}const Te=this.parseUrl(_);this.scheduleNavigation(Te,w,X,j)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(Vn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,w={}){const{relativeTo:R,queryParams:j,fragment:X,queryParamsHandling:Te,preserveFragment:Se}=w,Tt=Se?this.currentUrlTree.fragment:X;let or,Jt=null;switch(Te){case"merge":Jt={...this.currentUrlTree.queryParams,...j};break;case"preserve":Jt=this.currentUrlTree.queryParams;break;default:Jt=j||null}null!==Jt&&(Jt=this.removeEmptyProps(Jt));try{or=qi(R?R.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),or=this.currentUrlTree.root}return Oe(or,_,Jt,Tt??null)}navigateByUrl(_,w={skipLocationChange:!1}){const R=xr(_)?_:this.parseUrl(_),j=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(j,Mi,null,w)}navigate(_,w={skipLocationChange:!1}){return function Pe(y){for(let C=0;C<y.length;C++)if(null==y[C])throw new m.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,w),w)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let w;try{w=this.urlSerializer.parse(_)}catch(R){w=this.malformedUriErrorHandler(R,this.urlSerializer,_)}return w}isActive(_,w){let R;if(R=!0===w?{...kt}:!1===w?{...Gl}:w,xr(_))return ii(this.currentUrlTree,_,R);const j=this.parseUrl(_);return ii(this.currentUrlTree,j,R)}removeEmptyProps(_){return Object.keys(_).reduce((w,R)=>{const j=_[R];return null!=j&&(w[R]=j),w},{})}scheduleNavigation(_,w,R,j,X){if(this.disposed)return Promise.resolve(!1);let Te,Se,Tt;X?(Te=X.resolve,Se=X.reject,Tt=X.promise):Tt=new Promise((or,Ln)=>{Te=or,Se=Ln});const Jt=this.pendingTasks.add();return Tr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Jt))}),this.navigationTransitions.handleNavigationRequest({source:w,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:_,extras:j,resolve:Te,reject:Se,promise:Tt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tt.catch(or=>Promise.reject(or))}setBrowserUrl(_,w){const R=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(R)||w.extras.replaceUrl){const X={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId)};this.location.replaceState(R,"",X)}else{const j={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId+1)};this.location.go(R,"",j)}}restoreHistory(_,w=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-this.browserPageId;0!==j?this.location.historyGo(j):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===j&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(w&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,w){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:w}:{navigationId:_}}static#e=this.\u0275fac=function(w){return new(w||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Qe(y){return!(y instanceof Ns||y instanceof ts)}let lr=(()=>{class y{constructor(_,w,R,j,X,Te){this.router=_,this.route=w,this.tabIndexAttribute=R,this.renderer=j,this.el=X,this.locationStrategy=Te,this.href=null,this.commands=null,this.onChanges=new Le.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Se=X.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Se||"area"===Se,this.isAnchorElement?this.subscription=_.events.subscribe(Tt=>{Tt instanceof ai&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,w,R,j,X){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||w||R||j||X||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,m.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,w){const R=this.renderer,j=this.el.nativeElement;null!==w?R.setAttribute(j,_,w):R.removeAttribute(j,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(w){return new(w||y)(m.Y36(dt),m.Y36(_r),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Fe.S$))};static#t=this.\u0275dir=m.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,R){1&w&&m.NdJ("click",function(X){return R.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&w&&m.uIk("target",R.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",m.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",m.VuI],replaceUrl:["replaceUrl","replaceUrl",m.VuI],routerLink:"routerLink"},standalone:!0,features:[m.Xq5,m.TTD]})}return y})();class xa{}let Yi=(()=>{class y{preload(_,w){return w().pipe(Wt(()=>(0,J.of)(null)))}static#e=this.\u0275fac=function(w){return new(w||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),jc=(()=>{class y{constructor(_,w,R,j,X){this.router=_,this.injector=R,this.preloadingStrategy=j,this.loader=X}setUpPreloading(){this.subscription=this.router.events.pipe((0,_e.h)(_=>_ instanceof ai),ze(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,w){const R=[];for(const j of w){j.providers&&!j._injector&&(j._injector=(0,m.MMx)(j.providers,_,`Route: ${j.path}`));const X=j._injector??_,Te=j._loadedInjector??X;(j.loadChildren&&!j._loadedRoutes&&void 0===j.canLoad||j.loadComponent&&!j._loadedComponent)&&R.push(this.preloadConfig(X,j)),(j.children||j._loadedRoutes)&&R.push(this.processRoutes(Te,j.children??j._loadedRoutes))}return(0,oe.D)(R).pipe((0,sn.J)())}preloadConfig(_,w){return this.preloadingStrategy.preload(w,()=>{let R;R=w.loadChildren&&void 0===w.canLoad?this.loader.loadChildren(_,w):(0,J.of)(null);const j=R.pipe((0,st.z)(X=>null===X?(0,J.of)(void 0):(w._loadedRoutes=X.routes,w._loadedInjector=X.injector,this.processRoutes(X.injector??_,X.routes))));if(w.loadComponent&&!w._loadedComponent){const X=this.loader.loadComponent(w);return(0,oe.D)([j,X]).pipe((0,sn.J)())}return j})}static#e=this.\u0275fac=function(w){return new(w||y)(m.LFG(dt),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(xa),m.LFG(O))};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const so=new m.OlP("");let Oi=(()=>{class y{constructor(_,w,R,j,X={}){this.urlSerializer=_,this.transitions=w,this.viewportScroller=R,this.zone=j,this.options=X,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},X.scrollPositionRestoration=X.scrollPositionRestoration||"disabled",X.anchorScrolling=X.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof xi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof ai?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof et&&0===_.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof Qs&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,w){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qs(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,w))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(w){m.$Z()};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac})}return y})();function fs(y,C){return{\u0275kind:y,\u0275providers:C}}function Ut(){const y=(0,m.f3M)(m.zs3);return C=>{const _=y.get(m.z2F);if(C!==_.components[0])return;const w=y.get(dt),R=y.get(vo);1===y.get(Bn)&&w.initialNavigation(),y.get(Ks,null,m.XFs.Optional)?.setUpPreloading(),y.get(so,null,m.XFs.Optional)?.init(),w.resetRootComponentType(_.componentTypes[0]),R.closed||(R.next(),R.complete(),R.unsubscribe())}}const vo=new m.OlP("",{factory:()=>new Le.x}),Bn=new m.OlP("",{providedIn:"root",factory:()=>1}),Ks=new m.OlP("");function Zu(y){return fs(0,[{provide:Ks,useExisting:jc},{provide:xa,useExisting:y}])}const Qu=new m.OlP("ROUTER_FORROOT_GUARD"),$c=[Fe.Ye,{provide:$t,useClass:Pi},dt,Xs,{provide:_r,useFactory:function ql(y){return y.routerState.root},deps:[dt]},O,[]];function Zi(){return new m.PXZ("Router",dt)}let Ke=(()=>{class y{constructor(_){}static forRoot(_,w){return{ngModule:y,providers:[$c,[],{provide:b,multi:!0,useValue:_},{provide:Qu,useFactory:qr,deps:[[dt,new m.FiY,new m.tp0]]},{provide:yr,useValue:w||{}},w?.useHash?{provide:Fe.S$,useClass:Fe.Do}:{provide:Fe.S$,useClass:Fe.b0},{provide:so,useFactory:()=>{const y=(0,m.f3M)(Fe.EM),C=(0,m.f3M)(m.R0b),_=(0,m.f3M)(yr),w=(0,m.f3M)(At),R=(0,m.f3M)($t);return _.scrollOffset&&y.setOffset(_.scrollOffset),new Oi(R,w,y,C,_)}},w?.preloadingStrategy?Zu(w.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:Zi},w?.initialNavigation?De(w):[],w?.bindToComponentInputs?fs(8,[Nr,{provide:On,useExisting:Nr}]).\u0275providers:[],[{provide:Ls,useFactory:Ut},{provide:m.tb,multi:!0,useExisting:Ls}]]}}static forChild(_){return{ngModule:y,providers:[{provide:b,multi:!0,useValue:_}]}}static#e=this.\u0275fac=function(w){return new(w||y)(m.LFG(Qu,8))};static#t=this.\u0275mod=m.oAB({type:y});static#n=this.\u0275inj=m.cJS({})}return y})();function qr(y){return"guarded"}function De(y){return["disabled"===y.initialNavigation?fs(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const C=(0,m.f3M)(dt);return()=>{C.setUpLocationChangeListener()}}},{provide:Bn,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?fs(2,[{provide:Bn,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:C=>{const _=C.get(Fe.V_,Promise.resolve());return()=>_.then(()=>new Promise(w=>{const R=C.get(dt),j=C.get(vo);Tr(R,()=>{w(!0)}),C.get(At).afterPreactivation=()=>(w(!0),j.closed?(0,J.of)(void 0):j),R.initialNavigation()}))}}]).\u0275providers:[]]}const Ls=new m.OlP("")},534:(It,Ce,M)=>{M.r(Ce),M.d(Ce,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>cn,_DEFAULT_ENTRY_NAME:()=>Dn,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>pr,_apps:()=>qt,_clearComponents:()=>vn,_components:()=>Ar,_getProvider:()=>dn,_registerComponent:()=>un,_removeServiceInstance:()=>Vi,deleteApp:()=>ir,getApp:()=>fn,getApps:()=>Kt,initializeApp:()=>$n,onLog:()=>Gi,registerVersion:()=>gr,setLogLevel:()=>Rs});var m=M(5861),q=M(4537),ae=M(7879),ee=M(9058);const oe=(Oe,ve)=>ve.some(Xe=>Oe instanceof Xe);let J,ue;const G=new WeakMap,K=new WeakMap,se=new WeakMap,Me=new WeakMap,me=new WeakMap;let ft={get(Oe,ve,Xe){if(Oe instanceof IDBTransaction){if("done"===ve)return K.get(Oe);if("objectStoreNames"===ve)return Oe.objectStoreNames||se.get(Oe);if("store"===ve)return Xe.objectStoreNames[1]?void 0:Xe.objectStore(Xe.objectStoreNames[0])}return Le(Oe[ve])},set:(Oe,ve,Xe)=>(Oe[ve]=Xe,!0),has:(Oe,ve)=>Oe instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in Oe};function We(Oe){return"function"==typeof Oe?function jt(Oe){return Oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Oe)?function(...ve){return Oe.apply(Fe(this),ve),Le(G.get(this))}:function(...ve){return Le(Oe.apply(Fe(this),ve))}:function(ve,...Xe){const Rt=Oe.call(Fe(this),ve,...Xe);return se.set(Rt,ve.sort?ve.sort():[ve]),Le(Rt)}}(Oe):(Oe instanceof IDBTransaction&&function tt(Oe){if(K.has(Oe))return;const ve=new Promise((Xe,Rt)=>{const nn=()=>{Oe.removeEventListener("complete",zt),Oe.removeEventListener("error",pn),Oe.removeEventListener("abort",pn)},zt=()=>{Xe(),nn()},pn=()=>{Rt(Oe.error||new DOMException("AbortError","AbortError")),nn()};Oe.addEventListener("complete",zt),Oe.addEventListener("error",pn),Oe.addEventListener("abort",pn)});K.set(Oe,ve)}(Oe),oe(Oe,function ne(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Oe,ft):Oe)}function Le(Oe){if(Oe instanceof IDBRequest)return function He(Oe){const ve=new Promise((Xe,Rt)=>{const nn=()=>{Oe.removeEventListener("success",zt),Oe.removeEventListener("error",pn)},zt=()=>{Xe(Le(Oe.result)),nn()},pn=()=>{Rt(Oe.error),nn()};Oe.addEventListener("success",zt),Oe.addEventListener("error",pn)});return ve.then(Xe=>{Xe instanceof IDBCursor&&G.set(Xe,Oe)}).catch(()=>{}),me.set(ve,Oe),ve}(Oe);if(Me.has(Oe))return Me.get(Oe);const ve=We(Oe);return ve!==Oe&&(Me.set(Oe,ve),me.set(ve,Oe)),ve}const Fe=Oe=>me.get(Oe),ke=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],_e=new Map;function st(Oe,ve){if(!(Oe instanceof IDBDatabase)||ve in Oe||"string"!=typeof ve)return;if(_e.get(ve))return _e.get(ve);const Xe=ve.replace(/FromIndex$/,""),Rt=ve!==Xe,nn=ge.includes(Xe);if(!(Xe in(Rt?IDBIndex:IDBObjectStore).prototype)||!nn&&!ke.includes(Xe))return;const zt=function(){var pn=(0,m.Z)(function*(Hn,...Nn){const mn=this.transaction(Hn,nn?"readwrite":"readonly");let si=mn.store;return Rt&&(si=si.index(Nn.shift())),(yield Promise.all([si[Xe](...Nn),nn&&mn.done]))[0]});return function(Nn){return pn.apply(this,arguments)}}();return _e.set(ve,zt),zt}!function it(Oe){ft=Oe(ft)}(Oe=>({...Oe,get:(ve,Xe,Rt)=>st(ve,Xe)||Oe.get(ve,Xe,Rt),has:(ve,Xe)=>!!st(ve,Xe)||Oe.has(ve,Xe)}));class nt{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function ze(Oe){const ve=Oe.getComponent();return"VERSION"===ve?.type}(Xe)){const Rt=Xe.getImmediate();return`${Rt.library}/${Rt.version}`}return null}).filter(Xe=>Xe).join(" ")}}const bt="@firebase/app",qe=new ae.Yd("@firebase/app"),Dn="[DEFAULT]",en={[bt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qt=new Map,Ar=new Map;function Bt(Oe,ve){try{Oe.container.addComponent(ve)}catch(Xe){qe.debug(`Component ${ve.name} failed to register with FirebaseApp ${Oe.name}`,Xe)}}function pr(Oe,ve){Oe.container.addOrOverwriteComponent(ve)}function un(Oe){const ve=Oe.name;if(Ar.has(ve))return qe.debug(`There were multiple attempts to register component ${ve}.`),!1;Ar.set(ve,Oe);for(const Xe of qt.values())Bt(Xe,Oe);return!0}function dn(Oe,ve){const Xe=Oe.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),Oe.container.getProvider(ve)}function Vi(Oe,ve,Xe=Dn){dn(Oe,ve).clearInstance(Xe)}function vn(){Ar.clear()}const $t=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pi{constructor(ve,Xe,Rt){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=Rt,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw $t.create("app-deleted",{appName:this._name})}}const cn="10.5.2";function $n(Oe,ve={}){let Xe=Oe;"object"!=typeof ve&&(ve={name:ve});const Rt=Object.assign({name:Dn,automaticDataCollectionEnabled:!1},ve),nn=Rt.name;if("string"!=typeof nn||!nn)throw $t.create("bad-app-name",{appName:String(nn)});if(Xe||(Xe=(0,ee.aH)()),!Xe)throw $t.create("no-options");const zt=qt.get(nn);if(zt){if((0,ee.vZ)(Xe,zt.options)&&(0,ee.vZ)(Rt,zt.config))return zt;throw $t.create("duplicate-app",{appName:nn})}const pn=new q.H0(nn);for(const Nn of Ar.values())pn.addComponent(Nn);const Hn=new Pi(Xe,Rt,pn);return qt.set(nn,Hn),Hn}function fn(Oe=Dn){const ve=qt.get(Oe);if(!ve&&Oe===Dn&&(0,ee.aH)())return $n();if(!ve)throw $t.create("no-app",{appName:Oe});return ve}function Kt(){return Array.from(qt.values())}function ir(Oe){return vi.apply(this,arguments)}function vi(){return(vi=(0,m.Z)(function*(Oe){const ve=Oe.name;qt.has(ve)&&(qt.delete(ve),yield Promise.all(Oe.container.getProviders().map(Xe=>Xe.delete())),Oe.isDeleted=!0)})).apply(this,arguments)}function gr(Oe,ve,Xe){var Rt;let nn=null!==(Rt=en[Oe])&&void 0!==Rt?Rt:Oe;Xe&&(nn+=`-${Xe}`);const zt=nn.match(/\s|\//),pn=ve.match(/\s|\//);if(zt||pn){const Hn=[`Unable to register library "${nn}" with version "${ve}":`];return zt&&Hn.push(`library name "${nn}" contains illegal characters (whitespace or "/")`),zt&&pn&&Hn.push("and"),pn&&Hn.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void qe.warn(Hn.join(" "))}un(new q.wA(`${nn}-version`,()=>({library:nn,version:ve}),"VERSION"))}function Gi(Oe,ve){if(null!==Oe&&"function"!=typeof Oe)throw $t.create("invalid-log-argument");(0,ae.Am)(Oe,ve)}function Rs(Oe){(0,ae.Ub)(Oe)}const Wi="firebase-heartbeat-database",Es=1,re="firebase-heartbeat-store";let B=null;function z(){return B||(B=function Ve(Oe,ve,{blocked:Xe,upgrade:Rt,blocking:nn,terminated:zt}={}){const pn=indexedDB.open(Oe,ve),Hn=Le(pn);return Rt&&pn.addEventListener("upgradeneeded",Nn=>{Rt(Le(pn.result),Nn.oldVersion,Nn.newVersion,Le(pn.transaction),Nn)}),Xe&&pn.addEventListener("blocked",Nn=>Xe(Nn.oldVersion,Nn.newVersion,Nn)),Hn.then(Nn=>{zt&&Nn.addEventListener("close",()=>zt()),nn&&Nn.addEventListener("versionchange",mn=>nn(mn.oldVersion,mn.newVersion,mn))}).catch(()=>{}),Hn}(Wi,Es,{upgrade:(Oe,ve)=>{0===ve&&Oe.createObjectStore(re)}}).catch(Oe=>{throw $t.create("idb-open",{originalErrorMessage:Oe.message})})),B}function H(){return(H=(0,m.Z)(function*(Oe){try{return yield(yield z()).transaction(re).objectStore(re).get(ht(Oe))}catch(ve){if(ve instanceof ee.ZR)qe.warn(ve.message);else{const Xe=$t.create("idb-get",{originalErrorMessage:ve?.message});qe.warn(Xe.message)}}})).apply(this,arguments)}function he(Oe,ve){return je.apply(this,arguments)}function je(){return(je=(0,m.Z)(function*(Oe,ve){try{const Rt=(yield z()).transaction(re,"readwrite");yield Rt.objectStore(re).put(ve,ht(Oe)),yield Rt.done}catch(Xe){if(Xe instanceof ee.ZR)qe.warn(Xe.message);else{const Rt=$t.create("idb-set",{originalErrorMessage:Xe?.message});qe.warn(Rt.message)}}})).apply(this,arguments)}function ht(Oe){return`${Oe.name}!${Oe.options.appId}`}class on{constructor(ve){this.container=ve,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new xr(Xe),this._heartbeatsCachePromise=this._storage.read().then(Rt=>(this._heartbeatsCache=Rt,Rt))}triggerHeartbeat(){var ve=this;return(0,m.Z)(function*(){const Rt=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),nn=Yt();if(null===ve._heartbeatsCache&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise),ve._heartbeatsCache.lastSentHeartbeatDate!==nn&&!ve._heartbeatsCache.heartbeats.some(zt=>zt.date===nn))return ve._heartbeatsCache.heartbeats.push({date:nn,agent:Rt}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(zt=>{const pn=new Date(zt.date).valueOf();return Date.now()-pn<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache)})()}getHeartbeatsHeader(){var ve=this;return(0,m.Z)(function*(){if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null===ve._heartbeatsCache||0===ve._heartbeatsCache.heartbeats.length)return"";const Xe=Yt(),{heartbeatsToSend:Rt,unsentEntries:nn}=function hn(Oe,ve=1024){const Xe=[];let Rt=Oe.slice();for(const nn of Oe){const zt=Xe.find(pn=>pn.agent===nn.agent);if(zt){if(zt.dates.push(nn.date),Cn(Xe)>ve){zt.dates.pop();break}}else if(Xe.push({agent:nn.agent,dates:[nn.date]}),Cn(Xe)>ve){Xe.pop();break}Rt=Rt.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:Rt}}(ve._heartbeatsCache.heartbeats),zt=(0,ee.L)(JSON.stringify({version:2,heartbeats:Rt}));return ve._heartbeatsCache.lastSentHeartbeatDate=Xe,nn.length>0?(ve._heartbeatsCache.heartbeats=nn,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),zt})()}}function Yt(){return(new Date).toISOString().substring(0,10)}class xr{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,m.Z)(function*(){return(yield ve._canUseIndexedDBPromise)&&(yield function $(Oe){return H.apply(this,arguments)}(ve.app))||{heartbeats:[]}})()}overwrite(ve){var Xe=this;return(0,m.Z)(function*(){var Rt;if(yield Xe._canUseIndexedDBPromise){const zt=yield Xe.read();return he(Xe.app,{lastSentHeartbeatDate:null!==(Rt=ve.lastSentHeartbeatDate)&&void 0!==Rt?Rt:zt.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var Xe=this;return(0,m.Z)(function*(){var Rt;if(yield Xe._canUseIndexedDBPromise){const zt=yield Xe.read();return he(Xe.app,{lastSentHeartbeatDate:null!==(Rt=ve.lastSentHeartbeatDate)&&void 0!==Rt?Rt:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...ve.heartbeats]})}})()}}function Cn(Oe){return(0,ee.L)(JSON.stringify({version:2,heartbeats:Oe})).length}!function qi(Oe){un(new q.wA("platform-logger",ve=>new nt(ve),"PRIVATE")),un(new q.wA("heartbeat",ve=>new on(ve),"PRIVATE")),gr(bt,"0.9.22",Oe),gr(bt,"0.9.22","esm2017"),gr("fire-js","")}("")},4537:(It,Ce,M)=>{M.d(Ce,{H0:()=>ne,wA:()=>ae});var m=M(5861),q=M(9058);class ae{constructor(G,K,se){this.name=G,this.instanceFactory=K,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ee="[DEFAULT]";class oe{constructor(G,K){this.name=G,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const K=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(K)){const se=new q.BH;if(this.instancesDeferred.set(K,se),this.isInitialized(K)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:K});Me&&se.resolve(Me)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(G){var K;const se=this.normalizeInstanceIdentifier(G?.identifier),Me=null!==(K=G?.optional)&&void 0!==K&&K;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(me){if(Me)return null;throw me}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ue(Ee){return"EAGER"===Ee.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[K,se]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(K);try{const me=this.getOrInitializeService({instanceIdentifier:Me});se.resolve(me)}catch{}}}}clearInstance(G=ee){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,m.Z)(function*(){const K=Array.from(G.instances.values());yield Promise.all([...K.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...K.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ee){return this.instances.has(G)}getOptions(G=ee){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:K={}}=G,se=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:se,options:K});for(const[me,He]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(me)&&He.resolve(Me);return Me}onInit(G,K){var se;const Me=this.normalizeInstanceIdentifier(K),me=null!==(se=this.onInitCallbacks.get(Me))&&void 0!==se?se:new Set;me.add(G),this.onInitCallbacks.set(Me,me);const He=this.instances.get(Me);return He&&G(He,Me),()=>{me.delete(G)}}invokeOnInitCallbacks(G,K){const se=this.onInitCallbacks.get(K);if(se)for(const Me of se)try{Me(G,K)}catch{}}getOrInitializeService({instanceIdentifier:G,options:K={}}){let se=this.instances.get(G);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=G,Ee===ee?void 0:Ee),options:K}),this.instances.set(G,se),this.instancesOptions.set(G,K),this.invokeOnInitCallbacks(se,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,se)}catch{}var Ee;return se||null}normalizeInstanceIdentifier(G=ee){return this.component?this.component.multipleInstances?G:ee:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const K=this.getProvider(G.name);if(K.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);K.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const K=new oe(G,this);return this.providers.set(G,K),K}getProviders(){return Array.from(this.providers.values())}}},7879:(It,Ce,M)=>{M.d(Ce,{Am:()=>Ee,Ub:()=>ne,Yd:()=>ue,in:()=>q});const m=[];var q=function(G){return G[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",G}(q||{});const ae={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},ee=q.INFO,oe={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},J=(G,K,...se)=>{if(K<G.logLevel)return;const Me=(new Date).toISOString(),me=oe[K];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[me](`[${Me}]  ${G.name}:`,...se)};class ue{constructor(K){this.name=K,this._logLevel=ee,this._logHandler=J,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in q))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?ae[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...K),this._logHandler(this,q.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...K),this._logHandler(this,q.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,q.INFO,...K),this._logHandler(this,q.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,q.WARN,...K),this._logHandler(this,q.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...K),this._logHandler(this,q.ERROR,...K)}}function ne(G){m.forEach(K=>{K.setLogLevel(G)})}function Ee(G,K){for(const se of m){let Me=null;K&&K.level&&(Me=ae[K.level]),se.userLogHandler=null===G?null:(me,He,...tt)=>{const ft=tt.map(it=>{if(null==it)return null;if("string"==typeof it)return it;if("number"==typeof it||"boolean"==typeof it)return it.toString();if(it instanceof Error)return it.message;try{return JSON.stringify(it)}catch{return null}}).filter(it=>it).join(" ");He>=(Me??me.logLevel)&&G({level:q[He].toLowerCase(),message:ft,args:tt,type:me.name})}}}},3182:(It,Ce,M)=>{M.d(Ce,{C6:()=>m.getApps,KN:()=>m.registerVersion,Mq:()=>m.getApp,ZF:()=>m.initializeApp});var m=M(534);(0,m.registerVersion)("firebase","10.5.2","app")},3446:(It,Ce,M)=>{M.d(Ce,{hJ:()=>Ot,a$:()=>vo,Xb:()=>uu,v0:()=>Ys,Aj:()=>Dt,w$:()=>Pa,LS:()=>qu,e5:()=>ls,rh:()=>di,w7:()=>dt,ck:()=>I});var m=M(5861),q=M(9058),ae=M(534),ee=M(7879),oe=M(7582),J=M(4537);const He=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),it=new ee.Yd("@firebase/auth");function We(E,...h){it.logLevel<=ee.in.ERROR&&it.error(`Auth (${ae.SDK_VERSION}): ${E}`,...h)}function Le(E,...h){throw ke(E,...h)}function Fe(E,...h){return ke(E,...h)}function Ve(E,h,p){const T=Object.assign(Object.assign({},He()),{[h]:p});return new q.LL("auth","Firebase",T).create(h,{appName:E.name})}function ke(E,...h){if("string"!=typeof E){const p=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=E.name),E._errorFactory.create(p,...T)}return tt.create(E,...h)}function ge(E,h,...p){if(!E)throw ke(h,...p)}function _e(E){const h="INTERNAL ASSERTION FAILED: "+E;throw We(h),new Error(h)}function st(E,h){E||_e(h)}function nt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function bt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Ct{constructor(h,p){this.shortDelay=h,this.longDelay=p,st(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ze(){return"http:"===bt()||"https:"===bt()}()||(0,q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pt(E,h){st(E.emulator,"Emulator should always be set here");const{url:p}=E.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class pe{static initialize(h,p,T){this.fetchImpl=h,p&&(this.headersImpl=p),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xe=new Ct(3e4,6e4);function we(E,h){return E.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:E.tenantId}):h}function Be(E,h,p,T){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,m.Z)(function*(E,h,p,T,k={}){return Ft(E,k,(0,m.Z)(function*(){let W={},le={};T&&("GET"===h?le=T:W={body:JSON.stringify(T)});const Ne=(0,q.xO)(Object.assign({key:E.config.apiKey},le)).slice(1),rt=yield E._getAdditionalHeaders();return rt["Content-Type"]="application/json",E.languageCode&&(rt["X-Firebase-Locale"]=E.languageCode),pe.fetch()(Vt(E,E.config.apiHost,p,Ne),Object.assign({method:h,headers:rt,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function Ft(E,h,p){return sn.apply(this,arguments)}function sn(){return(sn=(0,m.Z)(function*(E,h,p){E._canInitEmulator=!1;const T=Object.assign(Object.assign({},ye),h);try{const k=new xn(E),W=yield Promise.race([p(),k.promise]);k.clearNetworkTimeout();const le=yield W.json();if("needConfirmation"in le)throw jn(E,"account-exists-with-different-credential",le);if(W.ok&&!("errorMessage"in le))return le;{const Ne=W.ok?le.errorMessage:le.error.message,[rt,Mt]=Ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rt)throw jn(E,"credential-already-in-use",le);if("EMAIL_EXISTS"===rt)throw jn(E,"email-already-in-use",le);if("USER_DISABLED"===rt)throw jn(E,"user-disabled",le);const at=T[rt]||rt.toLowerCase().replace(/[_\s]+/g,"-");if(Mt)throw Ve(E,at,Mt);Le(E,at)}}catch(k){if(k instanceof q.ZR)throw k;Le(E,"network-request-failed",{message:String(k)})}})).apply(this,arguments)}function yn(E,h,p,T){return ot.apply(this,arguments)}function ot(){return(ot=(0,m.Z)(function*(E,h,p,T,k={}){const W=yield Be(E,h,p,T,k);return"mfaPendingCredential"in W&&Le(E,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function Vt(E,h,p,T){const k=`${h}${p}?${T}`;return E.config.emulator?pt(E.config,k):`${E.config.apiScheme}://${k}`}function vt(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,T)=>{this.timer=setTimeout(()=>T(Fe(this.auth,"network-request-failed")),xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(E,h,p){const T={appName:E.name};p.email&&(T.email=p.email),p.phoneNumber&&(T.phoneNumber=p.phoneNumber);const k=Fe(E,h,T);return k.customData._tokenResponse=p,k}function Lt(E){return void 0!==E&&void 0!==E.enterprise}class wr{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return vt(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function Ri(E,h){return ri.apply(this,arguments)}function ri(){return(ri=(0,m.Z)(function*(E,h){return Be(E,"GET","/v2/recaptchaConfig",we(E,h))})).apply(this,arguments)}function hr(){return(hr=(0,m.Z)(function*(E,h){return Be(E,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Ar(){return(Ar=(0,m.Z)(function*(E,h){return Be(E,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Bt(E){if(E)try{const h=new Date(Number(E));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function dn(){return(dn=(0,m.Z)(function*(E,h=!1){const p=(0,q.m9)(E),T=yield p.getIdToken(h),k=vn(T);ge(k&&k.exp&&k.auth_time&&k.iat,p.auth,"internal-error");const W="object"==typeof k.firebase?k.firebase:void 0,le=W?.sign_in_provider;return{claims:k,token:T,authTime:Bt(Vi(k.auth_time)),issuedAtTime:Bt(Vi(k.iat)),expirationTime:Bt(Vi(k.exp)),signInProvider:le||null,signInSecondFactor:W?.sign_in_second_factor||null}})).apply(this,arguments)}function Vi(E){return 1e3*Number(E)}function vn(E){const[h,p,T]=E.split(".");if(void 0===h||void 0===p||void 0===T)return We("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,q.tV)(p);return k?JSON.parse(k):(We("Failed to decode base64 JWT payload"),null)}catch(k){return We("Caught error parsing JWT payload as JSON",k?.toString()),null}}function $t(E,h){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,m.Z)(function*(E,h,p=!1){if(p)return h;try{return yield h}catch(T){throw T instanceof q.ZR&&function cn({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(T)&&E.auth.currentUser===E&&(yield E.auth.signOut()),T}})).apply(this,arguments)}class $n{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const k=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,m.Z)(function*(){yield p.iteration()}),T)}iteration(){var h=this;return(0,m.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class fn{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bt(this.lastLoginAt),this.creationTime=Bt(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kt(E){return ir.apply(this,arguments)}function ir(){return ir=(0,m.Z)(function*(E){var h;const p=E.auth,T=yield E.getIdToken(),k=yield $t(E,function qt(E,h){return Ar.apply(this,arguments)}(p,{idToken:T}));ge(k?.users.length,p,"internal-error");const W=k.users[0];E._notifyReloadListener(W);const le=null!==(h=W.providerUserInfo)&&void 0!==h&&h.length?function Rs(E){return E.map(h=>{var{providerId:p}=h,T=(0,oe._T)(h,["providerId"]);return{providerId:p,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(W.providerUserInfo):[],Ne=function Gi(E,h){return[...E.filter(T=>!h.some(k=>k.providerId===T.providerId)),...h]}(E.providerData,le),at=!!E.isAnonymous&&!(E.email&&W.passwordHash||Ne?.length),Yn={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:Ne,metadata:new fn(W.createdAt,W.lastLoginAt),isAnonymous:at};Object.assign(E,Yn)}),ir.apply(this,arguments)}function gr(){return(gr=(0,m.Z)(function*(E){const h=(0,q.m9)(E);yield Kt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Es(){return(Es=(0,m.Z)(function*(E,h){const p=yield Ft(E,{},(0,m.Z)(function*(){const T=(0,q.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:k,apiKey:W}=E.config,le=Vt(E,k,"/v1/token",`key=${W}`),Ne=yield E._getAdditionalHeaders();return Ne["Content-Type"]="application/x-www-form-urlencoded",pe.fetch()(le,{method:"POST",headers:Ne,body:T})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ge(h.idToken,"internal-error"),ge(typeof h.idToken<"u","internal-error"),ge(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function An(E){const h=vn(E);return ge(h,"internal-error"),ge(typeof h.exp<"u","internal-error"),ge(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var T=this;return(0,m.Z)(function*(){return ge(!T.accessToken||T.refreshToken,h,"user-token-expired"),p||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(h,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var T=this;return(0,m.Z)(function*(){const{accessToken:k,refreshToken:W,expiresIn:le}=yield function Wi(E,h){return Es.apply(this,arguments)}(h,p);T.updateTokensAndExpiration(k,W,Number(le))})()}updateTokensAndExpiration(h,p,T){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,p){const{refreshToken:T,accessToken:k,expirationTime:W}=p,le=new re;return T&&(ge("string"==typeof T,"internal-error",{appName:h}),le.refreshToken=T),k&&(ge("string"==typeof k,"internal-error",{appName:h}),le.accessToken=k),W&&(ge("number"==typeof W,"internal-error",{appName:h}),le.expirationTime=W),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return _e("not implemented")}}function B(E,h){ge("string"==typeof E||typeof E>"u","internal-error",{appName:h})}class z{constructor(h){var{uid:p,auth:T,stsTokenManager:k}=h,W=(0,oe._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=T,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new fn(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,m.Z)(function*(){const T=yield $t(p,p.stsTokenManager.getToken(p.auth,h));return ge(T,p.auth,"internal-error"),p.accessToken!==T&&(p.accessToken=T,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),T})()}getIdTokenResult(h){return function un(E){return dn.apply(this,arguments)}(this,h)}reload(){return function vi(E){return gr.apply(this,arguments)}(this)}_assign(h){this!==h&&(ge(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new z(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var T=this;return(0,m.Z)(function*(){let k=!1;h.idToken&&h.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(h),k=!0),p&&(yield Kt(T)),yield T.auth._persistUserIfCurrent(T),k&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var h=this;return(0,m.Z)(function*(){const p=yield h.getIdToken();return yield $t(h,function ii(E,h){return hr.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var T,k,W,le,Ne,rt,Mt,at;const Yn=null!==(T=p.displayName)&&void 0!==T?T:void 0,vs=null!==(k=p.email)&&void 0!==k?k:void 0,wo=null!==(W=p.phoneNumber)&&void 0!==W?W:void 0,uc=null!==(le=p.photoURL)&&void 0!==le?le:void 0,rh=null!==(Ne=p.tenantId)&&void 0!==Ne?Ne:void 0,Cu=null!==(rt=p._redirectEventId)&&void 0!==rt?rt:void 0,ih=null!==(Mt=p.createdAt)&&void 0!==Mt?Mt:void 0,sh=null!==(at=p.lastLoginAt)&&void 0!==at?at:void 0,{uid:za,emailVerified:ua,isAnonymous:ca,providerData:cc,stsTokenManager:Ga}=p;ge(za&&Ga,h,"internal-error");const od=re.fromJSON(this.name,Ga);ge("string"==typeof za,h,"internal-error"),B(Yn,h.name),B(vs,h.name),ge("boolean"==typeof ua,h,"internal-error"),ge("boolean"==typeof ca,h,"internal-error"),B(wo,h.name),B(uc,h.name),B(rh,h.name),B(Cu,h.name),B(ih,h.name),B(sh,h.name);const Wa=new z({uid:za,auth:h,email:vs,emailVerified:ua,displayName:Yn,isAnonymous:ca,photoURL:uc,phoneNumber:wo,tenantId:rh,stsTokenManager:od,createdAt:ih,lastLoginAt:sh});return cc&&Array.isArray(cc)&&(Wa.providerData=cc.map(oh=>Object.assign({},oh))),Cu&&(Wa._redirectEventId=Cu),Wa}static _fromIdTokenResponse(h,p,T=!1){return(0,m.Z)(function*(){const k=new re;k.updateFromServerResponse(p);const W=new z({uid:p.localId,auth:h,stsTokenManager:k,isAnonymous:T});return yield Kt(W),W})()}}const $=new Map;function H(E){st(E instanceof Function,"Expected a class definition");let h=$.get(E);return h?(st(h instanceof E,"Instance stored in cache mismatched with class"),h):(h=new E,$.set(E,h),h)}const je=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(p,T){var k=this;return(0,m.Z)(function*(){k.storage[p]=T})()}_get(p){var T=this;return(0,m.Z)(function*(){const k=T.storage[p];return void 0===k?null:k})()}_remove(p){var T=this;return(0,m.Z)(function*(){delete T.storage[p]})()}_addListener(p,T){}_removeListener(p,T){}}return E.type="NONE",E})();function ht(E,h,p){return`firebase:${E}:${h}:${p}`}class Ht{constructor(h,p,T){this.persistence=h,this.auth=p,this.userKey=T;const{config:k,name:W}=this.auth;this.fullUserKey=ht(this.userKey,k.apiKey,W),this.fullPersistenceKey=ht("persistence",k.apiKey,W),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,m.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?z._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,m.Z)(function*(){if(p.persistence===h)return;const T=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,T?p.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,T="authUser"){return(0,m.Z)(function*(){if(!p.length)return new Ht(H(je),h,T);const k=(yield Promise.all(p.map(function(){var Mt=(0,m.Z)(function*(at){if(yield at._isAvailable())return at});return function(at){return Mt.apply(this,arguments)}}()))).filter(Mt=>Mt);let W=k[0]||H(je);const le=ht(T,h.config.apiKey,h.name);let Ne=null;for(const Mt of p)try{const at=yield Mt._get(le);if(at){const Yn=z._fromJSON(h,at);Mt!==W&&(Ne=Yn),W=Mt;break}}catch{}const rt=k.filter(Mt=>Mt._shouldAllowMigration);return W._shouldAllowMigration&&rt.length?(W=rt[0],Ne&&(yield W._set(le,Ne.toJSON())),yield Promise.all(p.map(function(){var Mt=(0,m.Z)(function*(at){if(at!==W)try{yield at._remove(le)}catch{}});return function(at){return Mt.apply(this,arguments)}}())),new Ht(W,h,T)):new Ht(W,h,T)})()}}function tn(E){const h=E.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(xr(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(on(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(qi(h))return"Blackberry";if(Oe(h))return"Webos";if(Yt(h))return"Safari";if((h.includes("chrome/")||hn(h))&&!h.includes("edge/"))return"Chrome";if(Cn(h))return"Android";{const T=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function on(E=(0,q.z$)()){return/firefox\//i.test(E)}function Yt(E=(0,q.z$)()){const h=E.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function hn(E=(0,q.z$)()){return/crios\//i.test(E)}function xr(E=(0,q.z$)()){return/iemobile/i.test(E)}function Cn(E=(0,q.z$)()){return/android/i.test(E)}function qi(E=(0,q.z$)()){return/blackberry/i.test(E)}function Oe(E=(0,q.z$)()){return/webos/i.test(E)}function ve(E=(0,q.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function zt(E=(0,q.z$)()){return ve(E)||Cn(E)||Oe(E)||qi(E)||/windows phone/i.test(E)||xr(E)}function Hn(E,h=[]){let p;switch(E){case"Browser":p=tn((0,q.z$)());break;case"Worker":p=`${tn((0,q.z$)())}-${E}`;break;default:p=E}const T=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${ae.SDK_VERSION}/${T}`}class Nn{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const T=W=>new Promise((le,Ne)=>{try{le(h(W))}catch(rt){Ne(rt)}});T.onAbort=p,this.queue.push(T);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,m.Z)(function*(){if(p.auth.currentUser===h)return;const T=[];try{for(const k of p.queue)yield k(h),k.onAbort&&T.push(k.onAbort)}catch(k){T.reverse();for(const W of T)try{W()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:k?.message})}})()}}function si(){return(si=(0,m.Z)(function*(E,h={}){return Be(E,"GET","/v2/passwordPolicy",we(E,h))})).apply(this,arguments)}class Sn{constructor(h){var p,T,k,W;const le=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=le.minPasswordLength)&&void 0!==p?p:6,le.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=le.maxPasswordLength),void 0!==le.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=le.containsLowercaseCharacter),void 0!==le.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=le.containsUppercaseCharacter),void 0!==le.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=le.containsNumericCharacter),void 0!==le.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=le.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(k=null===(T=h.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==k?k:"",this.forceUpgradeOnSignin=null!==(W=h.forceUpgradeOnSignin)&&void 0!==W&&W,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,T,k,W,le,Ne;const rt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,rt),this.validatePasswordCharacterOptions(h,rt),rt.isValid&&(rt.isValid=null===(p=rt.meetsMinPasswordLength)||void 0===p||p),rt.isValid&&(rt.isValid=null===(T=rt.meetsMaxPasswordLength)||void 0===T||T),rt.isValid&&(rt.isValid=null===(k=rt.containsLowercaseLetter)||void 0===k||k),rt.isValid&&(rt.isValid=null===(W=rt.containsUppercaseLetter)||void 0===W||W),rt.isValid&&(rt.isValid=null===(le=rt.containsNumericCharacter)||void 0===le||le),rt.isValid&&(rt.isValid=null===(Ne=rt.containsNonAlphanumericCharacter)||void 0===Ne||Ne),rt}validatePasswordLengthOptions(h,p){const T=this.customStrengthOptions.minPasswordLength,k=this.customStrengthOptions.maxPasswordLength;T&&(p.meetsMinPasswordLength=h.length>=T),k&&(p.meetsMaxPasswordLength=h.length<=k)}validatePasswordCharacterOptions(h,p){let T;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let k=0;k<h.length;k++)T=h.charAt(k),this.updatePasswordCharacterOptionsStatuses(p,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(h,p,T,k,W){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=k)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=W))}}class Ms{constructor(h,p,T,k){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=T,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oi(this),this.idTokenSubscription=new oi(this),this.beforeStateQueue=new Nn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(h,p){var T=this;return p&&(this._popupRedirectResolver=H(p)),this._initializationPromise=this.queue((0,m.Z)(function*(){var k,W;if(!T._deleted&&(T.persistenceManager=yield Ht.create(T,h),!T._deleted)){if(null!==(k=T._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(p),T.lastNotifiedUid=(null===(W=T.currentUser)||void 0===W?void 0:W.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,m.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,m.Z)(function*(){var T;const k=yield p.assertedPersistence.getCurrentUser();let W=k,le=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Ne=null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId,rt=W?._redirectEventId,Mt=yield p.tryRedirectSignIn(h);(!Ne||Ne===rt)&&Mt?.user&&(W=Mt.user,le=!0)}if(!W)return p.directlySetCurrentUser(null);if(!W._redirectEventId){if(le)try{yield p.beforeStateQueue.runMiddleware(W)}catch(Ne){W=k,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Ne))}return W?p.reloadAndSetCurrentUserOrClear(W):p.directlySetCurrentUser(null)}return ge(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===W._redirectEventId?p.directlySetCurrentUser(W):p.reloadAndSetCurrentUserOrClear(W)})()}tryRedirectSignIn(h){var p=this;return(0,m.Z)(function*(){let T=null;try{T=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,m.Z)(function*(){try{yield Kt(h)}catch(T){if("auth/network-request-failed"!==T?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function qe(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var h=this;return(0,m.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,m.Z)(function*(){const T=h?(0,q.m9)(h):null;return T&&ge(T.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(T&&T._clone(p))})()}_updateCurrentUser(h,p=!1){var T=this;return(0,m.Z)(function*(){if(!T._deleted)return h&&ge(T.tenantId===h.tenantId,T,"tenant-id-mismatch"),p||(yield T.beforeStateQueue.runMiddleware(h)),T.queue((0,m.Z)(function*(){yield T.directlySetCurrentUser(h),T.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,m.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,m.Z)(function*(){yield p.assertedPersistence.setPersistence(H(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,m.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const T=p._getPasswordPolicyInternal();return T.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,m.Z)(function*(){const p=yield function mn(E){return si.apply(this,arguments)}(h),T=new Sn(p);null===h.tenantId?h._projectPasswordPolicy=T:h._tenantPasswordPolicies[h.tenantId]=T})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new q.LL("auth","Firebase",h())}onAuthStateChanged(h,p,T){return this.registerStateListener(this.authStateSubscription,h,p,T)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,T){return this.registerStateListener(this.idTokenSubscription,h,p,T)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const T=this.onAuthStateChanged(()=>{T(),h()},p)}})}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var T=this;return(0,m.Z)(function*(){const k=yield T.getOrInitRedirectPersistenceManager(p);return null===h?k.removeCurrentUser():k.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,m.Z)(function*(){if(!p.redirectPersistenceManager){const T=h&&H(h)||p._popupRedirectResolver;ge(T,p,"argument-error"),p.redirectPersistenceManager=yield Ht.create(p,[H(T._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,m.Z)(function*(){var T,k;return p._isInitialized&&(yield p.queue((0,m.Z)(function*(){}))),(null===(T=p._currentUser)||void 0===T?void 0:T._redirectEventId)===h?p._currentUser:(null===(k=p.redirectUser)||void 0===k?void 0:k._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,m.Z)(function*(){if(h===p.currentUser)return p.queue((0,m.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,T,k){if(this._deleted)return()=>{};const W="function"==typeof p?p:p.next.bind(p);let le=!1;const Ne=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(Ne,this,"internal-error"),Ne.then(()=>{le||W(this.currentUser)}),"function"==typeof p){const rt=h.addObserver(p,T,k);return()=>{le=!0,rt()}}{const rt=h.addObserver(p);return()=>{le=!0,rt()}}}directlySetCurrentUser(h){var p=this;return(0,m.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Hn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,m.Z)(function*(){var p;const T={"X-Client-Version":h.clientVersion};h.app.options.appId&&(T["X-Firebase-gmpid"]=h.app.options.appId);const k=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();k&&(T["X-Firebase-Client"]=k);const W=yield h._getAppCheckToken();return W&&(T["X-Firebase-AppCheck"]=W),T})()}_getAppCheckToken(){var h=this;return(0,m.Z)(function*(){var p;const T=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return T?.error&&function jt(E,...h){it.logLevel<=ee.in.WARN&&it.warn(`Auth (${ae.SDK_VERSION}): ${E}`,...h)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function bn(E){return(0,q.m9)(E)}class oi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,q.ne)(p=>this.observer=p)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function es(E){return new Promise((h,p)=>{const T=document.createElement("script");T.setAttribute("src",E),T.onload=h,T.onerror=k=>{const W=Fe("internal-error");W.customData=k,p(W)},T.type="text/javascript",T.charset="UTF-8",function Bs(){var E,h;return null!==(h=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==h?h:document}().appendChild(T)})}function Mi(E){return`__${E}${Math.floor(1e6*Math.random())}`}class gt{constructor(h){this.type="recaptcha-enterprise",this.auth=bn(h)}verify(h="verify",p=!1){var T=this;return(0,m.Z)(function*(){function W(){return W=(0,m.Z)(function*(Ne){if(!p){if(null==Ne.tenantId&&null!=Ne._agentRecaptchaConfig)return Ne._agentRecaptchaConfig.siteKey;if(null!=Ne.tenantId&&void 0!==Ne._tenantRecaptchaConfigs[Ne.tenantId])return Ne._tenantRecaptchaConfigs[Ne.tenantId].siteKey}return new Promise(function(){var rt=(0,m.Z)(function*(Mt,at){Ri(Ne,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Yn=>{if(void 0!==Yn.recaptchaKey){const vs=new wr(Yn);return null==Ne.tenantId?Ne._agentRecaptchaConfig=vs:Ne._tenantRecaptchaConfigs[Ne.tenantId]=vs,Mt(vs.siteKey)}at(new Error("recaptcha Enterprise site key undefined"))}).catch(Yn=>{at(Yn)})});return function(Mt,at){return rt.apply(this,arguments)}}())}),W.apply(this,arguments)}function le(Ne,rt,Mt){const at=window.grecaptcha;Lt(at)?at.enterprise.ready(()=>{at.enterprise.execute(Ne,{action:h}).then(Yn=>{rt(Yn)}).catch(()=>{rt("NO_RECAPTCHA")})}):Mt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ne,rt)=>{(function k(Ne){return W.apply(this,arguments)})(T.auth).then(Mt=>{if(!p&&Lt(window.grecaptcha))le(Mt,Ne,rt);else{if(typeof window>"u")return void rt(new Error("RecaptchaVerifier is only supported in browser"));es("https://www.google.com/recaptcha/enterprise.js?render="+Mt).then(()=>{le(Mt,Ne,rt)}).catch(at=>{rt(at)})}}).catch(Mt=>{rt(Mt)})})})()}}function et(E,h,p){return xt.apply(this,arguments)}function xt(){return(xt=(0,m.Z)(function*(E,h,p,T=!1){const k=new gt(E);let W;try{W=yield k.verify(p)}catch{W=yield k.verify(p,!0)}const le=Object.assign({},h);return Object.assign(le,T?{captchaResp:W}:{captchaResponse:W}),Object.assign(le,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(le,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),le})).apply(this,arguments)}function Pt(E,h,p,T){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,m.Z)(function*(E,h,p,T){var k;if(null!==(k=E._getRecaptchaConfig())&&void 0!==k&&k.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const W=yield et(E,h,p,"getOobCode"===p);return T(E,W)}return T(E,h).catch(function(){var W=(0,m.Z)(function*(le){if("auth/missing-recaptcha-token"===le.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ne=yield et(E,h,p,"getOobCode"===p);return T(E,Ne)}return Promise.reject(le)});return function(le){return W.apply(this,arguments)}}())}),Vr.apply(this,arguments)}function xs(E){const h=E.indexOf(":");return h<0?"":E.substr(0,h+1)}function Po(E){if(!E)return null;const h=Number(E);return isNaN(h)?null:h}class Qs{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return _e("not implemented")}_getIdTokenResponse(h){return _e("not implemented")}_linkToIdToken(h,p){return _e("not implemented")}_getReauthenticationResolver(h){return _e("not implemented")}}function ns(E,h){return Js.apply(this,arguments)}function Js(){return(Js=(0,m.Z)(function*(E,h){return Be(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function zs(E,h){return Os.apply(this,arguments)}function Os(){return(Os=(0,m.Z)(function*(E,h){return yn(E,"POST","/v1/accounts:signInWithPassword",we(E,h))})).apply(this,arguments)}function Ei(E,h){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,m.Z)(function*(E,h){return Be(E,"POST","/v1/accounts:sendOobCode",we(E,h))})).apply(this,arguments)}function _n(){return(_n=(0,m.Z)(function*(E,h){return Ei(E,h)})).apply(this,arguments)}function Cr(E,h){return _r.apply(this,arguments)}function _r(){return(_r=(0,m.Z)(function*(E,h){return Ei(E,h)})).apply(this,arguments)}function ho(){return(ho=(0,m.Z)(function*(E,h){return yn(E,"POST","/v1/accounts:signInWithEmailLink",we(E,h))})).apply(this,arguments)}function Qn(){return(Qn=(0,m.Z)(function*(E,h){return yn(E,"POST","/v1/accounts:signInWithEmailLink",we(E,h))})).apply(this,arguments)}class mt extends Qs{constructor(h,p,T,k=null){super("password",T),this._email=h,this._password=p,this._tenantId=k}static _fromEmailAndPassword(h,p){return new mt(h,p,"password")}static _fromEmailAndCode(h,p,T=null){return new mt(h,p,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,m.Z)(function*(){switch(p.signInMethod){case"password":return Pt(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zs);case"emailLink":return function to(E,h){return ho.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Le(h,"internal-error")}})()}_linkToIdToken(h,p){var T=this;return(0,m.Z)(function*(){switch(T.signInMethod){case"password":return ns(h,{idToken:p,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function fo(E,h){return Qn.apply(this,arguments)}(h,{idToken:p,email:T._email,oobCode:T._password});default:Le(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Zt(E,h){return On.apply(this,arguments)}function On(){return(On=(0,m.Z)(function*(E,h){return yn(E,"POST","/v1/accounts:signInWithIdp",we(E,h))})).apply(this,arguments)}class Ui extends Qs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Ui(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Le("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:k}=p,W=(0,oe._T)(p,["providerId","signInMethod"]);if(!T||!k)return null;const le=new Ui(T,k);return le.idToken=W.idToken||void 0,le.accessToken=W.accessToken||void 0,le.secret=W.secret,le.nonce=W.nonce,le.pendingToken=W.pendingToken||null,le}_getIdTokenResponse(h){return Zt(h,this.buildRequest())}_linkToIdToken(h,p){const T=this.buildRequest();return T.idToken=p,Zt(h,T)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Zt(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,q.xO)(p)}return h}}class yt{constructor(h){var p,T,k,W,le,Ne;const rt=(0,q.zd)((0,q.pd)(h)),Mt=null!==(p=rt.apiKey)&&void 0!==p?p:null,at=null!==(T=rt.oobCode)&&void 0!==T?T:null,Yn=function lt(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=rt.mode)&&void 0!==k?k:null);ge(Mt&&at&&Yn,"argument-error"),this.apiKey=Mt,this.operation=Yn,this.code=at,this.continueUrl=null!==(W=rt.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(le=rt.languageCode)&&void 0!==le?le:null,this.tenantId=null!==(Ne=rt.tenantId)&&void 0!==Ne?Ne:null}static parseLink(h){const p=function Nt(E){const h=(0,q.zd)((0,q.pd)(E)).link,p=h?(0,q.zd)((0,q.pd)(h)).deep_link_id:null,T=(0,q.zd)((0,q.pd)(E)).deep_link_id;return(T?(0,q.zd)((0,q.pd)(T)).link:null)||T||p||h||E}(h);try{return new yt(p)}catch{return null}}}let Rn=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(p,T){return mt._fromEmailAndPassword(p,T)}static credentialWithLink(p,T){const k=yt.parseLink(T);return ge(k,"argument-error"),mt._fromEmailAndCode(p,k.code,k.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Mn{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Jn extends Mn{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}let Ot=(()=>{class E extends Jn{constructor(){super("google.com"),this.addScope("profile")}static credential(p,T){return Ui._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:T})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:T,oauthAccessToken:k}=p;if(!T&&!k)return null;try{return E.credential(T,k)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})();function hi(E,h){return br.apply(this,arguments)}function br(){return(br=(0,m.Z)(function*(E,h){return yn(E,"POST","/v1/accounts:signUp",we(E,h))})).apply(this,arguments)}class _i{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,T,k=!1){return(0,m.Z)(function*(){const W=yield z._fromIdTokenResponse(h,T,k),le=Rr(T);return new _i({user:W,providerId:le,_tokenResponse:T,operationType:p})})()}static _forOperation(h,p,T){return(0,m.Z)(function*(){yield h._updateTokensIfNecessary(T,!0);const k=Rr(T);return new _i({user:h,providerId:k,_tokenResponse:T,operationType:p})})()}}function Rr(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}class ss extends q.ZR{constructor(h,p,T,k){var W;super(p.code,p.message),this.operationType=T,this.user=k,Object.setPrototypeOf(this,ss.prototype),this.customData={appName:h.name,tenantId:null!==(W=h.tenantId)&&void 0!==W?W:void 0,_serverResponse:p.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,p,T,k){return new ss(h,p,T,k)}}function os(E,h,p,T){return("reauthenticate"===h?p._getReauthenticationResolver(E):p._getIdTokenResponse(E)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?ss._fromErrorAndOperation(E,W,h,T):W})}function ru(){return(ru=(0,m.Z)(function*(E,h,p=!1){const T=yield $t(E,h._linkToIdToken(E.auth,yield E.getIdToken()),p);return _i._forOperation(E,"link",T)})).apply(this,arguments)}function Aa(){return(Aa=(0,m.Z)(function*(E,h,p=!1){const{auth:T}=E,k="reauthenticate";try{const W=yield $t(E,os(T,k,h,E),p);ge(W.idToken,T,"internal-error");const le=vn(W.idToken);ge(le,T,"internal-error");const{sub:Ne}=le;return ge(E.uid===Ne,T,"user-mismatch"),_i._forOperation(E,k,W)}catch(W){throw"auth/user-not-found"===W?.code&&Le(T,"user-mismatch"),W}})).apply(this,arguments)}function xo(E,h){return go.apply(this,arguments)}function go(){return(go=(0,m.Z)(function*(E,h,p=!1){const T="signIn",k=yield os(E,T,h),W=yield _i._fromIdTokenResponse(E,T,k);return p||(yield E._updateCurrentUser(W.user)),W})).apply(this,arguments)}function su(){return(su=(0,m.Z)(function*(E,h){return xo(bn(E),h)})).apply(this,arguments)}function Ki(E,h,p){var T;ge((null===(T=p.url)||void 0===T?void 0:T.length)>0,E,"invalid-continue-uri"),ge(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ge(p.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(ge(p.android.packageName.length>0,E,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function fi(E){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,m.Z)(function*(E){const h=bn(E);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function qu(E,h,p){return kr.apply(this,arguments)}function kr(){return(kr=(0,m.Z)(function*(E,h,p){const T=bn(E),k={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};p&&Ki(T,k,p),yield Pt(T,k,"getOobCode",Cr)})).apply(this,arguments)}function uu(E,h,p){return ks.apply(this,arguments)}function ks(){return(ks=(0,m.Z)(function*(E,h,p){const T=bn(E),le=yield Pt(T,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hi).catch(rt=>{throw"auth/password-does-not-meet-requirements"===rt.code&&fi(E),rt}),Ne=yield _i._fromIdTokenResponse(T,"signIn",le);return yield T._updateCurrentUser(Ne.user),Ne})).apply(this,arguments)}function ls(E,h,p){return function Ts(E,h){return su.apply(this,arguments)}((0,q.m9)(E),Rn.credential(h,p)).catch(function(){var T=(0,m.Z)(function*(k){throw"auth/password-does-not-meet-requirements"===k.code&&fi(E),k});return function(k){return T.apply(this,arguments)}}())}function Pa(E,h){return yo.apply(this,arguments)}function yo(){return yo=(0,m.Z)(function*(E,h){const p=(0,q.m9)(E),k={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};h&&Ki(p.auth,k,h);const{email:W}=yield function Ni(E,h){return _n.apply(this,arguments)}(p.auth,k);W!==E.email&&(yield E.reload())}),yo.apply(this,arguments)}function Ma(){return(Ma=(0,m.Z)(function*(E,h){return Be(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function I(E,h){return F.apply(this,arguments)}function F(){return F=(0,m.Z)(function*(E,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const T=(0,q.m9)(E),W={idToken:yield T.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},le=yield $t(T,function hs(E,h){return Ma.apply(this,arguments)}(T.auth,W));T.displayName=le.displayName||null,T.photoURL=le.photoUrl||null;const Ne=T.providerData.find(({providerId:rt})=>"password"===rt);Ne&&(Ne.displayName=T.displayName,Ne.photoURL=T.photoURL),yield T._updateTokensIfNecessary(le)}),F.apply(this,arguments)}function Dt(E,h,p,T){return(0,q.m9)(E).onAuthStateChanged(h,p,T)}function dt(E){return(0,q.m9)(E).signOut()}const fs="__sak";class Qt{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(fs,"1"),this.storage.removeItem(fs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const vo=(()=>{class E extends Qt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,T)=>this.onStorageEvent(p,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Zo(){const E=(0,q.z$)();return Yt(E)||ve(E)}()&&function pn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const T of Object.keys(this.listeners)){const k=this.storage.getItem(T),W=this.localCache[T];k!==W&&p(T,W,k)}}onStorageEvent(p,T=!1){if(!p.key)return void this.forAllChangedKeys((Ne,rt,Mt)=>{this.notifyListeners(Ne,Mt)});const k=p.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ne=this.storage.getItem(k);if(p.newValue!==Ne)null!==p.newValue?this.storage.setItem(k,p.newValue):this.storage.removeItem(k);else if(this.localCache[k]===p.newValue&&!T)return}const W=()=>{const Ne=this.storage.getItem(k);!T&&this.localCache[k]===Ne||this.notifyListeners(k,Ne)},le=this.storage.getItem(k);!function nn(){return(0,q.w1)()&&10===document.documentMode}()||le===p.newValue||p.newValue===p.oldValue?W():setTimeout(W,10)}notifyListeners(p,T){this.localCache[p]=T;const k=this.listeners[p];if(k)for(const W of Array.from(k))W(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,T,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:T,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,T){var k=()=>super._set,W=this;return(0,m.Z)(function*(){yield k().call(W,p,T),W.localCache[p]=JSON.stringify(T)})()}_get(p){var T=()=>super._get,k=this;return(0,m.Z)(function*(){const W=yield T().call(k,p);return k.localCache[p]=JSON.stringify(W),W})()}_remove(p){var T=()=>super._remove,k=this;return(0,m.Z)(function*(){yield T().call(k,p),delete k.localCache[p]})()}}return E.type="LOCAL",E})(),an=(()=>{class E extends Qt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,T){}_removeListener(p,T){}}return E.type="SESSION",E})();let wt=(()=>{class E{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const T=this.receivers.find(W=>W.isListeningto(p));if(T)return T;const k=new E(p);return this.receivers.push(k),k}isListeningto(p){return this.eventTarget===p}handleEvent(p){var T=this;return(0,m.Z)(function*(){const k=p,{eventId:W,eventType:le,data:Ne}=k.data,rt=T.handlersMap[le];if(!rt?.size)return;k.ports[0].postMessage({status:"ack",eventId:W,eventType:le});const Mt=Array.from(rt).map(function(){var Yn=(0,m.Z)(function*(vs){return vs(k.origin,Ne)});return function(vs){return Yn.apply(this,arguments)}}()),at=yield function Pr(E){return Promise.all(E.map(function(){var h=(0,m.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(T){return{fulfilled:!1,reason:T}}});return function(p){return h.apply(this,arguments)}}()))}(Mt);k.ports[0].postMessage({status:"done",eventId:W,eventType:le,response:at})})()}_subscribe(p,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(T)}_unsubscribe(p,T){this.handlersMap[p]&&T&&this.handlersMap[p].delete(T),(!T||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Ks(E="",h=10){let p="";for(let T=0;T<h;T++)p+=Math.floor(10*Math.random());return E+p}class Zu{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,T=50){var k=this;return(0,m.Z)(function*(){const W=typeof MessageChannel<"u"?new MessageChannel:null;if(!W)throw new Error("connection_unavailable");let le,Ne;return new Promise((rt,Mt)=>{const at=Ks("",20);W.port1.start();const Yn=setTimeout(()=>{Mt(new Error("unsupported_event"))},T);Ne={messageChannel:W,onMessage(vs){const wo=vs;if(wo.data.eventId===at)switch(wo.data.status){case"ack":clearTimeout(Yn),le=setTimeout(()=>{Mt(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),rt(wo.data.response);break;default:clearTimeout(Yn),clearTimeout(le),Mt(new Error("invalid_response"))}}},k.handlers.add(Ne),W.port1.addEventListener("message",Ne.onMessage),k.target.postMessage({eventType:h,eventId:at,data:p},[W.port2])}).finally(()=>{Ne&&k.removeMessageHandler(Ne)})})()}}function Mr(){return window}function ps(){return typeof Mr().WorkerGlobalScope<"u"&&"function"==typeof Mr().importScripts}function Fo(){return(Fo=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Zi="firebaseLocalStorageDb",Pn="firebaseLocalStorage",Ju="fbase_key";class gs{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function qr(E,h){return E.transaction([Pn],h?"readwrite":"readonly").objectStore(Pn)}function Ls(){const E=indexedDB.open(Zi,1);return new Promise((h,p)=>{E.addEventListener("error",()=>{p(E.error)}),E.addEventListener("upgradeneeded",()=>{const T=E.result;try{T.createObjectStore(Pn,{keyPath:Ju})}catch(k){p(k)}}),E.addEventListener("success",(0,m.Z)(function*(){const T=E.result;T.objectStoreNames.contains(Pn)?h(T):(T.close(),yield function De(){const E=indexedDB.deleteDatabase(Zi);return new gs(E).toPromise()}(),h(yield Ls()))}))})}function ei(E,h,p){return cu.apply(this,arguments)}function cu(){return(cu=(0,m.Z)(function*(E,h,p){const T=qr(E,!0).put({[Ju]:h,value:p});return new gs(T).toPromise()})).apply(this,arguments)}function oo(){return(oo=(0,m.Z)(function*(E,h){const p=qr(E,!1).get(h),T=yield new gs(p).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Zd(E,h){const p=qr(E,!0).delete(h);return new gs(p).toPromise()}const C=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,m.Z)(function*(){return p.db||(p.db=yield Ls()),p.db})()}_withRetries(p){var T=this;return(0,m.Z)(function*(){let k=0;for(;;)try{const W=yield T._openDb();return yield p(W)}catch(W){if(k++>3)throw W;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,m.Z)(function*(){return ps()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,m.Z)(function*(){p.receiver=wt._getInstance(function $c(){return ps()?self:null}()),p.receiver._subscribe("keyChanged",function(){var T=(0,m.Z)(function*(k,W){return{keyProcessed:(yield p._poll()).includes(W.key)}});return function(k,W){return T.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var T=(0,m.Z)(function*(k,W){return["keyChanged"]});return function(k,W){return T.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,m.Z)(function*(){var T,k;if(p.activeServiceWorker=yield function Zl(){return Fo.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Zu(p.activeServiceWorker);const W=yield p.sender._send("ping",{},800);W&&null!==(T=W[0])&&void 0!==T&&T.fulfilled&&null!==(k=W[0])&&void 0!==k&&k.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var T=this;return(0,m.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Qu(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:p},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Ls();return yield ei(p,fs,"1"),yield Zd(p,fs),!0}catch{}return!1})()}_withPendingWrite(p){var T=this;return(0,m.Z)(function*(){T.pendingWrites++;try{yield p()}finally{T.pendingWrites--}})()}_set(p,T){var k=this;return(0,m.Z)(function*(){return k._withPendingWrite((0,m.Z)(function*(){return yield k._withRetries(W=>ei(W,p,T)),k.localCache[p]=T,k.notifyServiceWorker(p)}))})()}_get(p){var T=this;return(0,m.Z)(function*(){const k=yield T._withRetries(W=>function Qo(E,h){return oo.apply(this,arguments)}(W,p));return T.localCache[p]=k,k})()}_remove(p){var T=this;return(0,m.Z)(function*(){return T._withPendingWrite((0,m.Z)(function*(){return yield T._withRetries(k=>Zd(k,p)),delete T.localCache[p],T.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,m.Z)(function*(){const T=yield p._withRetries(le=>{const Ne=qr(le,!1).getAll();return new gs(Ne).toPromise()});if(!T)return[];if(0!==p.pendingWrites)return[];const k=[],W=new Set;for(const{fbase_key:le,value:Ne}of T)W.add(le),JSON.stringify(p.localCache[le])!==JSON.stringify(Ne)&&(p.notifyListeners(le,Ne),k.push(le));for(const le of Object.keys(p.localCache))p.localCache[le]&&!W.has(le)&&(p.notifyListeners(le,null),k.push(le));return k})()}notifyListeners(p,T){this.localCache[p]=T;const k=this.listeners[p];if(k)for(const W of Array.from(k))W(T)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function Oa(E,h){return h?H(h):(ge(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}Mi("rcb"),new Ct(3e4,6e4);class ea extends Qs{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Zt(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Zt(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Zt(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function pi(E){return xo(E.auth,new ea(E),E.bypassAuthState)}function ec(E){const{auth:h,user:p}=E;return ge(p,h,"internal-error"),function iu(E,h){return Aa.apply(this,arguments)}(p,new ea(E),E.bypassAuthState)}function Io(E){return tc.apply(this,arguments)}function tc(){return(tc=(0,m.Z)(function*(E){const{auth:h,user:p}=E;return ge(p,h,"internal-error"),function wa(E,h){return ru.apply(this,arguments)}(p,new ea(E),E.bypassAuthState)})).apply(this,arguments)}class Dr{constructor(h,p,T,k,W=!1){this.auth=h,this.resolver=T,this.user=k,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,m.Z)(function*(T,k){h.pendingPromise={resolve:T,reject:k};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(W){h.reject(W)}});return function(T,k){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,m.Z)(function*(){const{urlResponse:T,sessionId:k,postBody:W,tenantId:le,error:Ne,type:rt}=h;if(Ne)return void p.reject(Ne);const Mt={auth:p.auth,requestUri:T,sessionId:k,tenantId:le||void 0,postBody:W||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(rt)(Mt))}catch(at){p.reject(at)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return pi;case"linkViaPopup":case"linkViaRedirect":return Io;case"reauthViaPopup":case"reauthViaRedirect":return ec;default:Le(this.auth,"internal-error")}}resolve(h){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wc=new Ct(2e3,1e4);function di(E,h,p){return tr.apply(this,arguments)}function tr(){return(tr=(0,m.Z)(function*(E,h,p){const T=bn(E);!function Ye(E,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Le(E,"argument-error"),Ve(E,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(E,h,Mn);const k=Oa(T,p);return new Jd(T,"signInViaPopup",h,k).executeNotNull()})).apply(this,arguments)}let Jd=(()=>{class E extends Dr{constructor(p,T,k,W,le){super(p,T,W,le),this.provider=k,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var p=this;return(0,m.Z)(function*(){const T=yield p.execute();return ge(T,p.auth,"internal-error"),T})()}onExecution(){var p=this;return(0,m.Z)(function*(){st(1===p.filter.length,"Popup operations only handle one event");const T=Ks();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],T),p.authWindow.associatedEvent=T,p.resolver._originValidation(p.auth).catch(k=>{p.reject(k)}),p.resolver._isIframeWebStorageSupported(p.auth,k=>{k||p.reject(Fe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const p=()=>{var T,k;this.pollId=null!==(k=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Wc.get())};p()}}return E.currentPopupAction=null,E})();const wi="pendingRedirect",qc=new Map;class La extends Dr{constructor(h,p,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,m.Z)(function*(){let T=qc.get(p.auth._key());if(!T){try{const W=(yield function Kr(E,h){return _s.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;T=()=>Promise.resolve(W)}catch(k){T=()=>Promise.reject(k)}qc.set(p.auth._key(),T)}return p.bypassAuthState||qc.set(p.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,T=this;return(0,m.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(T,h);if("unknown"!==h.type){if(h.eventId){const k=yield T.auth._redirectUserForId(h.eventId);if(k)return T.user=k,p().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function _s(){return(_s=(0,m.Z)(function*(E,h){const p=function Do(E){return ht(wi,E.config.apiKey,E.name)}(h),T=function Fa(E){return H(E._redirectPersistence)}(E);if(!(yield T._isAvailable()))return!1;const k="true"===(yield T._get(p));return yield T._remove(p),k})).apply(this,arguments)}function Kc(E,h){qc.set(E._key(),h)}function Va(E,h){return nc.apply(this,arguments)}function nc(){return(nc=(0,m.Z)(function*(E,h,p=!1){const T=bn(E),k=Oa(T,h),le=yield new La(T,k,p).execute();return le&&!p&&(delete le.user._redirectEventId,yield T._persistUserIfCurrent(le.user),yield T._setRedirectUser(null,h)),le})).apply(this,arguments)}class ia{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(p=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function td(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ed(E);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var T;if(h.error&&!ed(h)){const k=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";p.onError(Fe(this.auth,k))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const T=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xd(h))}saveEventToCache(h){this.cachedEventUids.add(Xd(h)),this.lastProcessedEventTime=Date.now()}}function Xd(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(h=>h).join("-")}function ed({type:E,error:h}){return"unknown"===E&&"auth/no-auth-event"===h?.code}function Ai(){return(Ai=(0,m.Z)(function*(E,h={}){return Be(E,"GET","/v1/projects",h)})).apply(this,arguments)}const Qi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jr=/^https?/;function Eu(){return Eu=(0,m.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:h}=yield function vu(E){return Ai.apply(this,arguments)}(E);for(const p of h)try{if(eh(p))return}catch{}Le(E,"unauthorized-domain")}),Eu.apply(this,arguments)}function eh(E){const h=nt(),{protocol:p,hostname:T}=new URL(h);if(E.startsWith("chrome-extension://")){const le=new URL(E);return""===le.hostname&&""===T?"chrome-extension:"===p&&E.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&le.hostname===T}if(!jr.test(p))return!1;if(Qi.test(E))return T===E;const k=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(T)}const Iu=new Ct(3e4,6e4);function Jc(){const E=Mr().___jsl;if(E?.H)for(const h of Object.keys(E.H))if(E.H[h].r=E.H[h].r||[],E.H[h].L=E.H[h].L||[],E.H[h].r=[...E.H[h].L],E.CP)for(let p=0;p<E.CP.length;p++)E.CP[p]=null}let In=null;const Ba=new Ct(5e3,15e3),rc="__/auth/iframe",sa="emulator/auth/iframe",jf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $f(E){const h=E.config;ge(h.authDomain,E,"auth-domain-config-required");const p=h.emulator?pt(h,sa):`https://${E.config.authDomain}/${rc}`,T={apiKey:h.apiKey,appName:E.name,v:ae.SDK_VERSION},k=nd.get(E.config.apiHost);k&&(T.eid=k);const W=E._getFrameworks();return W.length&&(T.fw=W.join(",")),`${p}?${(0,q.xO)(T).slice(1)}`}function rd(){return rd=(0,m.Z)(function*(E){const h=yield function nr(E){return In=In||function Ua(E){return new Promise((h,p)=>{var T,k,W;function le(){Jc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Jc(),p(Fe(E,"network-request-failed"))},timeout:Iu.get()})}if(null!==(k=null===(T=Mr().gapi)||void 0===T?void 0:T.iframes)&&void 0!==k&&k.Iframe)h(gapi.iframes.getContext());else{if(null===(W=Mr().gapi)||void 0===W||!W.load){const Ne=Mi("iframefcb");return Mr()[Ne]=()=>{gapi.load?le():p(Fe(E,"network-request-failed"))},es(`https://apis.google.com/js/api.js?onload=${Ne}`).catch(rt=>p(rt))}le()}}).catch(h=>{throw In=null,h})}(E),In}(E),p=Mr().gapi;return ge(p,E,"internal-error"),h.open({where:document.body,url:$f(E),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jf,dontclear:!0},T=>new Promise(function(){var k=(0,m.Z)(function*(W,le){yield T.restyle({setHideOnLeave:!1});const Ne=Fe(E,"network-request-failed"),rt=Mr().setTimeout(()=>{le(Ne)},Ba.get());function Mt(){Mr().clearTimeout(rt),W(T)}T.ping(Mt).then(Mt,()=>{le(Ne)})});return function(W,le){return k.apply(this,arguments)}}()))}),rd.apply(this,arguments)}const Wg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class id{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ic="__/auth/handler",sd="emulator/auth/handler",ki=encodeURIComponent("fac");function uo(E,h,p,T,k,W){return $a.apply(this,arguments)}function $a(){return($a=(0,m.Z)(function*(E,h,p,T,k,W){ge(E.config.authDomain,E,"auth-domain-config-required"),ge(E.config.apiKey,E,"invalid-api-key");const le={apiKey:E.config.apiKey,appName:E.name,authType:p,redirectUrl:T,v:ae.SDK_VERSION,eventId:k};if(h instanceof Mn){h.setDefaultLanguage(E.languageCode),le.providerId=h.providerId||"",(0,q.xb)(h.getCustomParameters())||(le.customParameters=JSON.stringify(h.getCustomParameters()));for(const[at,Yn]of Object.entries(W||{}))le[at]=Yn}if(h instanceof Jn){const at=h.getScopes().filter(Yn=>""!==Yn);at.length>0&&(le.scopes=at.join(","))}E.tenantId&&(le.tid=E.tenantId);const Ne=le;for(const at of Object.keys(Ne))void 0===Ne[at]&&delete Ne[at];const rt=yield E._getAppCheckToken(),Mt=rt?`#${ki}=${encodeURIComponent(rt)}`:"";return`${function Ha({config:E}){return E.emulator?pt(E,sd):`https://${E.authDomain}/${ic}`}(E)}?${(0,q.xO)(Ne).slice(1)}${Mt}`})).apply(this,arguments)}const oa="webStorageSupport",aa=class th{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=an,this._completeRedirectFn=Va,this._overrideRedirectResult=Kc}_openPopup(h,p,T,k){var W=this;return(0,m.Z)(function*(){var le;st(null===(le=W.eventManagers[h._key()])||void 0===le?void 0:le.manager,"_initialize() not called before _openPopup()");const Ne=yield uo(h,p,T,nt(),k);return function Ci(E,h,p,T=500,k=600){const W=Math.max((window.screen.availHeight-k)/2,0).toString(),le=Math.max((window.screen.availWidth-T)/2,0).toString();let Ne="";const rt=Object.assign(Object.assign({},Wg),{width:T.toString(),height:k.toString(),top:W,left:le}),Mt=(0,q.z$)().toLowerCase();p&&(Ne=hn(Mt)?"_blank":p),on(Mt)&&(h=h||"http://localhost",rt.scrollbars="yes");const at=Object.entries(rt).reduce((vs,[wo,uc])=>`${vs}${wo}=${uc},`,"");if(function Rt(E=(0,q.z$)()){var h;return ve(E)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Mt)&&"_self"!==Ne)return function Gf(E,h){const p=document.createElement("a");p.href=E,p.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(T)}(h||"",Ne),new id(null);const Yn=window.open(h||"",Ne,at);ge(Yn,E,"popup-blocked");try{Yn.focus()}catch{}return new id(Yn)}(h,Ne,Ks())})()}_openRedirect(h,p,T,k){var W=this;return(0,m.Z)(function*(){return yield W._originValidation(h),function Yl(E){Mr().location.href=E}(yield uo(h,p,T,nt(),k)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:k,promise:W}=this.eventManagers[p];return k?Promise.resolve(k):(st(W,"If manager is not set, promise should be"),W)}const T=this.initAndGetManager(h);return this.eventManagers[p]={promise:T},T.catch(()=>{delete this.eventManagers[p]}),T}initAndGetManager(h){var p=this;return(0,m.Z)(function*(){const T=yield function Hf(E){return rd.apply(this,arguments)}(h),k=new ia(h);return T.register("authEvent",W=>(ge(W?.authEvent,h,"invalid-auth-event"),{status:k.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:k},p.iframes[h._key()]=T,k})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(oa,{type:oa},k=>{var W;const le=null===(W=k?.[0])||void 0===W?void 0:W[oa];void 0!==le&&p(!!le),Le(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function jo(E){return Eu.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return zt()||Yt()||ve()}};var el="@firebase/auth";class oc{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,m.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(T=>{h(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const tl=(0,q.Pz)("authIdTokenMaxAge")||300;let Au=null;const qf=E=>function(){var h=(0,m.Z)(function*(p){const T=p&&(yield p.getIdTokenResult()),k=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(k&&k>tl)return;const W=T?.token;Au!==W&&(Au=W,yield fetch(E,{method:W?"POST":"DELETE",headers:W?{Authorization:`Bearer ${W}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function Ys(E=(0,ae.getApp)()){const h=(0,ae._getProvider)(E,"auth");if(h.isInitialized())return h.getImmediate();const p=function js(E,h){const p=(0,ae._getProvider)(E,"auth");if(p.isInitialized()){const k=p.getImmediate(),W=p.getOptions();if((0,q.vZ)(W,h??{}))return k;Le(k,"already-initialized")}return p.initialize({options:h})}(E,{popupRedirectResolver:aa,persistence:[C,vo,an]}),T=(0,q.Pz)("authTokenSyncURL");if(T){const W=qf(T);(function ws(E,h,p){(0,q.m9)(E).beforeAuthStateChanged(h,p)})(p,W,()=>W(p.currentUser)),function Tr(E,h,p,T){(0,q.m9)(E).onIdTokenChanged(h,p,T)}(p,le=>W(le))}const k=(0,q.q4)("auth");return k&&function lo(E,h,p){const T=bn(E);ge(T._canInitEmulator,T,"emulator-config-failed"),ge(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const k=!!p?.disableWarnings,W=xs(h),{host:le,port:Ne}=function mi(E){const h=xs(E),p=/(\/\/)?([^?#/]+)/.exec(E.substr(h.length));if(!p)return{host:"",port:null};const T=p[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(T);if(k){const W=k[1];return{host:W,port:Po(T.substr(W.length+1))}}{const[W,le]=T.split(":");return{host:W,port:Po(le)}}}(h);T.config.emulator={url:`${W}//${le}${null===Ne?"":`:${Ne}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:le,port:Ne,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function Hs(){function E(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(p,`http://${k}`),p}!function wu(E){(0,ae._registerComponent)(new J.wA("auth",(h,{options:p})=>{const T=h.getProvider("app").getImmediate(),k=h.getProvider("heartbeat"),W=h.getProvider("app-check-internal"),{apiKey:le,authDomain:Ne}=T.options;ge(le&&!le.includes(":"),"invalid-api-key",{appName:T.name});const rt={apiKey:le,authDomain:Ne,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hn(E)},Mt=new Ms(T,k,W,rt);return function $s(E,h){const p=h?.persistence||[],T=(Array.isArray(p)?p:[p]).map(H);h?.errorMap&&E._updateErrorMap(h.errorMap),E._initializeWithPersistence(T,h?.popupRedirectResolver)}(Mt,p),Mt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,T)=>{h.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new J.wA("auth-internal",h=>{const p=bn(h.getProvider("auth").getImmediate());return new oc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(el,"1.3.2",function nh(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,ae.registerVersion)(el,"1.3.2","esm2017")}("Browser")},8243:(It,Ce,M)=>{M.d(Ce,{oq:()=>mt,Jt:()=>Qn,cF:()=>Nr,iH:()=>Zt,KV:()=>Fn});var m=M(5861),q=M(534),ae=M(9058),ee=M(4537);const oe="firebasestorage.googleapis.com",J="storageBucket";class G extends ae.ZR{constructor(N,te,ie=0){super(se(N),`Firebase Storage: ${te} (${se(N)})`),this.status_=ie,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,G.prototype)}get status(){return this.status_}set status(N){this.status_=N}_codeEquals(N){return se(N)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(N){this.customData.serverResponse=N,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var K=function(L){return L.UNKNOWN="unknown",L.OBJECT_NOT_FOUND="object-not-found",L.BUCKET_NOT_FOUND="bucket-not-found",L.PROJECT_NOT_FOUND="project-not-found",L.QUOTA_EXCEEDED="quota-exceeded",L.UNAUTHENTICATED="unauthenticated",L.UNAUTHORIZED="unauthorized",L.UNAUTHORIZED_APP="unauthorized-app",L.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",L.INVALID_CHECKSUM="invalid-checksum",L.CANCELED="canceled",L.INVALID_EVENT_NAME="invalid-event-name",L.INVALID_URL="invalid-url",L.INVALID_DEFAULT_BUCKET="invalid-default-bucket",L.NO_DEFAULT_BUCKET="no-default-bucket",L.CANNOT_SLICE_BLOB="cannot-slice-blob",L.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",L.NO_DOWNLOAD_URL="no-download-url",L.INVALID_ARGUMENT="invalid-argument",L.INVALID_ARGUMENT_COUNT="invalid-argument-count",L.APP_DELETED="app-deleted",L.INVALID_ROOT_OPERATION="invalid-root-operation",L.INVALID_FORMAT="invalid-format",L.INTERNAL_ERROR="internal-error",L.UNSUPPORTED_ENVIRONMENT="unsupported-environment",L}(K||{});function se(L){return"storage/"+L}function Me(){return new G(K.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function st(L){return new G(K.INVALID_ARGUMENT,L)}function nt(){return new G(K.APP_DELETED,"The Firebase app was deleted.")}function bt(L,N){return new G(K.INVALID_FORMAT,"String does not match format '"+L+"': "+N)}function Wt(L){throw new G(K.INTERNAL_ERROR,"Internal error: "+L)}class qe{constructor(N,te){this.bucket=N,this.path_=te}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const N=encodeURIComponent;return"/b/"+N(this.bucket)+"/o/"+N(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(N,te){let ie;try{ie=qe.makeFromUrl(N,te)}catch{return new qe(N,"")}if(""===ie.path)return ie;throw function Fe(L){return new G(K.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+L+"'.")}(N)}static makeFromUrl(N,te){let ie=null;const fe="([A-Za-z0-9.\\-_]+)",Nt=new RegExp("^gs://"+fe+"(/(.*))?$","i");function ln(Sr){Sr.path_=decodeURIComponent(Sr.path)}const Mn=te.replace(/[.]/g,"\\."),er=[{regex:Nt,indices:{bucket:1,path:3},postModify:function Re(Sr){"/"===Sr.path.charAt(Sr.path.length-1)&&(Sr.path_=Sr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Mn}/v[A-Za-z0-9_]+/b/${fe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ln},{regex:new RegExp(`^https?://${te===oe?"(?:storage.googleapis.com|storage.cloud.google.com)":te}/${fe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ln}];for(let Sr=0;Sr<er.length;Sr++){const kn=er[Sr],hi=kn.regex.exec(N);if(hi){let _i=hi[kn.indices.path];_i||(_i=""),ie=new qe(hi[kn.indices.bucket],_i),kn.postModify(ie);break}}if(null==ie)throw function Le(L){return new G(K.INVALID_URL,"Invalid URL '"+L+"'.")}(N);return ie}}class Ct{constructor(N){this.promise_=Promise.reject(N)}getPromise(){return this.promise_}cancel(N=!1){}}function Be(L){return"string"==typeof L||L instanceof String}function Ze(L){return Ft()&&L instanceof Blob}function Ft(){return typeof Blob<"u"&&!(0,ae.UG)()}function sn(L,N,te,ie){if(ie<N)throw st(`Invalid value for '${L}'. Expected ${N} or greater.`);if(ie>te)throw st(`Invalid value for '${L}'. Expected ${te} or less.`)}function yn(L,N,te){let ie=N;return null==te&&(ie=`https://${N}`),`${te}://${ie}/v0${L}`}function ot(L){const N=encodeURIComponent;let te="?";for(const ie in L)L.hasOwnProperty(ie)&&(te=te+(N(ie)+"=")+N(L[ie])+"&");return te=te.slice(0,-1),te}var Vt=function(L){return L[L.NO_ERROR=0]="NO_ERROR",L[L.NETWORK_ERROR=1]="NETWORK_ERROR",L[L.ABORT=2]="ABORT",L}(Vt||{});class xn{constructor(N,te,ie,fe,Re,lt,Nt,yt,ln,Rn,Mn,Jn=!0){this.url_=N,this.method_=te,this.headers_=ie,this.body_=fe,this.successCodes_=Re,this.additionalRetryCodes_=lt,this.callback_=Nt,this.errorCallback_=yt,this.timeout_=ln,this.progressCallback_=Rn,this.connectionFactory_=Mn,this.retry=Jn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Xn,Vn)=>{this.resolve_=Xn,this.reject_=Vn,this.start_()})}start_(){const te=(ie,fe)=>{const Re=this.resolve_,lt=this.reject_,Nt=fe.connection;if(fe.wasSuccessCode)try{const yt=this.callback_(Nt,Nt.getResponse());!function ye(L){return void 0!==L}(yt)?Re():Re(yt)}catch(yt){lt(yt)}else if(null!==Nt){const yt=Me();yt.serverResponse=Nt.getErrorText(),lt(this.errorCallback_?this.errorCallback_(Nt,yt):yt)}else lt(fe.canceled?this.appDelete_?nt():function We(){return new G(K.CANCELED,"User canceled the upload/download.")}():function jt(){return new G(K.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?te(0,new jn(!1,null,!0)):this.backoffId_=function pt(L,N,te){let ie=1,fe=null,Re=null,lt=!1,Nt=0;function yt(){return 2===Nt}let ln=!1;function Rn(...Ur){ln||(ln=!0,N.apply(null,Ur))}function Mn(Ur){fe=setTimeout(()=>{fe=null,L(Xn,yt())},Ur)}function Jn(){Re&&clearTimeout(Re)}function Xn(Ur,...ui){if(ln)return void Jn();if(Ur)return Jn(),void Rn.call(null,Ur,...ui);if(yt()||lt)return Jn(),void Rn.call(null,Ur,...ui);let er;ie<64&&(ie*=2),1===Nt?(Nt=2,er=0):er=1e3*(ie+Math.random()),Mn(er)}let Vn=!1;function Ot(Ur){Vn||(Vn=!0,Jn(),!ln&&(null!==fe?(Ur||(Nt=2),clearTimeout(fe),Mn(0)):Ur||(Nt=1)))}return Mn(0),Re=setTimeout(()=>{lt=!0,Ot(!0)},te),Ot}((ie,fe)=>{if(fe)return void ie(!1,new jn(!1,null,!0));const Re=this.connectionFactory_();this.pendingConnection_=Re;const lt=Nt=>{null!==this.progressCallback_&&this.progressCallback_(Nt.loaded,Nt.lengthComputable?Nt.total:-1)};null!==this.progressCallback_&&Re.addUploadProgressListener(lt),Re.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Re.removeUploadProgressListener(lt),this.pendingConnection_=null;const Nt=Re.getErrorCode()===Vt.NO_ERROR,yt=Re.getStatus();if(!Nt||function vt(L,N){const te=L>=500&&L<600,fe=-1!==[408,429].indexOf(L),Re=-1!==N.indexOf(L);return te||fe||Re}(yt,this.additionalRetryCodes_)&&this.retry){const Rn=Re.getErrorCode()===Vt.ABORT;return void ie(!1,new jn(!1,null,Rn))}const ln=-1!==this.successCodes_.indexOf(yt);ie(!0,new jn(ln,Re))})},te,this.timeout_)}getPromise(){return this.promise_}cancel(N){this.canceled_=!0,this.appDelete_=N||!1,null!==this.backoffId_&&function pe(L){L(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class jn{constructor(N,te,ie){this.wasSuccessCode=N,this.connection=te,this.canceled=!!ie}}function ri(...L){const N=function Ri(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==N){const te=new N;for(let ie=0;ie<L.length;ie++)te.append(L[ie]);return te.getBlob()}if(Ft())return new Blob(L);throw new G(K.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Dn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class en{constructor(N,te){this.data=N,this.contentType=te||null}}function Ar(L){const N=[];for(let te=0;te<L.length;te++){let ie=L.charCodeAt(te);ie<=127?N.push(ie):ie<=2047?N.push(192|ie>>6,128|63&ie):55296==(64512&ie)?te<L.length-1&&56320==(64512&L.charCodeAt(te+1))?(ie=65536|(1023&ie)<<10|1023&L.charCodeAt(++te),N.push(240|ie>>18,128|ie>>12&63,128|ie>>6&63,128|63&ie)):N.push(239,191,189):56320==(64512&ie)?N.push(239,191,189):N.push(224|ie>>12,128|ie>>6&63,128|63&ie)}return new Uint8Array(N)}function pr(L,N){switch(L){case Dn.BASE64:{const fe=-1!==N.indexOf("-"),Re=-1!==N.indexOf("_");if(fe||Re)throw bt(L,"Invalid character '"+(fe?"-":"_")+"' found: is it base64url encoded?");break}case Dn.BASE64URL:{const fe=-1!==N.indexOf("+"),Re=-1!==N.indexOf("/");if(fe||Re)throw bt(L,"Invalid character '"+(fe?"+":"/")+"' found: is it base64 encoded?");N=N.replace(/-/g,"+").replace(/_/g,"/");break}}let te;try{te=function hr(L){if(typeof atob>"u")throw function _e(L){return new G(K.UNSUPPORTED_ENVIRONMENT,`${L} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(L)}(N)}catch(fe){throw fe.message.includes("polyfill")?fe:bt(L,"Invalid character found")}const ie=new Uint8Array(te.length);for(let fe=0;fe<te.length;fe++)ie[fe]=te.charCodeAt(fe);return ie}class un{constructor(N){this.base64=!1,this.contentType=null;const te=N.match(/^data:([^,]+)?,/);if(null===te)throw bt(Dn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ie=te[1]||null;null!=ie&&(this.base64=function vn(L,N){return L.length>=N.length&&L.substring(L.length-N.length)===N}(ie,";base64"),this.contentType=this.base64?ie.substring(0,ie.length-7):ie),this.rest=N.substring(N.indexOf(",")+1)}}class An{constructor(N,te){let ie=0,fe="";Ze(N)?(this.data_=N,ie=N.size,fe=N.type):N instanceof ArrayBuffer?(te?this.data_=new Uint8Array(N):(this.data_=new Uint8Array(N.byteLength),this.data_.set(new Uint8Array(N))),ie=this.data_.length):N instanceof Uint8Array&&(te?this.data_=N:(this.data_=new Uint8Array(N.length),this.data_.set(N)),ie=N.length),this.size_=ie,this.type_=fe}size(){return this.size_}type(){return this.type_}slice(N,te){if(Ze(this.data_)){const fe=function ii(L,N,te){return L.webkitSlice?L.webkitSlice(N,te):L.mozSlice?L.mozSlice(N,te):L.slice?L.slice(N,te):null}(this.data_,N,te);return null===fe?null:new An(fe)}{const ie=new Uint8Array(this.data_.buffer,N,te-N);return new An(ie,!0)}}static getBlob(...N){if(Ft()){const te=N.map(ie=>ie instanceof An?ie.data_:ie);return new An(ri.apply(null,te))}{const te=N.map(lt=>Be(lt)?function qt(L,N){switch(L){case Dn.RAW:return new en(Ar(N));case Dn.BASE64:case Dn.BASE64URL:return new en(pr(L,N));case Dn.DATA_URL:return new en(function dn(L){const N=new un(L);return N.base64?pr(Dn.BASE64,N.rest):function Bt(L){let N;try{N=decodeURIComponent(L)}catch{throw bt(Dn.DATA_URL,"Malformed data URL.")}return Ar(N)}(N.rest)}(N),function Vi(L){return new un(L).contentType}(N))}throw Me()}(Dn.RAW,lt).data:lt.data_);let ie=0;te.forEach(lt=>{ie+=lt.byteLength});const fe=new Uint8Array(ie);let Re=0;return te.forEach(lt=>{for(let Nt=0;Nt<lt.length;Nt++)fe[Re++]=lt[Nt]}),new An(fe,!0)}}uploadData(){return this.data_}}function $t(L){let N;try{N=JSON.parse(L)}catch{return null}return function we(L){return"object"==typeof L&&!Array.isArray(L)}(N)?N:null}function $n(L){const N=L.lastIndexOf("/",L.length-2);return-1===N?L:L.slice(N+1)}function fn(L,N){return N}class Kt{constructor(N,te,ie,fe){this.server=N,this.local=te||N,this.writable=!!ie,this.xform=fe||fn}}let ir=null;function gr(){if(ir)return ir;const L=[];L.push(new Kt("bucket")),L.push(new Kt("generation")),L.push(new Kt("metageneration")),L.push(new Kt("name","fullPath",!0));const te=new Kt("name");te.xform=function N(Re,lt){return function vi(L){return!Be(L)||L.length<2?L:$n(L)}(lt)},L.push(te);const fe=new Kt("size");return fe.xform=function ie(Re,lt){return void 0!==lt?Number(lt):lt},L.push(fe),L.push(new Kt("timeCreated")),L.push(new Kt("updated")),L.push(new Kt("md5Hash",null,!0)),L.push(new Kt("cacheControl",null,!0)),L.push(new Kt("contentDisposition",null,!0)),L.push(new Kt("contentEncoding",null,!0)),L.push(new Kt("contentLanguage",null,!0)),L.push(new Kt("contentType",null,!0)),L.push(new Kt("metadata","customMetadata",!0)),ir=L,ir}function Wi(L,N,te){const ie=$t(N);return null===ie?null:function Rs(L,N,te){const ie={type:"file"},fe=te.length;for(let Re=0;Re<fe;Re++){const lt=te[Re];ie[lt.local]=lt.xform(ie,N[lt.server])}return function Gi(L,N){Object.defineProperty(L,"ref",{get:function te(){const Re=new qe(L.bucket,L.fullPath);return N._makeStorageReference(Re)}})}(ie,L),ie}(L,ie,te)}class he{constructor(N,te,ie,fe){this.url=N,this.method=te,this.handler=ie,this.timeout=fe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function je(L){if(!L)throw Me()}function on(L){return function N(te,ie){let fe;return fe=401===te.getStatus()?te.getErrorText().includes("Firebase App Check token is invalid")?function ft(){return new G(K.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function tt(){return new G(K.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===te.getStatus()?function He(L){return new G(K.QUOTA_EXCEEDED,"Quota for bucket '"+L+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(L.bucket):403===te.getStatus()?function it(L){return new G(K.UNAUTHORIZED,"User does not have permission to access '"+L+"'.")}(L.path):ie,fe.status=te.getStatus(),fe.serverResponse=ie.serverResponse,fe}}function Yt(L){const N=on(L);return function te(ie,fe){let Re=N(ie,fe);return 404===ie.getStatus()&&(Re=function me(L){return new G(K.OBJECT_NOT_FOUND,"Object '"+L+"' does not exist.")}(L.path)),Re.serverResponse=fe.serverResponse,Re}}function nn(L,N,te,ie,fe){const Re=N.bucketOnlyServerUrl(),lt={"X-Goog-Upload-Protocol":"multipart"},yt=function Nt(){let er="";for(let Sr=0;Sr<2;Sr++)er+=Math.random().toString().slice(2);return er}();lt["Content-Type"]="multipart/related; boundary="+yt;const ln=function Rt(L,N,te){const ie=Object.assign({},te);return ie.fullPath=L.path,ie.size=N.size(),ie.contentType||(ie.contentType=function Xe(L,N){return L&&L.contentType||N&&N.type()||"application/octet-stream"}(null,N)),ie}(N,ie,fe),Rn=function re(L,N){const te={},ie=N.length;for(let fe=0;fe<ie;fe++){const Re=N[fe];Re.writable&&(te[Re.server]=L[Re.local])}return JSON.stringify(te)}(ln,te),Xn=An.getBlob("--"+yt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Rn+"\r\n--"+yt+"\r\nContent-Type: "+ln.contentType+"\r\n\r\n",ie,"\r\n--"+yt+"--");if(null===Xn)throw function Ye(){return new G(K.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const Vn={name:ln.fullPath},Ot=yn(Re,L.host,L._protocol),ui=L.maxUploadRetryTime,Jr=new he(Ot,"POST",function ht(L,N){return function te(ie,fe){const Re=Wi(L,fe,N);return je(null!==Re),Re}}(L,te),ui);return Jr.urlParams=Vn,Jr.headers=lt,Jr.body=Xn.uploadData(),Jr.errorHandler=on(N),Jr}let Bs=null;class es{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vt.NO_ERROR,this.sendPromise_=new Promise(N=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vt.ABORT,N()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vt.NETWORK_ERROR,N()}),this.xhr_.addEventListener("load",()=>{N()})})}send(N,te,ie,fe){if(this.sent_)throw Wt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(te,N,!0),void 0!==fe)for(const Re in fe)fe.hasOwnProperty(Re)&&this.xhr_.setRequestHeader(Re,fe[Re].toString());return void 0!==ie?this.xhr_.send(ie):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(N){return this.xhr_.getResponseHeader(N)}addUploadProgressListener(N){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",N)}removeUploadProgressListener(N){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",N)}}class Mi extends es{initXhr(){this.xhr_.responseType="text"}}function Ir(){return Bs?Bs():new Mi}class Pt{constructor(N,te){this._service=N,this._location=te instanceof qe?te:qe.makeFromUrl(te,N.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(N,te){return new Pt(N,te)}get root(){const N=new qe(this._location.bucket,"");return this._newRef(this._service,N)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $n(this._location.path)}get storage(){return this._service}get parent(){const N=function Pi(L){if(0===L.length)return null;const N=L.lastIndexOf("/");return-1===N?"":L.slice(0,N)}(this._location.path);if(null===N)return null;const te=new qe(this._location.bucket,N);return new Pt(this._service,te)}_throwIfRoot(N){if(""===this._location.path)throw function ze(L){return new G(K.INVALID_ROOT_OPERATION,"The operation '"+L+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(N)}}function Ns(L){L._throwIfRoot("getDownloadURL");const N=function qi(L,N,te){const fe=yn(N.fullServerUrl(),L.host,L._protocol),lt=L.maxOperationRetryTime,Nt=new he(fe,"GET",function tn(L,N){return function te(ie,fe){const Re=Wi(L,fe,N);return je(null!==Re),function Es(L,N,te,ie){const fe=$t(N);if(null===fe||!Be(fe.downloadTokens))return null;const Re=fe.downloadTokens;if(0===Re.length)return null;const lt=encodeURIComponent;return Re.split(",").map(ln=>{const Mn=L.fullPath;return yn("/b/"+lt(L.bucket)+"/o/"+lt(Mn),te,ie)+ot({alt:"media",token:ln})})[0]}(Re,fe,L.host,L._protocol)}}(L,te),lt);return Nt.errorHandler=Yt(N),Nt}(L.storage,L._location,gr());return L.storage.makeRequestWithTokens(N,Ir).then(te=>{if(null===te)throw function ge(){return new G(K.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return te})}function eo(L,N){if(L instanceof Wr){const te=L;if(null==te._bucket)throw function Ve(){return new G(K.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+J+"' property when initializing the app?")}();const ie=new Pt(te,te._bucket);return null!=N?eo(ie,N):ie}return void 0!==N?function ns(L,N){const te=function cn(L,N){const te=N.split("/").filter(ie=>ie.length>0).join("/");return 0===L.length?te:L+"/"+te}(L._location.path,N),ie=new qe(L._location.bucket,te);return new Pt(L.storage,ie)}(L,N):L}function Os(L,N){const te=N?.[J];return null==te?null:qe.makeFromBucketSpec(te,L)}class Wr{constructor(N,te,ie,fe,Re){this.app=N,this._authProvider=te,this._appCheckProvider=ie,this._url=fe,this._firebaseVersion=Re,this._bucket=null,this._host=oe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=fe?qe.makeFromBucketSpec(fe,this._host):Os(this._host,this.app.options)}get host(){return this._host}set host(N){this._host=N,this._bucket=null!=this._url?qe.makeFromBucketSpec(this._url,N):Os(N,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(N){sn("time",0,Number.POSITIVE_INFINITY,N),this._maxUploadRetryTime=N}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(N){sn("time",0,Number.POSITIVE_INFINITY,N),this._maxOperationRetryTime=N}_getAuthToken(){var N=this;return(0,m.Z)(function*(){if(N._overrideAuthToken)return N._overrideAuthToken;const te=N._authProvider.getImmediate({optional:!0});if(te){const ie=yield te.getToken();if(null!==ie)return ie.accessToken}return null})()}_getAppCheckToken(){var N=this;return(0,m.Z)(function*(){const te=N._appCheckProvider.getImmediate({optional:!0});return te?(yield te.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(N=>N.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(N){return new Pt(this,N)}_makeRequest(N,te,ie,fe,Re=!0){if(this._deleted)return new Ct(nt());{const lt=function Fr(L,N,te,ie,fe,Re,lt=!0){const Nt=ot(L.urlParams),yt=L.url+Nt,ln=Object.assign({},L.headers);return function wr(L,N){N&&(L["X-Firebase-GMPID"]=N)}(ln,N),function zr(L,N){null!==N&&N.length>0&&(L.Authorization="Firebase "+N)}(ln,te),function Lt(L,N){L["X-Firebase-Storage-Version"]="webjs/"+(N??"AppManager")}(ln,Re),function Er(L,N){null!==N&&(L["X-Firebase-AppCheck"]=N)}(ln,ie),new xn(yt,L.method,ln,L.body,L.successCodes,L.additionalRetryCodes,L.handler,L.errorHandler,L.timeout,L.progressCallback,fe,lt)}(N,this._appId,ie,fe,te,this._firebaseVersion,Re);return this._requests.add(lt),lt.getPromise().then(()=>this._requests.delete(lt),()=>this._requests.delete(lt)),lt}}makeRequestWithTokens(N,te){var ie=this;return(0,m.Z)(function*(){const[fe,Re]=yield Promise.all([ie._getAuthToken(),ie._getAppCheckToken()]);return ie._makeRequest(N,te,fe,Re).getPromise()})()}}const Ni="@firebase/storage",Cr="storage";function Fn(L,N,te){return function mr(L,N,te){L._throwIfRoot("uploadBytes");const ie=nn(L.storage,L._location,gr(),new An(N,!0),te);return L.storage.makeRequestWithTokens(ie,Ir).then(fe=>({metadata:fe,ref:L}))}(L=(0,ae.m9)(L),N,te)}function Qn(L){return Ns(L=(0,ae.m9)(L))}function mt(L){return function ts(L){L._throwIfRoot("deleteObject");const N=function ve(L,N){const ie=yn(N.fullServerUrl(),L.host,L._protocol),Nt=new he(ie,"DELETE",function lt(yt,ln){},L.maxOperationRetryTime);return Nt.successCodes=[200,204],Nt.errorHandler=Yt(N),Nt}(L.storage,L._location);return L.storage.makeRequestWithTokens(N,Ir)}(L=(0,ae.m9)(L))}function Zt(L,N){return function zs(L,N){if(N&&function Js(L){return/^[A-Za-z]+:\/\//.test(L)}(N)){if(L instanceof Wr)return function Xs(L,N){return new Pt(L,N)}(L,N);throw st("To use ref(service, url), the first argument must be a Storage instance.")}return eo(L,N)}(L=(0,ae.m9)(L),N)}function Nr(L=(0,q.getApp)(),N){L=(0,ae.m9)(L);const ie=(0,q._getProvider)(L,Cr).getImmediate({identifier:N}),fe=(0,ae.P0)("storage");return fe&&function Ui(L,N,te,ie={}){!function Ei(L,N,te,ie={}){L.host=`${N}:${te}`,L._protocol="http";const{mockUserToken:fe}=ie;fe&&(L._overrideAuthToken="string"==typeof fe?fe:(0,ae.Sg)(fe,L.app.options.projectId))}(L,N,te,ie)}(ie,...fe),ie}function ur(L,{instanceIdentifier:N}){const te=L.getProvider("app").getImmediate(),ie=L.getProvider("auth-internal"),fe=L.getProvider("app-check-internal");return new Wr(te,ie,fe,N,q.SDK_VERSION)}!function Ii(){(0,q._registerComponent)(new ee.wA(Cr,ur,"PUBLIC").setMultipleInstances(!0)),(0,q.registerVersion)(Ni,"0.11.2",""),(0,q.registerVersion)(Ni,"0.11.2","esm2017")}()},5861:(It,Ce,M)=>{function m(ae,ee,oe,J,ue,ne,Ee){try{var G=ae[ne](Ee),K=G.value}catch(se){return void oe(se)}G.done?ee(K):Promise.resolve(K).then(J,ue)}function q(ae){return function(){var ee=this,oe=arguments;return new Promise(function(J,ue){var ne=ae.apply(ee,oe);function Ee(K){m(ne,J,ue,Ee,G,"next",K)}function G(K){m(ne,J,ue,Ee,G,"throw",K)}Ee(void 0)})}}M.d(Ce,{Z:()=>q})},7582:(It,Ce,M)=>{function ee(pe,ye){var xe={};for(var we in pe)Object.prototype.hasOwnProperty.call(pe,we)&&ye.indexOf(we)<0&&(xe[we]=pe[we]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(we=Object.getOwnPropertySymbols(pe);Be<we.length;Be++)ye.indexOf(we[Be])<0&&Object.prototype.propertyIsEnumerable.call(pe,we[Be])&&(xe[we[Be]]=pe[we[Be]])}return xe}function se(pe,ye,xe,we){return new(xe||(xe=Promise))(function(Ze,Ft){function sn(Vt){try{ot(we.next(Vt))}catch(vt){Ft(vt)}}function yn(Vt){try{ot(we.throw(Vt))}catch(vt){Ft(vt)}}function ot(Vt){Vt.done?Ze(Vt.value):function Be(Ze){return Ze instanceof xe?Ze:new xe(function(Ft){Ft(Ze)})}(Vt.value).then(sn,yn)}ot((we=we.apply(pe,ye||[])).next())})}function Le(pe){return this instanceof Le?(this.v=pe,this):new Le(pe)}function Fe(pe,ye,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,we=xe.apply(pe,ye||[]),Ze=[];return Be={},Ft("next"),Ft("throw"),Ft("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function Ft(xn){we[xn]&&(Be[xn]=function(jn){return new Promise(function(zr,Lt){Ze.push([xn,jn,zr,Lt])>1||sn(xn,jn)})})}function sn(xn,jn){try{!function yn(xn){xn.value instanceof Le?Promise.resolve(xn.value.v).then(ot,Vt):vt(Ze[0][2],xn)}(we[xn](jn))}catch(zr){vt(Ze[0][3],zr)}}function ot(xn){sn("next",xn)}function Vt(xn){sn("throw",xn)}function vt(xn,jn){xn(jn),Ze.shift(),Ze.length&&sn(Ze[0][0],Ze[0][1])}}function Ye(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,ye=pe[Symbol.asyncIterator];return ye?ye.call(pe):(pe=function tt(pe){var ye="function"==typeof Symbol&&Symbol.iterator,xe=ye&&pe[ye],we=0;if(xe)return xe.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&we>=pe.length&&(pe=void 0),{value:pe&&pe[we++],done:!pe}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),xe={},we("next"),we("throw"),we("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function we(Ze){xe[Ze]=pe[Ze]&&function(Ft){return new Promise(function(sn,yn){!function Be(Ze,Ft,sn,yn){Promise.resolve(yn).then(function(ot){Ze({value:ot,done:sn})},Ft)}(sn,yn,(Ft=pe[Ze](Ft)).done,Ft.value)})}}}M.d(Ce,{FC:()=>Fe,KL:()=>Ye,_T:()=>ee,mG:()=>se,qq:()=>Le}),"function"==typeof SuppressedError&&SuppressedError}},It=>{It(It.s=7881)}]);