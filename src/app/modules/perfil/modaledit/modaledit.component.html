


<div (keydown)="onKeyDown($event)"  class="bg-black fixed  h-[100%] w-[100%] min-w-[100%] z-40 min-h-[100%] bg-opacity-40"></div>
<div class="absolute min-w-[60%] w-[90%]  md:w-[60%]  md:max-w-[60%]  z-40  right-[50%] translate-x-[50%] flex flex-col items-center justify-center translate-y-[50%] bottom-[50%]">

<button class="absolute top-5 right-5" (click)="buttonModal()">
  <svg role="button" viewBox="0 0 24 24" width="20px" height="20px" class="d Vb UmNoP"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.94 12L4.47 5.53l1.06-1.06L12 10.94l6.47-6.47 1.06 1.06L13.06 12l6.47 6.47-1.06 1.06L12 13.06l-6.47 6.47-1.06-1.06L10.94 12z"></path></svg>
</button>

<div class="flex flex-col  bg-white mx-auto my-auto items-center h-full w-full rounded-xl mb-auto round">


  <div class="  w-full h-full p-5">

  <div class="w-full h-[100px] flex flex-row gap-2">
    <button (click)="turnPf()" class="bg:w-[80px] md:w-[100px] bg:h-[80px] md:h-[100px] max-w-[100px] max-h-[100px] rounded-full  overflow-hidden"><img *ngIf="user?.fotoUser != null" src="{{user?.fotoUser}}" class="w-full h-full object-cover object-center hover:bg-white hover:opacity-75" ></button>
    <button (click)="turnBanner()" class="w-[80%]  bg:h-[80px] md:h-[100px]  max-h-[100px] rounded-xl hover:bg-white hover:opacity-75 overflow-hidden border"><img *ngIf="user?.bannerImg" src="{{user?.bannerImg}}" class="w-full h-full object-cover object-center border" ></button>
  </div>
  <div class="w-full px-5">
    <!--Aqui se hace el formulario de actualización-->


    <form (ngSubmit)="actualizarUsuario(true,user)">
      <div class="flex flex-col gap-4 my-5">
        <!-- Campos de entrada para cada atributo del usuario -->
        <div class="flex flex-col gap-1">
          <label class="font-Work text-lg">Nombre:</label>
          <input type="text" [ngModel]="user ? user.nombre : null" (ngModelChange)="user && (user.nombre = $event)" name="nombre" placeholder="Nombre completo" class="input-style py-2 px-2 h-10 font-work text-xl font-medium border-2">

        </div>
        <div class="flex flex-col gap-1">
          <label class="font-Work text-lg">Descripción:</label>
          <input type="text"
                 [ngModel]="user ? user.descripcion : null" (ngModelChange)="user && (user.descripcion = $event)"
                 name="descripcion"
                 placeholder="Descripción"
                 class="input-style py-2 px-2 h-10 font-work text-xl font-medium border-2"
                 maxlength="150"> <!-- Aquí se establece la longitud máxima -->
        </div>
        <div class="flex flex-col gap-1">
          <label class="font-Work text-lg">Numero telefonico:</label>
        <input type="text" [ngModel]="user ? user.numeroTel : null" (ngModelChange)="user && (user.numeroTel = $event)"

        name="numeroTel" placeholder="Número de teléfono" class="input-style py-2 px-2 h-10 font-work text-xl font-medium border-2">
        </div>
        <div class="flex flex-col gap-1">
          <label class="font-Work text-lg">Ubicación:</label>
        <input type="text"
        [ngModel]="user ? user.ubicacion : null" (ngModelChange)="user && (user.ubicacion = $event)"
        name="ubicacion" placeholder="Ubicación" class="input-style py-2 px-2 h-10 font-work text-xl font-medium border-2">
        </div>
        <!-- ... otros campos según sea necesario ... -->
      </div>

      <!-- Botones para actualizar y cancelar -->
      <div class="flex flex-row gap-5 mt-10 justify-center ">
        <button type="submit" class="btn-style  px-4 py-2 text-center text-xl min-w-[110px] w-[100px] font-work font-semibold text-white rounded-lg hover:bg-green-700 bg-green-500">Actualizar</button>
        <button type="button" (click)="buttonModal()" class="btn-style px-4 py-2  text-xl min-w-[110px] w-[100px] font-work font-semibold text-white rounded-lg hover:bg-red-700 bg-red-500">Cancelar</button>
      </div>
    </form>



  </div>

  </div>


</div>



</div>


<div *ngIf="modalPf" class="fixed min-w-[50%] w-[80%] h-[40%] md:w-[50%] md:h-[80%] md:min-h-[80%] md:max-w-[50%]  max-h-[80%] z-50  right-[50%] translate-x-[50%] flex flex-col items-center justify-center translate-y-[50%] bottom-[50%]">
    <button class="absolute top-5 right-5" (click)="buttonModal2()">
      <svg role="button" viewBox="0 0 24 24" width="20px" height="20px" class="d Vb UmNoP"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.94 12L4.47 5.53l1.06-1.06L12 10.94l6.47-6.47 1.06 1.06L13.06 12l6.47 6.47-1.06 1.06L12 13.06l-6.47 6.47-1.06-1.06L10.94 12z"></path></svg>
    </button>
<div class="flex flex-col border  bg-white mx-auto my-auto items-center h-full w-full rounded-xl mb-auto round">
  <div class="  gap-2 w-full h-full p-5 py-20">
    <div class="relative flex flex-col justify-center items-center p-6 border-2 border-red-500 border-dashed rounded-md my-2 h-full" *ngIf="!fotoSeleccionada">
      <input
      type="file"
      accept="image/*"
      class="absolute top-0 left-0 bottom-0 w-full h-full opacity-0 cursor-pointer"
      (change)="uploadFilePortada($event)">
      <div class="flex flex-row items-center justify-center space-x-2"  >
        <svg role="button" class="w-8 h-8 text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H5a1 1 0 110-2h5V3a1 1 0 011-1z" clip-rule="evenodd"></path></svg>
        <span class="text-red-500 font-medium">Ingrese la nueva foto de perfil</span>
      </div>
    </div>
    <div *ngIf="fotoSeleccionada" class="w-full h-full flex flex-col justify-center items-center">
      <div class="w-full h-full flex flex-row ">
        <div class="w-[50%]" *ngIf="fotoSeleccionada">
          <image-cropper
          [imageChangedEvent]="imageChangedEvent"
          [maintainAspectRatio]="true"
          [aspectRatio]="1 / 1"
          format="png"
          (imageCropped)="imageCropped($event)"
          (imageLoaded)="imageLoaded($event)"
          (cropperReady)="cropperReady()"
          (loadImageFailed)="loadImageFailed()"
      ></image-cropper>
        </div>
        <div class="w-[50%]" *ngIf="fotoSeleccionada">
          <img [src]="previewImage" />
        </div>
      </div>
      <button *ngIf="fotoSeleccionada" (click)="actualizarImage(userauth.uid)"  class="bg-primary-500 hover:bg-primary-400 mt-8 text-white text-xl font-semibold py-2 px-10 rounded-full absolute bottom-0">Actualizar</button>
    </div>
  </div>
</div>
</div>

<div *ngIf="modalBanner" class="fixed min-w-[50%] w-[80%] h-[40%] md:w-[50%] md:h-[80%] md:min-h-[80%] md:max-w-[50%]  max-h-[80%] z-50  right-[50%] translate-x-[50%] flex flex-col items-center justify-center translate-y-[50%] bottom-[50%]">
  <button class="absolute top-5 right-5" (click)="buttonModal2()">
    <svg role="button" viewBox="0 0 24 24" width="20px" height="20px" class="d Vb UmNoP"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.94 12L4.47 5.53l1.06-1.06L12 10.94l6.47-6.47 1.06 1.06L13.06 12l6.47 6.47-1.06 1.06L12 13.06l-6.47 6.47-1.06-1.06L10.94 12z"></path></svg>
  </button>
<div class="flex flex-col border  bg-white mx-auto my-auto items-center h-full w-full rounded-xl mb-auto round">
<div class="  gap-2 w-full h-full p-5 py-20">
  <div class="relative flex flex-col justify-center p-6 border-2 border-red-500 border-dashed rounded-md my-2 h-full" *ngIf="!fotoSeleccionada">
    <input
    type="file"
    accept="image/*"
    class="absolute top-0 left-0 bottom-0 w-full h-full opacity-0 cursor-pointer"
    (change)="uploadFilePortada($event)">
    <div class="flex flex-row items-center justify-center space-x-2"  >
      <svg role="button" class="w-8 h-8 text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H5a1 1 0 110-2h5V3a1 1 0 011-1z" clip-rule="evenodd"></path></svg>
      <span class="text-red-500 font-medium">Ingrese la nueva foto de banner</span>
    </div>
  </div>
  <div class="w-full h-full flex flex-col justify-center items-center">
    <div class="w-full h-full flex flex-row ">
      <div class="w-[50%]" *ngIf="fotoSeleccionada">
        <image-cropper
        [imageChangedEvent]="imageChangedEvent"
        [maintainAspectRatio]="true"
        [aspectRatio]="1400 / 400"
        format="png"
        (imageCropped)="imageCropped($event)"
        (imageLoaded)="imageLoaded($event)"
        (cropperReady)="cropperReady()"
        (loadImageFailed)="loadImageFailed()"
    ></image-cropper>
      </div>
      <div class="w-[50%]" *ngIf="fotoSeleccionada">
        <img [src]="previewImage" />
      </div>
    </div>
    <button *ngIf="fotoSeleccionada" (click)="actualizarBanner(userauth.uid)"  class="bg-primary-500 hover:bg-primary-400 mt-8 text-white text-xl font-semibold py-2 px-10 rounded-full absolute bottom-0">Actualizar</button>
  </div>
</div>
</div>
</div>
