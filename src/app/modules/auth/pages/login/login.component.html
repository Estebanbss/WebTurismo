
<app-header ></app-header>
<div class="min-h-screen flex justify-center items-center">

  <div *ngIf="!loading" class=" rounded-xl bg w-full xs1:w-[500px] md:w-[600px] md:h-[550px]   p-10 my-48 py-auto py-auto mx-auto">
    <h1 class="text-center text-primary-500 font-Blinker font-black mb-16 bg:text-xl md:text-4xl">Inicia Sesión en Pa'lHuila</h1>
    <form (ngSubmit)="login()" [formGroup]="loginUsuario" class="mx-auto my-auto py-auto px-auto">
      <div class=" mb-3 flex flex-col py-auto">
        <div class="relative z-0 ">
          <input autofocus autocapitalize="false" spellcheck="false" inputmode="email"id="username" autocomplete="username" type="username" class="peer block w-full appearance-none border-stone-200 border rounded-md px-4 py-2 my-2 focus:placeholder:text-white" formControlName="email" placeholder="Correo">
          <label class="absolute top-3 -z-10 origin-[0] -translate-y-7 scale-75 transform text-xl text-black font-semibold  duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-7 peer-focus:scale-75  ">Correo</label>

        </div>
        <!-- Validaciones -->
        <span *ngIf="loginUsuario.get('email')?.hasError('required') && loginUsuario.get('email')?.touched" class="text-red-600 text-right">
          El <strong>correo</strong> es requerido
        </span>
        <span *ngIf="loginUsuario.get('email')?.hasError('email') && loginUsuario.get('email')?.touched" class="text-red-600 text-right">
          El <strong>correo</strong> es inválido
        </span>
      </div>
      <div class="mb-3 flex flex-col py-auto">
        <div class="relative z-0  ">
          <input autofocus spellcheck="false" autocapitalize="none" name="password" id="password" autocomplete="current-password" type="{{type}}" class="peer block w-full appearance-none border-stone-200 border rounded-md px-4 py-2 my-2 focus:placeholder:text-white" formControlName="password" placeholder="Contraseña">

          <label class="absolute top-3 -z-10 origin-[0] -translate-y-7 scale-75 transform text-xl text-black font-semibold  duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-7 peer-focus:scale-75 ">Contraseña </label>
          <span  id="buttonsvgeye" class="absolute top-5 right-2 w-10 flex justify-center cursor-pointer" (click)="Ojito()">

            <svg role="button" *ngIf="eye" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="{{Color}}"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>

            <svg role="button"  *ngIf="!eye" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="{{Color}}"><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/></svg>


          </span>


        </div>
        <!-- Validación -->
        <span *ngIf="loginUsuario.get('password')?.hasError('required') && loginUsuario.get('password')?.touched" class="text-red-600 text-right">
          La <strong>contraseña</strong> es requerida.
        </span>
      </div>
      <!-- Botón para el logIn con Usuario y Contraseña -->
      <div class="d-grid gap-2 mb-3 py-auto mx-auto flex justify-center">
        <button type="submit" class=" bg-primary-400 text-xl text-white py-2 px-2 w-[90%] rounded-lg " [disabled]="loginUsuario.invalid">Iniciar con correo</button>
      </div>
      <!-- Botón para el logIn con Google -->
      <!-- El botón debe ser de tipo Button para que no se envíe la información por el formulario -->
      <!-- Queremos que se ejecute la función loginWithGoogle pero no queremos entrar en conflicto con el formulario y el envío de los datos -->


    </form>
    <button class="d-grid  border-2 rounded-lg w-[90%] mx-auto flex justify-center px-2" (click)="loginWithGoogle()">
      <button type="button" class="bg-white bg:text-base   md:text-xl text-gray py-2 rounded-lg flex mx-auto my-auto gap-2 "><img class="w-[20px] bottom-0 " alt="googlelogo"  src="assets/img/GoogleL.svg">Continua con Google</button>
    </button>
    <p class="mt-3 text-center">No tienes cuenta? <a routerLink="/auth/registrar-usuario" class="text-primary-400 underline">Registrar</a></p>
    <p class="text-center">
      <a class="mt-3 text-center" routerLink="/auth/recuperar-password" class="text-primary-400 underline">Recuperar Contraseña</a>
    </p>
  </div>

    <app-spinner  *ngIf="loading"></app-spinner>






</div>


